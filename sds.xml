This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
.anima/
  .gitignore
  conventions.json
  workspace.json
.github/
  config/
    slack.yml
  ISSUE_TEMPLATE/
    bug_report.md
    config.yml
    functional-tests-for-a-component.md
    request-new-component.yml
    request-support.yml
    visual-tests-for-a-component.md
  workflows/
    chromatic.yml
    commitlint.yml
    namespace-check.yml
    push-tests.yml
    release.yml
    storybook-tests.yml
    storybook.yml
  PULL_REQUEST_TEMPLATE.md
.husky/
  .gitignore
  pre-commit
  prepare-commit-msg
.storybook/
  components/
    SidebarItem/
      SidebarItem.tsx
      style.ts
    StatusTag/
      StatusTag.tsx
      style.ts
  main.js
  manager-head.html
  manager.js
  preview-head.html
  preview.js
  sds-theme.js
  webpack.config.js
packages/
  components/
    docs/
      contribution.md
      eng-how-to.md
      how-to-add-icon.md
      how-to-override-default-theme.md
      SECURITY.md
    src/
      common/
        helpers/
          scrollStop.ts
          useLastInRow.ts
          userTabbing.ts
        storybook/
          AUTOCOMPLETE_MULTI_COLUMN_OPTIONS.tsx
          AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS.tsx
          customSdsIcon.tsx
          customSvgIcon.tsx
          loremIpsum.ts
          storybookBadges.ts
          storybookConstants.ts
        styles-dictionary/
          css/
            variables.css
          custom-formatters/
            cssFormatter.mjs
            scssFormatter.mjs
            tailwindFormatter.mjs
          design-tokens/
            borders.json
            breakpoints.json
            colors.json
            corners.json
            drop-shadows.json
            font.json
            icon-sizes.json
            spaces.json
          json/
            tailwind.json
          scss/
            _variables.scss
          build.mjs
          config.mjs
        svgs/
          IconBacteriaLarge.svg
          IconBacteriaSmall.svg
          IconBarChartHorizontal3Small.svg
          IconBarChartVertical3Small.svg
          IconBarChartVertical4Small.svg
          IconBookLarge.svg
          IconBookSmall.svg
          IconCheckCircleLarge.svg
          IconCheckCircleSmall.svg
          IconCheckSmall.svg
          IconChevronDown2Small.svg
          IconChevronDownLarge.svg
          IconChevronDownSmall.svg
          IconChevronLeft2Small.svg
          IconChevronLeftLarge.svg
          IconChevronLeftSmall.svg
          IconChevronRight2Small.svg
          IconChevronRightLarge.svg
          IconChevronRightSmall.svg
          IconChevronUp2Small.svg
          IconChevronUpLarge.svg
          IconChevronUpSmall.svg
          IconCirclesOverlap2Large.svg
          IconCirclesOverlap2Small.svg
          IconCodeLarge.svg
          IconCodeSmall.svg
          IconCompassLarge.svg
          IconCopyLarge.svg
          IconCopySmall.svg
          IconCubeLarge.svg
          IconCubeSmall.svg
          IconDNALarge.svg
          IconDocumentSmall.svg
          IconDotsHorizontal3Large.svg
          IconDotsHorizontal3Small.svg
          IconDownloadLarge.svg
          IconDownloadSmall.svg
          IconEditLarge.svg
          IconEditSmall.svg
          IconEnvelopeSmall.svg
          IconExclamationMarkCircleLarge.svg
          IconExclamationMarkCircleSmall.svg
          IconExclamationMarkSpeechBubbleLarge.svg
          IconEyeClosedSmall.svg
          IconEyeOpenSmall.svg
          IconFilterSmall.svg
          IconFlagCheckSmall.svg
          IconFlagOutlineSmall.svg
          IconFlagQuestionMarkSmall.svg
          IconFlagXMarkSmall.svg
          IconFlaskLarge.svg
          IconFlaskPrivateLarge.svg
          IconFlaskPublicLarge.svg
          IconGearSmall.svg
          IconGithubSmall.svg
          IconGlobeBasicLarge.svg
          IconGlobeSmall.svg
          IconGridDots3Large.svg
          IconGridLarge.svg
          IconGridPrivateLarge.svg
          IconGridPublicLarge.svg
          IconHouseSmall.svg
          IconInfoCircleLarge.svg
          IconInfoCircleSmall.svg
          IconInfoSpeechBubbleLarge.svg
          IconLifeRingSmall.svg
          IconLightBulbLarge.svg
          IconLightBulbSmall.svg
          IconLinesDashed3Solid1Small.svg
          IconLinesHorizontal3Large.svg
          IconLinesHorizontal3Small.svg
          IconLinkSmall.svg
          IconListSmall.svg
          IconLoadingLarge.svg
          IconLoadingSmall.svg
          IconLockCircleSmall.svg
          IconLockLarge.svg
          IconLockSmall.svg
          IconMinusSmall.svg
          IconOpenSmall.svg
          IconPauseLarge.svg
          IconPeopleLarge.svg
          IconPeopleSmall.svg
          IconPercentageSmall.svg
          IconPersonLarge.svg
          IconPersonSmall.svg
          IconPinLocationSmall.svg
          IconPinSmall.svg
          IconPlayLarge.svg
          IconPlusCircleSmall.svg
          IconPlusSmall.svg
          IconProjectPrivateLarge.svg
          IconProjectPublicLarge.svg
          IconPuzzlePieceSmall.svg
          IconQuestionMarkCircleSmall.svg
          IconQuestionMarkLarge.svg
          IconQuoteLarge.svg
          IconReadLarge.svg
          IconRefreshLarge.svg
          IconRefreshSmall.svg
          IconReportLarge.svg
          IconRocketLarge.svg
          IconRotateLeftSmall.svg
          IconRotateRightSmall.svg
          IconSaveLarge.svg
          IconScaleSmall.svg
          IconScatterPlotSmall.svg
          IconSearchLarge.svg
          IconSearchLinesHorizontal3Large.svg
          IconSearchLinesHorizontal3Small.svg
          IconSearchSmall.svg
          IconSendLarge.svg
          IconShareLarge.svg
          IconSlidersHorizontalLarge.svg
          IconSpeechBubblesLarge.svg
          IconSquareOnDashedSquareLarge.svg
          IconStarburstSmall.svg
          IconStarLarge.svg
          IconTableSmall.svg
          IconThumbsDownSmall.svg
          IconThumbsUpSmall.svg
          IconTrashCanLarge.svg
          IconTrashCanSmall.svg
          IconTreeDendogramLarge.svg
          IconTreeHorizontalLarge.svg
          IconTreeHorizontalPrivateLarge.svg
          IconTreeHorizontalPublicLarge.svg
          IconTreeHorizontalSmall.svg
          IconTreeHorizontalTopRightFilledLarge.svg
          IconTreeVerticalSmall.svg
          IconTriangleDownSmall.svg
          IconTriangleLeftSmall.svg
          IconTriangleRightSmall.svg
          IconTriangleUpSmall.svg
          IconUpdateLarge.svg
          IconUploadLarge.svg
          IconUploadSmall.svg
          IconVirusCircleSLarge.svg
          IconVirusLarge.svg
          IconWidgetLarge.svg
          IconXMarkCircleSmall.svg
          IconXMarkLarge.svg
          IconXMarkSmall.svg
        types/
          svg.d.ts
        utils.ts
        warnings.test.ts
        warnings.ts
      core/
        Accordion/
          __storybook__/
            stories/
              default.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            Accordion.namespace-test.tsx
            index.test.tsx
          components/
            AccordionDetails/
              index.tsx
              style.ts
            AccordionHeader/
              index.tsx
              style.ts
          index.tsx
          style.ts
        Alert/
          __storybook__/
            index.stories.tsx
          index.tsx
          style.ts
        Autocomplete/
          __storybook__/
            stories/
              controlledOpen.tsx
              default.tsx
              multiColumn.tsx
              singleColumn.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            Autocomplete.namespace-test.tsx
            index.test.tsx
          components/
            AutocompleteBase/
              index.tsx
              style.ts
            AutocompleteGroup/
              index.tsx
              style.ts
            AutocompleteMultiColumn/
              index.tsx
              style.ts
          index.tsx
        Banner/
          __storybook__/
            stories/
              default.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              banner.test.tsx.snap
            Banner.namespace-test.tsx
            banner.test.tsx
          index.tsx
          style.ts
        Bases/
          Borders/
            __storybook__/
              stories/
                default.tsx
              index.stories.tsx
              style.ts
          Breakpoints/
            __storybook__/
              stories/
                default.tsx
              constants.tsx
              index.stories.tsx
              style.ts
          Colors/
            __storybook__/
              components/
                Colors/
                  color.tsx
                  index.tsx
                  style.ts
                  util.ts
              stories/
                primitiveColors.tsx
                semanticColors.tsx
              index.stories.tsx
          Corners/
            __storybook__/
              stories/
                default.tsx
              constants.tsx
              index.stories.tsx
              style.ts
          DropShadows/
            __storybook__/
              stories/
                default.tsx
              constants.tsx
              index.stories.tsx
              style.ts
          Spaces/
            __storybook__/
              stories/
                default.tsx
              index.stories.tsx
              style.ts
          style.ts
          utils.ts
        Button/
          __storybook__/
            stories/
              default.tsx
              screenshot.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            Button.namespace-test.tsx
            index.test.tsx
          index.tsx
          style.ts
        ButtonDropdown/
          __storybook__/
            stories/
              default.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            ButtonDropdown.namespace-test.tsx
            index.test.tsx
          index.tsx
        ButtonIcon/
          __storybook__/
            stories/
              default.tsx
              screenshots.tsx
            constants.tsx
            index.stories.tsx
            types.ts
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            ButtonIcon.namespace-test.tsx
            index.test.tsx
          index.tsx
          style.ts
        ButtonToggle/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            ButtonToggle.namespace-test.tsx
            index.test.tsx
          index.tsx
          style.ts
        Callout/
          __storybook__/
            stories/
              default.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            Callout.namespace-test.tsx
          components/
            CalloutBody/
              index.tsx
              style.ts
            CalloutExtraContent/
              index.tsx
              style.ts
            CalloutTitle/
              index.tsx
              style.ts
          constants.ts
          index.tsx
          style.ts
        CellBasic/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
            style.ts
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            CellBasic.namespace-test.tsx
            index.test.tsx
          index.tsx
          style.ts
        CellComponent/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
            style.ts
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            CellComponent.namespace-test.tsx
            index.test.tsx
          index.tsx
          style.ts
        CellHeader/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            CellHeader.namespace-test.tsx
            index.test.tsx
          index.tsx
          style.ts
        Chip/
          __storybook__/
            index.stories.tsx
          index.tsx
          style.ts
        ComplexFilter/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            ComplexFilter.namespace-test.tsx
            index.test.tsx
          components/
            Chips/
              index.tsx
          index.tsx
          style.ts
        ContentCard/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            ContentCard.namespace-test.tsx
            index.test.tsx
          components/
            ContentCardActions/
              index.tsx
              style.ts
            ContentCardImageMedia/
              index.tsx
              style.ts
            ContentCardTitle/
              index.tsx
              style.ts
          ContentCard.types.ts
          index.tsx
          style.ts
        Dialog/
          __storybook__/
            stories/
              default.tsx
              test.tsx
              testButtonPositionLeft.tsx
              testNoTitleOnClose.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            Dialog.namespace-test.tsx
            index.test.tsx
          components/
            DialogActions/
              index.tsx
              style.ts
            DialogContent/
              index.tsx
              style.ts
            DialogPaper/
              index.tsx
              style.ts
            DialogTitle/
              components/
                CloseButton/
                  index.tsx
                  style.ts
              index.tsx
              style.ts
            common.ts
          index.tsx
        Dropdown/
          __storybook__/
            stories/
              controlledDropdown.tsx
              default.tsx
              insideModal.tsx
              popperPlacement.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            Dropdown.namespace-test.tsx
            index.test.tsx
          index.tsx
          style.ts
        DropdownMenu/
          __storybook__/
            stories/
              default.tsx
              screenshot.tsx
              test.tsx
              withHeaderComponent.tsx
            constants.tsx
            index.stories.tsx
            style.ts
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            DropdownMenu.namespace-test.tsx
            index.test.tsx
          index.tsx
          style.ts
        Icon/
          __storybook__/
            stories/
              default.tsx
              iconBank.tsx
            index.stories.tsx
          __tests__/
            Icon.namespace-test.tsx
          index.tsx
          map.ts
          style.ts
        InputCheckbox/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            InputCheckbox.namespace-test.tsx
          index.tsx
          styles.ts
        InputDropdown/
          __storybook__/
            stories/
              default.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            InputDropdown.namespace-test.tsx
          index.tsx
          style.ts
        InputRadio/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            InputRadio.namespace-test.tsx
          index.tsx
          style.ts
        InputSearch/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            InputSearch.namespace-test.tsx
          index.tsx
          style.ts
        InputSlider/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            InputSlider.namespace-test.tsx
          index.tsx
          style.ts
        InputText/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            InputText.namespace-test.tsx
          index.tsx
          style.ts
        InputToggle/
          __storybook__/
            stories/
              controlled.tsx
              default.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            InputToggle.namespace-test.tsx
          index.tsx
          style.ts
        Link/
          __storybook__/
            stories/
              default.tsx
              longText.tsx
              screenshot.tsx
            constants.ts
            index.stories.tsx
            style.ts
          __tests__/
            Link.namespace-test.tsx
          index.tsx
          style.ts
        List/
          __storybook__/
            stories/
              default.tsx
            index.stories.tsx
          __tests__/
            List.namespace-test.tsx
          components/
            ListItem/
              __tests__/
                ListItem.namespace-test.tsx
              index.tsx
              style.ts
            ListSubheader/
              __tests__/
                ListSubheader.namespace-test.tsx
              index.tsx
              style.ts
          index.tsx
          style.ts
        LoadingIndicator/
          __storybook__/
            stories/
              default.tsx
              livePreview.tsx
              screenReader.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            LoadingIndicator.namespace-test.tsx
          index.tsx
          style.ts
        Menu/
          __storybook__/
            stories/
              default.tsx
            index.stories.tsx
          __tests__/
            Menu.namespace-test.tsx
          index.tsx
          style.ts
        MenuItem/
          __storybook__/
            stories/
              default.tsx
              screenshot.tsx
            constants.tsx
            index.stories.tsx
            style.ts
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            MenuItem.namespace-test.tsx
          index.tsx
          style.ts
        MenuSelect/
          __storybook__/
            index.stories.tsx
          index.tsx
          style.ts
        NavigationFooter/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            NavigationFooter.namespace-test.tsx
          components/
            FooterLink/
              index.tsx
              style.ts
            MobileLinkRow/
              index.tsx
            NavItem/
              index.tsx
              style.ts
          index.tsx
          NavigationFooter.types.ts
          style.ts
        NavigationHeader/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            NavigationHeader.namespace-test.tsx
          components/
            ElevationScroll/
              index.tsx
            NavigationHeaderPrimaryNav/
              index.tsx
              style.ts
            NavigationHeaderSecondaryNav/
              index.tsx
              style.ts
            style.ts
          index.tsx
          NavigationHeader.types.ts
          style.ts
        NavigationJumpTo/
          __storybook__/
            stories/
              default.tsx
              demo.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            NavigationJumpTo.namespace-test.tsx
          index.tsx
          style.ts
          useIntersection.ts
        Notification/
          __storybook__/
            stories/
              default.tsx
              screenshot.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            Notification.namespace-test.tsx
          index.tsx
          style.ts
        Pagination/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            Pagination.namespace-test.tsx
          components/
            PageListDropdown/
              index.tsx
              style.ts
          index.tsx
          style.ts
          usePagination.ts
        Panel/
          __storybook__/
            stories/
              customCloseButton.tsx
              default.tsx
              scrollBehavior.tsx
              test.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            Panel.namespace-test.tsx
          components/
            PanelHeader/
              index.tsx
              style.ts
            PanelHeaderClose/
              index.tsx
              style.ts
          index.tsx
          Panel.types.ts
          style.ts
        SegmentedControl/
          __storybook__/
            stories/
              controlledSegmentedControl.tsx
              default.tsx
              test.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            SegmentedControl.namespace-test.tsx
          index.tsx
          style.ts
        styles/
          common/
            constants/
              black.ts
              boxShadows.ts
              fontWeights.ts
              gray.ts
              spaces.ts
              white.ts
            mixins/
              a11y.ts
              fonts.ts
            selectors/
              theme.ts
            defaultTheme.ts
            makeThemeOptions.ts
            SDSAppTheme.ts
            types.ts
          index.ts
        Table/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            index.stories.tsx
            style.ts
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            Table.namespace-test.tsx
          index.tsx
          style.ts
        TableHeader/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            TableHeader.namespace-test.tsx
          index.tsx
          style.ts
        TableRow/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            TableRow.namespace-test.tsx
          index.tsx
          style.ts
        Tabs/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.ts
            index.stories.tsx
            style.ts
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            Tabs.namespace-test.tsx
          components/
            LabelWithCount/
              index.tsx
              style.ts
            common.ts
          index.tsx
          style.tsx
        Tag/
          __storybook__/
            stories/
              commonScreenshot.tsx
              default.tsx
              grayPrimaryScreenshot.tsx
              mainScreenshot.tsx
              successWarningScreenshot.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            Tag.namespace-test.tsx
          index.tsx
          style.ts
        TagFilter/
          __storybook__/
            stories/
              default.tsx
              screenshot.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            TagFilter.namespace-test.tsx
          index.tsx
          style.ts
        Tooltip/
          __storybook__/
            stories/
              default.tsx
              placementDemo.tsx
              screenshot.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            Tooltip.namespace-test.tsx
          index.tsx
          style.ts
        TooltipCondensed/
          __storybook__/
            stories/
              default.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            index.test.tsx
            TooltipCondensed.namespace-test.tsx
          index.tsx
          style.ts
        TooltipTable/
          __storybook__/
            stories/
              default.tsx
              test.tsx
            constants.tsx
            index.stories.tsx
          __tests__/
            __snapshots__/
              index.test.tsx.snap
            index.test.tsx
            TooltipTable.namespace-test.tsx
          index.tsx
          style.ts
      index.ts
    CHANGELOG.md
    jest.config.js
    jest.setup.ts
    package.json
    README.md
    rollup.config.mjs
    tsconfig-namespace-check.json
    tsconfig.json
  data-viz/
    src/
      common/
        utils.ts
      core/
        HeatmapChart/
          __storybook__/
            stories/
              heatmapDemo/
                components/
                  ControlPanel/
                    index.tsx
                    style.ts
                  ECharts/
                    index.tsx
                  Header/
                    index.tsx
                    style.ts
                  Heatmap/
                    index.tsx
                    style.ts
                  XAxisChart/
                    index.tsx
                    style.ts
                  YAxisChart/
                    index.tsx
                    style.ts
                  utils.ts
                helpers/
                  geneListGenerator.ts
                store/
                  AppContext.ts
                  dataReducer.ts
                  index.ts
                  useAppContext.ts
                App.tsx
                style.ts
              default.tsx
            constants.ts
            index.stories.tsx
          __tests__/
            index.namespace-test.tsx
          hooks/
            useUpdateChart.ts
            utils.ts
          index.tsx
          style.ts
      index.ts
    CHANGELOG.md
    jest.config.js
    jest.setup.ts
    package.json
    README.md
    rollup.config.mjs
    tsconfig-namespace-check.json
    tsconfig.json
.eslintrc.js
.gitignore
.node-version
.omletrc.json
.prettierignore
.prettierrc.js
.stylelintrc.json 
.svgrrc
.yarnrc.yml
chromatic.config.json
fileTransformer.js
intersectionObserverMock.js
jest.common.config.js
lerna.json
LICENSE
lint-staged.config.js 
package.json
README.md
stylelint.config.js
tsconfig.json
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path=".anima/.gitignore">
cache
</file>

<file path=".anima/conventions.json">
{"assetsPath":"packages/components/src/common/svgs/","componentsPath":"","framework":"react","language":"typescript","styling":"css","tailwindConfigPath":"","tailwindConfigReuseEnabled":false}
</file>

<file path=".anima/workspace.json">
{"workspaceId":"6748293e-b9be-4c7d-b442-7852b921c58d"}
</file>

<file path=".github/config/slack.yml">
pretext: ":warning: {{ actor }} released breaking changes to SDS on the {{ branch }} branch! :warning:"

text: |
  {{#if payload.commits}}
  *Commits*
  {{#each payload.commits}}
  <{{this.url}}|`{{truncate this.id 8}}`> - {{this.message}}
  {{/each}}
  {{/if}}
footer: >-
  <{{repositoryUrl}}|{{repositoryName}}> {{workflow}} #{{runNumber}}
colors:
  default: "#7D3C98"
</file>

<file path=".github/ISSUE_TEMPLATE/bug_report.md">
---
name: Bug report
about: Create a report to help us improve
title: ''
labels: ''
assignees: ''

---

**Describe the bug**
A clear and concise description of what the bug is.

**To Reproduce**
Steps to reproduce the behavior:
1. Go to '...'
2. Click on '....'
3. Scroll down to '....'
4. See error

**Expected behavior**
A clear and concise description of what you expected to happen.

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Desktop (please complete the following information):**
 - OS: [e.g. iOS]
 - Browser [e.g. chrome, safari]
 - Version [e.g. 22]

**Smartphone (please complete the following information):**
 - Device: [e.g. iPhone6]
 - OS: [e.g. iOS8.1]
 - Browser [e.g. stock browser, safari]
 - Version [e.g. 22]

**Additional context**
Add any other context about the problem here.
</file>

<file path=".github/ISSUE_TEMPLATE/config.yml">
blank_issues_enabled: false
contact_links:
  - name: Security Issues
    url: mailto:security@chanzuckerberg.com
    about: Please responsibly disclose security issues by emailing us at security@chanzuckerberg.com.
</file>

<file path=".github/ISSUE_TEMPLATE/functional-tests-for-a-component.md">
---
name: Functional tests for a component
about: Use this template to create issues for writing functional tests for c...
title: Functional tests for [Component]
labels: ""
assignees: ""
---

- [ ] Align with design, product, other engineers, if necessary, on what functionality to test
- As a starting point, you can find the component in this doc: [Functional tests: Ideas for what to test per component](https://docs.google.com/document/d/1qKFFBWMBq0QMhRrk5-mgrZYI2QqiL-c9YLKi28w94Gg/edit#heading=h.aixehdk039ik)
- [ ] Write the tests in the index.test.tsx for the component.

### Tips for writing functional tests:

- Consider the various types of [queries within the React Testing Library and when to use which](https://testing-library.com/docs/queries/about/#types-of-queries)
- [React Testing Library Cheatsheet](https://testing-library.com/docs/react-testing-library/cheatsheet/)
- [Guiding principles](https://testing-library.com/docs/guiding-principles/) from React Testing Library
- Consider when to group test cases into a single test, for example “if search bar included, it appears in menu” can be combined with “if search bar included, entered text filters to exclude non-matches” in the same test

### Tips for running the tests:

- Make sure the test will fail when it should, too (or even make these test cases themselves to keep as permanent tests). For example, write a test such that if there should be an icon but there’s not, it will fail, in addition to writing a test for if there is an icon it will pass
- To save time when running the tests, in Terminal, use the command `lerna run test -- [INSERT LOCAL PATH TO TEST FILE]` to limit the tests that are run to those within a given component’s test file only (e.g. `lerna run test -- /Users/quigley/sci-components/packages/components/src/core/Button/button.test.tsx` for running tests for the Button component only)
- To save even more time and to help isolate an individual test when troubleshooting, you can limit to a single test to run within the component’s suite by adding `.only` directly after `it` for the particular test as such: `it.only(“...`
</file>

<file path=".github/ISSUE_TEMPLATE/request-new-component.yml">
name: Request new SDS component
description: Request a component be added to SDS
body:
  - type: markdown
    attributes:
      value: |
        Thanks for requesting a new component in the SDS! Please fill out the following information about the requested component.
  - type: input
    id: component-name
    attributes:
      label: Component Name
      description: A name for the desired component.
    validations:
      required: true
  - type: textarea
    id: component-requirements
    attributes:
      label: Component Requirements
      description: A list of requirements for the component.
    validations:
      required: true
  - type: input
    id: mui-base-component
    attributes:
      label: MUI Base Component (if applicable)
      description: If the component is based on a Material-UI component, please specify.
      placeholder: e.g., MUI Button
    validations:
      required: false
  - type: input
    id: teams-requesting
    attributes:
      label: Team(s) Requesting
      description: The team(s) that need this component.
    validations:
      required: true
  - type: input
    id: component-needed-by
    attributes:
      label: Component Needed By
      description: The date by which the component is needed.
    validations:
      required: true
  - type: input
    id: component-screenshot
    attributes:
      label: Component Screenshot / Prototype
      description: A link to a screenshot or prototype of the component.
    validations:
      required: false
</file>

<file path=".github/ISSUE_TEMPLATE/request-support.yml">
name: Request support
description: Request support for a SDS component
body:
  - type: markdown
    attributes:
      value: |
        Please fill out the form below to request help with a SDS component.
  - type: input
    id: component-name
    attributes:
      label: Component Name
      description: Component that help request is for.
    validations:
      required: true
  - type: textarea
    id: issue-description
    attributes:
      label: Issue description
      description: Details about the issue with the component.
    validations:
      required: true
</file>

<file path=".github/ISSUE_TEMPLATE/visual-tests-for-a-component.md">
---
name: Visual tests for a component
about:
  Use this template to create issues for writing visual (Chromatic) tests for
  components
title: Visual tests for [Component]
labels: Test Cases Epic
assignees: ""
---

- [ ] Align with design, product, and other engineers, if necessary, on what visual traits to include as permutation dimensions for the Chromatic test
- As a starting point, you can find the component in this doc: [Chromatic tests: Which component dimensions to consider looping through](https://docs.google.com/document/d/1i40YV1rX61dNzGsqbhqJAD8PL1puCecX7rnHgD_FawE/edit#heading=h.s63zmnx3lqv1)
- Permutation dimensions may include the component’s props, but it may not always be necessary to include every prop
- If the component can be interacted with, or if part of it can (e.g. an “x” button or similar within it), it may need pseudo state as a permutation dimension. (The SDS codebase already has a [pseudo state addon for Storybook integrated](https://storybook.js.org/addons/storybook-addon-pseudo-states), but each relevant state will need to be looped through, see next bullet for an example.)

- [ ] Write the tests in the index.stories.tsx for the component. See the [index.stories.tsx file for the Button component](https://github.com/chanzuckerberg/sci-components/blob/main/packages/components/src/core/Button/index.stories.tsx) for an example of how to structure the loops within the test, to ensure all relevant permutations are iterated through.
- Name the test `ScreenshotTest`; this will result in a new page called “Screenshot Test” generated in Storybook for the component ()
- `ScreenshotTest` should come after `Default` and `LivePreview` but before `Test`
</file>

<file path=".github/workflows/chromatic.yml">
name: "Chromatic Deployment"

# Triggers on Push event on all branches, excluding the 'prod' branch
on:
  push:
    branches-ignore:
      - prod

jobs:
  chromatic-deployment:
    runs-on: ubuntu-latest # Use the latest version of the Ubuntu runner environment

    steps:
      # Step 1: Checkout the repository code
      - name: Checkout repository
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      # Step 2: Set up Node.js environment and cache Yarn dependencies
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version-file: ".node-version" # Specify the Node.js version from '.node-version' file
          cache: "yarn" # Cache Yarn dependencies for faster builds

      # Step 3: Install project dependencies using Yarn
      - name: Install dependencies
        run: yarn

      # Step 4: Publish the project to Chromatic
      - name: Publish to Chromatic
        uses: chromaui/action@v1
        with:
          token: ${{ secrets.GITHUB_TOKEN }} # Authenticate using the GitHub token
          projectToken: ${{ secrets.CHROMATIC_PROJECT_TOKEN }} # Provide the Chromatic project token for authentication
</file>

<file path=".github/workflows/commitlint.yml">
name: Lint PR commit

# Triggers on pull requests with specific types
on:
  pull_request:
    types:
      - reopened
      - opened
      - edited
      - synchronize

jobs:
  main:
    runs-on: ubuntu-latest # Use the latest version of the Ubuntu runner environment

    steps:
      # Step 1: Use the 'amannn/action-semantic-pull-request' action to validate the PR commit
      - uses: amannn/action-semantic-pull-request@v3.4.2
        with:
          validateSingleCommit: true # Specify to validate a single commit
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # Authenticate using the GitHub token
</file>

<file path=".github/workflows/namespace-check.yml">
name: "Namespace Check"

# Triggers on push event on all branches, excluding the 'prod' branch
on:
  push:
    branches-ignore:
      - prod # Exclude the 'prod' branch from triggering this workflow

jobs:
  namespace-check:
    runs-on: ubuntu-latest # Use the latest version of the Ubuntu runner environment

    steps:
      # Step 1: Check out the repository code
      - name: Checkout code
        uses: actions/checkout@v3

      # Step 2: Set up Node.js environment and cache Yarn dependencies
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version-file: ".node-version" # Specify the Node.js version from '.node-version' file
          cache: "yarn" # Cache Yarn dependencies for faster builds

      # Step 3: Install project dependencies using Yarn
      - name: Install dependencies
        run: yarn

      # Step 4: Build the component library in 'dist/' directory
      - name: Build component library in dist/
        run: yarn build

      # Step 5: Run the Namespace Checking script
      - name: Namespace Checking
        run: yarn namespace-check
</file>

<file path=".github/workflows/push-tests.yml">
name: Push Tests

# Workflow event triggers
on:
  push:
    branches:
      - main # Triggered on pushes to the 'main' branch
  pull_request:
    branches: "*" # Triggered on pull requests for any branch

jobs:
  lint:
    runs-on: ubuntu-latest # Use the latest version of the Ubuntu runner environment
    steps:
      # Step 1: Check out the repository code
      - name: Checkout repository
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      # Step 2: Set up Node.js environment and cache Yarn dependencies
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version-file: ".node-version" # Specify the Node.js version from '.node-version' file
          cache: "yarn" # Cache Yarn dependencies for faster builds

      # Step 3: Install project dependencies using Yarn
      - name: Install dependencies
        run: yarn

      # Step 4: Build the component library in 'dist/' directory
      - name: Build component library in dist/
        run: yarn build

      # Step 5: Run linting
      - name: Lint
        run: yarn lint

  test:
    runs-on: ubuntu-latest
    steps:
      # Step 1: Check out the repository code
      - name: Checkout repository
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      # Step 2: Set up Node.js environment and cache Yarn dependencies
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version-file: ".node-version" # Specify the Node.js version from '.node-version' file
          cache: "yarn" # Cache Yarn dependencies for faster builds

      # Step 3: Install project dependencies using Yarn
      - name: Install dependencies
        run: yarn

      # Step 4: Run tests
      - name: Test
        run: yarn test

  build:
    runs-on: ubuntu-latest
    steps:
      # Step 1: Check out the repository code
      - name: Checkout repository
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      # Step 2: Set up Node.js environment and cache Yarn dependencies
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version-file: ".node-version" # Specify the Node.js version from '.node-version' file
          cache: "yarn" # Cache Yarn dependencies for faster builds

      # Step 3: Install project dependencies using Yarn
      - name: Install dependencies
        run: yarn

      # Step 4: Build
      - name: Build
        run: yarn build
</file>

<file path=".github/workflows/release.yml">
name: Release

# triggers on pushes to the 'prod' branch
on:
  push:
    # NOTE(thuang): Since REGEX is not supported for branches, we cannot target
    # any versioned branch: "+([0-9])?(.{+([0-9]),x}).x" as specified in
    # .releaserc.js. So we'll need to manually add such branch's name here manually
    branches:
      - prod

jobs:
  # Job 1
  release:
    name: Release
    runs-on: ubuntu-latest # Use the latest version of the Ubuntu runner environment

    steps:
      # Step 1: Check out the repository code
      - name: Checkout
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      # Step 2: Set up Node.js environment and cache Yarn dependencies
      - name: Setup Node.js and Cache yarn
        uses: actions/setup-node@v3
        with:
          node-version-file: ".node-version" # Specify the Node.js version from '.node-version' file
          cache: "yarn" # Cache Yarn dependencies for faster builds

      # Step 3: Set up npm and authentication
      - name: "Setup npm"
        run: |
          npm set "//registry.npmjs.org/:_authToken=${NODE_AUTH_TOKEN}"
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}

      # Step 4: Ensure npm access
      - name: Ensure NPM access
        run: npm whoami
        env:
          NODE_AUTH_TOKEN: ${{ secrets.NPM_TOKEN }}

      # Step 5: Install project dependencies using Yarn
      - name: Install dependencies
        run: yarn

      # Step 6: Build the component library in 'dist/' directory
      - name: Build component library in dist/
        run: yarn build

      # Step 7: Configure git user for pushing release changes back to prod branch
      - name: Config git user
        run: |
          git config --global user.name "${{ github.actor }}"
          git config --global user.email "${{ github.actor }}@users.noreply.github.com"

      # Step 8: Reset working directory
      - name: Reset working directory
        run: git checkout -- .

      # Step 9: Lerna Version
      - name: Lerna Version
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
        run: yarn version:ci

      # Step 10: Commit changes
      - name: Commit changes
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: "chore(release): Publish"
          branch: ${{ github.head_ref }}

      # Step 11: Publish NPM packages
      - name: Lerna Publish
        env:
          NODE_AUTH_TOKEN: ${{secrets.NPM_TOKEN}}
        run: yarn publish:ci

      # Step 12: Post breaking changes to a Slack channel
      - name: Post breaking changes to a Slack channel
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SDS_BREAKING_CHANGES_SLACK_WEBHOOK }}
        uses: act10ns/slack@v1
        with:
          status: complete
          channel: "#sci-design-system-breaking-changes"
          config: .github/config/slack.yml
        if: contains(toJson(github.event.commits.*.message), 'BREAKING CHANGE')

      # Step 13: Merge prod branch into main
      - name: Create PR to merge prod into main
        id: createpr
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        uses: actions/github-script@v6
        with:
          script: |
            const ownerAndRepo = '${{ github.repository }}';
            const [owner, repo] = ownerAndRepo.split('/');
            const head = "prod";
            const base = "main";
            const title = "chore(release): Merge prod into main";
            const pr = await github.rest.pulls.list({owner, repo, base, head: `${owner}:${head}`})
            if (pr.data.length>0) {
              return pr.data[0].number;
            }
            const result = await github.rest.pulls.create({
              owner,
              repo,
              head,
              base,
              title,
            });
            return result.data.number;

      # Steps 13 - 15 are temporarily disable until we find a solution
      # to the issue of GitHub Actions not being able to merge PRs

      # Step 13: Automerge PR
      # - name: Enable Automerge PR
      #   env:
      #     GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      #   uses: peter-evans/enable-pull-request-automerge@v3
      #   with:
      #     pull-request-number: ${{steps.createpr.outputs.result}}
      #     merge-method: squash

      # Step 14: Generate token for autoapproving PR
      # - name: Generate token
      #   id: generate_token
      #   uses: chanzuckerberg/github-app-token@v1.1.4
      #   with:
      #     app_id: ${{ secrets.GH_ACTIONS_HELPER_APP_ID }}
      #     private_key: ${{ secrets.GH_ACTIONS_HELPER_PK }}

      # Step 15: Autoapprove PR
      # - name: Autoapprove PR
      #   run: gh pr review --approve "${{steps.createpr.outputs.result}}"
      #   env:
      #     GITHUB_TOKEN: ${{ steps.generate_token.outputs.token }}

  # Job 2
  create-version-matrix:
    needs: release
    runs-on: ubuntu-latest
    outputs:
      matrix: ${{ steps.set-matrix.outputs.matrix }}
    steps:
      # Step 1: Check out the repository code
      - name: Checkout Repository
        uses: actions/checkout@v3
        with:
          fetch-depth: 0
          ref: prod

      # Step 2: Create a matrix of package versions and names
      - name: Create Versions Matrix
        id: set-matrix
        run: |
          matrix="["
          for package_json in $(find ./packages -name package.json); do
            version=$(jq -r .version "$package_json")
            name=$(jq -r .name "$package_json")
            matrix="${matrix}{\"name\":\"${name}\", \"version\":\"${version}\"},"
          done
          matrix="${matrix%,}" # Remove trailing comma
          matrix="${matrix}]" # Close the JSON array
          echo "matrix=${matrix}" >> $GITHUB_OUTPUT

  # Job 3
  create-github-release:
    needs: create-version-matrix
    runs-on: ubuntu-latest
    strategy:
      matrix:
        cfg: ${{fromJson(needs.create-version-matrix.outputs.matrix)}}
    steps:
      # Step 1: Create a GitHub release for the latest version
      - name: Release
        uses: softprops/action-gh-release@v1
        with:
          tag_name: "${{ matrix.cfg.name }}@${{ matrix.cfg.version }}"
</file>

<file path=".github/workflows/storybook-tests.yml">
name: "Storybook Tests"

# Triggers on push to all branches, excluding the 'prod' branch
on:
  push:
    branches-ignore:
      - prod # Exclude the 'prod' branch from triggering this workflow

jobs:
  test:
    timeout-minutes: 60
    runs-on: ubuntu-latest # Use the latest version of the Ubuntu runner environment

    steps:
      # Step 1: Check out the repository code
      - name: Checkout repository
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      # Step 2: Set up Node.js environment and cache Yarn dependencies
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version-file: ".node-version" # Specify the Node.js version from '.node-version' file
          cache: "yarn" # Cache Yarn dependencies for faster builds

      # Step 3: Install project dependencies using Yarn
      - name: Install dependencies
        run: yarn

      # Step 4: Install Playwright for testing
      - name: Install Playwright
        run: npx playwright install --with-deps

      # Step 5: Build Storybook
      - name: Build Storybook
        run: yarn build-storybook --quiet

      # Step 6: Run accessibility tests on Storybook
      - name: Run accessibility tests
        run: yarn storybook:axeOnly

      # Step 7: Serve Storybook and run tests concurrently
      - name: Serve Storybook and run tests
        # (Node version >= 18) it's now necessary to explicitly
        # declare the IP address (127.0.0.1) in this context.
        run: |
          npx concurrently -k -s first -n "SB,TEST" -c "magenta,blue" \
            "npx http-server docs-build --port 6006 --silent" \
            "npx wait-on tcp:127.0.0.1:6006 && yarn test-storybook"
</file>

<file path=".github/workflows/storybook.yml">
name: Build and Deploy

# Triggers on pushes to the 'main' branch
on:
  push:
    branches:
      - main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest # Use the latest version of the Ubuntu runner environment

    steps:
      # Step 1: Check out the repository code
      - name: Checkout repository
        uses: actions/checkout@v3
        with:
          fetch-depth: 0

      # Step 2: Set up Node.js environment and cache Yarn dependencies
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version-file: ".node-version" # Specify the Node.js version from '.node-version' file
          cache: "yarn" # Cache Yarn dependencies for faster builds

      # Step 3: Install npm packages and build the Storybook files
      - name: Install and Build
        run: |
          yarn
          yarn build-storybook

      # Step 4: Deploy to GitHub Pages using the 'github-pages-deploy-action'
      - name: Deploy
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # Authenticate using the GitHub token
          BRANCH: gh-pages # The branch the action should deploy to.
          FOLDER: docs-build # The folder that the build-storybook script generates files.
          CLEAN: true # Automatically remove deleted files from the deploy branch
</file>

<file path=".github/PULL_REQUEST_TEMPLATE.md">
## Summary

**Structural Element (Base, Gene, DNA, Chromosome or Cell)**
Github issue: [#XXXX](link)

Copy issue description here

## Checklist

- [ ] Default Story in Storybook
- [ ] Test Story in Storybook
- [ ] Tests written
- [ ] Semantic Variables from `defaultTheme.ts` used wherever possible
- [ ] If updating an existing component, depreciate flag has been used where necessary
- [ ] ZeroHeight Documents updated
- [ ] Chromatic build verified by @chanzuckerberg/sds-design
</file>

<file path=".husky/.gitignore">
_
</file>

<file path=".husky/pre-commit">
#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

yarn lint-staged
</file>

<file path=".husky/prepare-commit-msg">
#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

exec </dev/tty && node_modules/.bin/cz --hook || true
</file>

<file path=".storybook/components/SidebarItem/SidebarItem.tsx">
import React from "react";
import { StyledSidebarItem } from "./style";
import StatusTag from "../StatusTag/StatusTag";

export type StatusType = "beta" | "deprecated" | "wip";

interface SidebarItemProps {
  children: React.ReactNode;
  status: StatusType;
}

const SidebarItem = ({ children, status }: SidebarItemProps) => {
  return (
    <StyledSidebarItem>
      <div>{children}</div>
      <StatusTag type={status}>{status}</StatusTag>
    </StyledSidebarItem>
  );
};

export default SidebarItem;
</file>

<file path=".storybook/components/SidebarItem/style.ts">
import styled from "@emotion/styled";

export const StyledSidebarItem = styled("div")`
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
`;
</file>

<file path=".storybook/components/StatusTag/StatusTag.tsx">
import React, { FC } from "react";
import { StyledLabel } from "./style";
import { StatusType } from "../SidebarItem/SidebarItem";

interface StatusTagProps {
  children: React.ReactNode;
  type: StatusType;
}

const TypeToLabel: Record<StatusType, string> = {
  beta: "Beta",
  deprecated: "Deprecated",
  wip: "Work in Progress",
};

const StatusTag: FC<StatusTagProps> = ({ type }) => {
  const label = TypeToLabel[type];

  return <StyledLabel type={type}>{label}</StyledLabel>;
};

export default StatusTag;
</file>

<file path=".storybook/components/StatusTag/style.ts">
import styled from "@emotion/styled";
import { StatusType } from "../SidebarItem/SidebarItem";

interface StyledLabelProps {
  type: StatusType;
}

const TypeToColor: Record<StatusType, string> = {
  beta: "#703CBE",
  deprecated: "#C61128",
  wip: "#D8921F",
};

const TypeToBorderColor: Record<StatusType, string> = {
  beta: "#7A41CE",
  deprecated: "#DC132C",
  wip: "#F5A623",
};

export const StyledLabel = styled("label")`
  ${(props: StyledLabelProps) => {
    const { type } = props;
    const color = TypeToColor[type];
    const borderColor = TypeToBorderColor[type];

    return `
            margin: 0 16px 0 8px;
            padding: 1px 4px;
            font-size: 10px;
            font-weight: 600;
            color: ${color};
            border: solid 1px ${borderColor};
            border-radius: 2px;
        `;
  }}
`;
</file>

<file path=".storybook/main.js">
import { dirname, join } from "path";
const { plugins } = require("axe-core");

module.exports = {
  stories: [
    "../packages/components/src/**/*.stories.@(js|jsx|ts|tsx)",
    "../packages/data-viz/src/**/*.stories.@(js|jsx|ts|tsx)",
  ],

  core: {
    disableWhatsNewNotifications: true,
  },

  addons: [
    getAbsolutePath("@storybook/addon-links"),
    getAbsolutePath("@storybook/addon-essentials"),
    getAbsolutePath("@storybook/addon-interactions"),
    getAbsolutePath("@storybook/addon-a11y"),
    getAbsolutePath("@storybook/react"),
    getAbsolutePath("storybook-addon-pseudo-states"),
    getAbsolutePath("@geometricpanda/storybook-addon-badges"),
    getAbsolutePath("@storybook/addon-webpack5-compiler-swc"),
    getAbsolutePath("@chromatic-com/storybook"),
  ],

  framework: {
    name: getAbsolutePath("@storybook/react-webpack5"),
    options: {
      builder: {
        useSWC: true,
      },
    },
  },

  swc: () => ({
    jsc: {
      /**
       * (masoudmanson): This is needed to enable emotion plugin for swc
       * for use cases like component selectors in styled components
       *
       * for example:
       *
       * const StyledChild = styled.div` color: red; `;
       *
       * const StyledParent = styled.div` ${StyledChild} { color: green; } `;
       */
      experimental: {
        plugins: [["@swc/plugin-emotion", {}]],
      },
      transform: {
        react: {
          runtime: "automatic",
        },
      },
    },
  }),

  typescript: {
    reactDocgen: "react-docgen",
  },

  docs: {},
};

function getAbsolutePath(value) {
  return dirname(require.resolve(join(value, "package.json")));
}
</file>

<file path=".storybook/manager-head.html">
<meta property="og:description" content="Science Design System by CZI" />
<meta property="og:title" content="Science Design System" />
<link
  rel="icon"
  type="image/png"
  href="https://user-images.githubusercontent.com/927990/204130290-897628ee-e89a-4911-89df-0956c9edf940.png"
  sizes="48x48"
/>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=swap"
  rel="stylesheet"
/>
<title>SDS Design System</title>
<style>
  body {
    font-family: "Inter", sans-serif !important;
    font-size: 14px;
  }

  #storybook-explorer-menu svg {
    color: #555;
  }

  #storybook-explorer-menu button:focus,
  #storybook-explorer-menu a[data-selected]:hover {
    background-color: #f7f7f7;
  }

  #storybook-explorer-menu a[data-selected="true"],
  #storybook-explorer-menu a[data-selected="true"]:hover {
    background-color: #eee;
    color: #000;
    font-weight: 600;
  }

  #storybook-explorer-menu a[data-selected="true"] svg {
    color: #3867fa;
  }

  .os-content button:hover {
    background-color: #f7f7f7;
  }

  .os-content button:hover svg {
    color: black;
  }

  #storybook-explorer-menu .sidebar-subheading > button {
    font-size: 12px !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    color: #000 !important;
    letter-spacing: 0 !important;
  }

  #storybook-explorer-menu .sidebar-subheading > button:hover,
  #storybook-explorer-menu .sidebar-subheading > button:active,
  #storybook-explorer-menu .sidebar-subheading > button:focus {
    background-color: transparent !important;
  }

  #storybook-explorer-menu button.sidebar-item,
  #storybook-explorer-menu a.sidebar-item {
    font-size: 14px;
    padding-top: 5px;
    padding-bottom: 5px;
  }

  #storybook-explorer-menu .sidebar-item > div > span {
    display: inline-block;
    position: relative;
    border-style: solid;
    height: 5px !important;
    width: 5px !important;
    left: 0 !important;
    top: 0 !important;
    transform: rotate(45deg);
    vertical-align: middle;
    border-top: solid 1px !important;
    border-bottom: none !important;
    border-left: none !important;
    border-right: solid 1px;
    margin-left: 8px;
    margin-right: 6px;
  }

  #storybook-explorer-menu .sidebar-item[data-selected="true"] {
    background-color: #eaeaea;
    color: black;
    font-weight: 600;
  }

  #storybook-explorer-menu .sidebar-item[aria-expanded="true"] > div > span,
  #storybook-explorer-menu
    .sidebar-subheading[aria-expanded="true"]
    > button
    > span {
    transform: rotate(135deg);
  }

  #list-item-light,
  #list-item-light span,
  #list-item-dark,
  #list-item-dark span {
    color: black !important;
  }

  #list-item-light svg path,
  #list-item-dark svg path {
    fill: black !important;
  }

  /* 
   * (masoudmanson): The below styles are to hide the default bookmark icon and
   * replace it with SDS flag outline icon.
   */
  div[data-nodetype="story"] svg,
  [data-nodetype="story"] a svg {
    display: none !important;
  }

  div[data-nodetype="story"] a::before {
    content: "";
    width: 15px;
    aspect-ratio: 1 / 1;
    background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZGVmcz48L2RlZnM+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNIDE1LjM3NiA2LjU1NCBMIDEwLjk1OSAyLjUxNSBDIDEwLjgwMSAyLjM2OCAxMC41OTQgMi4yODYgMTAuMzc5IDIuMjg1IEwgMC44OTEgMi4yODUgQyAwLjY1MSAyLjI4NyAwLjQyMiAyLjM4OCAwLjI1OSAyLjU2NSBDIDAuMDkgMi43NDggLTAuMDAyIDIuOTg5IC0wLjAwMSAzLjIzOCBMIC0wLjAwMSAxMi43NjIgQyAtMC4wMDEgMTMuMDE0IDAuMDkzIDEzLjI1NyAwLjI2IDEzLjQzNSBDIDAuNDIzIDEzLjYxMiAwLjY1MiAxMy43MTQgMC44OTIgMTMuNzE1IEwgMTAuMzc5IDEzLjcxNSBDIDEwLjU5NCAxMy43MTQgMTAuODAxIDEzLjYzMiAxMC45NTkgMTMuNDg1IEwgMTUuMzc2IDkuNDQ2IEMgMTUuNTcxIDkuMjY3IDE1LjcyOCA5LjA0NiAxNS44MzYgOC43OTYgQyAxNi4wNTUgOC4yODggMTYuMDU1IDcuNzEyIDE1LjgzNiA3LjIwNCBDIDE1LjczIDYuOTU3IDE1LjU3NCA2LjczNiAxNS4zNzYgNi41NTQgWiBNIDE0Ljg4NiA4LjU5MiBDIDE0Ljk2NCA4LjUxOSAxNS4wMjYgOC40MzEgMTUuMDY4IDguMzMyIEMgMTUuMTYyIDguMTEzIDE1LjE2MiA3Ljg2NCAxNS4wNjggNy42NDUgQyAxNS4wMjYgNy41NDcgMTQuOTY0IDcuNDU5IDE0Ljg4NiA3LjM4NiBMIDEwLjM1IDMuMTU2IEwgMC45MTIgMy4xNjMgTCAwLjg4NyAxMi43NiBMIDEwLjM2IDEyLjgxNiBMIDE0Ljg4NyA4LjU5MyBMIDE0Ljg4NiA4LjU5MiBaIj48L3BhdGg+Cjwvc3ZnPg==");
    background-size: cover;
    margin-top: 1px;
  }
</style>
</file>

<file path=".storybook/manager.js">
// .storybook/manager.js
import React from "react";
import { addons } from "@storybook/manager-api";
import sdsTheme from "./sds-theme";
import SidebarItem from "./components/SidebarItem/SidebarItem";

addons.setConfig({
  theme: sdsTheme,
  sidebar: {
    renderLabel: ({ name }) => {
      const statusRegex = /\[([^)]+)]/gi;
      const [statusMatch, statusType] = statusRegex.exec(name) || [];

      if (statusMatch) {
        return (
          <SidebarItem status={statusType}>
            {name.replace(statusMatch, "").trim()}
          </SidebarItem>
        );
      }

      return name;
    },
  },
});
</file>

<file path=".storybook/preview-head.html">
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=swap"
  rel="stylesheet"
/>
</file>

<file path=".storybook/preview.js">
import CssBaseline from "@mui/material/CssBaseline";
import { Theme } from "../packages/components/src/core/styles";
import { ThemeProvider } from "@mui/material/styles";
import { BADGE } from "../packages/components/src/common/storybook/storybookBadges";

export const decorators = [
  (Story, context) => {
    const { theme: storybookTheme } = context.globals;

    return (
      <ThemeProvider theme={Theme(storybookTheme)}>
        {/* CssBaseline provides light/dark background MUI theme for all stories */}
        <CssBaseline />
        <Story />
      </ThemeProvider>
    );
  },
];

/**
 * (thuang): This is a temporary fix for the Storybook addon to work with
 * `storybook-addon-pseudo-states` plugin
 * https://github.com/chromaui/storybook-addon-pseudo-states/issues/59#issuecomment-1498182067
 */
const preview = {
  globalTypes: {
    pseudo: {},
    theme: {
      description: "Global theme for components",
      defaultValue: "light",
      toolbar: {
        title: "Theme",
        dynamicTitle: true,
        items: [
          { value: "light", icon: "sun", title: "Light" },
          { value: "dark", icon: "moon", title: "Dark" },
        ],
      },
    },
  },

  parameters: {
    // Removes the change background button since it's controlled by the theme toggle
    backgrounds: { disable: true },
    badgesConfig: {
      [BADGE.BETA]: {
        styles: {
          backgroundColor: "#F4F0F9",
          borderColor: "#7A41CE",
          borderRadius: 2,
          color: "#703CBE",
        },
        title: "Beta",
      },
      [BADGE.DEPRECATED]: {
        styles: {
          backgroundColor: "#FEF2F2",
          borderColor: "#DC132C",
          borderRadius: 2,
          color: "#C61128",
        },
        title: "Deprecated",
      },
      [BADGE.NEEDS_REVISION]: {
        styles: {
          backgroundColor: "#F8F8F8",
          borderColor: "#999999",
          borderRadius: 2,
          color: "#767676",
        },
        title: "Needs Revision",
      },
      [BADGE.STABLE]: {
        styles: {
          backgroundColor: "#ECF5F0",
          borderColor: "#3CB371",
          borderRadius: 2,
          color: "#349A61",
        },
        title: "Stable",
      },
      [BADGE.WIP]: {
        styles: {
          backgroundColor: "#FCF6EC",
          borderColor: "#F5A623",
          borderRadius: 2,
          color: "#D8921F",
        },
        title: "Work in progress",
      },
    },
    options: {
      storySort: {
        method: "alphabetical",
        order: ["Bases", "Components", "Data Viz", "Deprecated"],
      },
    },
  },

  tags: ["!autodocs"],
};
export default preview;
</file>

<file path=".storybook/sds-theme.js">
// .storybook/YourTheme.js

import { create } from "@storybook/theming";
import logo from "./logo.png";

export default create({
  base: "light",

  colorPrimary: "black",
  colorSecondary: "silver",

  // UI
  appBg: "white",
  appContentBg: "white",
  appBorderRadius: 0,

  // Typography
  fontBase: '"Inter", sans-serif',
  fontCode: "monospace",

  // Text colors
  textColor: "black",
  textInverseColor: "rgba(255,255,255,0.9)",

  // Toolbar default and active colors
  barTextColor: "silver",
  barSelectedColor: "black",
  barBg: "white",

  // Form colors
  inputBg: "white",
  inputBorder: "silver",
  inputTextColor: "black",
  inputBorderRadius: 4,

  brandTitle: "Science Design System",
  brandUrl:
    "https://zeroheight.com/009eaf17b/v/latest/p/349f6a-science-design-system",
  brandImage: logo,
  brandTarget: "_blank",
});
</file>

<file path=".storybook/webpack.config.js">
const path = require("path");

module.exports = ({ config }) => {
  config.resolve.alias = {
    ...config.resolve.alias,
    src: [
      path.resolve(__dirname, "../packages/components/src"),
      path.resolve(__dirname, "../packages/data-viz/src"),
    ],
  };

  /**
   * (masoudmanson): Due to a Storybook build issue in production mode, where importing
   * cross-referenced workspace packages fails, this workaround involves falling back
   * to the source code of the affected packages. This is a temporary solution until the
   * underlying issue is resolved in Storybook.
   * Resolving monorepo packages in this manner necessitates a custom SCSS loader for
   * .sss files, as the src/index.ts file of each package includes an import link to the
   * style-dictionary variable files.
   */
  config.resolve.fallback = {
    "@czi-sds/components": path.resolve(
      __dirname,
      "../packages/components/src"
    ),
    "@czi-sds/data-viz": path.resolve(__dirname, "../packages/data-viz/src"),
  };

  // remove svg from existing rule
  config.module.rules = config.module.rules.map((rule) => {
    if (
      String(rule.test) ===
      String(
        /\.(svg|ico|jpg|jpeg|png|gif|eot|otf|webp|ttf|woff|woff2|cur|ani)(\?.*)?$/
      )
    ) {
      return {
        ...rule,
        test: /\.(ico|jpg|jpeg|png|gif|eot|otf|webp|ttf|woff|woff2|cur|ani)(\?.*)?$/,
      };
    }

    return rule;
  });

  // use svgr for svg files
  config.module.rules.push({
    test: /\.svg$/,
    use: ["@svgr/webpack", "url-loader"],
    type: "javascript/auto",
    issuer: {
      and: [/\.(ts|tsx|js|jsx|md|mdx)$/],
    },
  });

  /**
   * (masoudmanson): Add a custom SCSS loader for .sss files, as the src/index.ts file of
   * each package includes an import link to the style-dictionary variable files.
   */
  config.module.rules.push({
    test: /\.scss$/,
    use: ["sass-loader"],
  });

  return config;
};
</file>

<file path="packages/components/docs/contribution.md">
# Contribution Guide

Thank you so much for contributing to the Science Component Library! We hope the library will help save you time on your project, and also serve as a way to scale your impact through leveraging your learnings and best practices to all other projects that use this library 💪🚀

Ready to dive in? 🤿🐠🐟🦈

## Important links

1. [npm Package Page](https://www.npmjs.com/package/@czi-sds/components)
1. [Design System Figma](https://www.figma.com/file/EaRifXLFs54XTjO1Mlszkg/Science-Design-System-Reference)
1. [Material UI](https://material-ui.com/) (we are using v4, but definitely keeping an eye on v5 as they take shape!)

## Steps to start 🎯

1. Download the repo to your local machine and fire it up with `yarn && yarn start`, it will automatically start a local Storybook instance, and you can browse existing components there as well

1. Take a quick tour of all existing components and see the different ways we use to style the MUI components. We will also cover the different styling strategies in details in the [styling section](#styling)

1. Once you’re ready to test your new shiny component in your product project (IDseq, Aspen, etc.), do the following steps:

   1. Make sure your new component is exported in `src/index.ts`

   1. `yarn build` to compile the components, generate their Typescript definitions, and export them as `index.cjs.js` and `index.esm.js` in `/dist` folder

   1. If you **ARE NOT** using Happy Path (which uses Docker virtual machine as local development environment), you can go to your product project and install your local component library directory like so: `npm install RELATIVE_PATH_TO_COMPONENT_LIBRARY`.

      E.g., `npm install ../sci-components` if your projects look like this: `parentFolder/productProject` and `parentFolder/sci-components`

   1. If you **ARE** using Happy Path, since our local component library directory is **NOT** mounted in the local Docker container, the app won’t be able to find the directory. So the only way to test out the component library is to publish it to `npm` and then upgrade your `@czi-sds/components` dependency accordingly.

1. When you’re happy with your component, please submit a [PR](https://github.com/chanzuckerberg/sci-components/pulls) to get a code review

1. Once your PR is merged, congrats and thank you for contributing to the component library 🙌👏🎉✨❤️!!

## Styling

When it comes to styling Material UI's components, generally the following strategies should cover the most use cases. However, if none of the strategies work for you, please reach out to CZI Slack channels **#org-tech-frontend** and **#help-frontend** for help!

1. Straight up `styled()` wrapping the component to style the root element

   When to use: Look for the MUI component's CSS API section, if `root` is available, wrapping the component in `styled()` will apply the styles to the root element

   For example, MUI `<Button />` component has `root` CSS API as shown [here](https://material-ui.com/api/button/#css). As a result, the following code will work:

   ```ts
   const StyledButton = styled(Button)`
     // This will change the text color to pink
     color: pink;
   `;
   ```

   💡 You can find the full `@czi-sds/components` `<Button />` implementation [here](../src/core/Button/index.tsx)

1. Wrap the component with `styled()` and target `.Mui*` global class names

   When to use: When you need to style a **descendant** of the root element.

   NOTE: If the element is **NOT** a descendant of the root element, such as when the element is rendered in a React Portal, **outside** of the root element's tree, use the `classes` strategy below

   For example, MUI `<Chip />` element renders a descendant element `label` as shown in the screenshot below. As a result, the easiest way to style the `label` element is below:

   ```ts
   const StyledChip = styled(Chip)`
     .MuiChip-label {
       padding: 0;
     }
   `;
   ```

   💡 You can find the full `@czi-sds/components` `<Chip />` implementation [here](../src/core/Chip/index.tsx)

   You can also find all the CSS API for the MUI component under the CSS section of its API page.

   E.g., [Chip CSS API section](https://material-ui.com/api/chip/#css)

   ![image](https://user-images.githubusercontent.com/6309723/124043458-e80bcb00-d9bf-11eb-8f4c-96c88556a8b6.png)

1. Use Material UI's `classes` prop to pass css class names to targeted element

   When to use: When the element is **NOT** a descendant of the root element, such as when the element is rendered in a React Portal, **outside** of the root element's tree

   For example, MUI `<Tooltip />` component has an arrow element that's rendered **outside** of the root element's tree as shown in the screenshot below. As a result, the only way to style the `arrow` element is through passing a class name for styling the `arrow` element to `<Tooltip classes={{ arrow: 'class-name-here' }} />`.

   Like so:

   ```tsx
    import { css } from "@emotion/css";

    // css() registers the style and returns a css class name
    const arrowCss = css`
      color: pink;
    `

    <Tooltip classes={{arrow: arrowCss}} />
   ```

   💡 You can find the full `@czi-sds/components` `<Tooltip />` implementation [here](../src/core/Tooltip/index.tsx)

   You can also find all the CSS API for the MUI component under the CSS section of its API page.

   E.g., [Tooltip CSS API section](https://material-ui.com/api/tooltip/#css)

   ![image](https://user-images.githubusercontent.com/6309723/124044319-07a3f300-d9c2-11eb-847e-45d522808b95.png)

1. If you are modifying or adding a new Base (colors, borders, typogrpahy, etc), be sure to add them to the [style-dictionary.json](../src/common/styles-dictionary/style-dictionary.json) in addition to updating the [defaultheme.ts](../src/core/styles/common/defaultTheme.ts). Run `sd-build` before committing your changes. `@czi-sds/components` uses [style-dictionary](https://amzn.github.io/style-dictionary/#/) to generate css and scss variable stylesheets. This allows projects that use css modules or scss to still benefit from our standard styles. The `style-dictionary.json` is the source of truth for these css & scss stylesheets.

New additions to the `style-dictionary.json` should be nested accordingly:

```json
{
  "sds": { // this prefixes all variables from our package to increase specificity
    "category": { // this is what the new variable is at a high level (font, color, space)
      "type": { // this is the main grouping within the category (body, success, size)
```

All tokens must have a `value` and can optionally have a `comment`, which can give insight into how the value should be used.

To generate a stylesheet in a new language, update the [config.json](../src/common/styles-dictionary/config.json) to include the new transformGroup(language) in the `platforms` object. See a list of possible languages [here](https://github.com/amzn/style-dictionary/blob/main/lib/common/formats.js), though custom ones can be built.

```json
{
  "source": ["src/common/styles-dictionary/*.json"],
  "platforms": {
    "new-language": {
      "transformGroup": "language-format",
      "buildPath": "src/common/styles-dictionary/new-language/",
      "files": [
        {
          "destination": "variables.language-format",
          "format": "language-format/variables"
        }
      ]
    }
  }
}
```

Once the config has been updated, run `sd-build` to generate the new stylesheet. Import it at the top of [index.ts](../src/index.ts). Update and install any plugins needed by rollup to support the new file type. Set the output for new files to be `variables.language-format` where `language-format` is the file type. This will allow rollup to bundle the new stylesheet and make it available for import.

## Testing

This repo uses [Jest](https://jestjs.io/) as it's main testing framework and [@storybook/react](https://storybook.js.org/addons/@storybook/react) as middleware to reuse stories as tests. Tests are written for each component to test for functionality and integration. Currently, as components are small and independent, unit tests are the bulk of the test written. As more complex components are created, integration tests will become the bulk of the test coverage. Snapshots are captured to test for changes to the DOM.

Snapshots should only be captured of the Test story. Use the following to skip snapshots on Default and LivePreview:

```tsx
// index.stories.tsx
Default.parameters = {
  snapshot: {
    skip: true,
  },
};

LivePreview.parameters = {
  snapshot: {
    skip: true,
  },
};
```

If snapshots needs to be updated (due to anticipated DOM changes), run `yarn test path/to/test/file -u `

This repo will also be using Chromatic to run visual testing. Chromatic captures visual changes between components and also hosts live versions of components so designers and engineers can quickly and easily interact with them witout needin to spin up a local Storybook instance. More info on how to capture visual stories in Chromatic will be added in November.

## Commit Message

This repo uses [Commitizen](https://github.com/commitizen/cz-cli) to ensure the
commits follow [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/),
so we can do semantic versioning properly

NOTE: If your PR has more than one commit, please kindly make sure the first line of your commit reflects the most important commit type, so Semantic Release will trigger the right release version. More details [here](https://github.com/amannn/action-semantic-pull-request#action-semantic-pull-request)

NOTE: Commitizen command is automatically triggered through [Husky](https://github.com/typicode/husky) when you write a commit message. However, you can always do `^ + C` to skip Commitizen if you're not ready to submit a PR!

## Major/Breaking Change Release

Major/Breaking Change Release should happen on `next` branch first, so we publish the breaking change version bump on `packageName@next` first. After the `next` branch is merged into `main`, the new breaking change version will be available on `packageName@latest`

WARNING: Please "rebase and merge" `next` into `main` via a merge commit instead of "squash and merge", otherwise Semantic Release won't be able to analyze the commit messages correctly [source](https://semantic-release.gitbook.io/semantic-release/support/troubleshooting#squashed-commits-are-ignored-by-semantic-release)

If Github detects merge conflicts when merging `next` into `main`, please create a new branch from `main`, merge `next` into the new branch, resolve conflicts, then create a PR against `main`.

Example:

1. `git fetch && git stash && git checkout main && git checkout -b temp-main && git merge origin next`
1. Resolve conflicts, then make commit
1. `git push -u origin temp-main`
1. Create a PR

## Reporting Security Issues

Please note: If you believe you have found a security issue, please responsibly disclose by contacting us at security@chanzuckerberg.com. More information is in our [Security Readme](docs/SECURITY.md)
</file>

<file path="packages/components/docs/eng-how-to.md">
# Overview

The Science Design System (SDS) brings consistency and universal standards to CZI’s science products by offering a library of high quality, reusable components that deliver predictable, accessible and easy to learn experiences. Our goal is to democratize access to tools and technologies for scientists.

# Getting Started

## Installation

NPM Package

```
// with npm
npm i @czi-sds/components

// with yarn
yarn add @czi-sds/components
```

**Currently SDS uses Material UI v4**

@czi-sds/components installs without direct dependencies to prevent version errors. Please ensure the following peer dependencies are also installed:

```
  "@emotion/css"
  "@emotion/react"
  "@emotion/styled"
  "@mui/base"
  "@mui/icons-material"
  "@mui/lab"
  "@mui/material"
  "react"
  "react-dom"
```

To install the dependencies:

```
// with npm
npm i @czi-sds/components @emotion/css @emotion/react @emotion/styled @mui/base @mui/material @mui/icons-material @mui/lab react react-dom

// with yarn
yarn add @czi-sds/components @emotion/css @emotion/react @emotion/styled @mui/base @mui/material @mui/icons-material @mui/lab react react-dom
```

## Usage

`@czi-sds/components` comes with four main exports that help you build your app:

1. Components - Accessible and reusable components

```javascript
import React from "react";
import { Button } from "@czi-sds/components";
<Button onClick={actions.onClick} sdsStyle="rounded" sdsType="primary">
  {text}
</Button>;
```

2. Mixins - Grouped styles defined by the design system

```javascript
import { styled } from "@emotion/styled";
import { Typography } from "@material-ui/core";
import { fontHeaderXL } from "@czi-sds/components";

export const Title - styled(Typography)`
  ${fontHeaderXl}

  // which compiles to:
  font-size: 22px;
  font-weight: 600;
  letter-spacing: 0.3px;
  line-height: 30px;
`;
```

3. Selectors - Helper functions that return theme variables baased on passed props

```ts
import { css, SerializedStyles } from "@emotion/react";
import styled from "@emotion/styled";
import { getColors, getCorners } from "@czi-sds/components";

export const Tag = styled("div")`
  // This is a callback function that returns more CSS rules, but the only way
  // to access the custom theme object
  ${(props) => {
    //  getColors() is a selector that picks out colors from the theme object
    const colors = getColors(props);
    // getSpaces() is a selector that picks out spaces from the theme object
    const spaces = getSpaces(props);

    return `
          background-color: ${colors?.gray[500]};
          padding-bottom: ${spaces?.m}px;
          margin-bottom: ${spaces?.xxl}px;
        `;
  }}
`;
```

4. CSS & SCSS Variables - Variables for the `defaultTheme` to use if your app doesn't support `@emotion/styled`

```scss
// with SCSS variables
@import "~@czi-sds/components/dist/variables";

.button-primary {
  background-color: $sds-color-primary-400;
  padding: $sds-spaces-xxs;
}

// with CSS variables
.button-primary {
  background-color: var(--sds-color-primary-400);
  padding: var(--sds-spaces-xxs);
}
```

### Default Theme

To use the default theme in your React application, complete the following:

1. Add the following HTML to your `index.html` at the `<head>` section:

```html
// installs the sds font from google fonts
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=swap"
  rel="stylesheet"
/>
```

2. Import the default theme object and use it in Material UI's `<ThemeProvier />`:

```javascript
import { defaultTheme } from "@czi-sds/components";
import { StylesProvider, ThemeProvider } from "@material-ui/core/styles";
import { ThemeProvider as EmotionThemeProvider } from "@emotion/react";

<StylesProvider injectFirst>
  <EmotionThemeProvider theme={defaultTheme}>
    <ThemeProvider theme={defaultTheme}>
      <YourApp />
    </ThemeProvider>
  </EmotionThemeProvider>
</StylesProvider>;
```

3.  If you need to override the default SDS theme, please follow the instructions [here](https://github.com/chanzuckerberg/sci-components/blob/main/docs/how-to-override-default-theme.md).

# Contributing to the SDS

If you would like to contribute to the Science Design System by building requested components, please follow the contribution guidelines [here](https://github.com/chanzuckerberg/sci-components/blob/main/docs/contribution.md).

To request a component, please reach out in the [#sci-design-system-support channel](https://czi-sci.slack.com/archives/C032S43KKFV).
</file>

<file path="packages/components/docs/how-to-add-icon.md">
# How to add an icon to the SDS codebase

## 1. Obtain the icon SVG(s)

- The GitHub issue should contain a link from which you can download the SVG file(s). If not, reach out the relevant designer.
- If the icon is needed for size `extraSmall` and/or size `small`, that will be its own file, and if it’s needed for size `large` and/or `extraLarge`, that will also be its own distinct file. (This is because a single icon design cannot serve both xtraSmall/small and serve large/extraLarge, due to the design conventions and line weights, etc).
  - Follow up with the designer if it’s not clear what sizes the icon can be used for

## 2. If needed, rename the SVG file(s)

- Icon SVG files should follow these naming conventions:
  - `IconInsertIconNameHereSmall` (for size `extraSmall` and `small`)
  - `IconInsertIconNameHereLarge` (for size `large` and `extraLarge`)
- Replace `InsertIconNameHere` with the name of the icon, but be sure to align on this name with design and product if it isn’t already clear
- The file names should start with `Icon` and end with `Small`, as in the naming templates above

## 3. Move the SVG file(s) into the SDS codebase

- Be sure to make a new branch first
- Then you can drag the SVG file(s) using the Finder app into **sci-components/packages/components/src/common/svgs** folder

## 4. Add the icon to the map.ts file

- Navigate to **sci-components/packages/components/src/core/Icon/map.ts** in your code editor
- Import the icon(s), adding the import code line(s) where it fits alphabetically with the other icon imports, e.g.
  `import { ReactComponent as IconInsertIconNameHereSmall } from "../../common/svgs/IconInsertIconNameHereSmall.svg";`
  - If there are multiple SVG(s) for the icon (small and large), both will need to be imported separately
- Add the icon to the `IconNameToSizes` object (the next chunk of code within map.ts, below the import statements) where it fits in alphabetically
  - Use the icon’s name as the key, which should match its SVG file name(s), sans the prefixed `Icon` and `Small` or `Large` parts
  - List the sizes it can be used for as strings for the value, as in the following example:
    `virusCircleS: "l" | "xl";`
- Add the new icon to the `iconMap` object (the last chunk of code at the bottom of map.ts) where it fits in alphabetically
  - Follow the same pattern used for existing icons, giving your new icon object keys for both `largeIcon` and `smallIcon` respectively
  - If the icon doesn’t have a large or extraLarge size, give `largeIcon` a value of `null`; otherwise pass it the full name of the icon’s large SVG file name, e.g.
    `IconInsertIconNameHereLarge.svg`. Repeat for `smallIcon`.

## 5. Remove unnecessary `fill`s from `path` elements

- Open Storybook and find the new icon on the Icon / Icon Bank page (they’re alphabetical)
- Use the Storybook control panel to change the icon’s color to `warning`. (This is a lighter color, which will make it easier to see unwanted dark outlines.) Examine the icon closely, and hover on it to invert its color with the background: look for any black outlines that shouldn’t be part of the icon, or if any parts of it don’t invert properly
- If needed, remove the `fill` attributes from the `path` elements to fix the problem.
- If this doesn't work, it's possible that the designer will need to makes changes to the SVG itself within Figma, such as uniting all elements.

## 6. Once the icon is ready, push your code and make a PR

- Include screenshots of the icon pre-hover and hover, from the Storybook Icon Bank, and tag the relavant designer to verify the design (and the SVG paths, visually).
- Also tag a(n) engineer(s) to review.
</file>

<file path="packages/components/docs/how-to-override-default-theme.md">
If you want to override the default theme, please use `defaultAppTheme`, override the options, and then call `createTheme` to generate
the full theme object like below. This is needed because `createTheme` generates
extra theme variables based on the themeOptions provided, so if you override `defaultTheme` directly, some auxillary theme variables will be based on `defaultAppTheme` instead of your own custom options

```tsx
  import { ThemeProvider as EmotionThemeProvider } from "@emotion/react";
  import { defaultAppTheme, makeThemeOptions } from "@czi-sds/components";
  import { StylesProvider, ThemeProvider } from "@material-ui/core/styles";
  import createTheme from "@material-ui/core/styles/createTheme";

  const customTheme = {
    ...
  }

  const appTheme = makeThemeOptions({ ...defaultAppTheme, ...customTheme })

  const theme = createTheme(appTheme)

    <StylesProvider injectFirst>
      <ThemeProvider theme={theme}>
        <EmotionThemeProvider theme={theme}>
          <YourApp />
        </EmotionThemeProvider>
      </ThemeProvider>
    </StylesProvider>
```

💡 Aspen example available [here](https://github.com/chanzuckerberg/aspen/blob/trunk/src/frontend/pages/_app.tsx).

💡 Material UI docs for custom theming available [here](https://mui.com/material-ui/customization/theming/).
</file>

<file path="packages/components/docs/SECURITY.md">
# Reporting Security Issues

The Chan Zuckerberg Initiative Foundation (CZIF) team and community take security bugs seriously. We appreciate your efforts to responsibly disclose your findings, and will make every effort to acknowledge your contributions.

To report a security issue, email [security@chanzuckerberg.com](mailto:security@chanzuckerberg.com) and include the word "SECURITY" in the subject line.

The CZIF team will send a response indicating the next steps in handling your report. After the initial reply to your report, the security team will keep you informed of the progress towards a fix and full announcement, and may ask for additional information or guidance.
</file>

<file path="packages/components/src/common/helpers/scrollStop.ts">
import { useEffect, useRef } from "react";

/**
 * Creates a scroll stop listener with a given callback and timeout.
 *
 * @param callback - The callback function to be executed when scrolling stops.
 * @param timeout - The duration (in milliseconds) after which the callback is triggered when scrolling stops. Default is 50ms.
 * @returns A function to destroy the scroll stop listener and clean up the event listener.
 */
const createScrollStopListener = (callback: () => void, timeout = 50) => {
  let removed = false;
  let handle: NodeJS.Timeout | null = null;

  const onScroll = () => {
    if (handle) {
      clearTimeout(handle);
    }
    handle = setTimeout(callback, timeout);
  };

  // Attach scroll event listener to the specified element
  document.addEventListener("scroll", onScroll, true);

  return () => {
    if (removed) {
      return;
    }

    removed = true;

    if (handle) {
      clearTimeout(handle);
    }

    // Remove the scroll event listener from the element
    document.removeEventListener("scroll", onScroll);
  };
};

/**
 * Custom hook that listens for scroll stop events and triggers a callback function.
 *
 * @param callback - The callback function to be executed when scrolling stops.
 * @param timeout - The duration (in milliseconds) after which the callback is triggered when scrolling stops. Default is 50ms.
 */
const useScrollStopListener = (callback: () => void, timeout = 50) => {
  const callbackRef = useRef<() => void>();
  callbackRef.current = callback;

  useEffect(() => {
    const destroyListener = createScrollStopListener(() => {
      if (callbackRef.current) {
        callbackRef.current();
      }
    }, timeout);
    return () => destroyListener();
  }, [timeout]);
};

export default useScrollStopListener;
</file>

<file path="packages/components/src/common/helpers/useLastInRow.ts">
import { useEffect, useState } from "react";

/**
 * A custom hook that detects the last item in each row of a wrapped layout.
 *
 * Neither CSS Flexbox nor CSS Grid provide a built-in way to identify the last item
 * in a visually wrapped row. Since items can wrap dynamically based on screen size,
 * we rely on measuring their vertical positions in the DOM.
 *
 * We iterate through the list of items and compare their offsetTop values. If an item
 * has a higher offsetTop than the previous one, it means it started a new row, so the
 * previous item was the last in its row.
 *
 * A ResizeObserver is used to re-run this logic whenever the container resizes, ensuring it
 * stays accurate in responsive layouts.
 *
 * @param containerRef - A ref to the container element
 * @param itemRefs - An array of refs to the items
 * @returns A Set of last items in each row
 */
export const useLastInRow = (
  containerRef: React.RefObject<HTMLElement>,
  itemRefs: React.MutableRefObject<(HTMLElement | null)[]>
) => {
  const [lastItems, setLastItems] = useState<Set<number>>(new Set());

  useEffect(() => {
    const updateLastInRow = () => {
      const items = itemRefs.current.filter(Boolean) as HTMLElement[];
      let currentTop: number | null = null;
      const newSet = new Set<number>();

      items.forEach((item, index) => {
        if (currentTop === null) {
          currentTop = item.offsetTop;
        } else if (item.offsetTop > currentTop) {
          newSet.add(index - 1);
          currentTop = item.offsetTop;
        }
      });

      if (items.length > 0) {
        newSet.add(items.length - 1);
      }

      setLastItems(newSet);
    };

    updateLastInRow();

    const resizeObserver = new ResizeObserver(() => {
      updateLastInRow();
    });

    if (containerRef.current) {
      resizeObserver.observe(containerRef.current);
    }

    return () => resizeObserver.disconnect();
  }, [containerRef, itemRefs]);

  return lastItems;
};
</file>

<file path="packages/components/src/common/helpers/userTabbing.ts">
import { useEffect } from "react";

/**
 * Adds a 'user-is-tabbing' class and a 'data-user-is-tabbing' attribute to the provided element when the user starts navigating
 * with the keyboard. This is useful for styling focus outlines differently when the user is using the keyboard to tab through elements.
 * It is particularly beneficial for input elements where the styles for :focus and :focus-visible are identical,
 * unlike button elements which have both :focus and :focus-visible states available to style separately.
 * By detecting when the user is tabbing, we can apply different styles for :focus and :focus-visible states.
 *
 * @param {HTMLElement} element - The element to which the 'user-is-tabbing' class will be added.
 * @returns {Function} A function to remove the 'user-is-tabbing' class and 'data-user-is-tabbing' attribute and clean up the event listeners.
 */

const detectUserTabbing = (element: HTMLElement) => {
  if (!element) return;

  let removed = false;

  function handleFirstTab(e: KeyboardEvent) {
    if (e.code === "Tab") {
      element.classList.add("user-is-tabbing");
      element.setAttribute("data-user-is-tabbing", "true");

      window.removeEventListener("keydown", handleFirstTab);
      window.addEventListener("mousedown", handleMouseDownOnce);
    }
  }

  function handleMouseDownOnce() {
    element.classList.remove("user-is-tabbing");
    element.removeAttribute("data-user-is-tabbing");

    window.removeEventListener("mousedown", handleMouseDownOnce);
    window.addEventListener("keydown", handleFirstTab);
  }

  window.addEventListener("keydown", handleFirstTab);

  return () => {
    if (removed) {
      return;
    }

    removed = true;

    window.removeEventListener("keydown", handleFirstTab);
    window.removeEventListener("mousedown", handleMouseDownOnce);
  };
};

/**
 * Custom hook that listens for keyboard and mouse events to detect when
 * the user is tabbing through elements.
 *
 * @param {React.RefObject} ref - The ref to the element to which the 'user-is-tabbing' class
 * and 'data-user-is-tabbing' attribute will be added.
 */
const useDetectUserTabbing = (ref: React.RefObject<HTMLElement>) => {
  useEffect(() => {
    if (ref.current) {
      const destroyListener = detectUserTabbing(ref.current);
      return () => destroyListener?.();
    }
  }, [ref]);
};

export default useDetectUserTabbing;
</file>

<file path="packages/components/src/common/storybook/AUTOCOMPLETE_MULTI_COLUMN_OPTIONS.tsx">
// (masoudmanson): The unit tests rely on the content in this file; do not alter it!

import Icon from "../../core/Icon";
import CustomSdsIcon from "./customSdsIcon";
import CustomSvgIcon from "./customSvgIcon";

export const AUTOCOMPLETE_MULTI_COLUMN_OPTIONS = [
  {
    icon: <Icon sdsIcon="ChevronRight" sdsSize="xs" />,
    name: "Column One",
    options: [
      {
        name: "Status: can't reproduce",
      },
      {
        name: "Status: confirmed",
      },
      {
        count: 3,
        name: "Status: duplicate",
      },
      {
        count: 5,
        name: "Status: needs information",
      },
      {
        details: "This will not be worked on",
        name: "Status: wont do/fix",
      },
      {
        details: "This is still in progress",
        name: "Status: work in progress",
      },
    ],
    width: 260,
  },
  {
    icon: <Icon sdsIcon="ChevronRight" sdsSize="xs" />,
    name: "Column Two",
    options: [
      {
        details: "This will be worked on!",
        name: "Type: bug",
      },
      {
        count: 4,
        name: "Type: discussion",
      },
      {
        name: "Type: documentation",
      },
      {
        name: "Type: enhancement",
      },
      {
        name: "Type: epic",
      },
      {
        name: "Type: feature request",
      },
      {
        name: "Type: question",
      },
    ],
    width: 260,
  },
  {
    name: "Column Three",
    options: [
      {
        icon: <CustomSdsIcon sdsSize="s" color="green" shade={600} />,
        name: "Custom SDS Icon",
        section: "With Icon",
      },
      {
        icon: <CustomSvgIcon sx={{ color: "orange", height: 16, width: 16 }} />,
        name: "Custom SVG Icon",
        section: "With Icon",
      },
      {
        icon: "PuzzlePiece",
        name: "Puzzle Piece",
        sdsIconProps: {
          color: "gray",
          shade: 500,
        },
      },
      {
        count: 10,
        icon: "Copy",
        name: "Copy",
        sdsIconProps: {
          color: "gray",
          shade: 500,
        },
      },
      {
        icon: "LightBulb",
        name: "Light Bulb",
        sdsIconProps: {
          color: "gray",
          shade: 500,
        },
      },
      {
        count: 6,
        icon: "List",
        name: "List",
        sdsIconProps: {
          color: "gray",
          shade: 500,
        },
      },
      {
        icon: "TreeVertical",
        name: "Vertical Tree",
        sdsIconProps: {
          color: "gray",
          shade: 500,
        },
      },
      {
        icon: "Link",
        name: "Link",
        sdsIconProps: {
          color: "gray",
          shade: 500,
        },
      },
    ],
    width: 190,
  },
];
</file>

<file path="packages/components/src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS.tsx">
// (masoudmanson): The unit tests rely on the content in this file; do not alter it!

import Tag from "../../core/Tag";
import CustomSdsIcon from "./customSdsIcon";
import CustomSvgIcon from "./customSvgIcon";

export const AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS = [
  {
    name: "Status: can't reproduce",
    section: "name only",
  },
  {
    name: "Status: confirmed",
    section: "name only",
  },
  {
    count: 3,
    name: "Status: duplicate",
    section: "name with count",
  },
  {
    count: 5,
    name: "Status: needs information",
    section: "name with count",
  },
  {
    details: "This will not be worked on",
    name: "Status: wont do/fix",
    section: "name with details",
  },
  {
    details: "This is still in progress",
    name: "Status: work in progress",
    section: "name with details",
  },
  {
    icon: <CustomSdsIcon sdsSize="s" color="green" shade={600} />,
    name: "Custom SDS Icon",
    section: "With Icon",
  },
  {
    icon: <CustomSvgIcon sx={{ color: "orange", height: 16, width: 16 }} />,
    name: "Custom SVG Icon",
    section: "With Icon",
  },
  {
    icon: "PuzzlePiece",
    name: "Puzzle Piece",
    sdsIconProps: {
      color: "gray",
      shade: 500,
    },
    section: "With Icon",
  },
  {
    count: 10,
    icon: "Copy",
    name: "Copy",
    sdsIconProps: {
      color: "gray",
      shade: 500,
    },
    section: "With Icon",
  },
  {
    icon: "LightBulb",
    name: "Light Bulb",
    sdsIconProps: {
      color: "gray",
      shade: 500,
    },
    section: "With Icon",
  },
  {
    count: 6,
    icon: "List",
    name: "List",
    sdsIconProps: {
      color: "gray",
      shade: 500,
    },
    section: "With Icon",
  },
  {
    icon: "TreeVertical",
    name: "Vertical Tree",
    sdsIconProps: {
      color: "gray",
      shade: 500,
    },
    section: "With Icon",
  },
  {
    icon: "Link",
    name: "Link",
    sdsIconProps: {
      color: "gray",
      shade: 500,
    },
    section: "With Icon",
  },
  {
    component: (
      <div>
        Available Labels:
        <div style={{ marginTop: 10 }}>
          <Tag
            label="bug"
            sdsStyle="rounded"
            sdsType="secondary"
            color="negative"
            hover={false}
          />
          <Tag
            label="feature"
            sdsStyle="rounded"
            sdsType="secondary"
            color="positive"
            hover={false}
          />
          <Tag
            label="refactor"
            sdsStyle="rounded"
            sdsType="secondary"
            color="neutral"
            hover={false}
          />
        </div>
      </div>
    ),
    name: "Available labels",
    section: "custom component",
  },
];
</file>

<file path="packages/components/src/common/storybook/customSdsIcon.tsx">
import Icon, { IconProps } from "../../core/Icon";

/**
 * CustomSdsIcon is an Icon component built on top of the core SDS Icon.
 * This custom component is designed for use in Storybook demos,
 * allowing easy customization.
 */
function CustomSdsIcon(props: {
  sdsIcon?: IconProps<"Bacteria">["sdsIcon"];
  sdsSize?: IconProps<"Bacteria">["sdsSize"];
  color?: IconProps<"Bacteria">["color"];
  shade?: IconProps<"Bacteria">["shade"];
}) {
  const {
    sdsIcon = "Bacteria",
    sdsSize = "l",
    color = "blue",
    shade = 400,
    ...rest
  } = props;
  return (
    <Icon
      sdsIcon={sdsIcon}
      sdsSize={sdsSize}
      color={color}
      shade={shade}
      {...rest}
    />
  );
}

export default CustomSdsIcon;
</file>

<file path="packages/components/src/common/storybook/customSvgIcon.tsx">
import { SvgIcon, SvgIconProps } from "@mui/material";

/**
 * CustomSvgIcon is a component that extends the SvgIcon component from the Material-UI library.
 * It allows easy usage of custom SVG icons with in the storybook demos.
 */

function CustomSvgIcon(props: SvgIconProps) {
  return (
    <SvgIcon color="primary" viewBox="0 0 512 512" {...props}>
      <path d="M458.872,256.078c-17.529-26.644-41.771-52.681-70.79-76.4c-3.469-21.271-8.392-41.554-14.672-60.373 c53.195-0.169,87.024,22.59,72.415,73.747c-0.631,2.21-0.052,4.584,1.508,6.27c6.904,7.458,13.366,15.038,19.341,22.705 c3.073,3.943,9.293,3.121,11.202-1.498c32.302-78.145-10.047-146.718-120.43-140.279c-0.031,0.001-0.062,0.004-0.093,0.007 c-0.013-0.028-0.028-0.055-0.041-0.083c-53.56-106.69-148.783-106.875-202.496-0.688C40.555,73.469-15.599,151.807,52.904,255.924 c0.018,0.028,0.038,0.055,0.056,0.084c-67.012,100.563-16.503,183.6,101.482,175.776c0.008,0.016,0.014,0.03,0.022,0.046 c53.515,106.6,148.97,107.133,202.766,0.164C470.406,437.597,528.418,361.778,458.872,256.078z M138.187,119.848 c-6.226,18.763-11.107,38.972-14.546,60.159c-16.562,13.617-31.69,28.038-44.907,42.876 C38.058,152.559,74.283,120.168,138.187,119.848z M117.998,274.703c-5.69-6.007-11.138-12.226-16.31-18.65 c5.142-6.327,10.591-12.465,16.297-18.416C117.543,249.588,117.518,261.961,117.998,274.703z M78.682,289.361 c13.172,14.872,28.299,29.301,45.012,42.962c3.477,21.316,8.412,41.64,14.711,60.491 C67.963,392.674,43.078,352.627,78.682,289.361z M333.074,123.155c2.657,7.176,5.083,14.639,7.271,22.352 c-9.094-5.698-18.999-11.49-30.114-17.469C317.999,126.092,325.631,124.461,333.074,123.155z M315.549,85.768 c-19.762,3.974-39.653,9.827-59.258,17.221c-20.847-8.122-40.797-14.035-59.637-17.942 C232.529,25.172,278.658,23.544,315.549,85.768z M178.643,123.321c7.447,1.231,15.082,2.784,22.854,4.655 c-10.25,5.498-20.295,11.364-30.069,17.544C173.601,137.861,176.01,130.45,178.643,123.321z M178.794,389.096 c-2.692-7.253-5.148-14.8-7.362-22.603c9.524,5.966,19.569,11.81,30.503,17.666C194.064,386.139,186.334,387.787,178.794,389.096z M196.051,425.931c19.213-4.025,38.998-9.881,58.808-17.323c21.078,8.168,41.325,14.107,60.474,17.991 C278.773,487.933,232.398,487.509,196.051,425.931z M333.091,388.798c-7.661-1.267-15.52-2.879-23.521-4.823 c10.453-5.508,20.759-11.419,30.837-17.698C338.208,374.051,335.765,381.569,333.091,388.798z M351.321,311.775 c-29.889,22.661-63.024,41.092-95.899,54.615c-32.493-13.173-65.228-31.205-94.845-53.695 c-4.587-35.626-4.895-74.801-0.105-112.588c29.851-22.504,63.071-40.834,96.05-54.314c32.446,13.161,65.124,31.155,94.688,53.581 C355.863,235.562,356.016,274.655,351.321,311.775z M410.019,255.868c-5.135,6.281-10.554,12.377-16.218,18.285 c0.449-12.289,0.444-24.538-0.018-36.832C399.446,243.294,404.869,249.48,410.019,255.868z M373.55,392.273 c6.215-18.706,11.092-38.85,14.536-59.969c16.428-13.394,31.608-27.808,45.054-43.017 C473.701,359.55,437.451,391.95,373.55,392.273z" />{" "}
      <path d="M255.888,202.24c-29.643,0-53.76,24.117-53.76,53.76c0,29.643,24.117,53.76,53.76,53.76s53.76-24.117,53.76-53.76 C309.649,226.357,285.531,202.24,255.888,202.24z" />{" "}
    </SvgIcon>
  );
}

export default CustomSvgIcon;
</file>

<file path="packages/components/src/common/storybook/loremIpsum.ts">
// Extra Short Lorem Ipsum = 1 sentence

export const EXTRA_SHORT_LOREM_IPSUM = `Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.`;

// Short Lorem Ipsum = 2 sentences

export const SHORT_LOREM_IPSUM = `${EXTRA_SHORT_LOREM_IPSUM} Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper.`;

// Medium Lorem Ipsum = 5 sentences

export const MEDIUM_LOREM_IPSUM = `${SHORT_LOREM_IPSUM} Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere.`;

// Long Lorem Ipsum = 1 paragraph

export const LONG_LOREM_IPSUM = `${MEDIUM_LOREM_IPSUM} Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.`;

// Extra Long Lorem Ipsum = 3 paragraphs

export const EXTRA_LONG_LOREM_IPSUM = `${LONG_LOREM_IPSUM} ${LONG_LOREM_IPSUM}`;
</file>

<file path="packages/components/src/common/storybook/storybookBadges.ts">
import { BADGE as addonBadge } from "@geometricpanda/storybook-addon-badges";

export const BADGE = {
  BETA: addonBadge.BETA,
  DEPRECATED: addonBadge.DEPRECATED,
  NEEDS_REVISION: addonBadge.NEEDS_REVISION,
  STABLE: addonBadge.STABLE,
  WIP: "wip",
};
</file>

<file path="packages/components/src/common/storybook/storybookConstants.ts">
export interface Template {
  args: Record<string, never>;
}
</file>

<file path="packages/components/src/common/styles-dictionary/css/variables.css">
@media (prefers-color-scheme: light) {
  :root {
    --sds-border-accent-default: 1px solid #1a6cef;
    --sds-border-accent-focused: 1px solid #1a6cef;
    --sds-border-accent-open: 1px solid #1a6cef;
    --sds-border-accent-selected: 1px solid #1a6cef;
    --sds-border-accent-hover: 1px solid #0041b9;
    --sds-border-accent-pressed: 1px solid #002d90;
    --sds-border-base-default: 1px solid #969696;
    --sds-border-base-disabled: 1px solid #c3c3c3;
    --sds-border-base-divider: 1px solid #dfdfdf;
    --sds-border-base-divider-inverse: 1px solid #6c6c6c;
    --sds-border-base-hover: 1px dashed #000000;
    --sds-border-base-inverse: 1px dashed #ffffff;
    --sds-border-base-pressed: 1px dashed #000000;
    --sds-border-base-table: 1px solid #c3c3c3;
    --sds-border-beta-default: 1px solid #6526b5;
    --sds-border-beta-extra-thick: 4px solid #6526b5;
    --sds-border-beta-thick: 2px solid #6526b5;
    --sds-border-info-default: 1px solid #0041b9;
    --sds-border-info-extra-thick: 4px solid #0041b9;
    --sds-border-info-thick: 2px solid #0041b9;
    --sds-border-link-dashed: 1px dashed;
    --sds-border-link-solid: 1px solid;
    --sds-border-negative-default: 1px solid #980017;
    --sds-border-negative-extra-thick: 4px solid #980017;
    --sds-border-negative-thick: 2px solid #980017;
    --sds-border-neutral-default: 1px solid #969696;
    --sds-border-neutral-extra-thick: 4px solid #969696;
    --sds-border-neutral-thick: 2px solid #969696;
    --sds-border-none: none;
    --sds-border-notice-default: 1px solid #b07300;
    --sds-border-notice-extra-thick: 4px solid #b07300;
    --sds-border-notice-thick: 2px solid #b07300;
    --sds-border-positive-default: 1px solid #105b2b;
    --sds-border-positive-extra-thick: 4px solid #105b2b;
    --sds-border-positive-thick: 2px solid #105b2b;
    --sds-breakpoint-sm: 0px;
    --sds-breakpoint-md: 512px;
    --sds-breakpoint-lg: 1024px;
    --sds-color-primitive-blue-100: #e2eeff;
    --sds-color-primitive-blue-200: #cce1ff;
    --sds-color-primitive-blue-300: #9dc6ff;
    --sds-color-primitive-blue-400: #6ca6ff;
    --sds-color-primitive-blue-500: #1a6cef;
    --sds-color-primitive-blue-600: #0041b9;
    --sds-color-primitive-blue-700: #002d90;
    --sds-color-primitive-blue-800: #00114a;
    --sds-color-primitive-gray-50: #ffffff;
    --sds-color-primitive-gray-75: #fafafa;
    --sds-color-primitive-gray-100: #f3f3f3;
    --sds-color-primitive-gray-200: #dfdfdf;
    --sds-color-primitive-gray-300: #c3c3c3;
    --sds-color-primitive-gray-400: #a5a5a5;
    --sds-color-primitive-gray-500: #969696;
    --sds-color-primitive-gray-600: #6c6c6c;
    --sds-color-primitive-gray-700: #3b3b3b;
    --sds-color-primitive-gray-800: #1b1b1b;
    --sds-color-primitive-gray-900: #000000;
    --sds-color-primitive-green-100: #daf4de;
    --sds-color-primitive-green-200: #b9ecc3;
    --sds-color-primitive-green-300: #7fd693;
    --sds-color-primitive-green-400: #50b96d;
    --sds-color-primitive-green-500: #238444;
    --sds-color-primitive-green-600: #105b2b;
    --sds-color-primitive-green-700: #07431d;
    --sds-color-primitive-green-800: #001f00;
    --sds-color-primitive-purple-100: #efeafe;
    --sds-color-primitive-purple-200: #e4dbfc;
    --sds-color-primitive-purple-300: #cbbaf8;
    --sds-color-primitive-purple-400: #b296f2;
    --sds-color-primitive-purple-500: #8b54e2;
    --sds-color-primitive-purple-600: #6526b5;
    --sds-color-primitive-purple-700: #490092;
    --sds-color-primitive-purple-800: #26004c;
    --sds-color-primitive-red-100: #ffe8e6;
    --sds-color-primitive-red-200: #ffd6d2;
    --sds-color-primitive-red-300: #ffafa8;
    --sds-color-primitive-red-400: #ff7e78;
    --sds-color-primitive-red-500: #db2131;
    --sds-color-primitive-red-600: #980017;
    --sds-color-primitive-red-700: #6f0008;
    --sds-color-primitive-red-800: #340000;
    --sds-color-primitive-yellow-100: #fff3db;
    --sds-color-primitive-yellow-200: #ffdb97;
    --sds-color-primitive-yellow-300: #ffca5c;
    --sds-color-primitive-yellow-400: #fab700;
    --sds-color-primitive-yellow-500: #da9900;
    --sds-color-primitive-yellow-600: #b07300;
    --sds-color-primitive-yellow-700: #7c3e00;
    --sds-color-primitive-yellow-800: #541700;
    --sds-color-primitive-overlay-100: rgba(0, 0, 0, 0.08);
    --sds-color-primitive-overlay-200: rgba(0, 0, 0, 0.03);
    --sds-color-semantic-base-background-primary: #ffffff;
    --sds-color-semantic-base-background-primary-inverse: #000000;
    --sds-color-semantic-base-background-secondary: #f3f3f3;
    --sds-color-semantic-base-background-secondary-inverse: #3b3b3b;
    --sds-color-semantic-base-background-tertiary: #dfdfdf;
    --sds-color-semantic-base-border-primary: #6c6c6c;
    --sds-color-semantic-base-border-primary-disabled: #c3c3c3;
    --sds-color-semantic-base-border-primary-disabled-inverse: #6c6c6c;
    --sds-color-semantic-base-border-primary-hover: #000000;
    --sds-color-semantic-base-border-primary-hover-inverse: #ffffff;
    --sds-color-semantic-base-border-primary-inverse: #c3c3c3;
    --sds-color-semantic-base-border-on-fill: #ffffff;
    --sds-color-semantic-base-border-primary-pressed: #000000;
    --sds-color-semantic-base-border-primary-pressed-inverse: #ffffff;
    --sds-color-semantic-base-border-secondary: #c3c3c3;
    --sds-color-semantic-base-divider: #dfdfdf;
    --sds-color-semantic-base-divider-inverse: #6c6c6c;
    --sds-color-semantic-base-fill-disabled: #dfdfdf;
    --sds-color-semantic-base-fill-hover: #c3c3c347;
    --sds-color-semantic-base-fill-open: #c3c3c347;
    --sds-color-semantic-base-fill-pressed: #c3c3c347;
    --sds-color-semantic-base-fill-primary: #ffffff;
    --sds-color-semantic-base-fill-selected: #000000;
    --sds-color-semantic-base-ornament-disabled: #c3c3c3;
    --sds-color-semantic-base-ornament-disabled-inverse: #6c6c6c;
    --sds-color-semantic-base-ornament-on-fill: #ffffff;
    --sds-color-semantic-base-ornament-primary: #000000;
    --sds-color-semantic-base-ornament-primary-inverse: #ffffff;
    --sds-color-semantic-base-ornament-secondary: #6c6c6c;
    --sds-color-semantic-base-ornament-secondary-inverse: #c3c3c3;
    --sds-color-semantic-base-ornament-secondary-hover: #000000;
    --sds-color-semantic-base-ornament-secondary-pressed: #000000;
    --sds-color-semantic-base-surface: #ffffff;
    --sds-color-semantic-base-surface-inverse: #000000;
    --sds-color-semantic-base-text-disabled: #c3c3c3;
    --sds-color-semantic-base-text-disabled-inverse: #6c6c6c;
    --sds-color-semantic-base-text-on-fill: #ffffff;
    --sds-color-semantic-base-text-primary: #000000;
    --sds-color-semantic-base-text-primary-inverse: #ffffff;
    --sds-color-semantic-base-text-secondary: #6c6c6c;
    --sds-color-semantic-base-text-secondary-inverse: #c3c3c3;
    --sds-color-semantic-base-text-tertiary: #a5a5a5;
    --sds-color-semantic-base-text-tertiary-inverse: #969696;
    --sds-color-semantic-accent-border: #1a6cef;
    --sds-color-semantic-accent-border-focus: #1a6cef;
    --sds-color-semantic-accent-border-hover: #0041b9;
    --sds-color-semantic-accent-border-open: #1a6cef;
    --sds-color-semantic-accent-border-pressed: #002d90;
    --sds-color-semantic-accent-border-selected: #1a6cef;
    --sds-color-semantic-accent-fill-hover: #0041b9;
    --sds-color-semantic-accent-fill-pressed: #002d90;
    --sds-color-semantic-accent-fill-primary: #1a6cef;
    --sds-color-semantic-accent-ornament: #1a6cef;
    --sds-color-semantic-accent-ornament-focus: #1a6cef;
    --sds-color-semantic-accent-ornament-hover: #0041b9;
    --sds-color-semantic-accent-ornament-open: #1a6cef;
    --sds-color-semantic-accent-ornament-pressed: #002d90;
    --sds-color-semantic-accent-ornament-selected: #1a6cef;
    --sds-color-semantic-accent-surface-primary: #1a6cef;
    --sds-color-semantic-accent-surface-secondary: #e2eeff;
    --sds-color-semantic-accent-text-action: #1a6cef;
    --sds-color-semantic-accent-text-action-hover: #0041b9;
    --sds-color-semantic-accent-text-action-pressed: #002d90;
    --sds-color-semantic-beta-border: #6526b5;
    --sds-color-semantic-beta-fill-hover: #6526b5;
    --sds-color-semantic-beta-fill-pressed: #490092;
    --sds-color-semantic-beta-fill-primary: #8b54e2;
    --sds-color-semantic-beta-fill-secondary: #efeafe;
    --sds-color-semantic-beta-ornament: #6526b5;
    --sds-color-semantic-beta-surface-primary: #8b54e2;
    --sds-color-semantic-beta-surface-secondary: #efeafe;
    --sds-color-semantic-beta-text: #6526b5;
    --sds-color-semantic-info-border: #0041b9;
    --sds-color-semantic-info-fill-hover: #0041b9;
    --sds-color-semantic-info-fill-pressed: #002d90;
    --sds-color-semantic-info-fill-primary: #1a6cef;
    --sds-color-semantic-info-fill-secondary: #e2eeff;
    --sds-color-semantic-info-ornament: #0041b9;
    --sds-color-semantic-info-surface-primary: #1a6cef;
    --sds-color-semantic-info-surface-secondary: #e2eeff;
    --sds-color-semantic-info-text: #0041b9;
    --sds-color-semantic-negative-border: #980017;
    --sds-color-semantic-negative-fill-hover: #980017;
    --sds-color-semantic-negative-fill-pressed: #6f0008;
    --sds-color-semantic-negative-fill-primary: #db2131;
    --sds-color-semantic-negative-fill-secondary: #ffe8e6;
    --sds-color-semantic-negative-ornament: #980017;
    --sds-color-semantic-negative-surface-primary: #db2131;
    --sds-color-semantic-negative-surface-secondary: #ffe8e6;
    --sds-color-semantic-negative-text: #980017;
    --sds-color-semantic-neutral-border: #969696;
    --sds-color-semantic-neutral-fill-hover: #6c6c6c;
    --sds-color-semantic-neutral-fill-pressed: #3b3b3b;
    --sds-color-semantic-neutral-fill-primary: #969696;
    --sds-color-semantic-neutral-fill-secondary: #dfdfdf;
    --sds-color-semantic-neutral-ornament: #3b3b3b;
    --sds-color-semantic-neutral-surface-primary: #969696;
    --sds-color-semantic-neutral-surface-secondary: #dfdfdf;
    --sds-color-semantic-neutral-text: #3b3b3b;
    --sds-color-semantic-notice-border: #b07300;
    --sds-color-semantic-notice-fill-hover: #b07300;
    --sds-color-semantic-notice-fill-pressed: #7c3e00;
    --sds-color-semantic-notice-fill-primary: #da9900;
    --sds-color-semantic-notice-fill-secondary: #fff3db;
    --sds-color-semantic-notice-ornament: #b07300;
    --sds-color-semantic-notice-surface-primary: #da9900;
    --sds-color-semantic-notice-surface-secondary: #fff3db;
    --sds-color-semantic-notice-text: #b07300;
    --sds-color-semantic-positive-border: #105b2b;
    --sds-color-semantic-positive-fill-hover: #105b2b;
    --sds-color-semantic-positive-fill-pressed: #07431d;
    --sds-color-semantic-positive-fill-primary: #238444;
    --sds-color-semantic-positive-fill-secondary: #daf4de;
    --sds-color-semantic-positive-ornament: #105b2b;
    --sds-color-semantic-positive-surface-primary: #238444;
    --sds-color-semantic-positive-surface-secondary: #daf4de;
    --sds-color-semantic-positive-text: #105b2b;
    --sds-corner-l: 20px;
    --sds-corner-m: 4px;
    --sds-corner-s: 2px;
    --sds-corner-none: 0px;
    --sds-drop-shadow-l: 0.0px 2.0px 12.0px 0px rgba(0, 0, 0, 0.3);
    --sds-drop-shadow-m: 0.0px 2.0px 10.0px 0px rgba(0, 0, 0, 0.15), 0.0px 2.0px 4.0px 0px rgba(0, 0, 0, 0.15);
    --sds-drop-shadow-s: 0.0px 2.0px 4.0px 0px rgba(0, 0, 0, 0.25);
    --sds-drop-shadow-none: none;
    --sds-font-font-family-body: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-body-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-caps: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-caps-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-code: "IBM Plex Mono", monospace;
    --sds-font-font-family-code-narrow: "IBM Plex Mono", monospace;
    --sds-font-font-family-header: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-header-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-tabular: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-tabular-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxxs-400-font: 400 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxxs-400-font-narrow: 400 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxxs-400-letter-spacing: 0.1px;
    --sds-font-body-xxxs-400-letter-spacing-narrow: 0.1px;
    --sds-font-body-xxxs-600-font: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxxs-600-letter-spacing: 0.1px;
    --sds-font-body-xxxs-600-letter-spacing-narrow: 0.1px;
    --sds-font-body-xxs-400-font: 400 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxs-400-font-narrow: 400 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxs-400-letter-spacing: 0.1px;
    --sds-font-body-xxs-400-letter-spacing-narrow: 0.1px;
    --sds-font-body-xxs-600-font: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxs-600-letter-spacing: 0.1px;
    --sds-font-body-xxs-600-letter-spacing-narrow: 0.1px;
    --sds-font-body-xs-400-font: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xs-400-font-narrow: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xs-400-letter-spacing: 0.08px;
    --sds-font-body-xs-400-letter-spacing-narrow: 0.08px;
    --sds-font-body-xs-600-font: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xs-600-font-narrow: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xs-600-letter-spacing: 0.08px;
    --sds-font-body-xs-600-letter-spacing-narrow: 0.08px;
    --sds-font-body-s-400-font: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-s-400-font-narrow: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-s-400-letter-spacing: 0.08px;
    --sds-font-body-s-400-letter-spacing-narrow: 0.08px;
    --sds-font-body-s-600-font: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-s-600-font-narrow: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-s-600-letter-spacing: 0.08px;
    --sds-font-body-s-600-letter-spacing-narrow: 0.08px;
    --sds-font-body-m-400-font: 400 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-m-400-font-narrow: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-m-400-letter-spacing: 0px;
    --sds-font-body-m-400-letter-spacing-narrow: 0px;
    --sds-font-body-m-600-font: 600 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-m-600-font-narrow: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-m-600-letter-spacing: 0px;
    --sds-font-body-m-600-letter-spacing-narrow: 0px;
    --sds-font-body-l-400-font: 400 18px/28px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-l-400-font-narrow: 400 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-l-400-letter-spacing: 0px;
    --sds-font-body-l-400-letter-spacing-narrow: 0px;
    --sds-font-body-l-600-font: 600 18px/28px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-l-600-font-narrow: 600 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-l-600-letter-spacing: 0px;
    --sds-font-body-l-600-letter-spacing-narrow: 0px;
    --sds-font-caps-xxxxs-600-font: 600 10px/14px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxxxs-600-font-narrow: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxxxs-600-letter-spacing: 0.5px;
    --sds-font-caps-xxxxs-600-letter-spacing-narrow: 0.5px;
    --sds-font-caps-xxxxs-600-text-transform: uppercase;
    --sds-font-caps-xxxxs-600-text-transform-narrow: uppercase;
    --sds-font-caps-xxxs-600-font: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxxs-600-font-narrow: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxxs-600-letter-spacing: 0.5px;
    --sds-font-caps-xxxs-600-letter-spacing-narrow: 0.5px;
    --sds-font-caps-xxxs-600-text-transform: uppercase;
    --sds-font-caps-xxxs-600-text-transform-narrow: uppercase;
    --sds-font-caps-xxs-600-font: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxs-600-letter-spacing: 0.5px;
    --sds-font-caps-xxs-600-letter-spacing-narrow: 0.5px;
    --sds-font-caps-xxs-600-text-transform: uppercase;
    --sds-font-caps-xxs-600-text-transform-narrow: uppercase;
    --sds-font-header-xxxs-600-font: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxxs-600-letter-spacing: 0.1px;
    --sds-font-header-xxxs-600-letter-spacing-narrow: 0.1px;
    --sds-font-header-xxs-600-font: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxs-600-letter-spacing: 0.1px;
    --sds-font-header-xxs-600-letter-spacing-narrow: 0.1px;
    --sds-font-header-xs-600-font: 600 13px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xs-600-font-narrow: 600 13px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xs-600-letter-spacing: 0.08px;
    --sds-font-header-xs-600-letter-spacing-narrow: 0.08px;
    --sds-font-header-s-600-font: 600 14px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-s-600-font-narrow: 600 14px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-s-600-letter-spacing: 0.08px;
    --sds-font-header-s-600-letter-spacing-narrow: 0.08px;
    --sds-font-header-m-600-font: 600 16px/22px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-m-600-font-narrow: 600 14px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-m-600-letter-spacing: 0px;
    --sds-font-header-m-600-letter-spacing-narrow: 0.08px;
    --sds-font-header-l-600-font: 600 18px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-l-600-font-narrow: 600 16px/22px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-l-600-letter-spacing: 0px;
    --sds-font-header-l-600-letter-spacing-narrow: 0px;
    --sds-font-header-xl-600-font: 600 22px/30px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xl-600-font-narrow: 600 18px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xl-600-letter-spacing: 0px;
    --sds-font-header-xl-600-letter-spacing-narrow: 0px;
    --sds-font-header-xxl-600-font: 600 26px/34px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxl-600-font-narrow: 600 22px/30px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxl-600-letter-spacing: 0px;
    --sds-font-header-xxl-600-letter-spacing-narrow: 0px;
    --sds-font-tabular-xs-400-font: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-xs-400-font-narrow: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-xs-400-font-variant-numeric: tabular-nums;
    --sds-font-tabular-xs-400-font-variant-numeric-narrow: tabular-nums;
    --sds-font-tabular-xs-400-letter-spacing: 0px;
    --sds-font-tabular-xs-400-letter-spacing-narrow: 0px;
    --sds-font-tabular-xs-600-font: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-xs-600-font-narrow: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-xs-600-font-variant-numeric: tabular-nums;
    --sds-font-tabular-xs-600-font-variant-numeric-narrow: tabular-nums;
    --sds-font-tabular-xs-600-letter-spacing: 0px;
    --sds-font-tabular-xs-600-letter-spacing-narrow: 0px;
    --sds-font-tabular-s-400-font: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-s-400-font-narrow: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-s-400-font-variant-numeric: tabular-nums;
    --sds-font-tabular-s-400-font-variant-numeric-narrow: tabular-nums;
    --sds-font-tabular-s-400-letter-spacing: 0px;
    --sds-font-tabular-s-400-letter-spacing-narrow: 0px;
    --sds-font-tabular-s-600-font: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-s-600-font-narrow: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-s-600-font-variant-numeric: tabular-nums;
    --sds-font-tabular-s-600-font-variant-numeric-narrow: tabular-nums;
    --sds-font-tabular-s-600-letter-spacing: 0px;
    --sds-font-tabular-s-600-letter-spacing-narrow: 0px;
    --sds-font-code-xs-400-font: 400 13px/20px "IBM Plex Mono", monospace;
    --sds-font-code-xs-400-font-narrow: 400 13px/20px "IBM Plex Mono", monospace;
    --sds-font-code-xs-400-letter-spacing: 0px;
    --sds-font-code-xs-400-letter-spacing-narrow: 0px;
    --sds-font-code-xs-600-font: 600 13px/20px "IBM Plex Mono", monospace;
    --sds-font-code-xs-600-font-narrow: 600 13px/20px "IBM Plex Mono", monospace;
    --sds-font-code-xs-600-letter-spacing: 0px;
    --sds-font-code-xs-600-letter-spacing-narrow: 0px;
    --sds-font-code-s-400-font: 400 14px/24px "IBM Plex Mono", monospace;
    --sds-font-code-s-400-font-narrow: 400 14px/24px "IBM Plex Mono", monospace;
    --sds-font-code-s-400-letter-spacing: 0px;
    --sds-font-code-s-400-letter-spacing-narrow: 0px;
    --sds-font-code-s-600-font: 600 14px/24px "IBM Plex Mono", monospace;
    --sds-font-code-s-600-font-narrow: 600 14px/24px "IBM Plex Mono", monospace;
    --sds-font-code-s-600-letter-spacing: 0px;
    --sds-font-code-s-600-letter-spacing-narrow: 0px;
    --sds-icon-size-input-height: 16px;
    --sds-icon-size-input-width: 16px;
    --sds-icon-size-xs-height: 12px;
    --sds-icon-size-xs-width: 12px;
    --sds-icon-size-s-height: 16px;
    --sds-icon-size-s-width: 16px;
    --sds-icon-size-l-height: 24px;
    --sds-icon-size-l-width: 24px;
    --sds-icon-size-xl-height: 32px;
    --sds-icon-size-xl-width: 32px;
    --sds-space-default: 12px;
    --sds-space-xxxs: 2px;
    --sds-space-xxs: 4px;
    --sds-space-xs: 6px;
    --sds-space-s: 8px;
    --sds-space-m: 12px;
    --sds-space-l: 16px;
    --sds-space-xl: 24px;
    --sds-space-xxl: 40px;
  }
}

@media (prefers-color-scheme: dark) {
  :root {
    --sds-border-accent-default: 1px solid #a2c9ff;
    --sds-border-accent-focused: 1px solid #a2c9ff;
    --sds-border-accent-open: 1px solid #a2c9ff;
    --sds-border-accent-selected: 1px solid #a2c9ff;
    --sds-border-accent-hover: 1px solid #cde3ff;
    --sds-border-accent-pressed: 1px solid #e2eeff;
    --sds-border-base-default: 1px solid #aaaaaa;
    --sds-border-base-disabled: 1px solid #696969;
    --sds-border-base-divider: 1px solid #494949;
    --sds-border-base-divider-inverse: 1px solid #cdcdcd;
    --sds-border-base-hover: 1px dashed #ffffff;
    --sds-border-base-inverse: 1px dashed #000000;
    --sds-border-base-pressed: 1px dashed #ffffff;
    --sds-border-base-table: 1px solid #696969;
    --sds-border-beta-default: 1px solid #cebef8;
    --sds-border-beta-extra-thick: 4px solid #cebef8;
    --sds-border-beta-thick: 2px solid #cebef8;
    --sds-border-info-default: 1px solid #a2c9ff;
    --sds-border-info-extra-thick: 4px solid #a2c9ff;
    --sds-border-info-thick: 2px solid #a2c9ff;
    --sds-border-link-dashed: 1px dashed;
    --sds-border-link-solid: 1px solid;
    --sds-border-negative-default: 1px solid #ff988a;
    --sds-border-negative-extra-thick: 4px solid #ff988a;
    --sds-border-negative-thick: 2px solid #ff988a;
    --sds-border-neutral-default: 1px solid #aaaaaa;
    --sds-border-neutral-extra-thick: 4px solid #aaaaaa;
    --sds-border-neutral-thick: 2px solid #aaaaaa;
    --sds-border-none: none;
    --sds-border-notice-default: 1px solid #e5bc63;
    --sds-border-notice-extra-thick: 4px solid #e5bc63;
    --sds-border-notice-thick: 2px solid #e5bc63;
    --sds-border-positive-default: 1px solid #85d898;
    --sds-border-positive-extra-thick: 4px solid #85d898;
    --sds-border-positive-thick: 2px solid #85d898;
    --sds-breakpoint-sm: 0px;
    --sds-breakpoint-md: 512px;
    --sds-breakpoint-lg: 1024px;
    --sds-color-primitive-blue-100: #0f1d4a;
    --sds-color-primitive-blue-200: #0a216e;
    --sds-color-primitive-blue-300: #0647b8;
    --sds-color-primitive-blue-400: #2573f4;
    --sds-color-primitive-blue-500: #5b9aff;
    --sds-color-primitive-blue-600: #a2c9ff;
    --sds-color-primitive-blue-700: #cde3ff;
    --sds-color-primitive-blue-800: #e2eeff;
    --sds-color-primitive-gray-50: #000000;
    --sds-color-primitive-gray-75: #101010;
    --sds-color-primitive-gray-100: #333333;
    --sds-color-primitive-gray-200: #494949;
    --sds-color-primitive-gray-300: #696969;
    --sds-color-primitive-gray-400: #9b9b9b;
    --sds-color-primitive-gray-500: #aaaaaa;
    --sds-color-primitive-gray-600: #cdcdcd;
    --sds-color-primitive-gray-700: #ededed;
    --sds-color-primitive-gray-800: #fafafa;
    --sds-color-primitive-gray-900: #ffffff;
    --sds-color-primitive-green-100: #082608;
    --sds-color-primitive-green-200: #063617;
    --sds-color-primitive-green-300: #10632e;
    --sds-color-primitive-green-400: #278b48;
    --sds-color-primitive-green-500: #4bae68;
    --sds-color-primitive-green-600: #85d898;
    --sds-color-primitive-green-700: #bcecc5;
    --sds-color-primitive-green-800: #daf4de;
    --sds-color-primitive-purple-100: #331252;
    --sds-color-primitive-purple-200: #410f70;
    --sds-color-primitive-purple-300: #6429b2;
    --sds-color-primitive-purple-400: #905de6;
    --sds-color-primitive-purple-500: #aa89ef;
    --sds-color-primitive-purple-600: #cebef8;
    --sds-color-primitive-purple-700: #e4dcfc;
    --sds-color-primitive-purple-800: #f0ebfe;
    --sds-color-primitive-red-100: #330603;
    --sds-color-primitive-red-200: #660a12;
    --sds-color-primitive-red-300: #9e1c1c;
    --sds-color-primitive-red-400: #c73028;
    --sds-color-primitive-red-500: #e05043;
    --sds-color-primitive-red-600: #ff988a;
    --sds-color-primitive-red-700: #ffbdb3;
    --sds-color-primitive-red-800: #ffd8d1;
    --sds-color-primitive-yellow-100: #361b07;
    --sds-color-primitive-yellow-200: #52270a;
    --sds-color-primitive-yellow-300: #965a0b;
    --sds-color-primitive-yellow-400: #bd8804;
    --sds-color-primitive-yellow-500: #d9a943;
    --sds-color-primitive-yellow-600: #e5bc63;
    --sds-color-primitive-yellow-700: #f5d789;
    --sds-color-primitive-yellow-800: #ffe6a8;
    --sds-color-primitive-overlay-100: rgba(0, 0, 0, 0.08);
    --sds-color-primitive-overlay-200: rgba(0, 0, 0, 0.03);
    --sds-color-semantic-base-background-primary: #101010;
    --sds-color-semantic-base-background-primary-inverse: #ffffff;
    --sds-color-semantic-base-background-secondary: #333333;
    --sds-color-semantic-base-background-secondary-inverse: #ededed;
    --sds-color-semantic-base-background-tertiary: #494949;
    --sds-color-semantic-base-border-primary: #cdcdcd;
    --sds-color-semantic-base-border-primary-disabled: #696969;
    --sds-color-semantic-base-border-primary-disabled-inverse: #cdcdcd;
    --sds-color-semantic-base-border-primary-hover: #ffffff;
    --sds-color-semantic-base-border-primary-hover-inverse: #000000;
    --sds-color-semantic-base-border-primary-inverse: #696969;
    --sds-color-semantic-base-border-on-fill: #000000;
    --sds-color-semantic-base-border-primary-pressed: #ffffff;
    --sds-color-semantic-base-border-primary-pressed-inverse: #000000;
    --sds-color-semantic-base-border-secondary: #696969;
    --sds-color-semantic-base-divider: #494949;
    --sds-color-semantic-base-divider-inverse: #cdcdcd;
    --sds-color-semantic-base-fill-disabled: #494949;
    --sds-color-semantic-base-fill-hover: #69696947;
    --sds-color-semantic-base-fill-open: #69696947;
    --sds-color-semantic-base-fill-pressed: #69696947;
    --sds-color-semantic-base-fill-primary: #333333;
    --sds-color-semantic-base-fill-selected: #ffffff;
    --sds-color-semantic-base-ornament-disabled: #696969;
    --sds-color-semantic-base-ornament-disabled-inverse: #cdcdcd;
    --sds-color-semantic-base-ornament-on-fill: #ffffff;
    --sds-color-semantic-base-ornament-primary: #ffffff;
    --sds-color-semantic-base-ornament-primary-inverse: #000000;
    --sds-color-semantic-base-ornament-secondary: #cdcdcd;
    --sds-color-semantic-base-ornament-secondary-inverse: #696969;
    --sds-color-semantic-base-ornament-secondary-hover: #ffffff;
    --sds-color-semantic-base-ornament-secondary-pressed: #ffffff;
    --sds-color-semantic-base-surface: #333333;
    --sds-color-semantic-base-surface-inverse: #ffffff;
    --sds-color-semantic-base-text-disabled: #696969;
    --sds-color-semantic-base-text-disabled-inverse: #cdcdcd;
    --sds-color-semantic-base-text-on-fill: #ffffff;
    --sds-color-semantic-base-text-primary: #ffffff;
    --sds-color-semantic-base-text-primary-inverse: #000000;
    --sds-color-semantic-base-text-secondary: #cdcdcd;
    --sds-color-semantic-base-text-secondary-inverse: #696969;
    --sds-color-semantic-base-text-tertiary: #9b9b9b;
    --sds-color-semantic-base-text-tertiary-inverse: #aaaaaa;
    --sds-color-semantic-accent-border: #a2c9ff;
    --sds-color-semantic-accent-border-focus: #a2c9ff;
    --sds-color-semantic-accent-border-hover: #cde3ff;
    --sds-color-semantic-accent-border-open: #a2c9ff;
    --sds-color-semantic-accent-border-pressed: #e2eeff;
    --sds-color-semantic-accent-border-selected: #a2c9ff;
    --sds-color-semantic-accent-fill-hover: #cde3ff;
    --sds-color-semantic-accent-fill-pressed: #e2eeff;
    --sds-color-semantic-accent-fill-primary: #2573f4;
    --sds-color-semantic-accent-ornament: #a2c9ff;
    --sds-color-semantic-accent-ornament-focus: #a2c9ff;
    --sds-color-semantic-accent-ornament-hover: #cde3ff;
    --sds-color-semantic-accent-ornament-open: #a2c9ff;
    --sds-color-semantic-accent-ornament-pressed: #e2eeff;
    --sds-color-semantic-accent-ornament-selected: #a2c9ff;
    --sds-color-semantic-accent-surface-primary: #2573f4;
    --sds-color-semantic-accent-surface-secondary: #0f1d4a;
    --sds-color-semantic-accent-text-action: #a2c9ff;
    --sds-color-semantic-accent-text-action-hover: #cde3ff;
    --sds-color-semantic-accent-text-action-pressed: #e2eeff;
    --sds-color-semantic-beta-border: #cebef8;
    --sds-color-semantic-beta-fill-hover: #e4dcfc;
    --sds-color-semantic-beta-fill-pressed: #f0ebfe;
    --sds-color-semantic-beta-fill-primary: #905de6;
    --sds-color-semantic-beta-fill-secondary: #331252;
    --sds-color-semantic-beta-ornament: #cebef8;
    --sds-color-semantic-beta-surface-primary: #905de6;
    --sds-color-semantic-beta-surface-secondary: #331252;
    --sds-color-semantic-beta-text: #cebef8;
    --sds-color-semantic-info-border: #a2c9ff;
    --sds-color-semantic-info-fill-hover: #cde3ff;
    --sds-color-semantic-info-fill-pressed: #e2eeff;
    --sds-color-semantic-info-fill-primary: #2573f4;
    --sds-color-semantic-info-fill-secondary: #0f1d4a;
    --sds-color-semantic-info-ornament: #a2c9ff;
    --sds-color-semantic-info-surface-primary: #2573f4;
    --sds-color-semantic-info-surface-secondary: #0f1d4a;
    --sds-color-semantic-info-text: #a2c9ff;
    --sds-color-semantic-negative-border: #ff988a;
    --sds-color-semantic-negative-fill-hover: #ffbdb3;
    --sds-color-semantic-negative-fill-pressed: #ffd8d1;
    --sds-color-semantic-negative-fill-primary: #c73028;
    --sds-color-semantic-negative-fill-secondary: #330603;
    --sds-color-semantic-negative-ornament: #ff988a;
    --sds-color-semantic-negative-surface-primary: #c73028;
    --sds-color-semantic-negative-surface-secondary: #330603;
    --sds-color-semantic-negative-text: #ff988a;
    --sds-color-semantic-neutral-border: #aaaaaa;
    --sds-color-semantic-neutral-fill-hover: #cdcdcd;
    --sds-color-semantic-neutral-fill-pressed: #ededed;
    --sds-color-semantic-neutral-fill-primary: #aaaaaa;
    --sds-color-semantic-neutral-fill-secondary: #494949;
    --sds-color-semantic-neutral-ornament: #ededed;
    --sds-color-semantic-neutral-surface-primary: #aaaaaa;
    --sds-color-semantic-neutral-surface-secondary: #494949;
    --sds-color-semantic-neutral-text: #ededed;
    --sds-color-semantic-notice-border: #e5bc63;
    --sds-color-semantic-notice-fill-hover: #f5d789;
    --sds-color-semantic-notice-fill-pressed: #ffe6a8;
    --sds-color-semantic-notice-fill-primary: #bd8804;
    --sds-color-semantic-notice-fill-secondary: #361b07;
    --sds-color-semantic-notice-ornament: #e5bc63;
    --sds-color-semantic-notice-surface-primary: #bd8804;
    --sds-color-semantic-notice-surface-secondary: #361b07;
    --sds-color-semantic-notice-text: #e5bc63;
    --sds-color-semantic-positive-border: #85d898;
    --sds-color-semantic-positive-fill-hover: #bcecc5;
    --sds-color-semantic-positive-fill-pressed: #daf4de;
    --sds-color-semantic-positive-fill-primary: #278b48;
    --sds-color-semantic-positive-fill-secondary: #082608;
    --sds-color-semantic-positive-ornament: #85d898;
    --sds-color-semantic-positive-surface-primary: #278b48;
    --sds-color-semantic-positive-surface-secondary: #082608;
    --sds-color-semantic-positive-text: #85d898;
    --sds-corner-l: 20px;
    --sds-corner-m: 4px;
    --sds-corner-s: 2px;
    --sds-corner-none: 0px;
    --sds-drop-shadow-l: 0.0px 2.0px 12.0px 0px rgba(0, 0, 0, 0.3);
    --sds-drop-shadow-m: 0.0px 2.0px 10.0px 0px rgba(0, 0, 0, 0.15), 0.0px 2.0px 4.0px 0px rgba(0, 0, 0, 0.15);
    --sds-drop-shadow-s: 0.0px 2.0px 4.0px 0px rgba(0, 0, 0, 0.25);
    --sds-drop-shadow-none: none;
    --sds-font-font-family-body: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-body-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-caps: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-caps-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-code: "IBM Plex Mono", monospace;
    --sds-font-font-family-code-narrow: "IBM Plex Mono", monospace;
    --sds-font-font-family-header: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-header-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-tabular: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-font-family-tabular-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxxs-400-font: 400 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxxs-400-font-narrow: 400 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxxs-400-letter-spacing: 0.1px;
    --sds-font-body-xxxs-400-letter-spacing-narrow: 0.1px;
    --sds-font-body-xxxs-600-font: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxxs-600-letter-spacing: 0.1px;
    --sds-font-body-xxxs-600-letter-spacing-narrow: 0.1px;
    --sds-font-body-xxs-400-font: 400 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxs-400-font-narrow: 400 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxs-400-letter-spacing: 0.1px;
    --sds-font-body-xxs-400-letter-spacing-narrow: 0.1px;
    --sds-font-body-xxs-600-font: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xxs-600-letter-spacing: 0.1px;
    --sds-font-body-xxs-600-letter-spacing-narrow: 0.1px;
    --sds-font-body-xs-400-font: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xs-400-font-narrow: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xs-400-letter-spacing: 0.08px;
    --sds-font-body-xs-400-letter-spacing-narrow: 0.08px;
    --sds-font-body-xs-600-font: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xs-600-font-narrow: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-xs-600-letter-spacing: 0.08px;
    --sds-font-body-xs-600-letter-spacing-narrow: 0.08px;
    --sds-font-body-s-400-font: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-s-400-font-narrow: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-s-400-letter-spacing: 0.08px;
    --sds-font-body-s-400-letter-spacing-narrow: 0.08px;
    --sds-font-body-s-600-font: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-s-600-font-narrow: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-s-600-letter-spacing: 0.08px;
    --sds-font-body-s-600-letter-spacing-narrow: 0.08px;
    --sds-font-body-m-400-font: 400 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-m-400-font-narrow: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-m-400-letter-spacing: 0px;
    --sds-font-body-m-400-letter-spacing-narrow: 0px;
    --sds-font-body-m-600-font: 600 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-m-600-font-narrow: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-m-600-letter-spacing: 0px;
    --sds-font-body-m-600-letter-spacing-narrow: 0px;
    --sds-font-body-l-400-font: 400 18px/28px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-l-400-font-narrow: 400 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-l-400-letter-spacing: 0px;
    --sds-font-body-l-400-letter-spacing-narrow: 0px;
    --sds-font-body-l-600-font: 600 18px/28px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-l-600-font-narrow: 600 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-body-l-600-letter-spacing: 0px;
    --sds-font-body-l-600-letter-spacing-narrow: 0px;
    --sds-font-caps-xxxxs-600-font: 600 10px/14px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxxxs-600-font-narrow: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxxxs-600-letter-spacing: 0.5px;
    --sds-font-caps-xxxxs-600-letter-spacing-narrow: 0.5px;
    --sds-font-caps-xxxxs-600-text-transform: uppercase;
    --sds-font-caps-xxxxs-600-text-transform-narrow: uppercase;
    --sds-font-caps-xxxs-600-font: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxxs-600-font-narrow: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxxs-600-letter-spacing: 0.5px;
    --sds-font-caps-xxxs-600-letter-spacing-narrow: 0.5px;
    --sds-font-caps-xxxs-600-text-transform: uppercase;
    --sds-font-caps-xxxs-600-text-transform-narrow: uppercase;
    --sds-font-caps-xxs-600-font: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-caps-xxs-600-letter-spacing: 0.5px;
    --sds-font-caps-xxs-600-letter-spacing-narrow: 0.5px;
    --sds-font-caps-xxs-600-text-transform: uppercase;
    --sds-font-caps-xxs-600-text-transform-narrow: uppercase;
    --sds-font-header-xxxs-600-font: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxxs-600-letter-spacing: 0.1px;
    --sds-font-header-xxxs-600-letter-spacing-narrow: 0.1px;
    --sds-font-header-xxs-600-font: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxs-600-letter-spacing: 0.1px;
    --sds-font-header-xxs-600-letter-spacing-narrow: 0.1px;
    --sds-font-header-xs-600-font: 600 13px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xs-600-font-narrow: 600 13px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xs-600-letter-spacing: 0.08px;
    --sds-font-header-xs-600-letter-spacing-narrow: 0.08px;
    --sds-font-header-s-600-font: 600 14px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-s-600-font-narrow: 600 14px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-s-600-letter-spacing: 0.08px;
    --sds-font-header-s-600-letter-spacing-narrow: 0.08px;
    --sds-font-header-m-600-font: 600 16px/22px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-m-600-font-narrow: 600 14px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-m-600-letter-spacing: 0px;
    --sds-font-header-m-600-letter-spacing-narrow: 0.08px;
    --sds-font-header-l-600-font: 600 18px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-l-600-font-narrow: 600 16px/22px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-l-600-letter-spacing: 0px;
    --sds-font-header-l-600-letter-spacing-narrow: 0px;
    --sds-font-header-xl-600-font: 600 22px/30px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xl-600-font-narrow: 600 18px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xl-600-letter-spacing: 0px;
    --sds-font-header-xl-600-letter-spacing-narrow: 0px;
    --sds-font-header-xxl-600-font: 600 26px/34px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxl-600-font-narrow: 600 22px/30px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-header-xxl-600-letter-spacing: 0px;
    --sds-font-header-xxl-600-letter-spacing-narrow: 0px;
    --sds-font-tabular-xs-400-font: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-xs-400-font-narrow: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-xs-400-font-variant-numeric: tabular-nums;
    --sds-font-tabular-xs-400-font-variant-numeric-narrow: tabular-nums;
    --sds-font-tabular-xs-400-letter-spacing: 0px;
    --sds-font-tabular-xs-400-letter-spacing-narrow: 0px;
    --sds-font-tabular-xs-600-font: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-xs-600-font-narrow: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-xs-600-font-variant-numeric: tabular-nums;
    --sds-font-tabular-xs-600-font-variant-numeric-narrow: tabular-nums;
    --sds-font-tabular-xs-600-letter-spacing: 0px;
    --sds-font-tabular-xs-600-letter-spacing-narrow: 0px;
    --sds-font-tabular-s-400-font: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-s-400-font-narrow: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-s-400-font-variant-numeric: tabular-nums;
    --sds-font-tabular-s-400-font-variant-numeric-narrow: tabular-nums;
    --sds-font-tabular-s-400-letter-spacing: 0px;
    --sds-font-tabular-s-400-letter-spacing-narrow: 0px;
    --sds-font-tabular-s-600-font: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-s-600-font-narrow: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
    --sds-font-tabular-s-600-font-variant-numeric: tabular-nums;
    --sds-font-tabular-s-600-font-variant-numeric-narrow: tabular-nums;
    --sds-font-tabular-s-600-letter-spacing: 0px;
    --sds-font-tabular-s-600-letter-spacing-narrow: 0px;
    --sds-font-code-xs-400-font: 400 13px/20px "IBM Plex Mono", monospace;
    --sds-font-code-xs-400-font-narrow: 400 13px/20px "IBM Plex Mono", monospace;
    --sds-font-code-xs-400-letter-spacing: 0px;
    --sds-font-code-xs-400-letter-spacing-narrow: 0px;
    --sds-font-code-xs-600-font: 600 13px/20px "IBM Plex Mono", monospace;
    --sds-font-code-xs-600-font-narrow: 600 13px/20px "IBM Plex Mono", monospace;
    --sds-font-code-xs-600-letter-spacing: 0px;
    --sds-font-code-xs-600-letter-spacing-narrow: 0px;
    --sds-font-code-s-400-font: 400 14px/24px "IBM Plex Mono", monospace;
    --sds-font-code-s-400-font-narrow: 400 14px/24px "IBM Plex Mono", monospace;
    --sds-font-code-s-400-letter-spacing: 0px;
    --sds-font-code-s-400-letter-spacing-narrow: 0px;
    --sds-font-code-s-600-font: 600 14px/24px "IBM Plex Mono", monospace;
    --sds-font-code-s-600-font-narrow: 600 14px/24px "IBM Plex Mono", monospace;
    --sds-font-code-s-600-letter-spacing: 0px;
    --sds-font-code-s-600-letter-spacing-narrow: 0px;
    --sds-icon-size-input-height: 16px;
    --sds-icon-size-input-width: 16px;
    --sds-icon-size-xs-height: 12px;
    --sds-icon-size-xs-width: 12px;
    --sds-icon-size-s-height: 16px;
    --sds-icon-size-s-width: 16px;
    --sds-icon-size-l-height: 24px;
    --sds-icon-size-l-width: 24px;
    --sds-icon-size-xl-height: 32px;
    --sds-icon-size-xl-width: 32px;
    --sds-space-default: 12px;
    --sds-space-xxxs: 2px;
    --sds-space-xxs: 4px;
    --sds-space-xs: 6px;
    --sds-space-s: 8px;
    --sds-space-m: 12px;
    --sds-space-l: 16px;
    --sds-space-xl: 24px;
    --sds-space-xxl: 40px;
  }
}
</file>

<file path="packages/components/src/common/styles-dictionary/custom-formatters/cssFormatter.mjs">
const CssTokensTemplate = (
  lightVariables,
  darkVariables
) => `@media (prefers-color-scheme: light) {
  :root {
${lightVariables}
  }
}

@media (prefers-color-scheme: dark) {
  :root {
${darkVariables}
  }
}
`;

/**
 * (masoudmanson): This is a custom format for generating CSS variables for light and dark modes.
 * The CSS variables are generated based on the value and darkValue attributes of each token.
 */
export function cssFormatter({ dictionary }) {
  function printCssVariable(token, darkMode = false) {
    // If the token is a font, we need to print both the regular and narrow values
    if (token.attributes.type === "font") {
      return `    --${token.name}: ${token.value};\n    --${token.name}-narrow: ${token.narrowValue};`;
    }
    // If the token is a color or border and has a darkValue, we need to print both the light and dark values
    else if (
      darkMode &&
      token.darkValue &&
      ["color", "border"].includes(token.attributes.type)
    ) {
      return `    --${token.name}: ${token.darkValue};`;
    }
    // Otherwise we just print the regular value
    return `    --${token.name}: ${token.value};`;
  }

  const lightMode = dictionary.allTokens
    .map((token) => printCssVariable(token))
    .join("\n");

  const darkMode = dictionary.allTokens
    .map((token) => printCssVariable(token, true))
    .join("\n");

  return CssTokensTemplate(lightMode, darkMode);
}
</file>

<file path="packages/components/src/common/styles-dictionary/custom-formatters/scssFormatter.mjs">
/**
 * (masoudmanson): This is a custom format for generating SCSS variables for light and dark modes.
 */
export function scssFormatter({ dictionary }) {
  return dictionary.allTokens
    .map((token) => {
      if (token.darkValue) {
        return `$${token.name}: ${token.value};\n$${token.name}-dark: ${token.darkValue};`;
      } else if (token.attributes.type === "font") {
        return `$${token.name}: ${token.value};\n$${token.name}-narrow: ${token.narrowValue};`;
      }
      return `$${token.name}: ${token.value};`;
    })
    .join("\n");
}
</file>

<file path="packages/components/src/common/styles-dictionary/custom-formatters/tailwindFormatter.mjs">
import cssFont from "css-font";

/**
 * (masoudmanson): This is a custom format for generating Tailwind variables for light and dark modes.
 */
export function tailwindFormatter({ dictionary, options }) {
  const { sds } = dictionary.tokens;
  const tailwindConfig = {
    fontFamily: transformDictionary(sds.font["font-family"], null, options),
    ...transformFonts(
      sds.font,
      ["body", "caps", "header", "tabular", "code"],
      options
    ),
    ...transformIconSizes(sds.iconSize, options),
    borderRadius: transformDictionary(sds.corner, null, options),
    boxShadow: transformDictionary(sds["drop-shadow"], null, options),
    breakpoints: transformDictionary(sds.breakpoint, null, options),
    colors: transformColor(sds.color),
    spacing: transformDictionary(sds.space, null, options),
  };

  return JSON.stringify(tailwindConfig, null, 2);
}

function getName(name, options = {}) {
  const joinedName = typeof name === "string" ? name : name.join("-");
  const mappedName = options.remapNames?.[joinedName] ?? joinedName;
  const result = options.prefix
    ? `${options.prefix}-${mappedName}`
    : mappedName;

  return result.toLowerCase().replace(" ", "-");
}

function convertToKebabCase(inputString) {
  return inputString
    .replace(/[A-Z]/g, (match) => `-${match.toLowerCase()}`)
    .replace(/\d+/g, (match) => `-${match}`)
    .replace(/^-/, "")
    .replace(/-+/g, "-");
}

function transformDictionary(tokens, keys, options = {}) {
  const result = {};

  for (const [name, token] of Object.entries(tokens)) {
    if (!keys || keys.includes(name)) {
      result[getName(name, options)] = token.value;
    }
  }

  return result;
}

function transformColor(tokens) {
  const colors = {
    dark: {},
    light: {},
  };

  function getColor(theToken) {
    for (const [, iToken] of Object.entries(theToken)) {
      if ("value" in iToken && "name" in iToken) {
        colors.light[convertToKebabCase(iToken.name)] = iToken.value;
        colors.dark[convertToKebabCase(iToken.name)] = iToken.darkValue;
      } else {
        getColor(iToken);
      }
    }
  }

  getColor(tokens);

  return colors;
}

function transformIconSizes(tokens, options = {}) {
  const width = {};
  const height = {};

  for (const [iconSize, token] of Object.entries(tokens)) {
    width[getName(`icon-${iconSize}`, options)] = token.height.value;
    height[getName(`icon-${iconSize}`, options)] = token.width.value;
  }

  return { height, width };
}

function transformFonts(tokens, keys, options = {}) {
  /**
   * (masoudmanson): This will be used for generating the font
   * specific tailwind config.
   */
  const fontData = {
    fontSize: {},
    fontVariantNumeric: {},
    letterSpacing: {},
    lineHeight: {},
    textTransform: {},
  };

  /**
   * (masoudmanson): Generates a typography object compatible with Tailwind's typography plugin.
   * Example usage in a Tailwind config file:
   *
   * const typography = require('@tailwindcss/typography')
   * const sdsTailwindConfig = require("@czi-sds/components/dist/tailwind.json");
   *
   * module.exports = {
   *  mode: 'jit',
   *  content: [...],
   *  theme: {
   *    extend: {
   *      ...sdsTailwindConfig
   *    }
   *  },
   *  plugins: [typography],
   *}
   *
   * And it can be used in the html like:
   *
   * <p class="prose prose-sds-header-xs-600-wide">...</p>
   */
  const typography = {};

  keys.forEach((key) => {
    Object.entries(tokens[key]).forEach(([size, fontVariants]) => {
      Object.entries(fontVariants).forEach(([_, fontValue]) => {
        const name = getName([key, size], options);
        addFontData(typography, fontData, fontValue, name);
      });
    });
  });

  return {
    ...fontData,
    typography,
  };
}

function addFontData(typography, data, fontValue, name) {
  const fontTypes = {
    narrow: cssFont.parse(fontValue.font.narrowValue),
    wide: cssFont.parse(fontValue.font.value),
  };

  Object.entries(fontTypes).forEach(([type, parsedFont]) => {
    const key = `${name}-${parsedFont.weight}-${type}`;
    const sharedStyles = {
      fontFamily: parsedFont.family.join(", "),
      fontSize: parsedFont.size,
      fontStyle: parsedFont.style,
      fontVariantNumeric: fontValue["font-variant-numeric"]?.value || "normal",
      fontWeight: parsedFont.weight,
      letterSpacing: fontValue["letter-spacing"].value || "0px",
      lineHeight: parsedFont.lineHeight,
      textTransform: fontValue["text-transform"]?.value || "none",
    };

    // Add to typography
    typography[key] = { css: sharedStyles };

    // Add to font data
    data.fontSize[key] = parsedFont.size;
    data.lineHeight[key] = parsedFont.lineHeight;
    data.letterSpacing[key] = sharedStyles.letterSpacing;
    data.textTransform[key] = sharedStyles.textTransform;
    data.fontVariantNumeric[key] = sharedStyles.fontVariantNumeric;
  });
}
</file>

<file path="packages/components/src/common/styles-dictionary/design-tokens/borders.json">
{
  "sds": {
    "border": {
      "accent": {
        "default": {
          "value": "1px solid {sds.color.primitive.blue.500.value}",
          "darkValue": "1px solid {sds.color.primitive.blue.600.darkValue}"
        },
        "focused": {
          "value": "1px solid {sds.color.primitive.blue.500.value}",
          "darkValue": "1px solid {sds.color.primitive.blue.600.darkValue}"
        },
        "open": {
          "value": "1px solid {sds.color.primitive.blue.500.value}",
          "darkValue": "1px solid {sds.color.primitive.blue.600.darkValue}"
        },
        "selected": {
          "value": "1px solid {sds.color.primitive.blue.500.value}",
          "darkValue": "1px solid {sds.color.primitive.blue.600.darkValue}"
        },
        "hover": {
          "value": "1px solid {sds.color.primitive.blue.600.value}",
          "darkValue": "1px solid {sds.color.primitive.blue.700.darkValue}"
        },
        "pressed": {
          "value": "1px solid {sds.color.primitive.blue.700.value}",
          "darkValue": "1px solid {sds.color.primitive.blue.800.darkValue}"
        }
      },
      "base": {
        "default": {
          "value": "1px solid {sds.color.primitive.gray.500.value}",
          "darkValue": "1px solid {sds.color.primitive.gray.500.darkValue}"
        },
        "disabled": {
          "value": "1px solid {sds.color.primitive.gray.300.value}",
          "darkValue": "1px solid {sds.color.primitive.gray.300.darkValue}"
        },
        "divider": {
          "value": "1px solid {sds.color.primitive.gray.200.value}",
          "darkValue": "1px solid {sds.color.primitive.gray.200.darkValue}"
        },
        "dividerInverse": {
          "value": "1px solid {sds.color.primitive.gray.600.value}",
          "darkValue": "1px solid {sds.color.primitive.gray.600.darkValue}"
        },
        "hover": {
          "value": "1px dashed {sds.color.primitive.gray.900.value}",
          "darkValue": "1px dashed {sds.color.primitive.gray.900.darkValue}"
        },
        "inverse": {
          "value": "1px dashed {sds.color.primitive.gray.50.value}",
          "darkValue": "1px dashed {sds.color.primitive.gray.50.darkValue}"
        },
        "pressed": {
          "value": "1px dashed {sds.color.primitive.gray.900.value}",
          "darkValue": "1px dashed {sds.color.primitive.gray.900.darkValue}"
        },
        "table": {
          "value": "1px solid {sds.color.primitive.gray.300.value}",
          "darkValue": "1px solid {sds.color.primitive.gray.300.darkValue}"
        }
      },
      "beta": {
        "default": {
          "value": "1px solid {sds.color.primitive.purple.600.value}",
          "darkValue": "1px solid {sds.color.primitive.purple.600.darkValue}"
        },
        "extraThick": {
          "value": "4px solid {sds.color.primitive.purple.600.value}",
          "darkValue": "4px solid {sds.color.primitive.purple.600.darkValue}"
        },
        "thick": {
          "value": "2px solid {sds.color.primitive.purple.600.value}",
          "darkValue": "2px solid {sds.color.primitive.purple.600.darkValue}"
        }
      },
      "info": {
        "default": {
          "value": "1px solid {sds.color.primitive.blue.600.value}",
          "darkValue": "1px solid {sds.color.primitive.blue.600.darkValue}"
        },
        "extraThick": {
          "value": "4px solid {sds.color.primitive.blue.600.value}",
          "darkValue": "4px solid {sds.color.primitive.blue.600.darkValue}"
        },
        "thick": {
          "value": "2px solid {sds.color.primitive.blue.600.value}",
          "darkValue": "2px solid {sds.color.primitive.blue.600.darkValue}"
        }
      },
      "link": {
        "dashed": {
          "value": "1px dashed",
          "darkValue": "1px dashed"
        },
        "solid": {
          "value": "1px solid",
          "darkValue": "1px solid"
        }
      },
      "negative": {
        "default": {
          "value": "1px solid {sds.color.primitive.red.600.value}",
          "darkValue": "1px solid {sds.color.primitive.red.600.darkValue}"
        },
        "extraThick": {
          "value": "4px solid {sds.color.primitive.red.600.value}",
          "darkValue": "4px solid {sds.color.primitive.red.600.darkValue}"
        },
        "thick": {
          "value": "2px solid {sds.color.primitive.red.600.value}",
          "darkValue": "2px solid {sds.color.primitive.red.600.darkValue}"
        }
      },
      "neutral": {
        "default": {
          "value": "1px solid {sds.color.primitive.gray.500.value}",
          "darkValue": "1px solid {sds.color.primitive.gray.500.darkValue}"
        },
        "extraThick": {
          "value": "4px solid {sds.color.primitive.gray.500.value}",
          "darkValue": "4px solid {sds.color.primitive.gray.500.darkValue}"
        },
        "thick": {
          "value": "2px solid {sds.color.primitive.gray.500.value}",
          "darkValue": "2px solid {sds.color.primitive.gray.500.darkValue}"
        }
      },
      "none": {
        "value": "none",
        "darkValue": "none"
      },
      "notice": {
        "default": {
          "value": "1px solid {sds.color.primitive.yellow.600.value}",
          "darkValue": "1px solid {sds.color.primitive.yellow.600.darkValue}"
        },
        "extraThick": {
          "value": "4px solid {sds.color.primitive.yellow.600.value}",
          "darkValue": "4px solid {sds.color.primitive.yellow.600.darkValue}"
        },
        "thick": {
          "value": "2px solid {sds.color.primitive.yellow.600.value}",
          "darkValue": "2px solid {sds.color.primitive.yellow.600.darkValue}"
        }
      },
      "positive": {
        "default": {
          "value": "1px solid {sds.color.primitive.green.600.value}",
          "darkValue": "1px solid {sds.color.primitive.green.600.darkValue}"
        },
        "extraThick": {
          "value": "4px solid {sds.color.primitive.green.600.value}",
          "darkValue": "4px solid {sds.color.primitive.green.600.darkValue}"
        },
        "thick": {
          "value": "2px solid {sds.color.primitive.green.600.value}",
          "darkValue": "2px solid {sds.color.primitive.green.600.darkValue}"
        }
      }
    }
  }
}
</file>

<file path="packages/components/src/common/styles-dictionary/design-tokens/breakpoints.json">
{
  "sds": {
    "breakpoint": {
      "sm": { "value": "0px" },
      "md": { "value": "512px" },
      "lg": { "value": "1024px" }
    }
  }
}
</file>

<file path="packages/components/src/common/styles-dictionary/design-tokens/colors.json">
{
  "sds": {
    "color": {
      "primitive": {
        "blue": {
          "100": { "value": "#e2eeff", "darkValue": "#0f1d4a" },
          "200": { "value": "#cce1ff", "darkValue": "#0a216e" },
          "300": { "value": "#9dc6ff", "darkValue": "#0647b8" },
          "400": { "value": "#6ca6ff", "darkValue": "#2573f4" },
          "500": { "value": "#1a6cef", "darkValue": "#5b9aff" },
          "600": { "value": "#0041b9", "darkValue": "#a2c9ff" },
          "700": { "value": "#002d90", "darkValue": "#cde3ff" },
          "800": { "value": "#00114a", "darkValue": "#e2eeff" }
        },
        "gray": {
          "100": { "value": "#f3f3f3", "darkValue": "#333333" },
          "200": { "value": "#dfdfdf", "darkValue": "#494949" },
          "300": { "value": "#c3c3c3", "darkValue": "#696969" },
          "400": { "value": "#a5a5a5", "darkValue": "#9b9b9b" },
          "50": { "value": "#ffffff", "darkValue": "#000000" },
          "500": { "value": "#969696", "darkValue": "#aaaaaa" },
          "600": { "value": "#6c6c6c", "darkValue": "#cdcdcd" },
          "700": { "value": "#3b3b3b", "darkValue": "#ededed" },
          "75": { "value": "#fafafa", "darkValue": "#101010" },
          "800": { "value": "#1b1b1b", "darkValue": "#fafafa" },
          "900": { "value": "#000000", "darkValue": "#ffffff" }
        },
        "green": {
          "100": { "value": "#daf4de", "darkValue": "#082608" },
          "200": { "value": "#b9ecc3", "darkValue": "#063617" },
          "300": { "value": "#7fd693", "darkValue": "#10632e" },
          "400": { "value": "#50b96d", "darkValue": "#278b48" },
          "500": { "value": "#238444", "darkValue": "#4bae68" },
          "600": { "value": "#105b2b", "darkValue": "#85d898" },
          "700": { "value": "#07431d", "darkValue": "#bcecc5" },
          "800": { "value": "#001f00", "darkValue": "#daf4de" }
        },
        "purple": {
          "100": { "value": "#efeafe", "darkValue": "#331252" },
          "200": { "value": "#e4dbfc", "darkValue": "#410f70" },
          "300": { "value": "#cbbaf8", "darkValue": "#6429b2" },
          "400": { "value": "#b296f2", "darkValue": "#905de6" },
          "500": { "value": "#8b54e2", "darkValue": "#aa89ef" },
          "600": { "value": "#6526b5", "darkValue": "#cebef8" },
          "700": { "value": "#490092", "darkValue": "#e4dcfc" },
          "800": { "value": "#26004c", "darkValue": "#f0ebfe" }
        },
        "red": {
          "100": { "value": "#ffe8e6", "darkValue": "#330603" },
          "200": { "value": "#ffd6d2", "darkValue": "#660a12" },
          "300": { "value": "#ffafa8", "darkValue": "#9e1c1c" },
          "400": { "value": "#ff7e78", "darkValue": "#c73028" },
          "500": { "value": "#db2131", "darkValue": "#e05043" },
          "600": { "value": "#980017", "darkValue": "#ff988a" },
          "700": { "value": "#6f0008", "darkValue": "#ffbdb3" },
          "800": { "value": "#340000", "darkValue": "#ffd8d1" }
        },
        "yellow": {
          "100": { "value": "#fff3db", "darkValue": "#361b07" },
          "200": { "value": "#ffdb97", "darkValue": "#52270a" },
          "300": { "value": "#ffca5c", "darkValue": "#965a0b" },
          "400": { "value": "#fab700", "darkValue": "#bd8804" },
          "500": { "value": "#da9900", "darkValue": "#d9a943" },
          "600": { "value": "#b07300", "darkValue": "#e5bc63" },
          "700": { "value": "#7c3e00", "darkValue": "#f5d789" },
          "800": { "value": "#541700", "darkValue": "#ffe6a8" }
        },
        "overlay": {
          "100": {
            "value": "rgba(0, 0, 0, 0.08)",
            "darkValue": "rgba(0, 0, 0, 0.08)"
          },
          "200": {
            "value": "rgba(0, 0, 0, 0.03)",
            "darkValue": "rgba(0, 0, 0, 0.03)"
          }
        }
      },
      "semantic": {
        "base": {
          "background-primary": {
            "value": "{sds.color.primitive.gray.50.value}",
            "darkValue": "{sds.color.primitive.gray.75.darkValue}"
          },
          "background-primary-inverse": {
            "value": "{sds.color.primitive.gray.900.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "background-secondary": {
            "value": "{sds.color.primitive.gray.100.value}",
            "darkValue": "{sds.color.primitive.gray.100.darkValue}"
          },
          "background-secondary-inverse": {
            "value": "{sds.color.primitive.gray.700.value}",
            "darkValue": "{sds.color.primitive.gray.700.darkValue}"
          },
          "background-tertiary": {
            "value": "{sds.color.primitive.gray.200.value}",
            "darkValue": "{sds.color.primitive.gray.200.darkValue}"
          },
          "borderPrimary": {
            "value": "{sds.color.primitive.gray.600.value}",
            "darkValue": "{sds.color.primitive.gray.600.darkValue}"
          },
          "border-primary-disabled": {
            "value": "{sds.color.primitive.gray.300.value}",
            "darkValue": "{sds.color.primitive.gray.300.darkValue}"
          },
          "border-primary-disabled-inverse": {
            "value": "{sds.color.primitive.gray.600.value}",
            "darkValue": "{sds.color.primitive.gray.600.darkValue}"
          },
          "border-primary-hover": {
            "value": "{sds.color.primitive.gray.900.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "border-primary-hover-inverse": {
            "value": "{sds.color.primitive.gray.50.value}",
            "darkValue": "{sds.color.primitive.gray.50.darkValue}"
          },
          "border-primary-inverse": {
            "value": "{sds.color.primitive.gray.300.value}",
            "darkValue": "{sds.color.primitive.gray.300.darkValue}"
          },
          "border-on-fill": {
            "value": "{sds.color.primitive.gray.50.value}",
            "darkValue": "{sds.color.primitive.gray.50.darkValue}"
          },
          "border-primary-pressed": {
            "value": "{sds.color.primitive.gray.900.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "border-primary-pressed-inverse": {
            "value": "{sds.color.primitive.gray.50.value}",
            "darkValue": "{sds.color.primitive.gray.50.darkValue}"
          },
          "border-secondary": {
            "value": "{sds.color.primitive.gray.300.value}",
            "darkValue": "{sds.color.primitive.gray.300.darkValue}"
          },
          "divider": {
            "value": "{sds.color.primitive.gray.200.value}",
            "darkValue": "{sds.color.primitive.gray.200.darkValue}"
          },
          "divider-inverse": {
            "value": "{sds.color.primitive.gray.600.value}",
            "darkValue": "{sds.color.primitive.gray.600.darkValue}"
          },
          "fill-disabled": {
            "value": "{sds.color.primitive.gray.200.value}",
            "darkValue": "{sds.color.primitive.gray.200.darkValue}"
          },
          "fill-hover": {
            "value": "{sds.color.primitive.gray.300.value}47",
            "darkValue": "{sds.color.primitive.gray.300.darkValue}47"
          },
          "fill-open": {
            "value": "{sds.color.primitive.gray.300.value}47",
            "darkValue": "{sds.color.primitive.gray.300.darkValue}47"
          },
          "fill-pressed": {
            "value": "{sds.color.primitive.gray.300.value}47",
            "darkValue": "{sds.color.primitive.gray.300.darkValue}47"
          },
          "fill-primary": {
            "value": "{sds.color.primitive.gray.50.value}",
            "darkValue": "{sds.color.primitive.gray.100.darkValue}"
          },
          "fill-selected": {
            "value": "{sds.color.primitive.gray.900.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "ornament-disabled": {
            "value": "{sds.color.primitive.gray.300.value}",
            "darkValue": "{sds.color.primitive.gray.300.darkValue}"
          },
          "ornament-disabled-inverse": {
            "value": "{sds.color.primitive.gray.600.value}",
            "darkValue": "{sds.color.primitive.gray.600.darkValue}"
          },
          "ornament-on-fill": {
            "value": "{sds.color.primitive.gray.50.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "ornament-primary": {
            "value": "{sds.color.primitive.gray.900.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "ornament-primary-inverse": {
            "value": "{sds.color.primitive.gray.50.value}",
            "darkValue": "{sds.color.primitive.gray.50.darkValue}"
          },
          "ornament-secondary": {
            "value": "{sds.color.primitive.gray.600.value}",
            "darkValue": "{sds.color.primitive.gray.600.darkValue}"
          },
          "ornament-secondary-inverse": {
            "value": "{sds.color.primitive.gray.300.value}",
            "darkValue": "{sds.color.primitive.gray.300.darkValue}"
          },
          "ornament-secondary-hover": {
            "value": "{sds.color.primitive.gray.900.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "ornament-secondary-pressed": {
            "value": "{sds.color.primitive.gray.900.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "surface": {
            "value": "{sds.color.primitive.gray.50.value}",
            "darkValue": "{sds.color.primitive.gray.100.darkValue}"
          },
          "surface-inverse": {
            "value": "{sds.color.primitive.gray.900.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "text-disabled": {
            "value": "{sds.color.primitive.gray.300.value}",
            "darkValue": "{sds.color.primitive.gray.300.darkValue}"
          },
          "text-disabled-inverse": {
            "value": "{sds.color.primitive.gray.600.value}",
            "darkValue": "{sds.color.primitive.gray.600.darkValue}"
          },
          "text-on-fill": {
            "value": "{sds.color.primitive.gray.50.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "text-primary": {
            "value": "{sds.color.primitive.gray.900.value}",
            "darkValue": "{sds.color.primitive.gray.900.darkValue}"
          },
          "text-primary-inverse": {
            "value": "{sds.color.primitive.gray.50.value}",
            "darkValue": "{sds.color.primitive.gray.50.darkValue}"
          },
          "text-secondary": {
            "value": "{sds.color.primitive.gray.600.value}",
            "darkValue": "{sds.color.primitive.gray.600.darkValue}"
          },
          "text-secondary-inverse": {
            "value": "{sds.color.primitive.gray.300.value}",
            "darkValue": "{sds.color.primitive.gray.300.darkValue}"
          },
          "text-tertiary": {
            "value": "{sds.color.primitive.gray.400.value}",
            "darkValue": "{sds.color.primitive.gray.400.darkValue}"
          },
          "text-tertiary-inverse": {
            "value": "{sds.color.primitive.gray.500.value}",
            "darkValue": "{sds.color.primitive.gray.500.darkValue}"
          }
        },
        "accent": {
          "border": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "border-focus": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "border-hover": {
            "value": "{sds.color.primitive.blue.600.value}",
            "darkValue": "{sds.color.primitive.blue.700.darkValue}"
          },
          "border-open": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "border-pressed": {
            "value": "{sds.color.primitive.blue.700.value}",
            "darkValue": "{sds.color.primitive.blue.800.darkValue}"
          },
          "border-selected": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "fill-hover": {
            "value": "{sds.color.primitive.blue.600.value}",
            "darkValue": "{sds.color.primitive.blue.700.darkValue}"
          },
          "fill-pressed": {
            "value": "{sds.color.primitive.blue.700.value}",
            "darkValue": "{sds.color.primitive.blue.800.darkValue}"
          },
          "fill-primary": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.400.darkValue}"
          },
          "ornament": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "ornament-focus": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "ornament-hover": {
            "value": "{sds.color.primitive.blue.600.value}",
            "darkValue": "{sds.color.primitive.blue.700.darkValue}"
          },
          "ornament-open": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "ornament-pressed": {
            "value": "{sds.color.primitive.blue.700.value}",
            "darkValue": "{sds.color.primitive.blue.800.darkValue}"
          },
          "ornament-selected": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "surface-primary": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.400.darkValue}"
          },
          "surface-secondary": {
            "value": "{sds.color.primitive.blue.100.value}",
            "darkValue": "{sds.color.primitive.blue.100.darkValue}"
          },
          "text-action": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "text-action-hover": {
            "value": "{sds.color.primitive.blue.600.value}",
            "darkValue": "{sds.color.primitive.blue.700.darkValue}"
          },
          "text-action-pressed": {
            "value": "{sds.color.primitive.blue.700.value}",
            "darkValue": "{sds.color.primitive.blue.800.darkValue}"
          }
        },
        "beta": {
          "border": {
            "value": "{sds.color.primitive.purple.600.value}",
            "darkValue": "{sds.color.primitive.purple.600.darkValue}"
          },
          "fill-hover": {
            "value": "{sds.color.primitive.purple.600.value}",
            "darkValue": "{sds.color.primitive.purple.700.darkValue}"
          },
          "fill-pressed": {
            "value": "{sds.color.primitive.purple.700.value}",
            "darkValue": "{sds.color.primitive.purple.800.darkValue}"
          },
          "fill-primary": {
            "value": "{sds.color.primitive.purple.500.value}",
            "darkValue": "{sds.color.primitive.purple.400.darkValue}"
          },
          "fill-secondary": {
            "value": "{sds.color.primitive.purple.100.value}",
            "darkValue": "{sds.color.primitive.purple.100.darkValue}"
          },
          "ornament": {
            "value": "{sds.color.primitive.purple.600.value}",
            "darkValue": "{sds.color.primitive.purple.600.darkValue}"
          },
          "surface-primary": {
            "value": "{sds.color.primitive.purple.500.value}",
            "darkValue": "{sds.color.primitive.purple.400.darkValue}"
          },
          "surface-secondary": {
            "value": "{sds.color.primitive.purple.100.value}",
            "darkValue": "{sds.color.primitive.purple.100.darkValue}"
          },
          "text": {
            "value": "{sds.color.primitive.purple.600.value}",
            "darkValue": "{sds.color.primitive.purple.600.darkValue}"
          }
        },
        "info": {
          "border": {
            "value": "{sds.color.primitive.blue.600.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "fill-hover": {
            "value": "{sds.color.primitive.blue.600.value}",
            "darkValue": "{sds.color.primitive.blue.700.darkValue}"
          },
          "fill-pressed": {
            "value": "{sds.color.primitive.blue.700.value}",
            "darkValue": "{sds.color.primitive.blue.800.darkValue}"
          },
          "fill-primary": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.400.darkValue}"
          },
          "fill-secondary": {
            "value": "{sds.color.primitive.blue.100.value}",
            "darkValue": "{sds.color.primitive.blue.100.darkValue}"
          },
          "ornament": {
            "value": "{sds.color.primitive.blue.600.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          },
          "surface-primary": {
            "value": "{sds.color.primitive.blue.500.value}",
            "darkValue": "{sds.color.primitive.blue.400.darkValue}"
          },
          "surface-secondary": {
            "value": "{sds.color.primitive.blue.100.value}",
            "darkValue": "{sds.color.primitive.blue.100.darkValue}"
          },
          "text": {
            "value": "{sds.color.primitive.blue.600.value}",
            "darkValue": "{sds.color.primitive.blue.600.darkValue}"
          }
        },
        "negative": {
          "border": {
            "value": "{sds.color.primitive.red.600.value}",
            "darkValue": "{sds.color.primitive.red.600.darkValue}"
          },
          "fill-hover": {
            "value": "{sds.color.primitive.red.600.value}",
            "darkValue": "{sds.color.primitive.red.700.darkValue}"
          },
          "fill-pressed": {
            "value": "{sds.color.primitive.red.700.value}",
            "darkValue": "{sds.color.primitive.red.800.darkValue}"
          },
          "fill-primary": {
            "value": "{sds.color.primitive.red.500.value}",
            "darkValue": "{sds.color.primitive.red.400.darkValue}"
          },
          "fill-secondary": {
            "value": "{sds.color.primitive.red.100.value}",
            "darkValue": "{sds.color.primitive.red.100.darkValue}"
          },
          "ornament": {
            "value": "{sds.color.primitive.red.600.value}",
            "darkValue": "{sds.color.primitive.red.600.darkValue}"
          },
          "surface-primary": {
            "value": "{sds.color.primitive.red.500.value}",
            "darkValue": "{sds.color.primitive.red.400.darkValue}"
          },
          "surface-secondary": {
            "value": "{sds.color.primitive.red.100.value}",
            "darkValue": "{sds.color.primitive.red.100.darkValue}"
          },
          "text": {
            "value": "{sds.color.primitive.red.600.value}",
            "darkValue": "{sds.color.primitive.red.600.darkValue}"
          }
        },
        "neutral": {
          "border": {
            "value": "{sds.color.primitive.gray.500.value}",
            "darkValue": "{sds.color.primitive.gray.500.darkValue}"
          },
          "fill-hover": {
            "value": "{sds.color.primitive.gray.600.value}",
            "darkValue": "{sds.color.primitive.gray.600.darkValue}"
          },
          "fill-pressed": {
            "value": "{sds.color.primitive.gray.700.value}",
            "darkValue": "{sds.color.primitive.gray.700.darkValue}"
          },
          "fill-primary": {
            "value": "{sds.color.primitive.gray.500.value}",
            "darkValue": "{sds.color.primitive.gray.500.darkValue}"
          },
          "fill-secondary": {
            "value": "{sds.color.primitive.gray.200.value}",
            "darkValue": "{sds.color.primitive.gray.200.darkValue}"
          },
          "ornament": {
            "value": "{sds.color.primitive.gray.700.value}",
            "darkValue": "{sds.color.primitive.gray.700.darkValue}"
          },
          "surface-primary": {
            "value": "{sds.color.primitive.gray.500.value}",
            "darkValue": "{sds.color.primitive.gray.500.darkValue}"
          },
          "surface-secondary": {
            "value": "{sds.color.primitive.gray.200.value}",
            "darkValue": "{sds.color.primitive.gray.200.darkValue}"
          },
          "text": {
            "value": "{sds.color.primitive.gray.700.value}",
            "darkValue": "{sds.color.primitive.gray.700.darkValue}"
          }
        },
        "notice": {
          "border": {
            "value": "{sds.color.primitive.yellow.600.value}",
            "darkValue": "{sds.color.primitive.yellow.600.darkValue}"
          },
          "fill-hover": {
            "value": "{sds.color.primitive.yellow.600.value}",
            "darkValue": "{sds.color.primitive.yellow.700.darkValue}"
          },
          "fill-pressed": {
            "value": "{sds.color.primitive.yellow.700.value}",
            "darkValue": "{sds.color.primitive.yellow.800.darkValue}"
          },
          "fill-primary": {
            "value": "{sds.color.primitive.yellow.500.value}",
            "darkValue": "{sds.color.primitive.yellow.400.darkValue}"
          },
          "fill-secondary": {
            "value": "{sds.color.primitive.yellow.100.value}",
            "darkValue": "{sds.color.primitive.yellow.100.darkValue}"
          },
          "ornament": {
            "value": "{sds.color.primitive.yellow.600.value}",
            "darkValue": "{sds.color.primitive.yellow.600.darkValue}"
          },
          "surface-primary": {
            "value": "{sds.color.primitive.yellow.500.value}",
            "darkValue": "{sds.color.primitive.yellow.400.darkValue}"
          },
          "surface-secondary": {
            "value": "{sds.color.primitive.yellow.100.value}",
            "darkValue": "{sds.color.primitive.yellow.100.darkValue}"
          },
          "text": {
            "value": "{sds.color.primitive.yellow.600.value}",
            "darkValue": "{sds.color.primitive.yellow.600.darkValue}"
          }
        },
        "positive": {
          "border": {
            "value": "{sds.color.primitive.green.600.value}",
            "darkValue": "{sds.color.primitive.green.600.darkValue}"
          },
          "fill-hover": {
            "value": "{sds.color.primitive.green.600.value}",
            "darkValue": "{sds.color.primitive.green.700.darkValue}"
          },
          "fill-pressed": {
            "value": "{sds.color.primitive.green.700.value}",
            "darkValue": "{sds.color.primitive.green.800.darkValue}"
          },
          "fill-primary": {
            "value": "{sds.color.primitive.green.500.value}",
            "darkValue": "{sds.color.primitive.green.400.darkValue}"
          },
          "fill-secondary": {
            "value": "{sds.color.primitive.green.100.value}",
            "darkValue": "{sds.color.primitive.green.100.darkValue}"
          },
          "ornament": {
            "value": "{sds.color.primitive.green.600.value}",
            "darkValue": "{sds.color.primitive.green.600.darkValue}"
          },
          "surface-primary": {
            "value": "{sds.color.primitive.green.500.value}",
            "darkValue": "{sds.color.primitive.green.400.darkValue}"
          },
          "surface-secondary": {
            "value": "{sds.color.primitive.green.100.value}",
            "darkValue": "{sds.color.primitive.green.100.darkValue}"
          },
          "text": {
            "value": "{sds.color.primitive.green.600.value}",
            "darkValue": "{sds.color.primitive.green.600.darkValue}"
          }
        }
      }
    }
  }
}
</file>

<file path="packages/components/src/common/styles-dictionary/design-tokens/corners.json">
{
  "sds": {
    "corner": {
      "l": { "value": "20px" },
      "m": { "value": "4px" },
      "s": { "value": "2px" },
      "none": { "value": "0px" }
    }
  }
}
</file>

<file path="packages/components/src/common/styles-dictionary/design-tokens/drop-shadows.json">
{
  "sds": {
    "drop-shadow": {
      "l": {
        "value": "0.0px 2.0px 12.0px 0px rgba(0, 0, 0, 0.3)"
      },
      "m": {
        "value": "0.0px 2.0px 10.0px 0px rgba(0, 0, 0, 0.15), 0.0px 2.0px 4.0px 0px rgba(0, 0, 0, 0.15)"
      },
      "s": {
        "value": "0.0px 2.0px 4.0px 0px rgba(0, 0, 0, 0.25)"
      },
      "none": {
        "value": "none"
      }
    }
  }
}
</file>

<file path="packages/components/src/common/styles-dictionary/design-tokens/font.json">
{
  "sds": {
    "font": {
      "inter-font": "var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Helvetica,Arial,sans-serif",
      "font-family": {
        "body": {
          "value": "{sds.font.inter-font}",
          "narrowValue": "{sds.font.inter-font}"
        },
        "caps": {
          "value": "{sds.font.inter-font}",
          "narrowValue": "{sds.font.inter-font}"
        },
        "code": {
          "value": "\"IBM Plex Mono\", monospace",
          "narrowValue": "\"IBM Plex Mono\", monospace"
        },
        "header": {
          "value": "{sds.font.inter-font}",
          "narrowValue": "{sds.font.inter-font}"
        },
        "tabular": {
          "value": "{sds.font.inter-font}",
          "narrowValue": "{sds.font.inter-font}"
        }
      },
      "body": {
        "xxxs": {
          "400": {
            "font": {
              "value": "400 11px/16px {sds.font.font-family.body.value}",
              "narrowValue": "400 12px/18px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.1px",
              "narrowValue": "0.1px"
            }
          },
          "600": {
            "font": {
              "value": "600 11px/16px {sds.font.font-family.body.value}",
              "narrowValue": "600 12px/18px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.1px",
              "narrowValue": "0.1px"
            }
          }
        },
        "xxs": {
          "400": {
            "font": {
              "value": "400 12px/18px {sds.font.font-family.body.value}",
              "narrowValue": "400 12px/18px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.1px",
              "narrowValue": "0.1px"
            }
          },
          "600": {
            "font": {
              "value": "600 12px/18px {sds.font.font-family.body.value}",
              "narrowValue": "600 12px/18px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.1px",
              "narrowValue": "0.1px"
            }
          }
        },
        "xs": {
          "400": {
            "font": {
              "value": "400 13px/20px {sds.font.font-family.body.value}",
              "narrowValue": "400 13px/20px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.08px",
              "narrowValue": "0.08px"
            }
          },
          "600": {
            "font": {
              "value": "600 13px/20px {sds.font.font-family.body.value}",
              "narrowValue": "600 13px/20px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.08px",
              "narrowValue": "0.08px"
            }
          }
        },
        "s": {
          "400": {
            "font": {
              "value": "400 14px/24px {sds.font.font-family.body.value}",
              "narrowValue": "400 14px/24px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.08px",
              "narrowValue": "0.08px"
            }
          },
          "600": {
            "font": {
              "value": "600 14px/24px {sds.font.font-family.body.value}",
              "narrowValue": "600 14px/24px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.08px",
              "narrowValue": "0.08px"
            }
          }
        },
        "m": {
          "400": {
            "font": {
              "value": "400 16px/26px {sds.font.font-family.body.value}",
              "narrowValue": "400 14px/24px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          },
          "600": {
            "font": {
              "value": "600 16px/26px {sds.font.font-family.body.value}",
              "narrowValue": "600 14px/24px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          }
        },
        "l": {
          "400": {
            "font": {
              "value": "400 18px/28px {sds.font.font-family.body.value}",
              "narrowValue": "400 16px/26px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          },
          "600": {
            "font": {
              "value": "600 18px/28px {sds.font.font-family.body.value}",
              "narrowValue": "600 16px/26px {sds.font.font-family.body.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          }
        }
      },
      "caps": {
        "xxxxs": {
          "600": {
            "font": {
              "value": "600 10px/14px {sds.font.font-family.caps.value}",
              "narrowValue": "600 11px/16px {sds.font.font-family.caps.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.5px",
              "narrowValue": "0.5px"
            },
            "text-transform": { 
              "value": "uppercase", 
              "narrowValue": "uppercase" 
            }
          }
        },
        "xxxs": {
          "600": {
            "font": {
              "value": "600 11px/16px {sds.font.font-family.caps.value}",
              "narrowValue": "600 11px/16px {sds.font.font-family.caps.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.5px",
              "narrowValue": "0.5px"
            },
            "text-transform": { 
              "value": "uppercase", 
              "narrowValue": "uppercase" 
            }
          }
        },
        "xxs": {
          "600": {
            "font": {
              "value": "600 12px/18px {sds.font.font-family.caps.value}",
              "narrowValue": "600 12px/18px {sds.font.font-family.caps.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.5px",
              "narrowValue": "0.5px"
            },
            "text-transform": { 
              "value": "uppercase", 
              "narrowValue": "uppercase" 
            }
          }
        }
      },
      "header": {
        "xxxs": {
          "600": {
            "font": {
              "value": "600 11px/16px {sds.font.font-family.header.value}",
              "narrowValue": "600 12px/18px {sds.font.font-family.header.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.1px",
              "narrowValue": "0.1px"
            }
          }
        },
        "xxs": {
          "600": {
            "font": {
              "value": "600 12px/18px {sds.font.font-family.header.value}",
              "narrowValue": "600 12px/18px {sds.font.font-family.header.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.1px",
              "narrowValue": "0.1px"
            }
          }
        },
        "xs": {
          "600": {
            "font": {
              "value": "600 13px/18px {sds.font.font-family.header.value}",
              "narrowValue": "600 13px/18px {sds.font.font-family.header.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.08px",
              "narrowValue": "0.08px"
            }
          }
        },
        "s": {
          "600": {
            "font": {
              "value": "600 14px/20px {sds.font.font-family.header.value}",
              "narrowValue": "600 14px/20px {sds.font.font-family.header.narrowValue}"
            },
            "letter-spacing": {
              "value": "0.08px",
              "narrowValue": "0.08px"
            }
          }
        },
        "m": {
          "600": {
            "font": {
              "value": "600 16px/22px {sds.font.font-family.header.value}",
              "narrowValue": "600 14px/20px {sds.font.font-family.header.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0.08px"
            }
          }
        },
        "l": {
          "600": {
            "font": {
              "value": "600 18px/24px {sds.font.font-family.header.value}",
              "narrowValue": "600 16px/22px {sds.font.font-family.header.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          }
        },
        "xl": {
          "600": {
            "font": {
              "value": "600 22px/30px {sds.font.font-family.header.value}",
              "narrowValue": "600 18px/24px {sds.font.font-family.header.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          }
        },
        "xxl": {
          "600": {
            "font": {
              "value": "600 26px/34px {sds.font.font-family.header.value}",
              "narrowValue": "600 22px/30px {sds.font.font-family.header.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          }
        }
      },
      "tabular": {
        "xs": {
          "400": {
            "font": {
              "value": "400 13px/20px {sds.font.font-family.tabular.value}",
              "narrowValue": "400 13px/20px {sds.font.font-family.tabular.narrowValue}"
            },
            "font-variant-numeric": { 
              "value": "tabular-nums",
              "narrowValue": "tabular-nums"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          },
          "600": {
            "font": {
              "value": "600 13px/20px {sds.font.font-family.tabular.value}",
              "narrowValue": "600 13px/20px {sds.font.font-family.tabular.narrowValue}"
            },
            "font-variant-numeric": { 
              "value": "tabular-nums",
              "narrowValue": "tabular-nums"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          }
        },
        "s": {
          "400": {
            "font": {
              "value": "400 14px/24px {sds.font.font-family.tabular.value}",
              "narrowValue": "400 14px/24px {sds.font.font-family.tabular.narrowValue}"
            },
            "font-variant-numeric": { 
              "value": "tabular-nums",
              "narrowValue": "tabular-nums"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          },
          "600": {
            "font": {
              "value": "600 14px/24px {sds.font.font-family.tabular.value}",
              "narrowValue": "600 14px/24px {sds.font.font-family.tabular.narrowValue}"
            },
            "font-variant-numeric": { 
              "value": "tabular-nums",
              "narrowValue": "tabular-nums"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          }
        }
      },
      "code": {
        "xs": {
          "400": {
            "font": {
              "value": "400 13px/20px {sds.font.font-family.code.value}",
              "narrowValue": "400 13px/20px {sds.font.font-family.code.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          },
          "600": {
            "font": {
              "value": "600 13px/20px {sds.font.font-family.code.value}",
              "narrowValue": "600 13px/20px {sds.font.font-family.code.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          }
        },
        "s": {
          "400": {
            "font": {
              "value": "400 14px/24px {sds.font.font-family.code.value}",
              "narrowValue": "400 14px/24px {sds.font.font-family.code.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          },
          "600": {
            "font": {
              "value": "600 14px/24px {sds.font.font-family.code.value}",
              "narrowValue": "600 14px/24px {sds.font.font-family.code.narrowValue}"
            },
            "letter-spacing": {
              "value": "0px",
              "narrowValue": "0px"
            }
          }
        }
      }
    }
  }
}
</file>

<file path="packages/components/src/common/styles-dictionary/design-tokens/icon-sizes.json">
{
  "sds": {
    "iconSize": {
      "input": {
        "height": {
          "value": "16px"
        },
        "width": {
          "value": "16px"
        }
      },
      "xs": {
        "height": { "value": "12px" },
        "width": { "value": "12px" }
      },
      "s": {
        "height": { "value": "16px" },
        "width": { "value": "16px" }
      },
      "l": {
        "height": { "value": "24px" },
        "width": { "value": "24px" }
      },
      "xl": {
        "height": { "value": "32px" },
        "width": { "value": "32px" }
      }
    }
  }
}
</file>

<file path="packages/components/src/common/styles-dictionary/design-tokens/spaces.json">
{
  "sds": {
    "space": {
      "default": { "value": "12px" },
      "xxxs": { "value": "2px" },
      "xxs": { "value": "4px" },
      "xs": { "value": "6px" },
      "s": { "value": "8px" },
      "m": { "value": "12px" },
      "l": { "value": "16px" },
      "xl": { "value": "24px" },
      "xxl": { "value": "40px" }
    }
  }
}
</file>

<file path="packages/components/src/common/styles-dictionary/json/tailwind.json">
{
  "fontFamily": {
    "sds-body": "var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Helvetica,Arial,sans-serif",
    "sds-caps": "var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Helvetica,Arial,sans-serif",
    "sds-code": "\"IBM Plex Mono\", monospace",
    "sds-header": "var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Helvetica,Arial,sans-serif",
    "sds-tabular": "var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Helvetica,Arial,sans-serif"
  },
  "fontSize": {
    "sds-body-xxxs-400-narrow": "12px",
    "sds-body-xxxs-400-wide": "11px",
    "sds-body-xxxs-600-narrow": "12px",
    "sds-body-xxxs-600-wide": "11px",
    "sds-body-xxs-400-narrow": "12px",
    "sds-body-xxs-400-wide": "12px",
    "sds-body-xxs-600-narrow": "12px",
    "sds-body-xxs-600-wide": "12px",
    "sds-body-xs-400-narrow": "13px",
    "sds-body-xs-400-wide": "13px",
    "sds-body-xs-600-narrow": "13px",
    "sds-body-xs-600-wide": "13px",
    "sds-body-s-400-narrow": "14px",
    "sds-body-s-400-wide": "14px",
    "sds-body-s-600-narrow": "14px",
    "sds-body-s-600-wide": "14px",
    "sds-body-m-400-narrow": "14px",
    "sds-body-m-400-wide": "16px",
    "sds-body-m-600-narrow": "14px",
    "sds-body-m-600-wide": "16px",
    "sds-body-l-400-narrow": "16px",
    "sds-body-l-400-wide": "18px",
    "sds-body-l-600-narrow": "16px",
    "sds-body-l-600-wide": "18px",
    "sds-caps-xxxxs-600-narrow": "11px",
    "sds-caps-xxxxs-600-wide": "10px",
    "sds-caps-xxxs-600-narrow": "11px",
    "sds-caps-xxxs-600-wide": "11px",
    "sds-caps-xxs-600-narrow": "12px",
    "sds-caps-xxs-600-wide": "12px",
    "sds-header-xxxs-600-narrow": "12px",
    "sds-header-xxxs-600-wide": "11px",
    "sds-header-xxs-600-narrow": "12px",
    "sds-header-xxs-600-wide": "12px",
    "sds-header-xs-600-narrow": "13px",
    "sds-header-xs-600-wide": "13px",
    "sds-header-s-600-narrow": "14px",
    "sds-header-s-600-wide": "14px",
    "sds-header-m-600-narrow": "14px",
    "sds-header-m-600-wide": "16px",
    "sds-header-l-600-narrow": "16px",
    "sds-header-l-600-wide": "18px",
    "sds-header-xl-600-narrow": "18px",
    "sds-header-xl-600-wide": "22px",
    "sds-header-xxl-600-narrow": "22px",
    "sds-header-xxl-600-wide": "26px",
    "sds-tabular-xs-400-narrow": "13px",
    "sds-tabular-xs-400-wide": "13px",
    "sds-tabular-xs-600-narrow": "13px",
    "sds-tabular-xs-600-wide": "13px",
    "sds-tabular-s-400-narrow": "14px",
    "sds-tabular-s-400-wide": "14px",
    "sds-tabular-s-600-narrow": "14px",
    "sds-tabular-s-600-wide": "14px",
    "sds-code-xs-400-narrow": "13px",
    "sds-code-xs-400-wide": "13px",
    "sds-code-xs-600-narrow": "13px",
    "sds-code-xs-600-wide": "13px",
    "sds-code-s-400-narrow": "14px",
    "sds-code-s-400-wide": "14px",
    "sds-code-s-600-narrow": "14px",
    "sds-code-s-600-wide": "14px"
  },
  "fontVariantNumeric": {
    "sds-body-xxxs-400-narrow": "normal",
    "sds-body-xxxs-400-wide": "normal",
    "sds-body-xxxs-600-narrow": "normal",
    "sds-body-xxxs-600-wide": "normal",
    "sds-body-xxs-400-narrow": "normal",
    "sds-body-xxs-400-wide": "normal",
    "sds-body-xxs-600-narrow": "normal",
    "sds-body-xxs-600-wide": "normal",
    "sds-body-xs-400-narrow": "normal",
    "sds-body-xs-400-wide": "normal",
    "sds-body-xs-600-narrow": "normal",
    "sds-body-xs-600-wide": "normal",
    "sds-body-s-400-narrow": "normal",
    "sds-body-s-400-wide": "normal",
    "sds-body-s-600-narrow": "normal",
    "sds-body-s-600-wide": "normal",
    "sds-body-m-400-narrow": "normal",
    "sds-body-m-400-wide": "normal",
    "sds-body-m-600-narrow": "normal",
    "sds-body-m-600-wide": "normal",
    "sds-body-l-400-narrow": "normal",
    "sds-body-l-400-wide": "normal",
    "sds-body-l-600-narrow": "normal",
    "sds-body-l-600-wide": "normal",
    "sds-caps-xxxxs-600-narrow": "normal",
    "sds-caps-xxxxs-600-wide": "normal",
    "sds-caps-xxxs-600-narrow": "normal",
    "sds-caps-xxxs-600-wide": "normal",
    "sds-caps-xxs-600-narrow": "normal",
    "sds-caps-xxs-600-wide": "normal",
    "sds-header-xxxs-600-narrow": "normal",
    "sds-header-xxxs-600-wide": "normal",
    "sds-header-xxs-600-narrow": "normal",
    "sds-header-xxs-600-wide": "normal",
    "sds-header-xs-600-narrow": "normal",
    "sds-header-xs-600-wide": "normal",
    "sds-header-s-600-narrow": "normal",
    "sds-header-s-600-wide": "normal",
    "sds-header-m-600-narrow": "normal",
    "sds-header-m-600-wide": "normal",
    "sds-header-l-600-narrow": "normal",
    "sds-header-l-600-wide": "normal",
    "sds-header-xl-600-narrow": "normal",
    "sds-header-xl-600-wide": "normal",
    "sds-header-xxl-600-narrow": "normal",
    "sds-header-xxl-600-wide": "normal",
    "sds-tabular-xs-400-narrow": "tabular-nums",
    "sds-tabular-xs-400-wide": "tabular-nums",
    "sds-tabular-xs-600-narrow": "tabular-nums",
    "sds-tabular-xs-600-wide": "tabular-nums",
    "sds-tabular-s-400-narrow": "tabular-nums",
    "sds-tabular-s-400-wide": "tabular-nums",
    "sds-tabular-s-600-narrow": "tabular-nums",
    "sds-tabular-s-600-wide": "tabular-nums",
    "sds-code-xs-400-narrow": "normal",
    "sds-code-xs-400-wide": "normal",
    "sds-code-xs-600-narrow": "normal",
    "sds-code-xs-600-wide": "normal",
    "sds-code-s-400-narrow": "normal",
    "sds-code-s-400-wide": "normal",
    "sds-code-s-600-narrow": "normal",
    "sds-code-s-600-wide": "normal"
  },
  "letterSpacing": {
    "sds-body-xxxs-400-narrow": "0.1px",
    "sds-body-xxxs-400-wide": "0.1px",
    "sds-body-xxxs-600-narrow": "0.1px",
    "sds-body-xxxs-600-wide": "0.1px",
    "sds-body-xxs-400-narrow": "0.1px",
    "sds-body-xxs-400-wide": "0.1px",
    "sds-body-xxs-600-narrow": "0.1px",
    "sds-body-xxs-600-wide": "0.1px",
    "sds-body-xs-400-narrow": "0.08px",
    "sds-body-xs-400-wide": "0.08px",
    "sds-body-xs-600-narrow": "0.08px",
    "sds-body-xs-600-wide": "0.08px",
    "sds-body-s-400-narrow": "0.08px",
    "sds-body-s-400-wide": "0.08px",
    "sds-body-s-600-narrow": "0.08px",
    "sds-body-s-600-wide": "0.08px",
    "sds-body-m-400-narrow": "0px",
    "sds-body-m-400-wide": "0px",
    "sds-body-m-600-narrow": "0px",
    "sds-body-m-600-wide": "0px",
    "sds-body-l-400-narrow": "0px",
    "sds-body-l-400-wide": "0px",
    "sds-body-l-600-narrow": "0px",
    "sds-body-l-600-wide": "0px",
    "sds-caps-xxxxs-600-narrow": "0.5px",
    "sds-caps-xxxxs-600-wide": "0.5px",
    "sds-caps-xxxs-600-narrow": "0.5px",
    "sds-caps-xxxs-600-wide": "0.5px",
    "sds-caps-xxs-600-narrow": "0.5px",
    "sds-caps-xxs-600-wide": "0.5px",
    "sds-header-xxxs-600-narrow": "0.1px",
    "sds-header-xxxs-600-wide": "0.1px",
    "sds-header-xxs-600-narrow": "0.1px",
    "sds-header-xxs-600-wide": "0.1px",
    "sds-header-xs-600-narrow": "0.08px",
    "sds-header-xs-600-wide": "0.08px",
    "sds-header-s-600-narrow": "0.08px",
    "sds-header-s-600-wide": "0.08px",
    "sds-header-m-600-narrow": "0px",
    "sds-header-m-600-wide": "0px",
    "sds-header-l-600-narrow": "0px",
    "sds-header-l-600-wide": "0px",
    "sds-header-xl-600-narrow": "0px",
    "sds-header-xl-600-wide": "0px",
    "sds-header-xxl-600-narrow": "0px",
    "sds-header-xxl-600-wide": "0px",
    "sds-tabular-xs-400-narrow": "0px",
    "sds-tabular-xs-400-wide": "0px",
    "sds-tabular-xs-600-narrow": "0px",
    "sds-tabular-xs-600-wide": "0px",
    "sds-tabular-s-400-narrow": "0px",
    "sds-tabular-s-400-wide": "0px",
    "sds-tabular-s-600-narrow": "0px",
    "sds-tabular-s-600-wide": "0px",
    "sds-code-xs-400-narrow": "0px",
    "sds-code-xs-400-wide": "0px",
    "sds-code-xs-600-narrow": "0px",
    "sds-code-xs-600-wide": "0px",
    "sds-code-s-400-narrow": "0px",
    "sds-code-s-400-wide": "0px",
    "sds-code-s-600-narrow": "0px",
    "sds-code-s-600-wide": "0px"
  },
  "lineHeight": {
    "sds-body-xxxs-400-narrow": "18px",
    "sds-body-xxxs-400-wide": "16px",
    "sds-body-xxxs-600-narrow": "18px",
    "sds-body-xxxs-600-wide": "16px",
    "sds-body-xxs-400-narrow": "18px",
    "sds-body-xxs-400-wide": "18px",
    "sds-body-xxs-600-narrow": "18px",
    "sds-body-xxs-600-wide": "18px",
    "sds-body-xs-400-narrow": "20px",
    "sds-body-xs-400-wide": "20px",
    "sds-body-xs-600-narrow": "20px",
    "sds-body-xs-600-wide": "20px",
    "sds-body-s-400-narrow": "24px",
    "sds-body-s-400-wide": "24px",
    "sds-body-s-600-narrow": "24px",
    "sds-body-s-600-wide": "24px",
    "sds-body-m-400-narrow": "24px",
    "sds-body-m-400-wide": "26px",
    "sds-body-m-600-narrow": "24px",
    "sds-body-m-600-wide": "26px",
    "sds-body-l-400-narrow": "26px",
    "sds-body-l-400-wide": "28px",
    "sds-body-l-600-narrow": "26px",
    "sds-body-l-600-wide": "28px",
    "sds-caps-xxxxs-600-narrow": "16px",
    "sds-caps-xxxxs-600-wide": "14px",
    "sds-caps-xxxs-600-narrow": "16px",
    "sds-caps-xxxs-600-wide": "16px",
    "sds-caps-xxs-600-narrow": "18px",
    "sds-caps-xxs-600-wide": "18px",
    "sds-header-xxxs-600-narrow": "18px",
    "sds-header-xxxs-600-wide": "16px",
    "sds-header-xxs-600-narrow": "18px",
    "sds-header-xxs-600-wide": "18px",
    "sds-header-xs-600-narrow": "18px",
    "sds-header-xs-600-wide": "18px",
    "sds-header-s-600-narrow": "20px",
    "sds-header-s-600-wide": "20px",
    "sds-header-m-600-narrow": "20px",
    "sds-header-m-600-wide": "22px",
    "sds-header-l-600-narrow": "22px",
    "sds-header-l-600-wide": "24px",
    "sds-header-xl-600-narrow": "24px",
    "sds-header-xl-600-wide": "30px",
    "sds-header-xxl-600-narrow": "30px",
    "sds-header-xxl-600-wide": "34px",
    "sds-tabular-xs-400-narrow": "20px",
    "sds-tabular-xs-400-wide": "20px",
    "sds-tabular-xs-600-narrow": "20px",
    "sds-tabular-xs-600-wide": "20px",
    "sds-tabular-s-400-narrow": "24px",
    "sds-tabular-s-400-wide": "24px",
    "sds-tabular-s-600-narrow": "24px",
    "sds-tabular-s-600-wide": "24px",
    "sds-code-xs-400-narrow": "20px",
    "sds-code-xs-400-wide": "20px",
    "sds-code-xs-600-narrow": "20px",
    "sds-code-xs-600-wide": "20px",
    "sds-code-s-400-narrow": "24px",
    "sds-code-s-400-wide": "24px",
    "sds-code-s-600-narrow": "24px",
    "sds-code-s-600-wide": "24px"
  },
  "textTransform": {
    "sds-body-xxxs-400-narrow": "none",
    "sds-body-xxxs-400-wide": "none",
    "sds-body-xxxs-600-narrow": "none",
    "sds-body-xxxs-600-wide": "none",
    "sds-body-xxs-400-narrow": "none",
    "sds-body-xxs-400-wide": "none",
    "sds-body-xxs-600-narrow": "none",
    "sds-body-xxs-600-wide": "none",
    "sds-body-xs-400-narrow": "none",
    "sds-body-xs-400-wide": "none",
    "sds-body-xs-600-narrow": "none",
    "sds-body-xs-600-wide": "none",
    "sds-body-s-400-narrow": "none",
    "sds-body-s-400-wide": "none",
    "sds-body-s-600-narrow": "none",
    "sds-body-s-600-wide": "none",
    "sds-body-m-400-narrow": "none",
    "sds-body-m-400-wide": "none",
    "sds-body-m-600-narrow": "none",
    "sds-body-m-600-wide": "none",
    "sds-body-l-400-narrow": "none",
    "sds-body-l-400-wide": "none",
    "sds-body-l-600-narrow": "none",
    "sds-body-l-600-wide": "none",
    "sds-caps-xxxxs-600-narrow": "uppercase",
    "sds-caps-xxxxs-600-wide": "uppercase",
    "sds-caps-xxxs-600-narrow": "uppercase",
    "sds-caps-xxxs-600-wide": "uppercase",
    "sds-caps-xxs-600-narrow": "uppercase",
    "sds-caps-xxs-600-wide": "uppercase",
    "sds-header-xxxs-600-narrow": "none",
    "sds-header-xxxs-600-wide": "none",
    "sds-header-xxs-600-narrow": "none",
    "sds-header-xxs-600-wide": "none",
    "sds-header-xs-600-narrow": "none",
    "sds-header-xs-600-wide": "none",
    "sds-header-s-600-narrow": "none",
    "sds-header-s-600-wide": "none",
    "sds-header-m-600-narrow": "none",
    "sds-header-m-600-wide": "none",
    "sds-header-l-600-narrow": "none",
    "sds-header-l-600-wide": "none",
    "sds-header-xl-600-narrow": "none",
    "sds-header-xl-600-wide": "none",
    "sds-header-xxl-600-narrow": "none",
    "sds-header-xxl-600-wide": "none",
    "sds-tabular-xs-400-narrow": "none",
    "sds-tabular-xs-400-wide": "none",
    "sds-tabular-xs-600-narrow": "none",
    "sds-tabular-xs-600-wide": "none",
    "sds-tabular-s-400-narrow": "none",
    "sds-tabular-s-400-wide": "none",
    "sds-tabular-s-600-narrow": "none",
    "sds-tabular-s-600-wide": "none",
    "sds-code-xs-400-narrow": "none",
    "sds-code-xs-400-wide": "none",
    "sds-code-xs-600-narrow": "none",
    "sds-code-xs-600-wide": "none",
    "sds-code-s-400-narrow": "none",
    "sds-code-s-400-wide": "none",
    "sds-code-s-600-narrow": "none",
    "sds-code-s-600-wide": "none"
  },
  "typography": {
    "sds-body-xxxs-400-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0.1px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-body-xxxs-400-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "11px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0.1px",
        "lineHeight": "16px",
        "textTransform": "none"
      }
    },
    "sds-body-xxxs-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.1px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-body-xxxs-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "11px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.1px",
        "lineHeight": "16px",
        "textTransform": "none"
      }
    },
    "sds-body-xxs-400-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0.1px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-body-xxs-400-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0.1px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-body-xxs-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.1px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-body-xxs-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.1px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-body-xs-400-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0.08px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-body-xs-400-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0.08px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-body-xs-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.08px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-body-xs-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.08px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-body-s-400-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0.08px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-body-s-400-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0.08px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-body-s-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.08px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-body-s-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.08px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-body-m-400-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-body-m-400-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "16px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "26px",
        "textTransform": "none"
      }
    },
    "sds-body-m-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-body-m-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "16px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "26px",
        "textTransform": "none"
      }
    },
    "sds-body-l-400-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "16px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "26px",
        "textTransform": "none"
      }
    },
    "sds-body-l-400-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "18px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "28px",
        "textTransform": "none"
      }
    },
    "sds-body-l-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "16px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "26px",
        "textTransform": "none"
      }
    },
    "sds-body-l-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "18px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "28px",
        "textTransform": "none"
      }
    },
    "sds-caps-xxxxs-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "11px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.5px",
        "lineHeight": "16px",
        "textTransform": "uppercase"
      }
    },
    "sds-caps-xxxxs-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "10px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.5px",
        "lineHeight": "14px",
        "textTransform": "uppercase"
      }
    },
    "sds-caps-xxxs-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "11px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.5px",
        "lineHeight": "16px",
        "textTransform": "uppercase"
      }
    },
    "sds-caps-xxxs-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "11px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.5px",
        "lineHeight": "16px",
        "textTransform": "uppercase"
      }
    },
    "sds-caps-xxs-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.5px",
        "lineHeight": "18px",
        "textTransform": "uppercase"
      }
    },
    "sds-caps-xxs-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.5px",
        "lineHeight": "18px",
        "textTransform": "uppercase"
      }
    },
    "sds-header-xxxs-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.1px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-header-xxxs-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "11px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.1px",
        "lineHeight": "16px",
        "textTransform": "none"
      }
    },
    "sds-header-xxs-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.1px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-header-xxs-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "12px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.1px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-header-xs-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.08px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-header-xs-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.08px",
        "lineHeight": "18px",
        "textTransform": "none"
      }
    },
    "sds-header-s-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.08px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-header-s-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0.08px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-header-m-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-header-m-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "16px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "22px",
        "textTransform": "none"
      }
    },
    "sds-header-l-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "16px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "22px",
        "textTransform": "none"
      }
    },
    "sds-header-l-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "18px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-header-xl-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "18px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-header-xl-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "22px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "30px",
        "textTransform": "none"
      }
    },
    "sds-header-xxl-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "22px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "30px",
        "textTransform": "none"
      }
    },
    "sds-header-xxl-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "26px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "34px",
        "textTransform": "none"
      }
    },
    "sds-tabular-xs-400-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "tabular-nums",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-tabular-xs-400-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "tabular-nums",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-tabular-xs-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "tabular-nums",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-tabular-xs-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "tabular-nums",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-tabular-s-400-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "tabular-nums",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-tabular-s-400-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "tabular-nums",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-tabular-s-600-narrow": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "tabular-nums",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-tabular-s-600-wide": {
      "css": {
        "fontFamily": "var(--font-inter), Inter, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Helvetica, Arial, sans-serif",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "tabular-nums",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-code-xs-400-narrow": {
      "css": {
        "fontFamily": "IBM Plex Mono, monospace",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-code-xs-400-wide": {
      "css": {
        "fontFamily": "IBM Plex Mono, monospace",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-code-xs-600-narrow": {
      "css": {
        "fontFamily": "IBM Plex Mono, monospace",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-code-xs-600-wide": {
      "css": {
        "fontFamily": "IBM Plex Mono, monospace",
        "fontSize": "13px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "20px",
        "textTransform": "none"
      }
    },
    "sds-code-s-400-narrow": {
      "css": {
        "fontFamily": "IBM Plex Mono, monospace",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-code-s-400-wide": {
      "css": {
        "fontFamily": "IBM Plex Mono, monospace",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "400",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-code-s-600-narrow": {
      "css": {
        "fontFamily": "IBM Plex Mono, monospace",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    },
    "sds-code-s-600-wide": {
      "css": {
        "fontFamily": "IBM Plex Mono, monospace",
        "fontSize": "14px",
        "fontStyle": "normal",
        "fontVariantNumeric": "normal",
        "fontWeight": "600",
        "letterSpacing": "0px",
        "lineHeight": "24px",
        "textTransform": "none"
      }
    }
  },
  "height": {
    "sds-icon-input": "16px",
    "sds-icon-xs": "12px",
    "sds-icon-s": "16px",
    "sds-icon-l": "24px",
    "sds-icon-xl": "32px"
  },
  "width": {
    "sds-icon-input": "16px",
    "sds-icon-xs": "12px",
    "sds-icon-s": "16px",
    "sds-icon-l": "24px",
    "sds-icon-xl": "32px"
  },
  "borderRadius": {
    "sds-l": "20px",
    "sds-m": "4px",
    "sds-s": "2px",
    "sds-none": "0px"
  },
  "boxShadow": {
    "sds-l": "0.0px 2.0px 12.0px 0px rgba(0, 0, 0, 0.3)",
    "sds-m": "0.0px 2.0px 10.0px 0px rgba(0, 0, 0, 0.15), 0.0px 2.0px 4.0px 0px rgba(0, 0, 0, 0.15)",
    "sds-s": "0.0px 2.0px 4.0px 0px rgba(0, 0, 0, 0.25)",
    "sds-none": "none"
  },
  "breakpoints": {
    "sds-sm": "0px",
    "sds-md": "512px",
    "sds-lg": "1024px"
  },
  "colors": {
    "dark": {
      "sds-color-primitive-blue-100": "#0f1d4a",
      "sds-color-primitive-blue-200": "#0a216e",
      "sds-color-primitive-blue-300": "#0647b8",
      "sds-color-primitive-blue-400": "#2573f4",
      "sds-color-primitive-blue-500": "#5b9aff",
      "sds-color-primitive-blue-600": "#a2c9ff",
      "sds-color-primitive-blue-700": "#cde3ff",
      "sds-color-primitive-blue-800": "#e2eeff",
      "sds-color-primitive-gray-50": "#000000",
      "sds-color-primitive-gray-75": "#101010",
      "sds-color-primitive-gray-100": "#333333",
      "sds-color-primitive-gray-200": "#494949",
      "sds-color-primitive-gray-300": "#696969",
      "sds-color-primitive-gray-400": "#9b9b9b",
      "sds-color-primitive-gray-500": "#aaaaaa",
      "sds-color-primitive-gray-600": "#cdcdcd",
      "sds-color-primitive-gray-700": "#ededed",
      "sds-color-primitive-gray-800": "#fafafa",
      "sds-color-primitive-gray-900": "#ffffff",
      "sds-color-primitive-green-100": "#082608",
      "sds-color-primitive-green-200": "#063617",
      "sds-color-primitive-green-300": "#10632e",
      "sds-color-primitive-green-400": "#278b48",
      "sds-color-primitive-green-500": "#4bae68",
      "sds-color-primitive-green-600": "#85d898",
      "sds-color-primitive-green-700": "#bcecc5",
      "sds-color-primitive-green-800": "#daf4de",
      "sds-color-primitive-purple-100": "#331252",
      "sds-color-primitive-purple-200": "#410f70",
      "sds-color-primitive-purple-300": "#6429b2",
      "sds-color-primitive-purple-400": "#905de6",
      "sds-color-primitive-purple-500": "#aa89ef",
      "sds-color-primitive-purple-600": "#cebef8",
      "sds-color-primitive-purple-700": "#e4dcfc",
      "sds-color-primitive-purple-800": "#f0ebfe",
      "sds-color-primitive-red-100": "#330603",
      "sds-color-primitive-red-200": "#660a12",
      "sds-color-primitive-red-300": "#9e1c1c",
      "sds-color-primitive-red-400": "#c73028",
      "sds-color-primitive-red-500": "#e05043",
      "sds-color-primitive-red-600": "#ff988a",
      "sds-color-primitive-red-700": "#ffbdb3",
      "sds-color-primitive-red-800": "#ffd8d1",
      "sds-color-primitive-yellow-100": "#361b07",
      "sds-color-primitive-yellow-200": "#52270a",
      "sds-color-primitive-yellow-300": "#965a0b",
      "sds-color-primitive-yellow-400": "#bd8804",
      "sds-color-primitive-yellow-500": "#d9a943",
      "sds-color-primitive-yellow-600": "#e5bc63",
      "sds-color-primitive-yellow-700": "#f5d789",
      "sds-color-primitive-yellow-800": "#ffe6a8",
      "sds-color-primitive-overlay-100": "rgba(0, 0, 0, 0.08)",
      "sds-color-primitive-overlay-200": "rgba(0, 0, 0, 0.03)",
      "sds-color-semantic-base-background-primary": "#101010",
      "sds-color-semantic-base-background-primary-inverse": "#ffffff",
      "sds-color-semantic-base-background-secondary": "#333333",
      "sds-color-semantic-base-background-secondary-inverse": "#ededed",
      "sds-color-semantic-base-background-tertiary": "#494949",
      "sds-color-semantic-base-border-primary": "#cdcdcd",
      "sds-color-semantic-base-border-primary-disabled": "#696969",
      "sds-color-semantic-base-border-primary-disabled-inverse": "#cdcdcd",
      "sds-color-semantic-base-border-primary-hover": "#ffffff",
      "sds-color-semantic-base-border-primary-hover-inverse": "#000000",
      "sds-color-semantic-base-border-primary-inverse": "#696969",
      "sds-color-semantic-base-border-on-fill": "#000000",
      "sds-color-semantic-base-border-primary-pressed": "#ffffff",
      "sds-color-semantic-base-border-primary-pressed-inverse": "#000000",
      "sds-color-semantic-base-border-secondary": "#696969",
      "sds-color-semantic-base-divider": "#494949",
      "sds-color-semantic-base-divider-inverse": "#cdcdcd",
      "sds-color-semantic-base-fill-disabled": "#494949",
      "sds-color-semantic-base-fill-hover": "#69696947",
      "sds-color-semantic-base-fill-open": "#69696947",
      "sds-color-semantic-base-fill-pressed": "#69696947",
      "sds-color-semantic-base-fill-primary": "#333333",
      "sds-color-semantic-base-fill-selected": "#ffffff",
      "sds-color-semantic-base-ornament-disabled": "#696969",
      "sds-color-semantic-base-ornament-disabled-inverse": "#cdcdcd",
      "sds-color-semantic-base-ornament-on-fill": "#ffffff",
      "sds-color-semantic-base-ornament-primary": "#ffffff",
      "sds-color-semantic-base-ornament-primary-inverse": "#000000",
      "sds-color-semantic-base-ornament-secondary": "#cdcdcd",
      "sds-color-semantic-base-ornament-secondary-inverse": "#696969",
      "sds-color-semantic-base-ornament-secondary-hover": "#ffffff",
      "sds-color-semantic-base-ornament-secondary-pressed": "#ffffff",
      "sds-color-semantic-base-surface": "#333333",
      "sds-color-semantic-base-surface-inverse": "#ffffff",
      "sds-color-semantic-base-text-disabled": "#696969",
      "sds-color-semantic-base-text-disabled-inverse": "#cdcdcd",
      "sds-color-semantic-base-text-on-fill": "#ffffff",
      "sds-color-semantic-base-text-primary": "#ffffff",
      "sds-color-semantic-base-text-primary-inverse": "#000000",
      "sds-color-semantic-base-text-secondary": "#cdcdcd",
      "sds-color-semantic-base-text-secondary-inverse": "#696969",
      "sds-color-semantic-base-text-tertiary": "#9b9b9b",
      "sds-color-semantic-base-text-tertiary-inverse": "#aaaaaa",
      "sds-color-semantic-accent-border": "#a2c9ff",
      "sds-color-semantic-accent-border-focus": "#a2c9ff",
      "sds-color-semantic-accent-border-hover": "#cde3ff",
      "sds-color-semantic-accent-border-open": "#a2c9ff",
      "sds-color-semantic-accent-border-pressed": "#e2eeff",
      "sds-color-semantic-accent-border-selected": "#a2c9ff",
      "sds-color-semantic-accent-fill-hover": "#cde3ff",
      "sds-color-semantic-accent-fill-pressed": "#e2eeff",
      "sds-color-semantic-accent-fill-primary": "#2573f4",
      "sds-color-semantic-accent-ornament": "#a2c9ff",
      "sds-color-semantic-accent-ornament-focus": "#a2c9ff",
      "sds-color-semantic-accent-ornament-hover": "#cde3ff",
      "sds-color-semantic-accent-ornament-open": "#a2c9ff",
      "sds-color-semantic-accent-ornament-pressed": "#e2eeff",
      "sds-color-semantic-accent-ornament-selected": "#a2c9ff",
      "sds-color-semantic-accent-surface-primary": "#2573f4",
      "sds-color-semantic-accent-surface-secondary": "#0f1d4a",
      "sds-color-semantic-accent-text-action": "#a2c9ff",
      "sds-color-semantic-accent-text-action-hover": "#cde3ff",
      "sds-color-semantic-accent-text-action-pressed": "#e2eeff",
      "sds-color-semantic-beta-border": "#cebef8",
      "sds-color-semantic-beta-fill-hover": "#e4dcfc",
      "sds-color-semantic-beta-fill-pressed": "#f0ebfe",
      "sds-color-semantic-beta-fill-primary": "#905de6",
      "sds-color-semantic-beta-fill-secondary": "#331252",
      "sds-color-semantic-beta-ornament": "#cebef8",
      "sds-color-semantic-beta-surface-primary": "#905de6",
      "sds-color-semantic-beta-surface-secondary": "#331252",
      "sds-color-semantic-beta-text": "#cebef8",
      "sds-color-semantic-info-border": "#a2c9ff",
      "sds-color-semantic-info-fill-hover": "#cde3ff",
      "sds-color-semantic-info-fill-pressed": "#e2eeff",
      "sds-color-semantic-info-fill-primary": "#2573f4",
      "sds-color-semantic-info-fill-secondary": "#0f1d4a",
      "sds-color-semantic-info-ornament": "#a2c9ff",
      "sds-color-semantic-info-surface-primary": "#2573f4",
      "sds-color-semantic-info-surface-secondary": "#0f1d4a",
      "sds-color-semantic-info-text": "#a2c9ff",
      "sds-color-semantic-negative-border": "#ff988a",
      "sds-color-semantic-negative-fill-hover": "#ffbdb3",
      "sds-color-semantic-negative-fill-pressed": "#ffd8d1",
      "sds-color-semantic-negative-fill-primary": "#c73028",
      "sds-color-semantic-negative-fill-secondary": "#330603",
      "sds-color-semantic-negative-ornament": "#ff988a",
      "sds-color-semantic-negative-surface-primary": "#c73028",
      "sds-color-semantic-negative-surface-secondary": "#330603",
      "sds-color-semantic-negative-text": "#ff988a",
      "sds-color-semantic-neutral-border": "#aaaaaa",
      "sds-color-semantic-neutral-fill-hover": "#cdcdcd",
      "sds-color-semantic-neutral-fill-pressed": "#ededed",
      "sds-color-semantic-neutral-fill-primary": "#aaaaaa",
      "sds-color-semantic-neutral-fill-secondary": "#494949",
      "sds-color-semantic-neutral-ornament": "#ededed",
      "sds-color-semantic-neutral-surface-primary": "#aaaaaa",
      "sds-color-semantic-neutral-surface-secondary": "#494949",
      "sds-color-semantic-neutral-text": "#ededed",
      "sds-color-semantic-notice-border": "#e5bc63",
      "sds-color-semantic-notice-fill-hover": "#f5d789",
      "sds-color-semantic-notice-fill-pressed": "#ffe6a8",
      "sds-color-semantic-notice-fill-primary": "#bd8804",
      "sds-color-semantic-notice-fill-secondary": "#361b07",
      "sds-color-semantic-notice-ornament": "#e5bc63",
      "sds-color-semantic-notice-surface-primary": "#bd8804",
      "sds-color-semantic-notice-surface-secondary": "#361b07",
      "sds-color-semantic-notice-text": "#e5bc63",
      "sds-color-semantic-positive-border": "#85d898",
      "sds-color-semantic-positive-fill-hover": "#bcecc5",
      "sds-color-semantic-positive-fill-pressed": "#daf4de",
      "sds-color-semantic-positive-fill-primary": "#278b48",
      "sds-color-semantic-positive-fill-secondary": "#082608",
      "sds-color-semantic-positive-ornament": "#85d898",
      "sds-color-semantic-positive-surface-primary": "#278b48",
      "sds-color-semantic-positive-surface-secondary": "#082608",
      "sds-color-semantic-positive-text": "#85d898"
    },
    "light": {
      "sds-color-primitive-blue-100": "#e2eeff",
      "sds-color-primitive-blue-200": "#cce1ff",
      "sds-color-primitive-blue-300": "#9dc6ff",
      "sds-color-primitive-blue-400": "#6ca6ff",
      "sds-color-primitive-blue-500": "#1a6cef",
      "sds-color-primitive-blue-600": "#0041b9",
      "sds-color-primitive-blue-700": "#002d90",
      "sds-color-primitive-blue-800": "#00114a",
      "sds-color-primitive-gray-50": "#ffffff",
      "sds-color-primitive-gray-75": "#fafafa",
      "sds-color-primitive-gray-100": "#f3f3f3",
      "sds-color-primitive-gray-200": "#dfdfdf",
      "sds-color-primitive-gray-300": "#c3c3c3",
      "sds-color-primitive-gray-400": "#a5a5a5",
      "sds-color-primitive-gray-500": "#969696",
      "sds-color-primitive-gray-600": "#6c6c6c",
      "sds-color-primitive-gray-700": "#3b3b3b",
      "sds-color-primitive-gray-800": "#1b1b1b",
      "sds-color-primitive-gray-900": "#000000",
      "sds-color-primitive-green-100": "#daf4de",
      "sds-color-primitive-green-200": "#b9ecc3",
      "sds-color-primitive-green-300": "#7fd693",
      "sds-color-primitive-green-400": "#50b96d",
      "sds-color-primitive-green-500": "#238444",
      "sds-color-primitive-green-600": "#105b2b",
      "sds-color-primitive-green-700": "#07431d",
      "sds-color-primitive-green-800": "#001f00",
      "sds-color-primitive-purple-100": "#efeafe",
      "sds-color-primitive-purple-200": "#e4dbfc",
      "sds-color-primitive-purple-300": "#cbbaf8",
      "sds-color-primitive-purple-400": "#b296f2",
      "sds-color-primitive-purple-500": "#8b54e2",
      "sds-color-primitive-purple-600": "#6526b5",
      "sds-color-primitive-purple-700": "#490092",
      "sds-color-primitive-purple-800": "#26004c",
      "sds-color-primitive-red-100": "#ffe8e6",
      "sds-color-primitive-red-200": "#ffd6d2",
      "sds-color-primitive-red-300": "#ffafa8",
      "sds-color-primitive-red-400": "#ff7e78",
      "sds-color-primitive-red-500": "#db2131",
      "sds-color-primitive-red-600": "#980017",
      "sds-color-primitive-red-700": "#6f0008",
      "sds-color-primitive-red-800": "#340000",
      "sds-color-primitive-yellow-100": "#fff3db",
      "sds-color-primitive-yellow-200": "#ffdb97",
      "sds-color-primitive-yellow-300": "#ffca5c",
      "sds-color-primitive-yellow-400": "#fab700",
      "sds-color-primitive-yellow-500": "#da9900",
      "sds-color-primitive-yellow-600": "#b07300",
      "sds-color-primitive-yellow-700": "#7c3e00",
      "sds-color-primitive-yellow-800": "#541700",
      "sds-color-primitive-overlay-100": "rgba(0, 0, 0, 0.08)",
      "sds-color-primitive-overlay-200": "rgba(0, 0, 0, 0.03)",
      "sds-color-semantic-base-background-primary": "#ffffff",
      "sds-color-semantic-base-background-primary-inverse": "#000000",
      "sds-color-semantic-base-background-secondary": "#f3f3f3",
      "sds-color-semantic-base-background-secondary-inverse": "#3b3b3b",
      "sds-color-semantic-base-background-tertiary": "#dfdfdf",
      "sds-color-semantic-base-border-primary": "#6c6c6c",
      "sds-color-semantic-base-border-primary-disabled": "#c3c3c3",
      "sds-color-semantic-base-border-primary-disabled-inverse": "#6c6c6c",
      "sds-color-semantic-base-border-primary-hover": "#000000",
      "sds-color-semantic-base-border-primary-hover-inverse": "#ffffff",
      "sds-color-semantic-base-border-primary-inverse": "#c3c3c3",
      "sds-color-semantic-base-border-on-fill": "#ffffff",
      "sds-color-semantic-base-border-primary-pressed": "#000000",
      "sds-color-semantic-base-border-primary-pressed-inverse": "#ffffff",
      "sds-color-semantic-base-border-secondary": "#c3c3c3",
      "sds-color-semantic-base-divider": "#dfdfdf",
      "sds-color-semantic-base-divider-inverse": "#6c6c6c",
      "sds-color-semantic-base-fill-disabled": "#dfdfdf",
      "sds-color-semantic-base-fill-hover": "#c3c3c347",
      "sds-color-semantic-base-fill-open": "#c3c3c347",
      "sds-color-semantic-base-fill-pressed": "#c3c3c347",
      "sds-color-semantic-base-fill-primary": "#ffffff",
      "sds-color-semantic-base-fill-selected": "#000000",
      "sds-color-semantic-base-ornament-disabled": "#c3c3c3",
      "sds-color-semantic-base-ornament-disabled-inverse": "#6c6c6c",
      "sds-color-semantic-base-ornament-on-fill": "#ffffff",
      "sds-color-semantic-base-ornament-primary": "#000000",
      "sds-color-semantic-base-ornament-primary-inverse": "#ffffff",
      "sds-color-semantic-base-ornament-secondary": "#6c6c6c",
      "sds-color-semantic-base-ornament-secondary-inverse": "#c3c3c3",
      "sds-color-semantic-base-ornament-secondary-hover": "#000000",
      "sds-color-semantic-base-ornament-secondary-pressed": "#000000",
      "sds-color-semantic-base-surface": "#ffffff",
      "sds-color-semantic-base-surface-inverse": "#000000",
      "sds-color-semantic-base-text-disabled": "#c3c3c3",
      "sds-color-semantic-base-text-disabled-inverse": "#6c6c6c",
      "sds-color-semantic-base-text-on-fill": "#ffffff",
      "sds-color-semantic-base-text-primary": "#000000",
      "sds-color-semantic-base-text-primary-inverse": "#ffffff",
      "sds-color-semantic-base-text-secondary": "#6c6c6c",
      "sds-color-semantic-base-text-secondary-inverse": "#c3c3c3",
      "sds-color-semantic-base-text-tertiary": "#a5a5a5",
      "sds-color-semantic-base-text-tertiary-inverse": "#969696",
      "sds-color-semantic-accent-border": "#1a6cef",
      "sds-color-semantic-accent-border-focus": "#1a6cef",
      "sds-color-semantic-accent-border-hover": "#0041b9",
      "sds-color-semantic-accent-border-open": "#1a6cef",
      "sds-color-semantic-accent-border-pressed": "#002d90",
      "sds-color-semantic-accent-border-selected": "#1a6cef",
      "sds-color-semantic-accent-fill-hover": "#0041b9",
      "sds-color-semantic-accent-fill-pressed": "#002d90",
      "sds-color-semantic-accent-fill-primary": "#1a6cef",
      "sds-color-semantic-accent-ornament": "#1a6cef",
      "sds-color-semantic-accent-ornament-focus": "#1a6cef",
      "sds-color-semantic-accent-ornament-hover": "#0041b9",
      "sds-color-semantic-accent-ornament-open": "#1a6cef",
      "sds-color-semantic-accent-ornament-pressed": "#002d90",
      "sds-color-semantic-accent-ornament-selected": "#1a6cef",
      "sds-color-semantic-accent-surface-primary": "#1a6cef",
      "sds-color-semantic-accent-surface-secondary": "#e2eeff",
      "sds-color-semantic-accent-text-action": "#1a6cef",
      "sds-color-semantic-accent-text-action-hover": "#0041b9",
      "sds-color-semantic-accent-text-action-pressed": "#002d90",
      "sds-color-semantic-beta-border": "#6526b5",
      "sds-color-semantic-beta-fill-hover": "#6526b5",
      "sds-color-semantic-beta-fill-pressed": "#490092",
      "sds-color-semantic-beta-fill-primary": "#8b54e2",
      "sds-color-semantic-beta-fill-secondary": "#efeafe",
      "sds-color-semantic-beta-ornament": "#6526b5",
      "sds-color-semantic-beta-surface-primary": "#8b54e2",
      "sds-color-semantic-beta-surface-secondary": "#efeafe",
      "sds-color-semantic-beta-text": "#6526b5",
      "sds-color-semantic-info-border": "#0041b9",
      "sds-color-semantic-info-fill-hover": "#0041b9",
      "sds-color-semantic-info-fill-pressed": "#002d90",
      "sds-color-semantic-info-fill-primary": "#1a6cef",
      "sds-color-semantic-info-fill-secondary": "#e2eeff",
      "sds-color-semantic-info-ornament": "#0041b9",
      "sds-color-semantic-info-surface-primary": "#1a6cef",
      "sds-color-semantic-info-surface-secondary": "#e2eeff",
      "sds-color-semantic-info-text": "#0041b9",
      "sds-color-semantic-negative-border": "#980017",
      "sds-color-semantic-negative-fill-hover": "#980017",
      "sds-color-semantic-negative-fill-pressed": "#6f0008",
      "sds-color-semantic-negative-fill-primary": "#db2131",
      "sds-color-semantic-negative-fill-secondary": "#ffe8e6",
      "sds-color-semantic-negative-ornament": "#980017",
      "sds-color-semantic-negative-surface-primary": "#db2131",
      "sds-color-semantic-negative-surface-secondary": "#ffe8e6",
      "sds-color-semantic-negative-text": "#980017",
      "sds-color-semantic-neutral-border": "#969696",
      "sds-color-semantic-neutral-fill-hover": "#6c6c6c",
      "sds-color-semantic-neutral-fill-pressed": "#3b3b3b",
      "sds-color-semantic-neutral-fill-primary": "#969696",
      "sds-color-semantic-neutral-fill-secondary": "#dfdfdf",
      "sds-color-semantic-neutral-ornament": "#3b3b3b",
      "sds-color-semantic-neutral-surface-primary": "#969696",
      "sds-color-semantic-neutral-surface-secondary": "#dfdfdf",
      "sds-color-semantic-neutral-text": "#3b3b3b",
      "sds-color-semantic-notice-border": "#b07300",
      "sds-color-semantic-notice-fill-hover": "#b07300",
      "sds-color-semantic-notice-fill-pressed": "#7c3e00",
      "sds-color-semantic-notice-fill-primary": "#da9900",
      "sds-color-semantic-notice-fill-secondary": "#fff3db",
      "sds-color-semantic-notice-ornament": "#b07300",
      "sds-color-semantic-notice-surface-primary": "#da9900",
      "sds-color-semantic-notice-surface-secondary": "#fff3db",
      "sds-color-semantic-notice-text": "#b07300",
      "sds-color-semantic-positive-border": "#105b2b",
      "sds-color-semantic-positive-fill-hover": "#105b2b",
      "sds-color-semantic-positive-fill-pressed": "#07431d",
      "sds-color-semantic-positive-fill-primary": "#238444",
      "sds-color-semantic-positive-fill-secondary": "#daf4de",
      "sds-color-semantic-positive-ornament": "#105b2b",
      "sds-color-semantic-positive-surface-primary": "#238444",
      "sds-color-semantic-positive-surface-secondary": "#daf4de",
      "sds-color-semantic-positive-text": "#105b2b"
    }
  },
  "spacing": {
    "sds-default": "12px",
    "sds-xxxs": "2px",
    "sds-xxs": "4px",
    "sds-xs": "6px",
    "sds-s": "8px",
    "sds-m": "12px",
    "sds-l": "16px",
    "sds-xl": "24px",
    "sds-xxl": "40px"
  }
}
</file>

<file path="packages/components/src/common/styles-dictionary/scss/_variables.scss">
$sds-border-accent-default: 1px solid #1a6cef;
$sds-border-accent-default-dark: 1px solid #a2c9ff;
$sds-border-accent-focused: 1px solid #1a6cef;
$sds-border-accent-focused-dark: 1px solid #a2c9ff;
$sds-border-accent-open: 1px solid #1a6cef;
$sds-border-accent-open-dark: 1px solid #a2c9ff;
$sds-border-accent-selected: 1px solid #1a6cef;
$sds-border-accent-selected-dark: 1px solid #a2c9ff;
$sds-border-accent-hover: 1px solid #0041b9;
$sds-border-accent-hover-dark: 1px solid #cde3ff;
$sds-border-accent-pressed: 1px solid #002d90;
$sds-border-accent-pressed-dark: 1px solid #e2eeff;
$sds-border-base-default: 1px solid #969696;
$sds-border-base-default-dark: 1px solid #aaaaaa;
$sds-border-base-disabled: 1px solid #c3c3c3;
$sds-border-base-disabled-dark: 1px solid #696969;
$sds-border-base-divider: 1px solid #dfdfdf;
$sds-border-base-divider-dark: 1px solid #494949;
$sds-border-base-divider-inverse: 1px solid #6c6c6c;
$sds-border-base-divider-inverse-dark: 1px solid #cdcdcd;
$sds-border-base-hover: 1px dashed #000000;
$sds-border-base-hover-dark: 1px dashed #ffffff;
$sds-border-base-inverse: 1px dashed #ffffff;
$sds-border-base-inverse-dark: 1px dashed #000000;
$sds-border-base-pressed: 1px dashed #000000;
$sds-border-base-pressed-dark: 1px dashed #ffffff;
$sds-border-base-table: 1px solid #c3c3c3;
$sds-border-base-table-dark: 1px solid #696969;
$sds-border-beta-default: 1px solid #6526b5;
$sds-border-beta-default-dark: 1px solid #cebef8;
$sds-border-beta-extra-thick: 4px solid #6526b5;
$sds-border-beta-extra-thick-dark: 4px solid #cebef8;
$sds-border-beta-thick: 2px solid #6526b5;
$sds-border-beta-thick-dark: 2px solid #cebef8;
$sds-border-info-default: 1px solid #0041b9;
$sds-border-info-default-dark: 1px solid #a2c9ff;
$sds-border-info-extra-thick: 4px solid #0041b9;
$sds-border-info-extra-thick-dark: 4px solid #a2c9ff;
$sds-border-info-thick: 2px solid #0041b9;
$sds-border-info-thick-dark: 2px solid #a2c9ff;
$sds-border-link-dashed: 1px dashed;
$sds-border-link-dashed-dark: 1px dashed;
$sds-border-link-solid: 1px solid;
$sds-border-link-solid-dark: 1px solid;
$sds-border-negative-default: 1px solid #980017;
$sds-border-negative-default-dark: 1px solid #ff988a;
$sds-border-negative-extra-thick: 4px solid #980017;
$sds-border-negative-extra-thick-dark: 4px solid #ff988a;
$sds-border-negative-thick: 2px solid #980017;
$sds-border-negative-thick-dark: 2px solid #ff988a;
$sds-border-neutral-default: 1px solid #969696;
$sds-border-neutral-default-dark: 1px solid #aaaaaa;
$sds-border-neutral-extra-thick: 4px solid #969696;
$sds-border-neutral-extra-thick-dark: 4px solid #aaaaaa;
$sds-border-neutral-thick: 2px solid #969696;
$sds-border-neutral-thick-dark: 2px solid #aaaaaa;
$sds-border-none: none;
$sds-border-none-dark: none;
$sds-border-notice-default: 1px solid #b07300;
$sds-border-notice-default-dark: 1px solid #e5bc63;
$sds-border-notice-extra-thick: 4px solid #b07300;
$sds-border-notice-extra-thick-dark: 4px solid #e5bc63;
$sds-border-notice-thick: 2px solid #b07300;
$sds-border-notice-thick-dark: 2px solid #e5bc63;
$sds-border-positive-default: 1px solid #105b2b;
$sds-border-positive-default-dark: 1px solid #85d898;
$sds-border-positive-extra-thick: 4px solid #105b2b;
$sds-border-positive-extra-thick-dark: 4px solid #85d898;
$sds-border-positive-thick: 2px solid #105b2b;
$sds-border-positive-thick-dark: 2px solid #85d898;
$sds-breakpoint-sm: 0px;
$sds-breakpoint-md: 512px;
$sds-breakpoint-lg: 1024px;
$sds-color-primitive-blue-100: #e2eeff;
$sds-color-primitive-blue-100-dark: #0f1d4a;
$sds-color-primitive-blue-200: #cce1ff;
$sds-color-primitive-blue-200-dark: #0a216e;
$sds-color-primitive-blue-300: #9dc6ff;
$sds-color-primitive-blue-300-dark: #0647b8;
$sds-color-primitive-blue-400: #6ca6ff;
$sds-color-primitive-blue-400-dark: #2573f4;
$sds-color-primitive-blue-500: #1a6cef;
$sds-color-primitive-blue-500-dark: #5b9aff;
$sds-color-primitive-blue-600: #0041b9;
$sds-color-primitive-blue-600-dark: #a2c9ff;
$sds-color-primitive-blue-700: #002d90;
$sds-color-primitive-blue-700-dark: #cde3ff;
$sds-color-primitive-blue-800: #00114a;
$sds-color-primitive-blue-800-dark: #e2eeff;
$sds-color-primitive-gray-50: #ffffff;
$sds-color-primitive-gray-50-dark: #000000;
$sds-color-primitive-gray-75: #fafafa;
$sds-color-primitive-gray-75-dark: #101010;
$sds-color-primitive-gray-100: #f3f3f3;
$sds-color-primitive-gray-100-dark: #333333;
$sds-color-primitive-gray-200: #dfdfdf;
$sds-color-primitive-gray-200-dark: #494949;
$sds-color-primitive-gray-300: #c3c3c3;
$sds-color-primitive-gray-300-dark: #696969;
$sds-color-primitive-gray-400: #a5a5a5;
$sds-color-primitive-gray-400-dark: #9b9b9b;
$sds-color-primitive-gray-500: #969696;
$sds-color-primitive-gray-500-dark: #aaaaaa;
$sds-color-primitive-gray-600: #6c6c6c;
$sds-color-primitive-gray-600-dark: #cdcdcd;
$sds-color-primitive-gray-700: #3b3b3b;
$sds-color-primitive-gray-700-dark: #ededed;
$sds-color-primitive-gray-800: #1b1b1b;
$sds-color-primitive-gray-800-dark: #fafafa;
$sds-color-primitive-gray-900: #000000;
$sds-color-primitive-gray-900-dark: #ffffff;
$sds-color-primitive-green-100: #daf4de;
$sds-color-primitive-green-100-dark: #082608;
$sds-color-primitive-green-200: #b9ecc3;
$sds-color-primitive-green-200-dark: #063617;
$sds-color-primitive-green-300: #7fd693;
$sds-color-primitive-green-300-dark: #10632e;
$sds-color-primitive-green-400: #50b96d;
$sds-color-primitive-green-400-dark: #278b48;
$sds-color-primitive-green-500: #238444;
$sds-color-primitive-green-500-dark: #4bae68;
$sds-color-primitive-green-600: #105b2b;
$sds-color-primitive-green-600-dark: #85d898;
$sds-color-primitive-green-700: #07431d;
$sds-color-primitive-green-700-dark: #bcecc5;
$sds-color-primitive-green-800: #001f00;
$sds-color-primitive-green-800-dark: #daf4de;
$sds-color-primitive-purple-100: #efeafe;
$sds-color-primitive-purple-100-dark: #331252;
$sds-color-primitive-purple-200: #e4dbfc;
$sds-color-primitive-purple-200-dark: #410f70;
$sds-color-primitive-purple-300: #cbbaf8;
$sds-color-primitive-purple-300-dark: #6429b2;
$sds-color-primitive-purple-400: #b296f2;
$sds-color-primitive-purple-400-dark: #905de6;
$sds-color-primitive-purple-500: #8b54e2;
$sds-color-primitive-purple-500-dark: #aa89ef;
$sds-color-primitive-purple-600: #6526b5;
$sds-color-primitive-purple-600-dark: #cebef8;
$sds-color-primitive-purple-700: #490092;
$sds-color-primitive-purple-700-dark: #e4dcfc;
$sds-color-primitive-purple-800: #26004c;
$sds-color-primitive-purple-800-dark: #f0ebfe;
$sds-color-primitive-red-100: #ffe8e6;
$sds-color-primitive-red-100-dark: #330603;
$sds-color-primitive-red-200: #ffd6d2;
$sds-color-primitive-red-200-dark: #660a12;
$sds-color-primitive-red-300: #ffafa8;
$sds-color-primitive-red-300-dark: #9e1c1c;
$sds-color-primitive-red-400: #ff7e78;
$sds-color-primitive-red-400-dark: #c73028;
$sds-color-primitive-red-500: #db2131;
$sds-color-primitive-red-500-dark: #e05043;
$sds-color-primitive-red-600: #980017;
$sds-color-primitive-red-600-dark: #ff988a;
$sds-color-primitive-red-700: #6f0008;
$sds-color-primitive-red-700-dark: #ffbdb3;
$sds-color-primitive-red-800: #340000;
$sds-color-primitive-red-800-dark: #ffd8d1;
$sds-color-primitive-yellow-100: #fff3db;
$sds-color-primitive-yellow-100-dark: #361b07;
$sds-color-primitive-yellow-200: #ffdb97;
$sds-color-primitive-yellow-200-dark: #52270a;
$sds-color-primitive-yellow-300: #ffca5c;
$sds-color-primitive-yellow-300-dark: #965a0b;
$sds-color-primitive-yellow-400: #fab700;
$sds-color-primitive-yellow-400-dark: #bd8804;
$sds-color-primitive-yellow-500: #da9900;
$sds-color-primitive-yellow-500-dark: #d9a943;
$sds-color-primitive-yellow-600: #b07300;
$sds-color-primitive-yellow-600-dark: #e5bc63;
$sds-color-primitive-yellow-700: #7c3e00;
$sds-color-primitive-yellow-700-dark: #f5d789;
$sds-color-primitive-yellow-800: #541700;
$sds-color-primitive-yellow-800-dark: #ffe6a8;
$sds-color-primitive-overlay-100: rgba(0, 0, 0, 0.08);
$sds-color-primitive-overlay-100-dark: rgba(0, 0, 0, 0.08);
$sds-color-primitive-overlay-200: rgba(0, 0, 0, 0.03);
$sds-color-primitive-overlay-200-dark: rgba(0, 0, 0, 0.03);
$sds-color-semantic-base-background-primary: #ffffff;
$sds-color-semantic-base-background-primary-dark: #101010;
$sds-color-semantic-base-background-primary-inverse: #000000;
$sds-color-semantic-base-background-primary-inverse-dark: #ffffff;
$sds-color-semantic-base-background-secondary: #f3f3f3;
$sds-color-semantic-base-background-secondary-dark: #333333;
$sds-color-semantic-base-background-secondary-inverse: #3b3b3b;
$sds-color-semantic-base-background-secondary-inverse-dark: #ededed;
$sds-color-semantic-base-background-tertiary: #dfdfdf;
$sds-color-semantic-base-background-tertiary-dark: #494949;
$sds-color-semantic-base-border-primary: #6c6c6c;
$sds-color-semantic-base-border-primary-dark: #cdcdcd;
$sds-color-semantic-base-border-primary-disabled: #c3c3c3;
$sds-color-semantic-base-border-primary-disabled-dark: #696969;
$sds-color-semantic-base-border-primary-disabled-inverse: #6c6c6c;
$sds-color-semantic-base-border-primary-disabled-inverse-dark: #cdcdcd;
$sds-color-semantic-base-border-primary-hover: #000000;
$sds-color-semantic-base-border-primary-hover-dark: #ffffff;
$sds-color-semantic-base-border-primary-hover-inverse: #ffffff;
$sds-color-semantic-base-border-primary-hover-inverse-dark: #000000;
$sds-color-semantic-base-border-primary-inverse: #c3c3c3;
$sds-color-semantic-base-border-primary-inverse-dark: #696969;
$sds-color-semantic-base-border-on-fill: #ffffff;
$sds-color-semantic-base-border-on-fill-dark: #000000;
$sds-color-semantic-base-border-primary-pressed: #000000;
$sds-color-semantic-base-border-primary-pressed-dark: #ffffff;
$sds-color-semantic-base-border-primary-pressed-inverse: #ffffff;
$sds-color-semantic-base-border-primary-pressed-inverse-dark: #000000;
$sds-color-semantic-base-border-secondary: #c3c3c3;
$sds-color-semantic-base-border-secondary-dark: #696969;
$sds-color-semantic-base-divider: #dfdfdf;
$sds-color-semantic-base-divider-dark: #494949;
$sds-color-semantic-base-divider-inverse: #6c6c6c;
$sds-color-semantic-base-divider-inverse-dark: #cdcdcd;
$sds-color-semantic-base-fill-disabled: #dfdfdf;
$sds-color-semantic-base-fill-disabled-dark: #494949;
$sds-color-semantic-base-fill-hover: #c3c3c347;
$sds-color-semantic-base-fill-hover-dark: #69696947;
$sds-color-semantic-base-fill-open: #c3c3c347;
$sds-color-semantic-base-fill-open-dark: #69696947;
$sds-color-semantic-base-fill-pressed: #c3c3c347;
$sds-color-semantic-base-fill-pressed-dark: #69696947;
$sds-color-semantic-base-fill-primary: #ffffff;
$sds-color-semantic-base-fill-primary-dark: #333333;
$sds-color-semantic-base-fill-selected: #000000;
$sds-color-semantic-base-fill-selected-dark: #ffffff;
$sds-color-semantic-base-ornament-disabled: #c3c3c3;
$sds-color-semantic-base-ornament-disabled-dark: #696969;
$sds-color-semantic-base-ornament-disabled-inverse: #6c6c6c;
$sds-color-semantic-base-ornament-disabled-inverse-dark: #cdcdcd;
$sds-color-semantic-base-ornament-on-fill: #ffffff;
$sds-color-semantic-base-ornament-on-fill-dark: #ffffff;
$sds-color-semantic-base-ornament-primary: #000000;
$sds-color-semantic-base-ornament-primary-dark: #ffffff;
$sds-color-semantic-base-ornament-primary-inverse: #ffffff;
$sds-color-semantic-base-ornament-primary-inverse-dark: #000000;
$sds-color-semantic-base-ornament-secondary: #6c6c6c;
$sds-color-semantic-base-ornament-secondary-dark: #cdcdcd;
$sds-color-semantic-base-ornament-secondary-inverse: #c3c3c3;
$sds-color-semantic-base-ornament-secondary-inverse-dark: #696969;
$sds-color-semantic-base-ornament-secondary-hover: #000000;
$sds-color-semantic-base-ornament-secondary-hover-dark: #ffffff;
$sds-color-semantic-base-ornament-secondary-pressed: #000000;
$sds-color-semantic-base-ornament-secondary-pressed-dark: #ffffff;
$sds-color-semantic-base-surface: #ffffff;
$sds-color-semantic-base-surface-dark: #333333;
$sds-color-semantic-base-surface-inverse: #000000;
$sds-color-semantic-base-surface-inverse-dark: #ffffff;
$sds-color-semantic-base-text-disabled: #c3c3c3;
$sds-color-semantic-base-text-disabled-dark: #696969;
$sds-color-semantic-base-text-disabled-inverse: #6c6c6c;
$sds-color-semantic-base-text-disabled-inverse-dark: #cdcdcd;
$sds-color-semantic-base-text-on-fill: #ffffff;
$sds-color-semantic-base-text-on-fill-dark: #ffffff;
$sds-color-semantic-base-text-primary: #000000;
$sds-color-semantic-base-text-primary-dark: #ffffff;
$sds-color-semantic-base-text-primary-inverse: #ffffff;
$sds-color-semantic-base-text-primary-inverse-dark: #000000;
$sds-color-semantic-base-text-secondary: #6c6c6c;
$sds-color-semantic-base-text-secondary-dark: #cdcdcd;
$sds-color-semantic-base-text-secondary-inverse: #c3c3c3;
$sds-color-semantic-base-text-secondary-inverse-dark: #696969;
$sds-color-semantic-base-text-tertiary: #a5a5a5;
$sds-color-semantic-base-text-tertiary-dark: #9b9b9b;
$sds-color-semantic-base-text-tertiary-inverse: #969696;
$sds-color-semantic-base-text-tertiary-inverse-dark: #aaaaaa;
$sds-color-semantic-accent-border: #1a6cef;
$sds-color-semantic-accent-border-dark: #a2c9ff;
$sds-color-semantic-accent-border-focus: #1a6cef;
$sds-color-semantic-accent-border-focus-dark: #a2c9ff;
$sds-color-semantic-accent-border-hover: #0041b9;
$sds-color-semantic-accent-border-hover-dark: #cde3ff;
$sds-color-semantic-accent-border-open: #1a6cef;
$sds-color-semantic-accent-border-open-dark: #a2c9ff;
$sds-color-semantic-accent-border-pressed: #002d90;
$sds-color-semantic-accent-border-pressed-dark: #e2eeff;
$sds-color-semantic-accent-border-selected: #1a6cef;
$sds-color-semantic-accent-border-selected-dark: #a2c9ff;
$sds-color-semantic-accent-fill-hover: #0041b9;
$sds-color-semantic-accent-fill-hover-dark: #cde3ff;
$sds-color-semantic-accent-fill-pressed: #002d90;
$sds-color-semantic-accent-fill-pressed-dark: #e2eeff;
$sds-color-semantic-accent-fill-primary: #1a6cef;
$sds-color-semantic-accent-fill-primary-dark: #2573f4;
$sds-color-semantic-accent-ornament: #1a6cef;
$sds-color-semantic-accent-ornament-dark: #a2c9ff;
$sds-color-semantic-accent-ornament-focus: #1a6cef;
$sds-color-semantic-accent-ornament-focus-dark: #a2c9ff;
$sds-color-semantic-accent-ornament-hover: #0041b9;
$sds-color-semantic-accent-ornament-hover-dark: #cde3ff;
$sds-color-semantic-accent-ornament-open: #1a6cef;
$sds-color-semantic-accent-ornament-open-dark: #a2c9ff;
$sds-color-semantic-accent-ornament-pressed: #002d90;
$sds-color-semantic-accent-ornament-pressed-dark: #e2eeff;
$sds-color-semantic-accent-ornament-selected: #1a6cef;
$sds-color-semantic-accent-ornament-selected-dark: #a2c9ff;
$sds-color-semantic-accent-surface-primary: #1a6cef;
$sds-color-semantic-accent-surface-primary-dark: #2573f4;
$sds-color-semantic-accent-surface-secondary: #e2eeff;
$sds-color-semantic-accent-surface-secondary-dark: #0f1d4a;
$sds-color-semantic-accent-text-action: #1a6cef;
$sds-color-semantic-accent-text-action-dark: #a2c9ff;
$sds-color-semantic-accent-text-action-hover: #0041b9;
$sds-color-semantic-accent-text-action-hover-dark: #cde3ff;
$sds-color-semantic-accent-text-action-pressed: #002d90;
$sds-color-semantic-accent-text-action-pressed-dark: #e2eeff;
$sds-color-semantic-beta-border: #6526b5;
$sds-color-semantic-beta-border-dark: #cebef8;
$sds-color-semantic-beta-fill-hover: #6526b5;
$sds-color-semantic-beta-fill-hover-dark: #e4dcfc;
$sds-color-semantic-beta-fill-pressed: #490092;
$sds-color-semantic-beta-fill-pressed-dark: #f0ebfe;
$sds-color-semantic-beta-fill-primary: #8b54e2;
$sds-color-semantic-beta-fill-primary-dark: #905de6;
$sds-color-semantic-beta-fill-secondary: #efeafe;
$sds-color-semantic-beta-fill-secondary-dark: #331252;
$sds-color-semantic-beta-ornament: #6526b5;
$sds-color-semantic-beta-ornament-dark: #cebef8;
$sds-color-semantic-beta-surface-primary: #8b54e2;
$sds-color-semantic-beta-surface-primary-dark: #905de6;
$sds-color-semantic-beta-surface-secondary: #efeafe;
$sds-color-semantic-beta-surface-secondary-dark: #331252;
$sds-color-semantic-beta-text: #6526b5;
$sds-color-semantic-beta-text-dark: #cebef8;
$sds-color-semantic-info-border: #0041b9;
$sds-color-semantic-info-border-dark: #a2c9ff;
$sds-color-semantic-info-fill-hover: #0041b9;
$sds-color-semantic-info-fill-hover-dark: #cde3ff;
$sds-color-semantic-info-fill-pressed: #002d90;
$sds-color-semantic-info-fill-pressed-dark: #e2eeff;
$sds-color-semantic-info-fill-primary: #1a6cef;
$sds-color-semantic-info-fill-primary-dark: #2573f4;
$sds-color-semantic-info-fill-secondary: #e2eeff;
$sds-color-semantic-info-fill-secondary-dark: #0f1d4a;
$sds-color-semantic-info-ornament: #0041b9;
$sds-color-semantic-info-ornament-dark: #a2c9ff;
$sds-color-semantic-info-surface-primary: #1a6cef;
$sds-color-semantic-info-surface-primary-dark: #2573f4;
$sds-color-semantic-info-surface-secondary: #e2eeff;
$sds-color-semantic-info-surface-secondary-dark: #0f1d4a;
$sds-color-semantic-info-text: #0041b9;
$sds-color-semantic-info-text-dark: #a2c9ff;
$sds-color-semantic-negative-border: #980017;
$sds-color-semantic-negative-border-dark: #ff988a;
$sds-color-semantic-negative-fill-hover: #980017;
$sds-color-semantic-negative-fill-hover-dark: #ffbdb3;
$sds-color-semantic-negative-fill-pressed: #6f0008;
$sds-color-semantic-negative-fill-pressed-dark: #ffd8d1;
$sds-color-semantic-negative-fill-primary: #db2131;
$sds-color-semantic-negative-fill-primary-dark: #c73028;
$sds-color-semantic-negative-fill-secondary: #ffe8e6;
$sds-color-semantic-negative-fill-secondary-dark: #330603;
$sds-color-semantic-negative-ornament: #980017;
$sds-color-semantic-negative-ornament-dark: #ff988a;
$sds-color-semantic-negative-surface-primary: #db2131;
$sds-color-semantic-negative-surface-primary-dark: #c73028;
$sds-color-semantic-negative-surface-secondary: #ffe8e6;
$sds-color-semantic-negative-surface-secondary-dark: #330603;
$sds-color-semantic-negative-text: #980017;
$sds-color-semantic-negative-text-dark: #ff988a;
$sds-color-semantic-neutral-border: #969696;
$sds-color-semantic-neutral-border-dark: #aaaaaa;
$sds-color-semantic-neutral-fill-hover: #6c6c6c;
$sds-color-semantic-neutral-fill-hover-dark: #cdcdcd;
$sds-color-semantic-neutral-fill-pressed: #3b3b3b;
$sds-color-semantic-neutral-fill-pressed-dark: #ededed;
$sds-color-semantic-neutral-fill-primary: #969696;
$sds-color-semantic-neutral-fill-primary-dark: #aaaaaa;
$sds-color-semantic-neutral-fill-secondary: #dfdfdf;
$sds-color-semantic-neutral-fill-secondary-dark: #494949;
$sds-color-semantic-neutral-ornament: #3b3b3b;
$sds-color-semantic-neutral-ornament-dark: #ededed;
$sds-color-semantic-neutral-surface-primary: #969696;
$sds-color-semantic-neutral-surface-primary-dark: #aaaaaa;
$sds-color-semantic-neutral-surface-secondary: #dfdfdf;
$sds-color-semantic-neutral-surface-secondary-dark: #494949;
$sds-color-semantic-neutral-text: #3b3b3b;
$sds-color-semantic-neutral-text-dark: #ededed;
$sds-color-semantic-notice-border: #b07300;
$sds-color-semantic-notice-border-dark: #e5bc63;
$sds-color-semantic-notice-fill-hover: #b07300;
$sds-color-semantic-notice-fill-hover-dark: #f5d789;
$sds-color-semantic-notice-fill-pressed: #7c3e00;
$sds-color-semantic-notice-fill-pressed-dark: #ffe6a8;
$sds-color-semantic-notice-fill-primary: #da9900;
$sds-color-semantic-notice-fill-primary-dark: #bd8804;
$sds-color-semantic-notice-fill-secondary: #fff3db;
$sds-color-semantic-notice-fill-secondary-dark: #361b07;
$sds-color-semantic-notice-ornament: #b07300;
$sds-color-semantic-notice-ornament-dark: #e5bc63;
$sds-color-semantic-notice-surface-primary: #da9900;
$sds-color-semantic-notice-surface-primary-dark: #bd8804;
$sds-color-semantic-notice-surface-secondary: #fff3db;
$sds-color-semantic-notice-surface-secondary-dark: #361b07;
$sds-color-semantic-notice-text: #b07300;
$sds-color-semantic-notice-text-dark: #e5bc63;
$sds-color-semantic-positive-border: #105b2b;
$sds-color-semantic-positive-border-dark: #85d898;
$sds-color-semantic-positive-fill-hover: #105b2b;
$sds-color-semantic-positive-fill-hover-dark: #bcecc5;
$sds-color-semantic-positive-fill-pressed: #07431d;
$sds-color-semantic-positive-fill-pressed-dark: #daf4de;
$sds-color-semantic-positive-fill-primary: #238444;
$sds-color-semantic-positive-fill-primary-dark: #278b48;
$sds-color-semantic-positive-fill-secondary: #daf4de;
$sds-color-semantic-positive-fill-secondary-dark: #082608;
$sds-color-semantic-positive-ornament: #105b2b;
$sds-color-semantic-positive-ornament-dark: #85d898;
$sds-color-semantic-positive-surface-primary: #238444;
$sds-color-semantic-positive-surface-primary-dark: #278b48;
$sds-color-semantic-positive-surface-secondary: #daf4de;
$sds-color-semantic-positive-surface-secondary-dark: #082608;
$sds-color-semantic-positive-text: #105b2b;
$sds-color-semantic-positive-text-dark: #85d898;
$sds-corner-l: 20px;
$sds-corner-m: 4px;
$sds-corner-s: 2px;
$sds-corner-none: 0px;
$sds-drop-shadow-l: 0.0px 2.0px 12.0px 0px rgba(0, 0, 0, 0.3);
$sds-drop-shadow-m: 0.0px 2.0px 10.0px 0px rgba(0, 0, 0, 0.15), 0.0px 2.0px 4.0px 0px rgba(0, 0, 0, 0.15);
$sds-drop-shadow-s: 0.0px 2.0px 4.0px 0px rgba(0, 0, 0, 0.25);
$sds-drop-shadow-none: none;
$sds-font-font-family-body: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-font-family-body-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-font-family-caps: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-font-family-caps-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-font-family-code: "IBM Plex Mono", monospace;
$sds-font-font-family-code-narrow: "IBM Plex Mono", monospace;
$sds-font-font-family-header: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-font-family-header-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-font-family-tabular: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-font-family-tabular-narrow: var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xxxs-400-font: 400 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xxxs-400-font-narrow: 400 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xxxs-400-letter-spacing: 0.1px;
$sds-font-body-xxxs-400-letter-spacing-narrow: 0.1px;
$sds-font-body-xxxs-600-font: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xxxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xxxs-600-letter-spacing: 0.1px;
$sds-font-body-xxxs-600-letter-spacing-narrow: 0.1px;
$sds-font-body-xxs-400-font: 400 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xxs-400-font-narrow: 400 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xxs-400-letter-spacing: 0.1px;
$sds-font-body-xxs-400-letter-spacing-narrow: 0.1px;
$sds-font-body-xxs-600-font: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xxs-600-letter-spacing: 0.1px;
$sds-font-body-xxs-600-letter-spacing-narrow: 0.1px;
$sds-font-body-xs-400-font: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xs-400-font-narrow: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xs-400-letter-spacing: 0.08px;
$sds-font-body-xs-400-letter-spacing-narrow: 0.08px;
$sds-font-body-xs-600-font: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xs-600-font-narrow: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-xs-600-letter-spacing: 0.08px;
$sds-font-body-xs-600-letter-spacing-narrow: 0.08px;
$sds-font-body-s-400-font: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-s-400-font-narrow: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-s-400-letter-spacing: 0.08px;
$sds-font-body-s-400-letter-spacing-narrow: 0.08px;
$sds-font-body-s-600-font: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-s-600-font-narrow: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-s-600-letter-spacing: 0.08px;
$sds-font-body-s-600-letter-spacing-narrow: 0.08px;
$sds-font-body-m-400-font: 400 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-m-400-font-narrow: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-m-400-letter-spacing: 0px;
$sds-font-body-m-400-letter-spacing-narrow: 0px;
$sds-font-body-m-600-font: 600 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-m-600-font-narrow: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-m-600-letter-spacing: 0px;
$sds-font-body-m-600-letter-spacing-narrow: 0px;
$sds-font-body-l-400-font: 400 18px/28px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-l-400-font-narrow: 400 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-l-400-letter-spacing: 0px;
$sds-font-body-l-400-letter-spacing-narrow: 0px;
$sds-font-body-l-600-font: 600 18px/28px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-l-600-font-narrow: 600 16px/26px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-body-l-600-letter-spacing: 0px;
$sds-font-body-l-600-letter-spacing-narrow: 0px;
$sds-font-caps-xxxxs-600-font: 600 10px/14px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-caps-xxxxs-600-font-narrow: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-caps-xxxxs-600-letter-spacing: 0.5px;
$sds-font-caps-xxxxs-600-letter-spacing-narrow: 0.5px;
$sds-font-caps-xxxxs-600-text-transform: uppercase;
$sds-font-caps-xxxxs-600-text-transform-narrow: uppercase;
$sds-font-caps-xxxs-600-font: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-caps-xxxs-600-font-narrow: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-caps-xxxs-600-letter-spacing: 0.5px;
$sds-font-caps-xxxs-600-letter-spacing-narrow: 0.5px;
$sds-font-caps-xxxs-600-text-transform: uppercase;
$sds-font-caps-xxxs-600-text-transform-narrow: uppercase;
$sds-font-caps-xxs-600-font: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-caps-xxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-caps-xxs-600-letter-spacing: 0.5px;
$sds-font-caps-xxs-600-letter-spacing-narrow: 0.5px;
$sds-font-caps-xxs-600-text-transform: uppercase;
$sds-font-caps-xxs-600-text-transform-narrow: uppercase;
$sds-font-header-xxxs-600-font: 600 11px/16px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-xxxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-xxxs-600-letter-spacing: 0.1px;
$sds-font-header-xxxs-600-letter-spacing-narrow: 0.1px;
$sds-font-header-xxs-600-font: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-xxs-600-font-narrow: 600 12px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-xxs-600-letter-spacing: 0.1px;
$sds-font-header-xxs-600-letter-spacing-narrow: 0.1px;
$sds-font-header-xs-600-font: 600 13px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-xs-600-font-narrow: 600 13px/18px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-xs-600-letter-spacing: 0.08px;
$sds-font-header-xs-600-letter-spacing-narrow: 0.08px;
$sds-font-header-s-600-font: 600 14px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-s-600-font-narrow: 600 14px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-s-600-letter-spacing: 0.08px;
$sds-font-header-s-600-letter-spacing-narrow: 0.08px;
$sds-font-header-m-600-font: 600 16px/22px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-m-600-font-narrow: 600 14px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-m-600-letter-spacing: 0px;
$sds-font-header-m-600-letter-spacing-narrow: 0.08px;
$sds-font-header-l-600-font: 600 18px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-l-600-font-narrow: 600 16px/22px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-l-600-letter-spacing: 0px;
$sds-font-header-l-600-letter-spacing-narrow: 0px;
$sds-font-header-xl-600-font: 600 22px/30px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-xl-600-font-narrow: 600 18px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-xl-600-letter-spacing: 0px;
$sds-font-header-xl-600-letter-spacing-narrow: 0px;
$sds-font-header-xxl-600-font: 600 26px/34px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-xxl-600-font-narrow: 600 22px/30px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-header-xxl-600-letter-spacing: 0px;
$sds-font-header-xxl-600-letter-spacing-narrow: 0px;
$sds-font-tabular-xs-400-font: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-tabular-xs-400-font-narrow: 400 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-tabular-xs-400-font-variant-numeric: tabular-nums;
$sds-font-tabular-xs-400-font-variant-numeric-narrow: tabular-nums;
$sds-font-tabular-xs-400-letter-spacing: 0px;
$sds-font-tabular-xs-400-letter-spacing-narrow: 0px;
$sds-font-tabular-xs-600-font: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-tabular-xs-600-font-narrow: 600 13px/20px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-tabular-xs-600-font-variant-numeric: tabular-nums;
$sds-font-tabular-xs-600-font-variant-numeric-narrow: tabular-nums;
$sds-font-tabular-xs-600-letter-spacing: 0px;
$sds-font-tabular-xs-600-letter-spacing-narrow: 0px;
$sds-font-tabular-s-400-font: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-tabular-s-400-font-narrow: 400 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-tabular-s-400-font-variant-numeric: tabular-nums;
$sds-font-tabular-s-400-font-variant-numeric-narrow: tabular-nums;
$sds-font-tabular-s-400-letter-spacing: 0px;
$sds-font-tabular-s-400-letter-spacing-narrow: 0px;
$sds-font-tabular-s-600-font: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-tabular-s-600-font-narrow: 600 14px/24px var(--font-inter),Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Helvetica,Arial,sans-serif;
$sds-font-tabular-s-600-font-variant-numeric: tabular-nums;
$sds-font-tabular-s-600-font-variant-numeric-narrow: tabular-nums;
$sds-font-tabular-s-600-letter-spacing: 0px;
$sds-font-tabular-s-600-letter-spacing-narrow: 0px;
$sds-font-code-xs-400-font: 400 13px/20px "IBM Plex Mono", monospace;
$sds-font-code-xs-400-font-narrow: 400 13px/20px "IBM Plex Mono", monospace;
$sds-font-code-xs-400-letter-spacing: 0px;
$sds-font-code-xs-400-letter-spacing-narrow: 0px;
$sds-font-code-xs-600-font: 600 13px/20px "IBM Plex Mono", monospace;
$sds-font-code-xs-600-font-narrow: 600 13px/20px "IBM Plex Mono", monospace;
$sds-font-code-xs-600-letter-spacing: 0px;
$sds-font-code-xs-600-letter-spacing-narrow: 0px;
$sds-font-code-s-400-font: 400 14px/24px "IBM Plex Mono", monospace;
$sds-font-code-s-400-font-narrow: 400 14px/24px "IBM Plex Mono", monospace;
$sds-font-code-s-400-letter-spacing: 0px;
$sds-font-code-s-400-letter-spacing-narrow: 0px;
$sds-font-code-s-600-font: 600 14px/24px "IBM Plex Mono", monospace;
$sds-font-code-s-600-font-narrow: 600 14px/24px "IBM Plex Mono", monospace;
$sds-font-code-s-600-letter-spacing: 0px;
$sds-font-code-s-600-letter-spacing-narrow: 0px;
$sds-icon-size-input-height: 16px;
$sds-icon-size-input-width: 16px;
$sds-icon-size-xs-height: 12px;
$sds-icon-size-xs-width: 12px;
$sds-icon-size-s-height: 16px;
$sds-icon-size-s-width: 16px;
$sds-icon-size-l-height: 24px;
$sds-icon-size-l-width: 24px;
$sds-icon-size-xl-height: 32px;
$sds-icon-size-xl-width: 32px;
$sds-space-default: 12px;
$sds-space-xxxs: 2px;
$sds-space-xxs: 4px;
$sds-space-xs: 6px;
$sds-space-s: 8px;
$sds-space-m: 12px;
$sds-space-l: 16px;
$sds-space-xl: 24px;
$sds-space-xxl: 40px;
</file>

<file path="packages/components/src/common/styles-dictionary/build.mjs">
// eslint-disable-next-line import/no-unresolved
import StyleDictionary from "style-dictionary";
import { dirname } from "path";
import { fileURLToPath } from "url";
import { cssFormatter } from "./custom-formatters/cssFormatter.mjs";
import { scssFormatter } from "./custom-formatters/scssFormatter.mjs";
import { tailwindFormatter } from "./custom-formatters/tailwindFormatter.mjs";

const DIRNAME = dirname(fileURLToPath(import.meta.url));

// REGISTER THE CUSTOM FORMATTERS

StyleDictionary.registerFormat({
  format: cssFormatter,
  name: "sds/css",
});

StyleDictionary.registerFormat({
  format: scssFormatter,
  name: "sds/scss",
});

StyleDictionary.registerFormat({
  format: tailwindFormatter,
  name: "sds/tailwind",
});

// APPLY THE CONFIGURATION
// IMPORTANT: the registration of custom formatters
// needs to be done _before_ applying the configuration
const sd = new StyleDictionary(DIRNAME + "/config.mjs");

// FINALLY, BUILD ALL THE PLATFORMS
await sd.buildAllPlatforms();
</file>

<file path="packages/components/src/common/styles-dictionary/config.mjs">
/* Font-family explanation:
   The following font stack is designed to provide compatibility across multiple operating systems:
   - var(--font-inter): Custom Inter font defined by Next.js.
   - Inter: Standard Inter font fallback.
   - -apple-system, BlinkMacSystemFont: macOS-specific system fonts.
   - Segoe UI: Default system font for Windows.
   - Roboto: Default system font for most Linux distributions.
   - Helvetica Neue, Helvetica, Arial, sans-serif: General fallbacks to ensure compatibility.
   Reference:
   An article explaining how platforms like GitHub and Medium use similar fallback font stacks.
   Link: https://css-tricks.com/snippets/css/system-font-stack/
*/

const config = {
  platforms: {
    css: {
      buildPath: "src/common/styles-dictionary/css/",
      files: [
        {
          destination: "variables.css",
          format: "sds/css",
        },
      ],
      options: {
        showFileHeader: false,
      },
      transformGroup: "css",
    },
    js: {
      buildPath: "src/common/styles-dictionary/json/",
      files: [
        {
          destination: "tailwind.json",
          format: "sds/tailwind",
          options: {
            prefix: "sds",
          },
        },
      ],
      options: {
        showFileHeader: false,
      },
      transformGroup: "js",
    },
    scss: {
      buildPath: "src/common/styles-dictionary/scss/",
      files: [
        {
          destination: "_variables.scss",
          format: "sds/scss",
        },
      ],
      options: {
        showFileHeader: false,
      },
      transformGroup: "scss",
    },
  },
  source: ["src/common/styles-dictionary/design-tokens/*.json"],
};

export default config;
</file>

<file path="packages/components/src/common/svgs/IconBacteriaLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M12.205 14.698a1.956 1.956 0 1 1-3.911 0 1.956 1.956 0 0 1 3.911 0Zm-1.955.756a.756.756 0 1 0 0-1.512.756.756 0 0 0 0 1.512Z"/>
  <path d="M14.248 7.998a1.023 1.023 0 1 0 0-2.047 1.023 1.023 0 0 0 0 2.047Zm-1.463 4.142a.756.756 0 0 1 .242-1.041l1.033-.643a.756.756 0 0 1 .799 1.282l-1.033.644a.756.756 0 0 1-1.04-.242Zm-2.627-2.83a.756.756 0 1 0 1.491-.249L11.4 7.57a.756.756 0 0 0-1.49.249l.248 1.491Z"/>
  <path fill-rule="evenodd" d="M15.198 2.435a5.643 5.643 0 0 0-2.685-.306L11.94.882a.756.756 0 1 0-1.373.632l.467 1.015a5.708 5.708 0 0 0-.565.276l-.635-.756a.756.756 0 0 0-1.157.973l.58.69c-.203.2-.393.418-.566.65l-.898-.294a.756.756 0 0 0-.47 1.437l.625.204a5.81 5.81 0 0 0-.03.08l-2.181 5.904-.415-.349a.756.756 0 0 0-.973 1.158l.95.797c-.056.43-.06.86-.017 1.283l-1.019.172a.756.756 0 0 0 .253 1.49l1.12-.19a5.662 5.662 0 0 0 2.378 2.824c-.086.175-.184.357-.289.553l-.015.027c-.172.32-.37.686-.507 1.05-.14.377-.25.835-.157 1.32.097.51.396.938.856 1.281.491.366 1.009.491 1.524.428.474-.058.892-.27 1.22-.456.152-.087.28-.165.397-.236.177-.108.332-.202.52-.297.276-.14.491-.203.683-.203.52 0 .743.174.839.274a.62.62 0 0 1 .123.19.764.764 0 0 0 1.477-.389l-.735.181.735-.18v-.005l-.002-.005-.003-.01-.007-.025a1.686 1.686 0 0 0-.104-.265 2.144 2.144 0 0 0-.38-.546c-.391-.41-1.017-.747-1.943-.747-.532 0-.995.177-1.371.366-.23.116-.49.273-.708.404-.105.064-.2.121-.278.166-.295.168-.492.248-.649.267-.114.014-.24.002-.426-.136-.216-.162-.256-.278-.268-.343-.018-.092-.008-.242.088-.498.096-.258.246-.539.435-.888l.008-.014c.11-.203.23-.428.344-.664 1.447.4 2.941.196 4.19-.476l.772.92a.756.756 0 0 0 1.158-.97l-.704-.84c.4-.38.747-.823 1.027-1.32l1.228.104a.756.756 0 0 0 .129-1.506l-.742-.063 2.073-5.61c.026-.07.05-.14.072-.209l.66.244a.756.756 0 0 0 .523-1.418l-.908-.335a5.644 5.644 0 0 0-.053-1.056l.88-.134a.756.756 0 1 0-.229-1.495l-1.07.164a5.698 5.698 0 0 0-.562-.996l.745-.631a.756.756 0 0 0-.976-1.154l-.799.676a5.66 5.66 0 0 0-1.636-.938Zm-.392 13.012 2.312-6.26a4.14 4.14 0 1 0-7.768-2.87l-2.313 6.26a4.14 4.14 0 0 0 7.769 2.87Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconBacteriaSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M7.766 7.265a1.484 1.484 0 1 0-.001-2.968 1.484 1.484 0 0 0 .001 2.968Zm-1.725 4.287a1.478 1.478 0 1 0-.001-2.955 1.478 1.478 0 0 0 .001 2.955Z" />
  <path fill-rule="evenodd"
    d="M2.446 4.326.382 2.37A1.222 1.222 0 0 1 .334.645 1.219 1.219 0 0 1 2.058.597L3.667 2.12a5.385 5.385 0 0 1 8.771 1.103l1.881-.767a1.22 1.22 0 1 1 .92 2.261l-2.182.89a5.377 5.377 0 0 1-.333 1.99l-1.575 4.267 1.905 1.76c.495.458.525 1.23.068 1.725a1.219 1.219 0 0 1-1.723.069l-1.582-1.462a5.384 5.384 0 0 1-5.62 1.188A5.392 5.392 0 0 1 1.009 8.22l1.437-3.895Zm8.477 2.605-1.61 4.361a3.465 3.465 0 0 1-4.452 2.05A3.47 3.47 0 0 1 2.81 8.887l1.61-4.361a3.465 3.465 0 0 1 4.452-2.05 3.47 3.47 0 0 1 2.051 4.455Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconBarChartHorizontal3Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M1.143 2.434c0-.63.512-1.143 1.143-1.143H9.6c.631 0 1.143.512 1.143 1.143v.857c0 .632-.512 1.143-1.143 1.143H2.286a1.143 1.143 0 0 1-1.143-1.143v-.857Zm0 5.143c0-.63.512-1.143 1.143-1.143h11.428c.631 0 1.143.512 1.143 1.143v.857c0 .632-.511 1.143-1.143 1.143H2.286a1.143 1.143 0 0 1-1.143-1.143v-.857Zm0 5.143c0-.63.512-1.143 1.143-1.143h3.2c.63 0 1.142.512 1.142 1.143v.857c0 .632-.511 1.143-1.143 1.143h-3.2a1.143 1.143 0 0 1-1.142-1.143v-.857Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconBarChartVertical3Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M1.291 13.714V6.4c0-.631.512-1.143 1.143-1.143h.857c.632 0 1.143.512 1.143 1.143v7.314c0 .631-.511 1.143-1.143 1.143h-.857a1.143 1.143 0 0 1-1.143-1.143Zm5.143 0V2.286c0-.631.512-1.143 1.143-1.143h.857c.632 0 1.143.512 1.143 1.143v11.428c0 .631-.511 1.143-1.143 1.143h-.857a1.143 1.143 0 0 1-1.143-1.143Zm5.143 0v-3.2c0-.63.512-1.142 1.143-1.142h.857c.632 0 1.143.511 1.143 1.143v3.2c0 .63-.511 1.142-1.143 1.142h-.857a1.143 1.143 0 0 1-1.143-1.143Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconBarChartVertical4Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M6.412 3.094c.545 0 .987.442.987.987v9.96a.987.987 0 1 1-1.974 0v-9.96c0-.545.442-.987.987-.987Zm-3.14 2.549c.546 0 .988.442.988.987v7.399a.987.987 0 0 1-1.974 0v-7.4c0-.544.442-.986.987-.986Zm6.28-4.614c.545 0 .986.441.986.986V14.03a.987.987 0 1 1-1.973 0V2.015c0-.545.441-.986.987-.986Zm3.139 4.823c.545 0 .987.442.987.987v7.19a.987.987 0 0 1-1.974 0v-7.19c0-.545.442-.987.987-.987Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconBookLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" fill="black" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M18.8953 1.54547H5.86495C5.05846 1.54547 4.28509 1.86577 3.7147 2.43613C3.14453 3.00631 2.82404 3.77989 2.82404 4.58639V19.5353C2.82913 19.5763 2.83719 19.617 2.84843 19.6569C2.90931 20.4162 3.25315 21.1251 3.81164 21.6434C4.37035 22.1613 5.103 22.4509 5.86491 22.4545H18.8952C19.5 22.4545 20.0801 22.2142 20.508 21.7865C20.7043 21.5902 20.8612 21.3617 20.9734 21.1134C21.0539 20.9354 20.9524 20.7394 20.7928 20.6268C20.7503 20.5969 20.7093 20.5649 20.67 20.5309C20.3527 20.2562 20.1733 19.8758 20.1733 19.4783C20.1733 19.0805 20.3527 18.7003 20.67 18.4256C20.9378 18.1939 21.1759 17.894 21.1759 17.5399V3.82619C21.1759 3.22121 20.9356 2.6411 20.508 2.21347C20.0801 1.78584 19.5 1.54547 18.8953 1.54547ZM19.6555 16.4948V3.82616C19.6555 3.62444 19.5753 3.4312 19.4328 3.28866C19.2902 3.1459 19.0968 3.06593 18.8953 3.06593H8.23687V16.4948H19.6555ZM6.71641 3.06593H5.86495C5.46171 3.06593 5.07503 3.22613 4.78994 3.51122C4.50464 3.79652 4.34449 4.18322 4.34449 4.58645V16.9174C4.8046 16.6437 5.32957 16.4978 5.86495 16.4948H6.71641V3.06593ZM4.7889 20.531C5.07757 20.8065 5.46639 20.9523 5.86495 20.934L19.408 20.934C19.2743 20.8645 19.1499 20.776 19.0389 20.6701C18.7216 20.3668 18.5421 19.9468 18.5421 19.5079C18.5421 19.0687 18.7216 18.649 19.0389 18.3457C19.1894 18.2019 19.3646 18.0903 19.554 18.0149H5.86495C5.46643 17.9966 5.07759 18.1421 4.7889 18.4179C4.50042 18.6936 4.3373 19.0752 4.3373 19.4745C4.3373 19.8735 4.50042 20.2553 4.7889 20.531Z"
  />
  <path
    d="M10.8944 6.22197C10.8944 5.80197 11.2346 5.46174 11.6546 5.46174H16.2372C16.6572 5.46174 16.9975 5.80197 16.9975 6.22197C16.9975 6.64175 16.6572 6.9822 16.2372 6.9822H11.6546C11.2346 6.9822 10.8944 6.64175 10.8944 6.22197Z"
  />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconBookSmall.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="black">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M12.365 0.75H3.63501C2.53044 0.75 1.63501 1.64543 1.63501 2.75V13.25C1.63501 14.3546 2.53044 15.25 3.63501 15.25H12.365C13.1774 15.25 13.8767 14.7656 14.1898 14.0699C14.2571 13.9203 14.1351 13.7647 13.9779 13.7175C13.5992 13.604 13.31 13.2894 13.31 12.8511C13.31 12.4365 13.5505 12.1615 13.8765 12.0294C14.1324 11.9257 14.365 11.7143 14.365 11.4382V2.75C14.365 1.64543 13.4696 0.75 12.365 0.75ZM3.13318 10.6011C3.4613 10.4361 3.83569 10.3482 4.2175 10.3464V2.2511C3.92992 2.2511 3.65416 2.34767 3.45085 2.51953C3.24739 2.69152 3.13318 2.92463 3.13318 3.16771V10.6011ZM11.1398 3.89273H7.4398C7.08082 3.89273 6.7898 4.18375 6.7898 4.54273C6.7898 4.90172 7.08082 5.19273 7.4398 5.19273H11.1398C11.4988 5.19273 11.7898 4.90172 11.7898 4.54273C11.7898 4.18375 11.4988 3.89273 11.1398 3.89273ZM12.4304 11.9511C12.1141 12.1265 11.9 12.4638 11.9 12.8511C11.9 13.2384 12.1141 13.5757 12.4304 13.7511H4.03318C3.53612 13.7511 3.13318 13.3482 3.13318 12.8511C3.13318 12.3541 3.53612 11.9511 4.03318 11.9511H12.4304Z"
  />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCheckCircleLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M17.367 8.708a.9.9 0 1 0-1.461-1.052l-5.239 7.276-3.18-3.534a.9.9 0 1 0-1.338 1.204l3.995 4.44a.818.818 0 0 0 1.273-.07l5.95-8.264Z"/>
  <path fill-rule="evenodd" d="M22.364 12c0 5.724-4.64 10.364-10.364 10.364-5.724 0-10.364-4.64-10.364-10.364C1.636 6.276 6.276 1.636 12 1.636c5.724 0 10.364 4.64 10.364 10.364Zm-1.582 0a8.782 8.782 0 1 1-17.564 0 8.782 8.782 0 0 1 17.564 0Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCheckCircleSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M14.4 8A6.4 6.4 0 1 1 1.6 8a6.4 6.4 0 0 1 12.8 0ZM16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0Zm-4.185-2.087a.829.829 0 1 0-1.345-.969l-3.513 4.88-2.055-2.283A.829.829 0 0 0 3.67 8.65l2.956 3.284a.572.572 0 0 0 .889-.048l4.3-5.973Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCheckSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M14.19 1.156a.892.892 0 0 0-.555.381l-7.178 9.734-3.711-4.194c-.237-.328-.629-.456-.984-.296-.336.151-.567.529-.611.97-.044.435.1.87.38 1.125l4.373 4.943c.376.423.952.386 1.293-.075l7.8-10.579c.266-.351.335-.885.174-1.333-.169-.47-.562-.755-.982-.676Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronDown2Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.377 15.53a.571.571 0 0 1-.813 0L1.267 9.14a.571.571 0 0 1 .006-.809l.732-.722a.571.571 0 0 1 .808.006l4.757 4.826a.571.571 0 0 0 .812.001l4.793-4.83a.572.572 0 0 1 .808-.004l.73.724a.571.571 0 0 1 .004.809l-6.34 6.39Z"/>
  <path d="M8.377 8.405a.571.571 0 0 1-.813 0l-6.297-6.39a.571.571 0 0 1 .006-.809l.732-.722a.571.571 0 0 1 .808.006L7.57 5.316a.571.571 0 0 0 .812.001l4.793-4.83a.572.572 0 0 1 .808-.004l.73.724a.571.571 0 0 1 .004.809l-6.34 6.39Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronDownLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M12.613 17.57a.818.818 0 0 1-1.163.002L2.15 8.2a.818.818 0 0 1 .005-1.157l.62-.615a.818.818 0 0 1 1.157.005l7.51 7.57a.818.818 0 0 0 1.164-.001l7.455-7.564a.818.818 0 0 1 1.157-.009l.622.613a.818.818 0 0 1 .008 1.157l-9.236 9.371Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronDownSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M8.497 12.605a.663.663 0 0 1-.944.001l-7.36-7.42a.663.663 0 0 1 .003-.937l.848-.842a.663.663 0 0 1 .938.004l5.565 5.61c.26.262.685.261.944-.002l5.522-5.603a.663.663 0 0 1 .939-.007l.85.838a.663.663 0 0 1 .007.938l-7.312 7.42Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronLeft2Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M.47 8.393a.571.571 0 0 1 .002-.813l6.39-6.297a.571.571 0 0 1 .808.006l.722.732a.571.571 0 0 1-.006.808L3.56 7.585a.571.571 0 0 0-.001.813l4.83 4.793a.571.571 0 0 1 .004.808l-.725.73a.571.571 0 0 1-.808.004L.47 8.393Z"/>
  <path d="M7.595 8.393a.571.571 0 0 1 .002-.813l6.39-6.297a.571.571 0 0 1 .808.006l.722.732a.571.571 0 0 1-.006.808l-4.826 4.756a.571.571 0 0 0-.002.813l4.832 4.793a.571.571 0 0 1 .003.808l-.725.73a.571.571 0 0 1-.808.004l-6.39-6.34Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronLeftLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M6.123 12.356a.823.823 0 0 1-.003-1.166l9.33-9.31a.812.812 0 0 1 1.152.004l.613.62a.823.823 0 0 1-.004 1.16l-7.537 7.521a.823.823 0 0 0 .003 1.165l7.538 7.47c.32.317.324.836.009 1.158l-.61.622a.812.812 0 0 1-1.153.009l-9.338-9.253Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronLeftSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M3.403 8.497a.663.663 0 0 1-.002-.944l7.42-7.36a.663.663 0 0 1 .938.003l.841.848c.258.26.256.68-.004.938L6.987 7.547a.663.663 0 0 0 .002.944l5.603 5.522a.663.663 0 0 1 .007.939l-.839.85a.664.664 0 0 1-.938.007l-7.42-7.312Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronRight2Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.406 8.384a.571.571 0 0 0-.002-.813l-6.39-6.297a.571.571 0 0 0-.807.006l-.722.732a.571.571 0 0 0 .005.808l4.826 4.757a.571.571 0 0 1 .002.812L.486 13.182a.571.571 0 0 0-.003.808l.725.73a.572.572 0 0 0 .808.004l6.39-6.34Z"/>
  <path d="M15.53 7.571a.571.571 0 0 1 0 .813l-6.39 6.34a.572.572 0 0 1-.807-.004l-.725-.73a.571.571 0 0 1 .003-.808l4.832-4.793a.571.571 0 0 0-.002-.812L7.615 2.82a.571.571 0 0 1-.005-.808l.722-.732a.571.571 0 0 1 .808-.006l6.39 6.297Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronRightLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M17.886 11.667a.818.818 0 0 1 0 1.163l-9.388 9.283a.818.818 0 0 1-1.157-.007l-.613-.62a.818.818 0 0 1 .006-1.157l7.584-7.499a.818.818 0 0 0 0-1.163L6.766 4.199a.818.818 0 0 1-.006-1.157l.613-.62a.818.818 0 0 1 1.157-.007l9.356 9.252Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronRightSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M12.595 7.503c.263.26.263.683.001.944l-7.42 7.36a.663.663 0 0 1-.937-.003l-.842-.848a.663.663 0 0 1 .004-.938l5.61-5.565a.663.663 0 0 0-.002-.944L3.406 1.987a.663.663 0 0 1-.007-.939l.838-.85A.663.663 0 0 1 5.175.19l7.42 7.312Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronUp2Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.393 7.602a.571.571 0 0 0-.812.002l-6.298 6.39a.571.571 0 0 0 .006.808l.733.722a.571.571 0 0 0 .808-.006l4.756-4.826a.571.571 0 0 1 .812-.002l4.793 4.832a.571.571 0 0 0 .808.003l.73-.725a.571.571 0 0 0 .004-.808l-6.34-6.39Z"/>
  <path d="M7.58.479a.571.571 0 0 1 .813-.002l6.34 6.39a.571.571 0 0 1-.003.808L14 8.4a.571.571 0 0 1-.809-.003L8.398 3.565a.571.571 0 0 0-.812.002L2.83 8.393a.571.571 0 0 1-.808.006l-.733-.722a.571.571 0 0 1-.006-.809L7.581.478Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronUpLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M11.38 6.43a.818.818 0 0 1 1.164-.003l9.298 9.372a.818.818 0 0 1-.004 1.157l-.62.615a.818.818 0 0 1-1.157-.004L12.55 9.996a.818.818 0 0 0-1.164.002l-7.454 7.564a.818.818 0 0 1-1.157.008l-.622-.612a.818.818 0 0 1-.008-1.157l9.235-9.372Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconChevronUpSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M7.503 3.403a.663.663 0 0 1 .944-.002l7.36 7.42c.259.26.257.68-.003.938l-.848.841a.663.663 0 0 1-.938-.004l-5.565-5.61a.663.663 0 0 0-.944.003l-5.522 5.603a.664.664 0 0 1-.939.007l-.85-.839a.664.664 0 0 1-.007-.938l7.312-7.42Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCirclesOverlap2Large.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M7.875 19.875A7.838 7.838 0 0 0 12 18.709 7.875 7.875 0 1 0 12 5.29a7.875 7.875 0 1 0-4.125 14.585Zm0-1.582c.993 0 1.933-.23 2.768-.64A7.852 7.852 0 0 1 8.25 12a7.85 7.85 0 0 1 2.393-5.653 6.293 6.293 0 1 0-2.768 11.947Zm8.25-12.586c-.993 0-1.932.23-2.768.64A7.852 7.852 0 0 1 15.75 12a7.852 7.852 0 0 1-2.393 5.653 6.293 6.293 0 1 0 2.768-11.947Zm-3.722 1.922-1.298.575c-.257.34-.48.706-.666 1.095L12.9 8.21a6.343 6.343 0 0 0-.496-.58ZM13.69 9.59l-3.81 1.686-.005-.013a6.358 6.358 0 0 0-.042.833l4.098-1.814a6.251 6.251 0 0 0-.24-.692Zm.478 2.317-4.098 1.814c.068.239.15.472.243.698l3.813-1.688a6.356 6.356 0 0 0 .042-.824Zm-.614 2.807-2.447 1.084c.155.205.323.4.502.585l1.265-.56a6.28 6.28 0 0 0 .68-1.109Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCirclesOverlap2Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M8 12.473a5.25 5.25 0 1 1 0-8.946 5.25 5.25 0 1 1 0 8.946Zm-1.256-1.08a3.707 3.707 0 1 1 0-6.787A5.23 5.23 0 0 0 5.5 8a5.23 5.23 0 0 0 1.244 3.394Zm2.512-6.787a3.707 3.707 0 1 1 0 6.787A5.23 5.23 0 0 0 10.5 8a5.23 5.23 0 0 0-1.244-3.394ZM8 5.514c.595.658.957 1.53.957 2.486 0 .957-.362 1.828-.957 2.486A3.694 3.694 0 0 1 7.043 8c0-.957.362-1.828.957-2.486Z"/>
  <path d="M8.957 8c0-.957-.362-1.828-.957-2.486A3.694 3.694 0 0 0 7.043 8c0 .957.362 1.828.957 2.486.595-.658.957-1.53.957-2.486Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCodeLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M13.283 3.635a.487.487 0 0 1 .597-.345l.856.23c.26.07.414.337.345.597l-4.354 16.25a.487.487 0 0 1-.597.345l-.857-.23a.487.487 0 0 1-.345-.596l4.355-16.25Z"/>
  <path fill-rule="evenodd" d="M.145 12.358a.487.487 0 0 1 0-.693L5.592 6.26c.191-.19.5-.188.69.003l.617.622c.19.191.189.5-.002.69l-4.12 4.087a.487.487 0 0 0 0 .693l4.116 4.056a.487.487 0 0 1 .005.689l-.615.625a.487.487 0 0 1-.69.005L.144 12.36Zm23.71-.73a.486.486 0 0 1 0 .693l-5.448 5.407a.487.487 0 0 1-.69-.003l-.617-.623a.487.487 0 0 1 .002-.689l4.12-4.087a.487.487 0 0 0 0-.693l-4.116-4.056a.487.487 0 0 1-.005-.69l.615-.624a.487.487 0 0 1 .69-.005l5.449 5.37Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCodeSmall.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="m9.286 1.87.548.147c.337.09.537.437.447.774l-2.787 10.4a.632.632 0 0 1-.774.447l-.548-.146a.632.632 0 0 1-.447-.774l2.787-10.4a.632.632 0 0 1 .774-.447ZM4.568 3.857l.395.398a.632.632 0 0 1-.003.894l-2.631 2.61 2.628 2.59a.632.632 0 0 1 .006.894l-.394.4a.632.632 0 0 1-.893.006L.188 8.211a.632.632 0 0 1-.001-.899l3.487-3.46a.632.632 0 0 1 .894.004Zm6.864 7.787-.395-.399a.632.632 0 0 1 .003-.893l2.631-2.61-2.628-2.59a.632.632 0 0 1-.006-.894l.394-.4a.632.632 0 0 1 .893-.006l3.488 3.437c.25.247.25.65.001.899l-3.487 3.46a.632.632 0 0 1-.894-.004Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCompassLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M15.926 8.494a.49.49 0 0 1 .71.609l-.034.066-2.773 5.505a.46.46 0 0 1-.148.176l-.067.04-5.544 2.772a.491.491 0 0 1-.216.054.49.49 0 0 1-.348-.147.49.49 0 0 1-.121-.491l.028-.072 2.772-5.525a.46.46 0 0 1 .149-.176l.067-.04 5.525-2.771Zm-1.254 1.929-2.826 1.415 1.411 1.412 1.415-2.827Z"/>
  <path fill-rule="evenodd" d="M8.954 2.956s-.009.222-.008.358c-4.163 1.3-7.184 5.186-7.184 9.778 0 5.656 4.586 10.242 10.243 10.242s10.243-4.586 10.243-10.242c0-4.596-3.027-8.484-7.195-9.782v-.472a2.291 2.291 0 0 0-2.285-2.17h-1.526l-.118.003a2.291 2.291 0 0 0-2.17 2.285Zm4.577 0c0-.395-.3-.72-.685-.759l-.078-.004h-1.526c-.395 0-.72.3-.759.685v.083a10.324 10.324 0 0 1 3.048 0v-.005ZM3.439 12.232a8.611 8.611 0 0 1 7.706-7.706.938.938 0 0 0-.013.158v.907c0 .5.39.907.873.907.482 0 .873-.406.873-.907v-.907a.948.948 0 0 0-.013-.158 8.611 8.611 0 0 1 7.706 7.706.949.949 0 0 0-.16-.014h-.909c-.502 0-.909.391-.909.874 0 .482.407.873.91.873h.908a.948.948 0 0 0 .16-.014 8.611 8.611 0 0 1-7.706 7.707.948.948 0 0 0 .013-.159v-.907c0-.5-.39-.907-.873-.907-.482 0-.873.406-.873.907v.907a.93.93 0 0 0 .013.159A8.611 8.611 0 0 1 3.44 13.95a.948.948 0 0 0 .16.014h.909c.502 0 .909-.391.909-.873 0-.483-.407-.874-.91-.874H3.6a.948.948 0 0 0-.16.014Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCopyLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M6.028 18.418h7.164c.485 0 .866-.296.866-.674 0-.377-.381-.673-.866-.673H6.028c-.485 0-.866.296-.866.673 0 .378.381.674.866.674Zm7.164-2.833H6.028c-.477 0-.866-.305-.866-.682 0-.372.381-.664.866-.664h7.164c.477 0 .866.307.866.683 0 .372-.381.663-.866.663Z"/>
  <path fill-rule="evenodd" d="M22.087 5.672c0-.22-.09-.436-.249-.593L17.512.717a.85.85 0 0 0-.593-.248H8.434c-.959 0-1.769.812-1.769 1.773v3.015h-3.01c-.975 0-1.768.795-1.768 1.773v14.723c0 .978.793 1.773 1.769 1.773h11.908c.977 0 1.77-.795 1.77-1.773v-3.015h3.008c.96 0 1.77-.813 1.77-1.773l-.025-11.293ZM3.594 7.006c0-.032.028-.061.062-.061h7.643v3.492c0 .465.377.843.842.843h3.484v10.45a.063.063 0 0 1-.061.061H3.656a.063.063 0 0 1-.062-.061V7.006Zm13.49 2.837-4.326-4.362a.85.85 0 0 0-.593-.247H8.372V2.242c0-.034.028-.062.062-.062h7.643v3.492c0 .465.377.844.842.844h3.484v10.45a.063.063 0 0 1-.061.06h-3.007v-6.59a.845.845 0 0 0-.25-.593Zm-4.076-.274V8.132l1.434 1.437h-1.434Zm4.753-4.765V3.368l1.434 1.436h-1.434Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCopySmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M11.28.857a.92.92 0 0 1 .443.116l.113.069.11.093 2.508 2.53a.94.94 0 0 1 .267.517l.012.147.015 6.557a1.5 1.5 0 0 1-1.176 1.446l-.149.026-.156.01-2.273-.001v1.299a1.48 1.48 0 0 1-1.019 1.404l-.154.043-.15.026-.157.009H2.736a1.482 1.482 0 0 1-1.444-1.175l-.026-.15-.009-.157V5.118c0-.698.486-1.293 1.172-1.446l.15-.026.157-.009H5.01V2.338c0-.636.42-1.196 1.021-1.401l.154-.044.149-.027.156-.009h4.79ZM7.03 5.236H2.858v8.311h6.535l-.001-5.99-1.327.001a1.03 1.03 0 0 1-.98-.71l-.041-.15-.014-.155V5.236Zm3.744-2.778H6.612v1.4h1.102c.162 0 .322.039.486.125l.123.074.121.1 2.245 2.261a1 1 0 0 1 .258.426l.035.139.013.152v3.634h2.136l.004-5.99-1.326.001a1.03 1.03 0 0 1-.98-.71l-.04-.15-.014-.154V2.458Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCubeLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M11.603.376a.818.818 0 0 1 .794 0l9.818 5.454a.818.818 0 0 1 0 1.43l-9.818 5.455a.818.818 0 0 1-.794 0L1.784 7.261a.818.818 0 0 1 0-1.43L11.603.375Zm-7.736 6.17L12 11.063l8.134-4.519L12 2.027 3.867 6.545Z"/>
  <path fill-rule="evenodd" d="M22.233 5.84c.25.147.403.416.403.705v10.91a.818.818 0 0 1-.42.715l-9.819 5.454a.818.818 0 0 1-1.215-.715V12c0-.297.16-.57.42-.715l9.819-5.455a.818.818 0 0 1 .812.01Zm-9.415 6.641v9.038L21 16.973V7.936l-8.182 4.545Z"/>
  <path fill-rule="evenodd" d="M1.767 5.84a.818.818 0 0 0-.403.705v10.91c0 .297.16.57.42.715l9.819 5.454a.818.818 0 0 0 1.215-.715V12a.818.818 0 0 0-.42-.715L2.578 5.83a.818.818 0 0 0-.812.01Zm9.415 6.641v9.038L3 16.973V7.936l8.182 4.545Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconCubeSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd"
    d="M8.36129 0.27822C8.13419 0.152052 7.85805 0.152052 7.63095 0.27822L1.27343 3.81017C1.26978 3.81219 1.26614 3.81424 1.26252 3.81633C1.19411 3.85567 1.13337 3.90489 1.08169 3.9616C1.04659 4.00012 1.01567 4.0421 0.989363 4.08681C0.940463 4.16991 0.907529 4.26241 0.893366 4.35953C0.888167 4.39519 0.885498 4.43147 0.885498 4.46813V11.5333C0.885498 11.8064 1.03355 12.058 1.27226 12.1906L7.63095 15.7233C7.85764 15.8492 8.13383 15.8496 8.36129 15.7233L14.72 12.1906C14.9587 12.058 15.1067 11.8064 15.1067 11.5333V4.46813C15.1067 4.22919 14.9934 4.00668 14.8051 3.86594C14.7831 3.8495 14.7601 3.83417 14.7361 3.82006C14.7312 3.81716 14.7262 3.81432 14.7213 3.81153L8.36129 0.27822ZM2.38938 11.0909V5.74607L7.24418 8.44318V13.788L2.38938 11.0909ZM8.74806 13.788V8.44318L13.6029 5.74607V11.0909L8.74806 13.788ZM12.8065 4.46813L7.99612 7.14055L3.18577 4.46813L7.99612 1.79572L12.8065 4.46813Z"
  />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconDNALarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M16.925 1.639a.746.746 0 0 1 .8.687c.172 2.302.008 3.88-.252 4.966-.245 1.02-.57 1.583-.727 1.855a8.14 8.14 0 0 0-.035.061c-.185.327-.695.971-1.428 1.634-.428.386-.95.795-1.551 1.16.602.366 1.123.774 1.55 1.161.734.662 1.244 1.307 1.43 1.634l.034.06c.157.272.482.836.727 1.856.26 1.086.424 2.663.251 4.965h.002a.746.746 0 0 1-.801.688l-.035-.002a.746.746 0 0 1-.688-.797h-.001c.069-.917.08-1.698.055-2.363h-5.717a.764.764 0 0 1 0-1.527h5.57a8.571 8.571 0 0 0-.122-.608 5.195 5.195 0 0 0-.443-1.23h-3.146a.764.764 0 0 1 0-1.528h1.877l-.016-.014c-.59-.534-1.361-1.092-2.26-1.473-.897.38-1.668.938-2.258 1.472-.66.597-1.046 1.116-1.124 1.253-.01.02-.022.04-.035.062-.135.233-.376.649-.57 1.457-.216.901-.377 2.317-.213 4.499a.747.747 0 0 1-.688.795l-.034.003a.746.746 0 0 1-.802-.686c-.173-2.303-.008-3.88.252-4.967.245-1.02.57-1.583.727-1.855l.035-.06c.185-.328.695-.972 1.428-1.634a10.34 10.34 0 0 1 1.55-1.16 10.34 10.34 0 0 1-1.55-1.16c-.733-.663-1.243-1.307-1.428-1.634l-.035-.061c-.157-.272-.482-.835-.727-1.855-.26-1.087-.424-2.664-.251-4.967a.746.746 0 0 1 .8-.686l.035.002a.746.746 0 0 1 .687.796c-.068.901-.08 1.672-.055 2.33h5.718a.764.764 0 0 1 0 1.527H7.885c.039.238.082.451.127.642.137.57.297.944.426 1.197h3.164a.764.764 0 0 1 0 1.527H9.688l.053.048c.59.533 1.36 1.09 2.258 1.472.899-.381 1.67-.939 2.26-1.473.66-.596 1.046-1.116 1.124-1.253l.035-.061c.135-.234.376-.65.57-1.458.215-.901.377-2.316.213-4.499h.001a.746.746 0 0 1 .688-.796l.035-.002Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconDocumentSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M14.286 6.286v8c0 .63-.512 1.143-1.143 1.143H2.857a1.143 1.143 0 0 1-1.143-1.143V1.714c0-.63.512-1.143 1.143-1.143h5.714l5.715 5.715Zm-4.572.828h2.915v6.657H3.37V2.23h4.372v2.914c0 1.089.883 1.971 1.971 1.971Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconDotsHorizontal3Large.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.071 11.965a1.929 1.929 0 1 1 3.858 0 1.929 1.929 0 0 1-3.858 0Zm-7.071 0a1.929 1.929 0 1 1 3.857 0 1.929 1.929 0 0 1-3.857 0Zm16.071-1.929a1.928 1.928 0 1 0 0 3.857 1.928 1.928 0 0 0 0-3.857Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconDotsHorizontal3Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.508 8a1.746 1.746 0 1 1-3.492 0 1.746 1.746 0 0 1 3.492 0Zm5.238 0a1.746 1.746 0 1 1-3.492 0 1.746 1.746 0 0 1 3.492 0Zm3.492 1.746a1.746 1.746 0 1 0 0-3.492 1.746 1.746 0 0 0 0 3.492Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconDownloadLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M10.667 3.75c-2.942 0-5.408 2.128-6 4.956C2.042 9.044 0 11.306 0 14.069 0 17.064 2.393 19.5 5.333 19.5h.8a.798.798 0 0 0 .703-.404.828.828 0 0 0 0-.821.797.797 0 0 0-.703-.404h-.8c-2.082 0-3.733-1.682-3.733-3.802s1.651-3.802 3.733-3.802a.806.806 0 0 0 .8-.738c.229-2.328 2.176-4.15 4.534-4.15 1.286 0 2.319.496 3.158 1.375a.79.79 0 0 0 .858.195c.343-.132.872-.212 1.317-.212a3.503 3.503 0 0 1 3.475 3.08.812.812 0 0 0 .517.67c1.42.531 2.408 1.92 2.408 3.582 0 2.12-1.651 3.802-3.733 3.802h-.8a.797.797 0 0 0-.703.404.827.827 0 0 0 0 .821.797.797 0 0 0 .703.404h.8c2.94 0 5.333-2.436 5.333-5.431a5.408 5.408 0 0 0-3.033-4.88c-.488-2.342-2.54-4.081-4.967-4.081-.46 0-.936.074-1.4.195-1.057-.95-2.397-1.553-3.933-1.553Zm1.325 4.87a.793.793 0 0 0-.567.249.823.823 0 0 0-.225.584v4.344l-.467-.543a.793.793 0 0 0-1.362.25.826.826 0 0 0 .162.828l1.867 2.172a.794.794 0 0 0 1.2 0l1.867-2.172a.826.826 0 0 0 .166-.803.805.805 0 0 0-.604-.543.792.792 0 0 0-.762.268l-.467.543V9.453a.822.822 0 0 0-.231-.59.793.793 0 0 0-.577-.242Zm-3.2 7.604a.793.793 0 0 0-.567.248.823.823 0 0 0-.225.584v1.63c0 .45.358.814.8.814h6.4c.442 0 .8-.365.8-.815v-1.629a.818.818 0 0 0-.397-.715.788.788 0 0 0-.806 0 .818.818 0 0 0-.397.715v.815H9.6v-.815a.823.823 0 0 0-.231-.59.793.793 0 0 0-.577-.242Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconDownloadSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M8.011.914a.98.98 0 0 1 .713.3c.19.194.294.46.288.734v6.1l1.113-1.296a.98.98 0 0 1 .943-.334c.35.07.636.328.749.674a1.035 1.035 0 0 1-.207 1.002l-2.847 3.313a.98.98 0 0 1-.741.34.981.981 0 0 1-.742-.34l-2.844-3.31a1.032 1.032 0 0 1-.205-1.036.98.98 0 0 1 1.685-.31L7.03 8.047V1.953a1.028 1.028 0 0 1 .28-.732.983.983 0 0 1 .57-.296l.13-.01Zm5.47 9.265c-.538.062-.955.52-.955 1.074l-.001 1.453H3.477l.001-1.453a1.082 1.082 0 1 0-2.164 0v2.529c0 .604.485 1.089 1.082 1.089h11.208c.555 0 1.012-.418 1.074-.956l.01-.178.002-2.484c0-.597-.485-1.082-1.082-1.082l-.127.008Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconEditLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M7.218 12.483a.81.81 0 0 0-.232.485l-.394 3.55a.81.81 0 0 0 .893.893l3.55-.394a.81.81 0 0 0 .485-.232l9.085-9.09a1.928 1.928 0 0 0 .101-2.61l.004-.006-1.684-1.684a1.929 1.929 0 0 0-2.722 0l-9.086 9.088Zm12.24-5.932-.002.003-1.624 1.624-2.01-2.01 1.627-1.626c.12-.12.313-.12.433 0l1.576 1.577c.12.12.12.313 0 .432Zm-4.78.761 2.01 2.01-6.114 6.115-2.261.25.25-2.26 6.115-6.115ZM3.447 4.09a2.096 2.096 0 0 0-.614 1.482v13.5a2.096 2.096 0 0 0 2.096 2.096h13.5a2.096 2.096 0 0 0 2.096-2.096v-5.786a.81.81 0 0 0-1.62 0v5.786a.476.476 0 0 1-.476.477H4.93a.476.476 0 0 1-.477-.477v-13.5a.476.476 0 0 1 .477-.476h5.786a.81.81 0 1 0 0-1.62H4.929c-.556 0-1.089.221-1.482.614Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconEditSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="m9.414 4.41 2.7 2.795-8.004 8.004-2.922.504a.286.286 0 0 1-.33-.33l.506-2.926 8.05-8.048Zm3.786-3.2.081.054.096.085 1.879 1.88a.59.59 0 0 1 0 .833l-1.875 1.874-2.7-2.795 1.827-1.827a.59.59 0 0 1 .692-.104Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconEnvelopeSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M0 3.482V13.2a.8.8 0 0 0 .8.8h14.4a.8.8 0 0 0 .8-.8V3.482l-6.258 6.605a2.4 2.4 0 0 1-3.484 0L0 3.482Z"/>
  <path d="M8.58 8.987 15.2 2H.8l6.62 6.987a.8.8 0 0 0 1.16 0Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconExclamationMarkCircleLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M12 14.53c-.662 0-1.354-.425-1.404-1.375l-.28-6.545v-.025c0-.93.755-1.687 1.685-1.687s1.686.757 1.686 1.687v.024l-.28 6.54A1.41 1.41 0 0 1 12 14.531Zm.453-7.603a.45.45 0 0 0-.9 0l.249 5.791c.01.19.07.223.2.223.058 0 .192-.022.202-.225l.248-5.789Zm-1.816 8.892c.36-.36.857-.566 1.364-.566a1.935 1.935 0 0 1 1.927 1.927c0 .51-.208 1.008-.569 1.365a1.92 1.92 0 0 1-1.358.56 1.94 1.94 0 0 1-1.364-.563 1.94 1.94 0 0 1-.563-1.363c0-.506.206-1.002.563-1.36Zm.852 1.88c.267.27.757.27 1.019.003A.727.727 0 0 0 12 16.457a.727.727 0 0 0-.512 1.243Z"/>
  <path fill-rule="evenodd" d="M22.364 12c0 5.724-4.64 10.364-10.364 10.364-5.724 0-10.364-4.64-10.364-10.364C1.636 6.276 6.276 1.636 12 1.636c5.724 0 10.364 4.64 10.364 10.364Zm-1.582 0a8.782 8.782 0 1 1-17.564 0 8.782 8.782 0 0 1 17.564 0Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconExclamationMarkCircleSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M8 14.4A6.4 6.4 0 1 0 8 1.6a6.4 6.4 0 0 0 0 12.8ZM8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM7.086 4.743a.914.914 0 1 1 1.828 0v3.314a.914.914 0 0 1-1.828 0V4.743ZM8 12.17a1.029 1.029 0 1 0 0-2.057 1.029 1.029 0 0 0 0 2.057Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconExclamationMarkSpeechBubbleLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.931 9.436a1.036 1.036 0 0 0 2.073 0V2.782a1.036 1.036 0 0 0-2.073 0v6.654Z"/>
  <path d="m10.68 18.4-3.477 3.166V18.4H4.027V5.545h3.5a.807.807 0 0 0 .808-.809.807.807 0 0 0-.808-.809h-3.96c-.632 0-1.145.513-1.145 1.146v13.772c0 .633.513 1.146 1.145 1.146h2.03v2.623c0 .997 1.187 1.518 1.921.843l3.774-3.466 9.136.002c.633 0 1.146-.513 1.146-1.146l-.002-13.774c0-.633-.513-1.146-1.146-1.146h-3.723a.809.809 0 0 0 0 1.618h3.263v12.854H10.68Z"/>
  <path d="m12.922 15.012-.005.005c-.226.231-.574.365-.95.365-.377 0-.73-.136-.966-.373a1.399 1.399 0 0 1-.397-.978c0-.356.151-.724.397-.971.257-.258.61-.405.966-.405.348 0 .7.145.964.41l.002.002a1.374 1.374 0 0 1-.011 1.945Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconEyeClosedSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M1.377 13.492a.8.8 0 1 0 1.132 1.13l2.02-2.02c1.042.603 2.218 1.024 3.471 1.024 4.32 0 7.725-5.004 7.868-5.216a.844.844 0 0 0 0-.908 16.067 16.067 0 0 0-3.006-3.233l1.763-1.762a.8.8 0 0 0-1.132-1.132l-1.967 1.967C10.471 2.722 9.276 2.286 8 2.286 3.68 2.286.275 7.29.132 7.502a.844.844 0 0 0 0 .908 16.05 16.05 0 0 0 3.055 3.271l-1.81 1.81Zm4.735-2.473a3.598 3.598 0 0 0 4.951-4.951L9.788 7.343a1.89 1.89 0 0 1-2.4 2.4L6.111 11.02Zm.123-2.386L4.971 9.898a3.598 3.598 0 0 1 4.971-4.971L8.677 6.19a1.89 1.89 0 0 0-2.442 2.442Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconEyeOpenSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M9.89 8a1.89 1.89 0 1 0-3.78 0 1.89 1.89 0 0 0 3.78 0Z"/>
  <path fill-rule="evenodd" d="M15.868 7.546C15.725 7.334 12.319 2.33 8 2.33 3.68 2.33.275 7.334.132 7.546a.844.844 0 0 0 0 .908C.275 8.666 3.68 13.67 8 13.67s7.725-5.004 7.868-5.216a.844.844 0 0 0 0-.908ZM4.402 8a3.598 3.598 0 1 1 7.196 0 3.598 3.598 0 0 1-7.196 0Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconFilterSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M1.143 3.429c0-.632.512-1.143 1.143-1.143h11.428a1.143 1.143 0 1 1 0 2.285H2.286A1.143 1.143 0 0 1 1.143 3.43ZM3.429 8c0-.631.511-1.143 1.142-1.143h6.858a1.143 1.143 0 1 1 0 2.286H4.57A1.143 1.143 0 0 1 3.43 8Zm3.428 3.429a1.143 1.143 0 1 0 0 2.285h2.286a1.143 1.143 0 0 0 0-2.285H6.857Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconFlagCheckSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M.893 2.286h9.487a.86.86 0 0 1 .58.229l4.417 4.039c.195.179.352.4.46.65a2.013 2.013 0 0 1 0 1.592c-.108.25-.265.471-.46.65l-4.416 4.039a.86.86 0 0 1-.58.23H.892a.865.865 0 0 1-.632-.28.986.986 0 0 1-.261-.673V3.238c0-.252.094-.495.261-.673a.865.865 0 0 1 .632-.28Zm7.594 3.458A.866.866 0 0 1 9.674 5.6a.798.798 0 0 1 .212 1.053l-.064.092-3.288 4.082a.866.866 0 0 1-1.243.096l-.084-.088L3.328 8.57a.797.797 0 0 1 .132-1.147.868.868 0 0 1 1.11.045l.078.082 1.209 1.46 2.63-3.265Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconFlagOutlineSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M15.377 6.554 10.96 2.515a.86.86 0 0 0-.58-.23H.892a.867.867 0 0 0-.632.28.986.986 0 0 0-.26.673v9.524c0 .252.094.495.261.673a.865.865 0 0 0 .632.28h9.487a.86.86 0 0 0 .58-.23l4.417-4.039c.195-.179.352-.4.46-.65a2.013 2.013 0 0 0 0-1.592 1.898 1.898 0 0 0-.46-.65Zm-.772 2.049a.756.756 0 0 0 .182-.26.87.87 0 0 0 0-.687.756.756 0 0 0-.182-.259L10.266 3.43H1.143v9.142h9.123l4.34-3.968Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconFlagQuestionMarkSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd"
        d="M10.38 2.286H.893c-.237 0-.464.1-.632.279A.986.986 0 0 0 0 3.238v9.524c0 .252.094.495.261.673a.865.865 0 0 0 .632.28h9.487a.86.86 0 0 0 .58-.23l4.417-4.039c.195-.179.352-.4.46-.65a2.013 2.013 0 0 0 0-1.592 1.898 1.898 0 0 0-.46-.65L10.96 2.515a.86.86 0 0 0-.58-.23ZM9.278 6.184c-.054-.975-1.012-2.078-2.366-2.118-1.355-.04-2.266 1.013-2.423 1.904 0 0-.014.076-.02.15a.884.884 0 0 0 .02.267c.019.056.198.487.7.487.271 0 .448-.075.52-.219.052-.092.094-.241.125-.35l.014-.05.002-.004c.031-.11.083-.289.298-.496.184-.177.384-.283.633-.31l.087-.007.084-.002c.684 0 .823.49.823.83 0 .316-.335.642-.639.937a7.979 7.979 0 0 0-.184.183l-.05.051c-.316.323-.635.649-.794 1.038-.168.41-.028.67.052.75l.022.023c.086.09.247.258.58.258.365 0 .578-.1.71-.23.058-.059.11-.158.18-.294.089-.17.208-.398.408-.676a9.28 9.28 0 0 1 .358-.451c.37-.448.805-.974.85-1.382l.009-.1.003-.105-.002-.084ZM6.8 10.086a.844.844 0 0 1 .84.84.842.842 0 0 1-1.435.594.845.845 0 0 1 0-1.188.846.846 0 0 1 .595-.246Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconFlagXMarkSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M.893 2.286h9.487a.86.86 0 0 1 .58.229l4.417 4.039c.195.179.352.4.46.65a2.013 2.013 0 0 1 0 1.592c-.108.25-.265.471-.46.65l-4.416 4.039a.86.86 0 0 1-.58.23H.892a.865.865 0 0 1-.632-.28.986.986 0 0 1-.261-.673V3.238c0-.252.094-.495.261-.673a.865.865 0 0 1 .632-.28Zm3.74 3.063a.705.705 0 1 0-.998.998l1.796 1.796-1.796 1.796a.705.705 0 1 0 .998.997L6.429 9.14l1.795 1.796a.705.705 0 1 0 .998-.997L7.426 8.143l1.796-1.796a.705.705 0 1 0-.998-.998L6.43 7.145 4.633 5.35Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconFlaskLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M6.231 21.75a2.218 2.218 0 0 1-1.122-.327c-.977-.641-1.276-1.97-.672-2.988l1.196-2.022a.694.694 0 0 1 .244-.395l3.204-5.42V6.15c-.852-.198-1.45-.986-1.433-1.885v-.1c0-1.057.833-1.915 1.861-1.915h4.958c1.027 0 1.86.858 1.86 1.916v.099c.018.899-.58 1.687-1.432 1.885v4.447l3.204 5.42c.123.1.21.24.244.396l1.196 2.022c.604 1.018.305 2.347-.672 2.988-.34.208-.727.32-1.122.327H6.23Zm11.514-1.665a.473.473 0 0 0 .344-.142.502.502 0 0 0 .143-.352.48.48 0 0 0-.088-.274l-1.086-1.81H6.918l-1.086 1.81a.48.48 0 0 0-.088.274c0 .132.051.26.143.352a.473.473 0 0 0 .344.142h11.514ZM14.3 3.93H9.675a.232.232 0 0 0-.228.236v.099c0 .13.102.235.228.235h.392a.832.832 0 0 1 .812.837v5.504a.784.784 0 0 1-.118.425L8.066 15.79h7.844l-2.695-4.524a.777.777 0 0 1-.118-.425V5.337a.832.832 0 0 1 .812-.837h.391a.232.232 0 0 0 .23-.235v-.1a.232.232 0 0 0-.23-.235Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconFlaskPrivateLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd"
        d="M12.9463 18.8208C12.9463 18.7447 12.9463 18.6687 12.9463 18.5851H5.15229C5.02092 18.5871 4.89423 18.536 4.80062 18.4431C4.70701 18.3502 4.6543 18.2233 4.65432 18.0909C4.65537 17.9924 4.68703 17.8967 4.74486 17.8173L5.85398 16.0079H13.6933C14.3218 14.8859 15.3121 14.0141 16.5 13.5371L13.8366 9.12018V4.67281C14.7155 4.47274 15.3297 3.67207 15.3003 2.76462V2.66579C15.3003 1.60773 14.4491 0.75 13.399 0.75H8.50228C7.45219 0.75 6.60093 1.60773 6.60093 2.66579V2.76462C6.58252 3.6636 7.19428 4.45158 8.06467 4.65V9.09737L4.79013 14.5178C4.66406 14.6164 4.57602 14.7562 4.54114 14.9132L3.31885 16.9354C2.70168 17.9534 3.00699 19.282 4.00545 19.9231C4.35288 20.131 4.74825 20.2437 5.15229 20.25H13.1349C13.0113 19.7837 12.9479 19.3034 12.9463 18.8208ZM9.6114 9.80439C9.69432 9.67524 9.73883 9.52487 9.73966 9.37105V3.86696C9.73552 3.40388 9.36177 3.03068 8.90216 3.0307H8.50228C8.44092 3.03074 8.38217 3.00567 8.3395 2.96124C8.29682 2.91681 8.27388 2.85682 8.27593 2.79503V2.66579C8.27586 2.53854 8.37606 2.43422 8.50228 2.43012H13.399C13.5282 2.43012 13.6329 2.53563 13.6329 2.66579V2.76462C13.6329 2.89478 13.5282 3.00029 13.399 3.00029H12.9991C12.5424 3.00442 12.1733 3.37642 12.1692 3.83655V9.34064C12.1666 9.49148 12.2086 9.63968 12.2899 9.76637L15.0438 14.2898H6.85746L9.6114 9.80439Z"
        fill="#CCCCCC" />
    <path fill-rule="evenodd" clip-rule="evenodd"
        d="M18.375 12.75C21.4816 12.75 24 15.2684 24 18.375C24 21.4816 21.4816 24 18.375 24C15.2684 24 12.75 21.4816 12.75 18.375C12.75 15.2684 15.2684 12.75 18.375 12.75ZM18.3862 14.8741C17.3441 14.8741 16.4817 15.6848 16.4175 16.725V17.385C16.0559 17.385 15.7616 17.6759 15.7575 18.0375V20.6625C15.7575 21.027 16.053 21.3225 16.4175 21.3225H20.3475C20.5219 21.3225 20.689 21.2527 20.8116 21.1287C20.9341 21.0047 21.002 20.8368 21 20.6625L21.0075 18.0375C21.0075 17.6771 20.7154 17.385 20.355 17.385V16.725C20.2908 15.6848 19.4284 14.8741 18.3862 14.8741ZM18.375 18.4575C18.6442 18.4575 18.8625 18.6758 18.8625 18.945C18.8598 19.1169 18.7654 19.2742 18.615 19.3575V20.0325C18.5945 20.1469 18.495 20.2302 18.3787 20.2302C18.2625 20.2302 18.163 20.1469 18.1425 20.0325V19.3575C17.9898 19.2767 17.8944 19.1178 17.895 18.945C17.895 18.6787 18.1087 18.4616 18.375 18.4575ZM18.375 15.4125C18.7231 15.4125 19.0569 15.5508 19.3031 15.7969C19.5492 16.0431 19.6875 16.3769 19.6875 16.725V17.385H17.0625V16.725C17.0666 16.0018 17.6518 15.4166 18.375 15.4125Z"
    />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconFlaskPublicLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd"
        fill="#CCCCCC"
        d="M12.946 18.82v-.235H5.152a.489.489 0 0 1-.407-.768l1.109-1.81h7.84a5.62 5.62 0 0 1 2.806-2.47L13.837 9.12V4.673c.879-.2 1.493-1 1.463-1.908v-.1A1.909 1.909 0 0 0 13.4.75H8.502c-1.05 0-1.901.858-1.901 1.916v.099A1.89 1.89 0 0 0 8.065 4.65v4.447l-3.275 5.42a.692.692 0 0 0-.249.396L3.32 16.935a2.2 2.2 0 0 0 .686 2.988c.348.208.743.32 1.147.327h7.983a5.651 5.651 0 0 1-.189-1.43ZM9.611 9.805a.81.81 0 0 0 .129-.433V3.867a.84.84 0 0 0-.838-.836h-.4a.225.225 0 0 1-.226-.236v-.13c0-.126.1-.23.226-.235H13.4c.13 0 .234.106.234.236v.099c0 .13-.105.235-.234.235H13a.84.84 0 0 0-.83.837V9.34c-.002.15.04.299.12.425l2.755 4.524H6.857l2.754-4.486Z" />
    <path fill-rule="evenodd"
        d="M18.83 12.768a5.625 5.625 0 1 0-.91 11.214 5.625 5.625 0 0 0 .91-11.213Zm.644.818c.218.051.434.114.645.187.116.08.246.139.383.173a4.77 4.77 0 0 1 1.582 1.192c.03.034.048.076.053.12a.646.646 0 0 1 0 .315.567.567 0 0 0-.045.188.277.277 0 0 0 .217.24c.095.012.19.012.285 0a.18.18 0 0 1 .165.12c.043.127.1.247.173.36a4.83 4.83 0 0 1 .36 1.657.3.3 0 0 1-.075.21c-.1.11-.188.231-.263.36a5.484 5.484 0 0 1-.577 1.073 1.17 1.17 0 0 0-.315.45 2.246 2.246 0 0 0-.045.382c0 .053-.098.053-.15 0a2.895 2.895 0 0 1-.405-.937c-.045-.24-.098-.48-.165-.75a.975.975 0 0 0-.435-.578 2.176 2.176 0 0 0-.75-.112.885.885 0 0 1-.75-.27.57.57 0 0 1-.12-.33 1.5 1.5 0 0 1 .75-1.583c.067-.052.142-.075.21-.12a.51.51 0 0 0 .172-.502.068.068 0 0 0-.097-.053c-.14.044-.277.102-.405.173-.075 0-.15 0-.12-.075a2.746 2.746 0 0 1 .09-.75 1.042 1.042 0 0 0 0-.75.225.225 0 0 0-.15-.098h-.668c.116-.07.22-.159.308-.262a.188.188 0 0 1 .142-.03Zm-2.422.067a.083.083 0 0 1 .12.053c.075.12.12.24.195.382.148.29.165.629.045.93-.165.338-.548.48-.863.653a4.395 4.395 0 0 0-1.605 1.432s-.045.075-.067.075a.083.083 0 0 1-.12-.052.584.584 0 0 1-.195-.165s-.09 0-.09.075a.75.75 0 0 0 .352.862.534.534 0 0 1 .15.09c.09.12 0 .293 0 .435 0 .143.263.308.48.285a2.42 2.42 0 0 0 .57-.187 1.44 1.44 0 0 1 1.298.165c.187.12.36.315.547.435a.93.93 0 0 0 .578.187.195.195 0 0 1 .12.045.69.69 0 0 1-.12.6 4.796 4.796 0 0 1-.525.503c-.413.457-.503 1.155-.84 1.657a1.437 1.437 0 0 0-.195.308 1.29 1.29 0 0 0-.045.502s0 .075-.045.053a.95.95 0 0 1-.24-.098.158.158 0 0 1-.098-.12 6.47 6.47 0 0 0-.697-1.987 1.71 1.71 0 0 0-.525-.645c-.075-.053-.143-.098-.165-.173-.023-.075 0-.12 0-.165a1.845 1.845 0 0 0-.75-1.702.614.614 0 0 1-.24-.218c-.053-.09-.053-.24-.098-.33a1.438 1.438 0 0 0-.337-.292c-.045 0-.045-.068-.045-.12a4.875 4.875 0 0 1 3.45-3.473Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconGearSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M15.19 6.4h-1.848c-.11-.37-.27-.71-.45-1.04L14.252 4a.805.805 0 0 0 0-1.13l-1.13-1.13a.802.802 0 0 0-1.13 0L10.633 3.1c-.33-.17-.67-.33-1.039-.44V.8c0-.44-.36-.8-.8-.8H7.195c-.44 0-.799.36-.799.8v1.86c-.39.12-.75.28-1.1.47l-1.299-1.3c-.3-.3-.789-.3-1.089 0l-1.08 1.09a.774.774 0 0 0 0 1.09l1.3 1.3c-.2.34-.36.7-.48 1.09H.8c-.44 0-.8.36-.8.8v1.6c0 .44.36.8.8.8h1.848c.11.37.27.71.45 1.04L1.738 12a.805.805 0 0 0 0 1.13l1.13 1.13c.31.31.82.31 1.13 0l1.359-1.36c.33.18.67.33 1.039.44v1.86c0 .44.36.8.8.8h1.598c.44 0 .8-.36.8-.8v-1.86c.39-.12.75-.28 1.1-.47l1.298 1.3c.3.3.79.3 1.09 0l1.09-1.09a.774.774 0 0 0 0-1.09l-1.3-1.3c.19-.35.36-.71.48-1.1H15.2c.44 0 .8-.36.8-.8v-1.6a.816.816 0 0 0-.81-.79ZM7.995 11a2.995 2.995 0 0 1-2.998-3c0-1.66 1.339-3 2.998-3a2.995 2.995 0 0 1 2.998 3c0 1.66-1.339 3-2.998 3Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconGithubSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M 8.007 0 C 3.579 0 0 3.667 0 8.203 C 0 11.829 2.294 14.898 5.475 15.985 C 5.873 16.066 6.018 15.808 6.018 15.59 C 6.018 15.4 6.005 14.748 6.005 14.07 C 3.778 14.558 3.314 13.092 3.314 13.092 C 2.956 12.141 2.425 11.896 2.425 11.896 C 1.697 11.394 2.479 11.394 2.479 11.394 C 3.288 11.448 3.712 12.236 3.712 12.236 C 4.427 13.486 5.581 13.132 6.045 12.915 C 6.111 12.385 6.323 12.019 6.549 11.815 C 4.772 11.624 2.904 10.918 2.904 7.768 C 2.904 6.871 3.221 6.138 3.725 5.568 C 3.645 5.365 3.367 4.522 3.804 3.395 C 3.804 3.395 4.481 3.177 6.005 4.237 C 6.658 4.057 7.331 3.967 8.007 3.966 C 8.682 3.966 9.372 4.06 10.008 4.237 C 11.532 3.177 12.209 3.395 12.209 3.395 C 12.647 4.522 12.368 5.365 12.288 5.568 C 12.806 6.138 13.11 6.871 13.11 7.768 C 13.11 10.918 11.241 11.611 9.451 11.815 C 9.743 12.072 9.995 12.562 9.995 13.335 C 9.995 14.436 9.982 15.318 9.982 15.59 C 9.982 15.808 10.128 16.066 10.525 15.985 C 13.706 14.898 16 11.829 16 8.203 C 16.013 3.667 12.421 0 8.007 0 Z">
	</path>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconGlobeBasicLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0Zm-.818 13.32v9.211c-.886-.319-1.826-1.164-2.652-2.678-.908-1.665-1.55-3.941-1.714-6.533h4.366Zm1.32 0v9.303c.974-.217 2.042-1.074 2.967-2.77.909-1.665 1.55-3.941 1.715-6.533h-4.682ZM17.225 12h-4.723V1.377c.974.217 2.042 1.074 2.967 2.77C16.53 6.09 17.227 8.864 17.227 12Zm1.281 1.32c-.219 3.668-1.34 6.84-2.947 8.753a10.691 10.691 0 0 0 7.04-8.753h-4.093ZM22.68 12c0-4.65-2.972-8.607-7.12-10.073C17.356 4.067 18.545 7.78 18.545 12h4.134Zm-11.498 0H6.775c0-3.136.696-5.91 1.755-7.853.826-1.514 1.766-2.36 2.652-2.678V12Zm-5.727 0c0-4.221 1.188-7.934 2.986-10.073C4.292 3.393 1.32 7.35 1.32 12h4.135ZM1.4 13.32a10.692 10.692 0 0 0 7.04 8.753c-1.608-1.913-2.728-5.085-2.947-8.753H1.4Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconGlobeSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M8.633.2C3.833-.2-.2 3.833.2 8.633c.3 3.8 3.367 6.867 7.167 7.167 4.833.4 8.833-3.633 8.433-8.433C15.5 3.567 12.433.5 8.633.2Zm.9 1.133c.3.067.6.167.9.267.167.1.334.2.534.233.833.4 1.6.967 2.2 1.667.033.033.066.1.066.167.034.133 0 .3-.033.433-.033.1-.067.167-.067.267 0 .166.167.3.3.333.1.033.267.033.4.033.1 0 .2.067.234.167.066.167.166.433.233.5.3.733.467 1.5.5 2.3 0 .1-.033.233-.1.3a2.76 2.76 0 0 0-.367.5c-.233.467-.433 1-.766 1.4-.167.2-.367.367-.434.633-.066.167-.033.367-.066.534 0 .066-.134.066-.2.033a3.77 3.77 0 0 1-.567-1.3c-.067-.333-.133-.667-.233-1-.1-.333-.3-.633-.6-.8-.334-.167-.7-.133-1.067-.167-.367 0-.767-.066-1-.366A.796.796 0 0 1 9.233 7c-.166-.867.3-1.8 1.067-2.2.1-.067.2-.1.3-.167a.69.69 0 0 0 .233-.7c0-.066-.1-.1-.133-.066-.2.066-.4.133-.567.233-.1.033-.2-.033-.166-.1 0-.3.033-.667.133-1 .1-.367.2-.767.033-1.067-.033-.066-.133-.133-.2-.133H9c-.033 0-.033-.033-.033-.033.166-.1.3-.234.433-.367a.253.253 0 0 1 .133-.067Zm-3.366.1c.066-.033.133 0 .166.067.1.167.167.333.267.533.167.434.267.9.067 1.3-.234.467-.767.667-1.2.9a6.139 6.139 0 0 0-2.234 2c-.033.034-.066.1-.1.1-.066.034-.133 0-.166-.066a.898.898 0 0 1-.267-.234c-.033-.033-.133.034-.133.1-.134.467.1.967.5 1.2.066.034.133.067.2.134.133.166 0 .4.033.6.033.266.367.433.667.4.3-.034.533-.167.8-.267.6-.2 1.3-.133 1.8.233.266.167.5.434.766.6.234.167.534.3.8.267.067 0 .134.033.167.067.1.266 0 .6-.167.833-.2.267-.5.467-.733.7-.567.633-.7 1.6-1.167 2.3-.1.133-.2.267-.266.433-.1.234-.067.467-.067.7 0 .034-.033.1-.067.067-.1-.033-.233-.067-.333-.133-.067-.034-.133-.1-.133-.167-.167-.967-.5-1.9-.967-2.767-.2-.333-.4-.7-.733-.9-.1-.066-.2-.133-.234-.233-.033-.067 0-.167 0-.233.134-.9-.3-1.834-1.033-2.367-.133-.1-.267-.167-.333-.3C2 7.167 2 6.967 1.933 6.833c-.066-.133-.333-.3-.466-.4-.067-.033-.067-.1-.067-.166.567-2.3 2.433-4.2 4.767-4.834Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconGridDots3Large.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M2.318 12.818c0-.452.366-.818.818-.818H4.5c.452 0 .818.366.818.818v1.364A.818.818 0 0 1 4.5 15H3.136a.818.818 0 0 1-.818-.818v-1.364Zm6.546 6.546c0-.452.366-.819.818-.819h1.363a.82.82 0 0 1 .819.819v1.363a.818.818 0 0 1-.819.819H9.682a.818.818 0 0 1-.818-.819v-1.363Zm-5.728-.819a.818.818 0 0 0-.818.819v1.363c0 .452.366.819.818.819H4.5a.818.818 0 0 0 .818-.819v-1.363a.818.818 0 0 0-.818-.819H3.136ZM2.59 3.273c0-.452.367-.818.819-.818h17.455c.451 0 .818.366.818.818v17.454a.818.818 0 0 1-.818.819h-5.819a.818.818 0 0 1-.818-.819v-5h-5a.818.818 0 0 1-.818-.818v-5h-5a.818.818 0 0 1-.818-.818V3.273ZM20.047 14.09h-4.182V9.909h4.181v4.182Zm-4.182 1.636v4.182h4.181v-4.182h-4.181ZM4.227 4.091H8.41v4.182H4.227V4.09Zm5.818 0v4.182h4.182V4.09h-4.182Zm5.819 4.182V4.09h4.181v4.182h-4.181Zm-5.819 1.636v4.182h4.182V9.909h-4.182Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconGridLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M2.855 2.25a.66.66 0 0 0-.605.65v18.2c0 .359.302.65.675.65h18.9a.663.663 0 0 0 .675-.65V2.9a.663.663 0 0 0-.675-.65h-18.9a.705.705 0 0 0-.07 0Zm.745 1.3h3.6v3.467H3.6V3.551Zm4.95 0h3.15v3.467H8.55V3.551Zm4.5 0h3.15v3.467h-3.15V3.551Zm4.5 0h3.6v3.467h-3.6V3.551ZM3.6 8.318h3.6v3.034H3.6V8.317Zm4.95 0h3.15v3.034H8.55V8.317Zm4.5 0h3.15v3.034h-3.15V8.317Zm4.5 0h3.6v3.034h-3.6V8.317ZM3.6 12.65h3.6v3.034H3.6V12.65Zm4.95 0h3.15v3.034H8.55V12.65Zm4.5 0h3.15v3.034h-3.15V12.65Zm4.5 0h3.6v3.034h-3.6V12.65ZM3.6 16.984h3.6v3.466H3.6v-3.466Zm4.95 0h3.15v3.466H8.55v-3.466Zm4.5 0h3.15v3.466h-3.15v-3.466Zm4.5 0h3.6v3.466h-3.6v-3.466Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconGridPrivateLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd"
        fill="#CCCCCC"
        d="M12.852 18.98H10.76v-3.212h2.764a5.032 5.032 0 0 1 1.42-1.644v-2.54h3.211v1.27h.3c.373 0 .746.075 1.045.075V2.172a.67.67 0 0 0-.672-.672H1.348c-.374 0-.598.299-.598.672v17.406a.67.67 0 0 0 .672.672h11.654a3.49 3.49 0 0 1-.224-1.27Zm2.091-16.135h3.212v3.212h-3.212V2.845Zm0 4.631h3.212v2.764h-3.212V7.476ZM10.76 2.845h2.764v3.212H10.76V2.845Zm0 4.631h2.764v2.764H10.76V7.476Zm0 4.109h2.764v2.764H10.76v-2.764ZM5.232 18.98H2.02v-3.212h3.212v3.212Zm0-4.631H2.02v-2.764h3.212v2.764Zm0-4.109H2.02V7.476h3.212v2.764Zm0-4.183H2.02V2.845h3.212v3.212ZM9.415 18.98H6.651v-3.212h2.764v3.212Zm0-4.631H6.651v-2.764h2.764v2.764Zm0-4.109H6.651V7.476h2.764v2.764Zm0-4.183H6.651V2.845h2.764v3.212Z" />
    <path fill-rule="evenodd"
        d="M18.375 12.75c3.15 0 5.625 2.55 5.625 5.625S21.45 24 18.375 24s-5.625-2.55-5.625-5.625 2.55-5.625 5.625-5.625Zm0 1.95c-1.05 0-1.95.9-1.95 1.95v.675c-.375 0-.675.3-.675.675v2.625c0 .375.3.675.675.675h3.9c.375 0 .675-.3.675-.675V18c0-.375-.3-.675-.675-.675v-.675c0-1.05-.9-1.95-1.95-1.95Zm0 3.75c.3 0 .525.225.45.45 0 .225-.075.375-.225.45v.675c0 .15-.075.225-.225.225-.15 0-.225-.075-.225-.225v-.675c-.15-.15-.225-.3-.225-.45 0-.225.15-.45.45-.45Zm0-3.075c.75 0 1.35.6 1.275 1.35v.675h-2.625v-.675c0-.75.6-1.35 1.35-1.35Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconGridPublicLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    fill="#CCCCCC"
    d="M12.852 18.98H10.76v-3.212h2.764a5.032 5.032 0 0 1 1.42-1.644v-2.54h3.211v1.27h.3c.373 0 .746.075 1.045.075V2.172a.67.67 0 0 0-.672-.672H1.348c-.374 0-.598.299-.598.672v17.406a.67.67 0 0 0 .672.672h11.654a3.49 3.49 0 0 1-.224-1.27Zm2.091-16.135h3.212v3.212h-3.212V2.845Zm0 4.631h3.212v2.764h-3.212V7.476ZM10.76 2.845h2.764v3.212H10.76V2.845Zm0 4.631h2.764v2.764H10.76V7.476Zm0 4.109h2.764v2.764H10.76v-2.764ZM5.232 18.98H2.02v-3.212h3.212v3.212Zm0-4.631H2.02v-2.764h3.212v2.764Zm0-4.109H2.02V7.476h3.212v2.764Zm0-4.183H2.02V2.845h3.212v3.212ZM9.415 18.98H6.651v-3.212h2.764v3.212Zm0-4.631H6.651v-2.764h2.764v2.764Zm0-4.109H6.651V7.476h2.764v2.764Zm0-4.183H6.651V2.845h2.764v3.212Z" />
  <path fill-rule="evenodd"
    d="M18.823 12.771c-3.437-.299-6.35 2.615-6.052 6.052.224 2.69 2.391 4.932 5.156 5.156 3.437.299 6.35-2.615 6.052-6.052-.224-2.765-2.391-5.006-5.156-5.156Zm.673.747.672.224c.15.075.224.15.374.15.598.299 1.12.672 1.569 1.195 0 0 .075.075.075.15v.299c0 .074-.075.15-.075.224 0 .15.15.224.224.224h.299a.16.16 0 0 1 .15.15c.074.149.149.298.149.373.224.523.299 1.046.373 1.644 0 .075 0 .15-.074.224a1.63 1.63 0 0 0-.3.374c-.149.299-.298.747-.522.97-.15.15-.3.3-.3.45-.074.149 0 .298-.074.373 0 .074-.075.074-.15 0-.223-.299-.298-.598-.373-.897-.075-.224-.075-.448-.15-.747a1.162 1.162 0 0 0-.448-.598c-.224-.15-.523-.074-.747-.15-.299 0-.523-.074-.747-.298-.075-.075-.15-.224-.15-.299-.149-.598.225-1.27.748-1.569.075-.075.15-.075.224-.15.15-.149.224-.298.15-.522 0-.075-.075-.075-.075-.075-.15.075-.3.075-.374.15-.075 0-.15 0-.15-.075 0-.225 0-.449.075-.748s.15-.523 0-.747c0-.075-.074-.075-.15-.075h-.672a.584.584 0 0 0 .3-.298c.074.149.149.074.149.074Zm-2.391.075c.075 0 .075 0 .15.075.074.15.149.224.223.373.15.3.224.673.075.897-.15.299-.523.448-.822.672-.672.3-1.195.822-1.569 1.42l-.075.075c-.074 0-.074 0-.149-.075s-.15-.075-.224-.15c0 0-.075 0-.075.075a.751.751 0 0 0 .374.822c.074 0 .074.075.15.075.074.15 0 .299 0 .448 0 .224.298.3.447.3.225 0 .374-.15.598-.225a1.5 1.5 0 0 1 1.27.15c.224.149.374.298.523.448.15.15.374.224.598.224.075 0 .075 0 .15.075a.581.581 0 0 1-.15.597c-.15.224-.373.3-.523.523-.373.449-.523 1.121-.822 1.644-.075.075-.15.224-.224.3-.075.149-.075.298-.075.522 0 0 0 .075-.074.075-.075 0-.15-.075-.224-.075-.075 0-.075-.075-.075-.15a10.657 10.657 0 0 0-.673-2.017c-.15-.224-.299-.523-.523-.672-.074-.075-.15-.075-.15-.15v-.15a1.875 1.875 0 0 0-.746-1.718c-.075-.074-.225-.149-.225-.224 0-.075-.074-.224-.074-.299l-.3-.299c-.074 0-.074-.074-.074-.149.3-1.569 1.57-2.989 3.288-3.437Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconHouseSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M7.641 1.493a.514.514 0 0 1 .718 0l6.653 6.481a.514.514 0 0 1-.359.883h-1.51v5.486c0 .284-.23.514-.514.514h-2.115a.514.514 0 0 1-.514-.514V11.37a.514.514 0 0 0-.514-.514H6.514A.514.514 0 0 0 6 11.37v2.972c0 .284-.23.514-.514.514H3.37a.514.514 0 0 1-.514-.514V8.857h-1.51a.514.514 0 0 1-.359-.883L7.64 1.493Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconInfoCircleLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M13.365 8.185c-.36.36-.857.566-1.364.566a1.935 1.935 0 0 1-1.926-1.926A1.923 1.923 0 0 1 12 4.899c.51 0 1.006.205 1.364.563.357.357.563.854.563 1.363 0 .507-.206 1.003-.563 1.36Zm-.852-1.88c-.267-.27-.757-.27-1.019-.003a.726.726 0 0 0 .507 1.245.728.728 0 0 0 .512-1.243Zm-.512 3.169c.663 0 1.635.425 1.685 1.375v6.571a1.687 1.687 0 0 1-3.371-.001v-6.564c.043-.898 1.036-1.381 1.686-1.381Zm-.452 7.603a.45.45 0 0 0 .9 0v-5.565c-.01-.19-.201-.45-.45-.45-.248 0-.44.248-.45.452v5.563Z"/>
  <path fill-rule="evenodd" d="M22.364 12c0 5.724-4.64 10.364-10.364 10.364-5.724 0-10.364-4.64-10.364-10.364C1.636 6.276 6.276 1.636 12 1.636c5.724 0 10.364 4.64 10.364 10.364Zm-1.582 0a8.782 8.782 0 1 1-17.564 0 8.782 8.782 0 0 1 17.564 0Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconInfoCircleSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M14.4 8A6.4 6.4 0 1 1 1.6 8a6.4 6.4 0 0 1 12.8 0ZM16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM6.971 4.857a1.029 1.029 0 1 1 2.058 0 1.029 1.029 0 0 1-2.058 0Zm1.943 6.4a.914.914 0 1 1-1.828 0V7.943a.914.914 0 1 1 1.828 0v3.314Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconInfoSpeechBubbleLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M19.649 4.803a10.481 10.481 0 0 1-.03 14.404l-.185.19a10.505 10.505 0 0 1-7.408 3.103 10.53 10.53 0 0 1-4.917-1.223 6.16 6.16 0 0 1-4.345.984 1.122 1.122 0 0 1-.92-.969 1.063 1.063 0 0 1 .616-1.121 3.495 3.495 0 0 0 1.448-1.498 10.481 10.481 0 0 1 1.146-14.55C9.305.377 15.765.678 19.65 4.803Zm-13.691.534a9.036 9.036 0 0 0-.724 12.62l.5.376-.247.528a6.09 6.09 0 0 1-1.448 2.019 5.07 5.07 0 0 0 2.607-1.028l.5-.376.412.384a9.066 9.066 0 0 0 10.723-1.277l.175-.17a9.036 9.036 0 0 0 .149-12.64 9.058 9.058 0 0 0-12.647-.436Zm4.64 5.05.153.01h2.014a1.628 1.628 0 0 1 1.643 1.607v.021c-.005.313-.03.624-.072.934l-.058.369c-.116.766-.232 1.57-.355 2.293.34.055.648.236.862.506.282.352.383.814.275 1.252v.057a1.91 1.91 0 0 1-.391.767 3.056 3.056 0 0 1-2.317 1.215h-.044c-.354.01-.709-.02-1.057-.086a2.611 2.611 0 0 1-1.86-2.742c.05-.5.108-.991.187-1.447.08-.622.174-1.244.268-1.873a1.517 1.517 0 0 1-.803-1.527 1.484 1.484 0 0 1 1.245-1.345c.154-.015.31-.015.463 0l-.154-.01Zm.074 1.24a.957.957 0 0 0-.246 0 .246.246 0 0 0-.24.254.305.305 0 0 0 .182.333c.114.032.23.056.347.072.275.036.362.16.362.492v.144c-.123.81-.239 1.614-.347 2.417a22.82 22.82 0 0 0-.181 1.388c-.042.634.334 1.22.927 1.447.253.042.51.06.767.05a1.847 1.847 0 0 0 1.448-.766.782.782 0 0 0 .152-.311c.037-.16-.043-.275-.159-.275h-.08c-.108.05-.202.123-.304.181a1.84 1.84 0 0 1-.398.13h-.036c-.13 0-.239-.094-.282-.275a1.445 1.445 0 0 1 0-.441c.029-.311.08-.608.123-.919.152-.911.29-1.844.427-2.756.033-.24.052-.481.058-.723-.015-.297-.167-.441-.413-.441h-2.107Zm1.81-6.698a2.338 2.338 0 1 1-2.133 3.539 2.334 2.334 0 0 1 2.133-3.539Zm0 1.23a1.108 1.108 0 0 0-.82 1.881 1.109 1.109 0 0 0 1.9-.782 1.093 1.093 0 0 0-1.08-1.1Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLifeRingSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16Zm3.158-2.498c-.93.535-2.008.84-3.158.84a6.314 6.314 0 0 1-3.158-.84l1.8-1.8c.423.156.88.24 1.358.24.477 0 .935-.084 1.359-.24l1.8 1.8Zm2.344-2.344c.535-.93.84-2.008.84-3.158s-.305-2.228-.84-3.158l-1.8 1.8c.156.423.24.88.24 1.358 0 .478-.084.935-.24 1.36l1.8 1.799Zm-2.344-8.66-1.799 1.8A3.935 3.935 0 0 0 8 4.058c-.478 0-.935.084-1.36.24l-1.798-1.8A6.314 6.314 0 0 1 8 1.658c1.15 0 2.229.305 3.159.84Zm-8.66 2.344A6.314 6.314 0 0 0 1.658 8c0 1.15.305 2.229.84 3.159l1.8-1.8A3.935 3.935 0 0 1 4.058 8c0-.477.084-.935.24-1.359l-1.8-1.8ZM8 10.286a2.286 2.286 0 1 0 0-4.572 2.286 2.286 0 0 0 0 4.572Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLightBulbLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M12.296 2.194c3.341.144 6.067 2.783 6.242 6.037a6.09 6.09 0 0 1-1.402 4.172c-.748.9-1.257 1.77-1.58 2.678l-.008.024v3.132c0 .39-.24.703-.57.835-.08.655-.676 2.695-1.294 2.695-.073.046-3.28.046-3.375 0-.672 0-1.213-2.028-1.293-2.673a.919.919 0 0 1-.571-.834v-3.155l-.008-.023c-.323-.908-.831-1.78-1.581-2.704a6.097 6.097 0 0 1-1.401-3.902c0-1.737.728-3.351 2.025-4.552 1.3-1.203 3.025-1.802 4.816-1.73Zm3.365 9.053a4.508 4.508 0 0 0 1.037-2.992c-.114-2.266-2.05-4.161-4.45-4.27a4.736 4.736 0 0 0-3.462 1.24c-.928.87-1.443 2.02-1.443 3.25 0 1.02.337 1.97.99 2.774.689.839 1.207 1.68 1.593 2.523h4.14c.387-.863.907-1.686 1.595-2.524Zm-1.977 6.094v-1.754H10.31v1.754h3.375Zm-2.489 2.748c.047.081 1.524.067 1.609 0 .11-.188.229-.717.275-.956h-2.164c.047.233.17.767.28.957Z"/>
  <path d="M12.99 6.472c0-.547-.443-.794-.99-.794a2.793 2.793 0 0 0-2.79 2.79c0 .547.315.99.862.99a.99.99 0 0 0 .981-.855l.01-.135c0-.405.428-.939.817-.997l.12-.009a.99.99 0 0 0 .99-.99Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLightBulbSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M8.001 0a5.544 5.544 0 0 1 4.172 9.192l-.17.202c-.569.712-1.177 1.769-1.404 2.534l-.002.001-.002 2.31a.635.635 0 0 1-.06.268l-.045.08-.753 1.131a.63.63 0 0 1-.526.282h-2.42a.632.632 0 0 1-.526-.282l-.753-1.13a.628.628 0 0 1-.106-.35v-2.282c-.26-.881-.966-2.068-1.577-2.765l-.182-.219a5.51 5.51 0 0 1-1.19-3.428A5.524 5.524 0 0 1 8.001 0Zm0 1.754a3.773 3.773 0 0 0-3.788 3.79c.003.923.331 1.801.936 2.49l.259.309a9.524 9.524 0 0 1 1.678 3.11l-.076-.226 1.98.002c.32-.93.837-1.935 1.606-2.888l.258-.306a3.78 3.78 0 0 0 .937-2.491c0-2.09-1.7-3.79-3.79-3.79Zm.283 1.586a.882.882 0 1 1 0 1.765l-.107.008a.724.724 0 0 0-.615.714l-.008.12a.882.882 0 0 1-1.756-.12A2.488 2.488 0 0 1 8.284 3.34Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLinesDashed3Solid1Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.23 10.418a.987.987 0 1 0 0-1.973H4.26a.987.987 0 1 0 0 1.973h3.97Zm4.118 0a.987.987 0 1 0 0-1.973h-1.685a.987.987 0 1 0 0 1.973h1.684ZM4.115 7.575a.987.987 0 0 0 0-1.974H2.43a.987.987 0 1 0 0 1.974h1.685Zm6.403-.007a.987.987 0 0 0 0-1.974h-3.97a.987.987 0 0 0 0 1.974h3.97Zm-4.72-2.836a.987.987 0 0 0 0-1.974H4.113a.987.987 0 0 0 0 1.974h1.685Zm6.399 0a.987.987 0 0 0 0-1.974h-3.97a.987.987 0 1 0 0 1.974h3.97Zm1.927 8.544a.987.987 0 0 0 0-1.974H2.111a.987.987 0 0 0 0 1.974h12.013Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLinesHorizontal3Large.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M23.006 12.206c0 .802-.65 1.452-1.451 1.452H2.172a1.452 1.452 0 0 1 0-2.904h19.383c.801 0 1.451.65 1.451 1.452Zm0-6.983a1.45 1.45 0 0 1-1.451 1.451H2.172a1.452 1.452 0 0 1 0-2.903h19.383c.801 0 1.451.65 1.451 1.452Zm0 13.966c0 .802-.65 1.452-1.451 1.452H2.172a1.452 1.452 0 0 1 0-2.903h19.383c.801 0 1.451.65 1.451 1.451Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLinesHorizontal3Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M15.337 8.137a.968.968 0 0 1-.967.968H1.448a.968.968 0 1 1 0-1.935H14.37c.534 0 .967.433.967.967Zm0-4.655a.968.968 0 0 1-.967.968H1.448a.968.968 0 1 1 0-1.936H14.37c.534 0 .967.434.967.968Zm0 9.31a.968.968 0 0 1-.967.968H1.448a.968.968 0 1 1 0-1.935H14.37c.534 0 .967.433.967.968Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLinkSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M9.813 6.188a3.9 3.9 0 0 1 0 5.517L8.088 13.43a3.906 3.906 0 0 1-5.518 0 3.906 3.906 0 0 1 0-5.518l.952-.952a.41.41 0 0 1 .7.272c.017.455.099.912.25 1.354a.413.413 0 0 1-.098.426l-.336.336c-.719.72-.742 1.89-.03 2.617a1.85 1.85 0 0 0 2.627.013l1.725-1.724a1.848 1.848 0 0 0-.265-2.834.412.412 0 0 1-.178-.324c-.01-.271.086-.55.3-.765l.54-.54a.412.412 0 0 1 .529-.045c.188.131.364.28.527.441ZM13.43 2.57a3.906 3.906 0 0 0-5.518 0L6.187 4.295a3.9 3.9 0 0 0 .527 5.96.412.412 0 0 0 .529-.045l.54-.541c.214-.214.31-.494.3-.765a.412.412 0 0 0-.178-.324 1.848 1.848 0 0 1-.265-2.834l1.724-1.724a1.85 1.85 0 0 1 2.627.013c.713.726.69 1.898-.03 2.617l-.335.336a.413.413 0 0 0-.098.426c.151.442.232.899.25 1.354a.41.41 0 0 0 .7.272l.952-.953a3.906 3.906 0 0 0 0-5.517Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconListSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M2.2 11.229a1.486 1.486 0 1 1 0 2.971 1.486 1.486 0 0 1 0-2.971Zm12.242.428c.262 0 .49.169.579.423l.027.1.01.106v.857c0 .261-.158.49-.402.586l-.11.033-.104.01H6.13a.615.615 0 0 1-.58-.424l-.026-.1-.01-.105v-.857c0-.261.158-.49.402-.586l.11-.033.104-.01h8.312Zm-12.242-5a1.486 1.486 0 1 1 0 2.972 1.486 1.486 0 0 1 0-2.972Zm12.242.429c.262 0 .49.168.579.423l.027.1.01.105v.857a.627.627 0 0 1-.402.587l-.11.032-.104.01H6.13a.615.615 0 0 1-.58-.423l-.026-.1-.01-.106v-.857c0-.26.158-.49.402-.586l.11-.032.104-.01h8.312Zm-12.242-5a1.486 1.486 0 1 1 0 2.971 1.486 1.486 0 0 1 0-2.971Zm12.242.428c.262 0 .49.169.579.424l.027.099.01.106V4c0 .261-.158.49-.402.586l-.11.033-.104.01H6.13a.615.615 0 0 1-.58-.424l-.026-.1L5.514 4v-.857c0-.261.158-.49.402-.586l.11-.033.104-.01h8.312Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLoadingLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" version="1.1">
  <path style="opacity: 0.01;" d="M 13.867 20.178 C 13.867 20.71 13.436 21.136 12.904 21.136 C 12.372 21.136 11.94 20.71 11.94 20.178 C 11.94 19.647 12.372 19.213 12.904 19.213 C 13.436 19.213 13.867 19.647 13.867 20.178 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 10 19.438 C 10 20.125 9.446 20.675 8.762 20.675 C 8.075 20.675 7.518 20.125 7.518 19.438 C 7.518 18.752 8.075 18.193 8.762 18.193 C 9.446 18.193 10 18.752 10 19.438 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.1"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 6.697 16.648 C 6.697 17.404 6.086 18.013 5.336 18.013 C 4.582 18.013 3.974 17.404 3.974 16.648 C 3.974 15.895 4.582 15.284 5.336 15.284 C 6.086 15.284 6.697 15.895 6.697 16.648 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.2"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 5.548 12.057 C 5.548 12.899 4.867 13.581 4.025 13.581 C 3.181 13.581 2.5 12.899 2.5 12.057 C 2.5 11.214 3.181 10.534 4.025 10.534 C 4.867 10.534 5.548 11.214 5.548 12.057 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.3"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 7.808 6.957 C 7.808 7.887 7.052 8.638 6.121 8.638 C 5.192 8.638 4.439 7.887 4.439 6.957 C 4.439 6.03 5.192 5.27 6.121 5.27 C 7.052 5.27 7.808 6.03 7.808 6.957 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.4"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 13.154 4.626 C 13.154 5.603 12.368 6.388 11.391 6.388 C 10.415 6.388 9.63 5.603 9.63 4.626 C 9.63 3.652 10.415 2.865 11.391 2.865 C 12.368 2.865 13.154 3.652 13.154 4.626 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.5"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 19.08 6.842 C 19.08 7.856 18.258 8.684 17.236 8.684 C 16.222 8.684 15.393 7.856 15.393 6.842 C 15.393 5.818 16.222 4.998 17.236 4.998 C 18.258 4.998 19.08 5.818 19.08 6.842 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.6"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 21.5 12.282 C 21.5 13.342 20.637 14.207 19.575 14.207 C 18.511 14.207 17.654 13.342 17.654 12.282 C 17.654 11.218 18.511 10.359 19.575 10.359 C 20.637 10.359 21.5 11.218 21.5 12.282 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.7"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 19.098 17.819 C 19.098 18.966 18.163 19.901 17.009 19.901 C 15.86 19.901 14.927 18.966 14.927 17.819 C 14.927 16.667 15.86 15.735 17.009 15.735 C 18.163 15.735 19.098 16.667 19.098 17.819 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 12 12" to="360 12 12" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.8"></animate>
  </path>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLoadingSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" version="1.1">
  <path style="opacity: 0.01;" d="M 9.18 13.165 C 9.18 13.501 8.906 13.77 8.57 13.77 C 8.234 13.77 7.962 13.501 7.962 13.165 C 7.962 12.83 8.234 12.556 8.57 12.556 C 8.906 12.556 9.18 12.83 9.18 13.165 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 8 8" to="360 8 8" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 6.737 12.697 C 6.737 13.131 6.386 13.479 5.955 13.479 C 5.522 13.479 5.169 13.131 5.169 12.697 C 5.169 12.265 5.522 11.912 5.955 11.912 C 6.386 11.912 6.737 12.265 6.737 12.697 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 8 8" to="360 8 8" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.1"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 4.65 10.936 C 4.65 11.413 4.265 11.798 3.792 11.798 C 3.314 11.798 2.93 11.413 2.93 10.936 C 2.93 10.461 3.314 10.075 3.792 10.075 C 4.265 10.075 4.65 10.461 4.65 10.936 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 8 8" to="360 8 8" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.2"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 3.925 8.036 C 3.925 8.568 3.495 8.998 2.964 8.998 C 2.43 8.998 2 8.568 2 8.036 C 2 7.505 2.43 7.074 2.964 7.074 C 3.495 7.074 3.925 7.505 3.925 8.036 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 8 8" to="360 8 8" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.3"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 5.352 4.816 C 5.352 5.404 4.875 5.877 4.287 5.877 C 3.701 5.877 3.226 5.404 3.226 4.816 C 3.226 4.229 3.701 3.75 4.287 3.75 C 4.875 3.75 5.352 4.229 5.352 4.816 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 8 8" to="360 8 8" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.4"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 8.729 3.343 C 8.729 3.96 8.233 4.457 7.616 4.457 C 6.999 4.457 6.504 3.96 6.504 3.343 C 6.504 2.729 6.999 2.231 7.616 2.231 C 8.233 2.231 8.729 2.729 8.729 3.343 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 8 8" to="360 8 8" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.5"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 12.471 4.743 C 12.471 5.383 11.952 5.907 11.306 5.907 C 10.666 5.907 10.142 5.383 10.142 4.743 C 10.142 4.097 10.666 3.579 11.306 3.579 C 11.952 3.579 12.471 4.097 12.471 4.743 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 8 8" to="360 8 8" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.6"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 14 8.178 C 14 8.848 13.453 9.395 12.784 9.395 C 12.112 9.395 11.569 8.848 11.569 8.178 C 11.569 7.507 12.112 6.964 12.784 6.964 C 13.453 6.964 14 7.507 14 8.178 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 8 8" to="360 8 8" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.7"></animate>
  </path>
  <path style="opacity: 0.01;" d="M 12.481 11.675 C 12.481 12.4 11.893 12.99 11.163 12.99 C 10.438 12.99 9.849 12.4 9.849 11.675 C 9.849 10.948 10.438 10.36 11.163 10.36 C 11.893 10.36 12.481 10.948 12.481 11.675 Z">
    <animateTransform attributeName="transform" type="rotate" from="0 8 8" to="360 8 8" dur="2s" repeatCount="indefinite"></animateTransform>
    <animate attributeName="opacity" dur="1.8s" values="1;1;1;1;0;0;0;0;0;" repeatCount="indefinite" begin="0.8"></animate>
  </path>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLockCircleSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M8 3.733c-1.067 0-1.92.854-1.92 1.92v.96h3.733v-.96C9.92 4.587 9.067 3.733 8 3.733Zm0 4.374c-.427 0-.64.32-.64.64 0 .213.107.426.32.64v.96c0 .213.107.32.32.32.213 0 .32-.107.32-.32v-.96c.213-.107.32-.32.32-.64.107-.32-.213-.64-.64-.64Z"/>
  <path fill-rule="evenodd" d="M8 0C3.627 0 0 3.627 0 8s3.627 8 8 8 8-3.627 8-8-3.52-8-8-8Zm3.733 11.2c0 .533-.426.96-.96.96H5.227a.956.956 0 0 1-.96-.96V7.467c0-.534.426-.96.96-.96v-.96c0-1.494 1.28-2.774 2.773-2.774s2.773 1.28 2.773 2.774v.96c.534 0 .96.426.96.96V11.2Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLockLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M15.624 8.43V6.643a3.624 3.624 0 0 0-7.248 0v1.785H6.643V6.644a5.357 5.357 0 1 1 10.714 0v1.785h-1.733Zm2.188 1.733H6.188a.788.788 0 0 0-.788.787v9.244c0 .435.353.788.788.788h11.624a.788.788 0 0 0 .788-.788v-9.243a.788.788 0 0 0-.788-.788ZM6.188 8.429a2.521 2.521 0 0 0-2.521 2.521v9.244a2.521 2.521 0 0 0 2.52 2.521h11.625a2.521 2.521 0 0 0 2.521-2.52V10.95a2.521 2.521 0 0 0-2.52-2.52H6.187Zm6.685 7.04c.432-.304.742-.806.742-1.32 0-.821-.793-1.614-1.615-1.614s-1.615.793-1.615 1.615c0 .513.31 1.015.742 1.32v2.4c0 .41.462.74.873.74.41 0 .873-.33.873-.74v-2.4Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconLockSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M7.826 1.143a4.237 4.237 0 0 1 4.219 4.007l.005.217v1.066l.027.005a1.599 1.599 0 0 1 1.261 1.26l.022.15.007.152v5.266c0 .824-.634 1.506-1.438 1.584l-.153.007h-7.9a1.595 1.595 0 0 1-1.583-1.438l-.007-.153V8c0-.721.485-1.333 1.145-1.527l.144-.035.027-.005V5.367a4.238 4.238 0 0 1 3.794-4.202l.214-.017.216-.005Zm0 7.255c-.844 0-1.547.642-1.547 1.448l.01.16.028.154c.06.251.183.472.36.653l.104.094.001.907c0 .56.47.995 1.044.995l.13-.008.13-.025c.46-.115.784-.498.784-.962V10.9l.101-.095a1.37 1.37 0 0 0 .403-.96c0-.806-.703-1.448-1.548-1.448Zm0-5.39c-1.24 0-2.266.972-2.353 2.191l-.006.168v1.042h4.718V5.367c0-1.24-.972-2.266-2.19-2.353l-.169-.006Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconMinusSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M14.857 8.006a1 1 0 0 0-1-1H2.143a1 1 0 1 0 0 2h11.714a1 1 0 0 0 1-1Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconOpenSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M9.968 1.977c0-.58.47-1.051 1.052-1.051h3.014c.582 0 1.052.471 1.052 1.051v3.014a1.051 1.051 0 1 1-2.103 0V4.39L7.717 9.28a1.051 1.051 0 0 1-1.433-1.54l5.072-4.71h-.336a1.051 1.051 0 0 1-1.052-1.052Zm-8.308.41a2.174 2.174 0 0 1 1.322-.457h3.466a1.051 1.051 0 1 1 0 2.103h-3.42v8.95h8.95V9.062a1.051 1.051 0 1 1 2.104 0v3.967c0 .723-.304 1.258-.735 1.6a2.175 2.175 0 0 1-1.322.457H2.982c-.723 0-1.257-.304-1.599-.735a2.174 2.174 0 0 1-.457-1.322V3.986c0-.722.303-1.257.734-1.598Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPauseLarge.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
  <path fill-rule="evenodd" d="M9.853 7.185c.664 0 1.636.425 1.686 1.376v6.57a1.687 1.687 0 0 1-3.371 0V8.567c.042-.899 1.036-1.382 1.685-1.382Zm-.451 7.603a.45.45 0 0 0 .9 0V9.223c-.01-.19-.202-.449-.45-.449-.249 0-.44.248-.45.451v5.563Zm6.43-6.228c-.05-.95-1.022-1.375-1.686-1.375-.65 0-1.643.483-1.685 1.381v6.565c0 .93.756 1.686 1.685 1.686.93 0 1.686-.756 1.686-1.686v-6.57Zm-1.688 6.668a.45.45 0 0 1-.45-.44V9.225c.01-.203.202-.45.45-.45.25 0 .44.258.45.448v5.565a.45.45 0 0 1-.45.44Z" clip-rule="evenodd"/>
  <path fill-rule="evenodd" d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Zm0-1.667a8.333 8.333 0 1 0 0-16.666 8.333 8.333 0 0 0 0 16.666Z" clip-rule="evenodd"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPeopleLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M11.393 12.325a.797.797 0 0 1 .739-.264 5.062 5.062 0 0 1 3.349 2.163c.479.38 1.168.64 1.821.69.154.023.207.034.368.034.162-.008.132-.006.362-.033.835-.066 1.735-.469 2.17-1.034a.807.807 0 0 1 .844-.29C22.76 14.039 24 15.7 24 17.547v1.582a2.364 2.364 0 0 1-2.374 2.374H2.374A2.364 2.364 0 0 1 0 19.129V17.1a5.07 5.07 0 0 1 4.22-5.012.775.775 0 0 1 .738.264 4.201 4.201 0 0 0 3.218 1.503c1.24 0 2.426-.553 3.217-1.53Zm9.653 2.98c-.863.79-2.16 1.249-3.379 1.209a4.878 4.878 0 0 1-1.37-.16c.033.236.055.474.055.718v2.057c0 .279-.05.544-.136.791h5.41a.777.777 0 0 0 .792-.79v-1.583c0-.95-.58-1.847-1.372-2.242ZM4.088 13.723a3.481 3.481 0 0 0-2.506 3.349v2.057c0 .448.343.791.792.791h11.604a.777.777 0 0 0 .791-.79v-2.032a3.481 3.481 0 0 0-2.505-3.35 5.744 5.744 0 0 1-4.088 1.689 5.661 5.661 0 0 1-4.088-1.714ZM17.67 6.654a3.422 3.422 0 0 1 3.429 3.429v.185a3.422 3.422 0 0 1-3.429 3.428 3.439 3.439 0 0 1-3.428-3.428v-.185a3.422 3.422 0 0 1 3.428-3.429Zm0 1.556a1.835 1.835 0 0 0-1.846 1.847v.184c0 1.029.818 1.846 1.846 1.846a1.835 1.835 0 0 0 1.846-1.846v-.184A1.835 1.835 0 0 0 17.67 8.21ZM8.176 2.25a4.761 4.761 0 0 1 4.747 4.747 4.761 4.761 0 0 1-4.747 4.748 4.761 4.761 0 0 1-4.747-4.748A4.761 4.761 0 0 1 8.176 2.25Zm0 1.582A3.174 3.174 0 0 0 5.01 6.997a3.174 3.174 0 0 0 3.165 3.165 3.174 3.174 0 0 0 3.165-3.165 3.174 3.174 0 0 0-3.165-3.165Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPeopleSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="m7.999 8.817.089.01.03.005.026.01-.096-.02a3.401 3.401 0 0 1 2.813 3.363v1.353c0 .816-.604 1.48-1.393 1.572l-.15.01H1.583a1.574 1.574 0 0 1-1.575-1.428L0 13.538v-1.353a3.38 3.38 0 0 1 2.813-3.341l.095-.009a.52.52 0 0 1 .397.185l.079.09-.079-.09a2.753 2.753 0 0 0 1.114.804 2.808 2.808 0 0 0 .511.149l.091.016.02.003a2.76 2.76 0 0 0 2.554-.99.532.532 0 0 1 .493-.176l-.09-.009Zm5.927 1.013.105.016c1.143.299 1.969 1.407 1.969 2.637v1.055c0 .88-.703 1.583-1.582 1.583H12.17c.26-.47.405-1.01.405-1.583v-1.353l-.006-.248a5.135 5.135 0 0 0-.22-1.26c.45-.101.885-.334 1.118-.637a.538.538 0 0 1 .563-.194l-.105-.016ZM5.45 7.758a3.174 3.174 0 0 0 3.164-3.165A3.174 3.174 0 0 0 5.451 1.43a3.174 3.174 0 0 0-3.165 3.164A3.174 3.174 0 0 0 5.45 7.758Zm6.33 1.016a2.281 2.281 0 0 0 2.285-2.286v-.123a2.281 2.281 0 0 0-2.286-2.286 2.281 2.281 0 0 0-2.285 2.286v.123a2.292 2.292 0 0 0 2.285 2.286Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPercentageSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="m14.021 2.383-.404-.404a1.143 1.143 0 0 0-1.616 0L1.979 12a1.143 1.143 0 0 0 0 1.616l.404.404c.446.447 1.17.447 1.616 0L14.021 4a1.143 1.143 0 0 0 0-1.616Zm-1.477 11.876a1.714 1.714 0 1 0 0-3.428 1.714 1.714 0 0 0 0 3.428Zm-7.371-10.8a1.714 1.714 0 1 1-3.429 0 1.714 1.714 0 0 1 3.43 0Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPersonLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M20.175 17.1c0-2.475-1.8-4.575-4.2-5.025-.3-.075-.525.075-.75.3a4.128 4.128 0 0 1-3.225 1.5c-1.275 0-2.4-.525-3.225-1.5-.15-.225-.45-.3-.75-.3a5.07 5.07 0 0 0-4.2 5.025v2.175c0 .182.035.396.075.525.3.975 1.2 1.725 2.25 1.725h11.625c1.05 0 2.1-.525 2.325-1.725.056-.3.075-.345.075-.525 0-.826-.03-1.35 0-2.175ZM18.6 19.125c0 .45-.375.825-.825.825H6.225a.832.832 0 0 1-.825-.825V17.1a3.558 3.558 0 0 1 2.475-3.375c.9.9 2.025 1.425 3.225 1.65.3.075.6.075.9.075.3 0 .6 0 .9-.075 1.2-.15 2.325-.75 3.225-1.65 1.5.45 2.475 1.8 2.475 3.375v2.025Zm-6.6-7.35c2.625 0 4.725-2.1 4.725-4.725 0-2.625-2.1-4.8-4.725-4.8a4.705 4.705 0 0 0-4.725 4.725c0 2.625 2.1 4.8 4.725 4.8Zm0-7.95a3.169 3.169 0 0 1 3.15 3.15 3.169 3.169 0 0 1-3.15 3.15 3.169 3.169 0 0 1-3.15-3.15A3.169 3.169 0 0 1 12 3.825Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPersonSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M11.2 4.571a3.2 3.2 0 1 1-6.4 0 3.2 3.2 0 0 1 6.4 0Zm-.997 4.425c.107-.11.232-.237.426-.196 1.6.343 2.742 1.714 2.742 3.429V13.6c0 .8-.516 1.6-1.371 1.6H4c-.893 0-1.371-.8-1.371-1.6v-1.371c0-1.715 1.142-3.086 2.742-3.429.192-.041.321.09.43.2l.028.029A2.815 2.815 0 0 0 8 10.057c.8 0 1.6-.457 2.171-1.028l.032-.033Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPinLocationSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="m3.238 9.721 3.646 5.338a1.279 1.279 0 0 0 2.232 0l3.646-5.338c.23-.413.52-.998.754-1.614.222-.584.45-1.332.45-2.023C13.966 2.84 11.251.286 8 .286c-3.25 0-5.966 2.552-5.966 5.798 0 .691.228 1.439.45 2.023.235.616.523 1.201.754 1.614ZM8 9.181a2.93 2.93 0 1 0 0-5.859 2.93 2.93 0 0 0 0 5.86Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPinSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M10.687 7.273h-.16a.16.16 0 0 1-.158-.14l-.353-2.741a.29.29 0 0 1 .29-.335c.285.003.567 0 .748-.233a1.82 1.82 0 0 0 .368-1.179c-.016-.432-.027-.681-.302-.98-.274-.3-.55-.466-.93-.465H5.77c-.38-.001-.59.165-.864.465-.274.299-.352.548-.368.98a1.82 1.82 0 0 0 .368 1.179c.181.232.463.236.748.233a.29.29 0 0 1 .29.335L5.59 7.133a.16.16 0 0 1-.159.14h-.159c-.39 0-.965.377-1.241.692-.277.314-.472.621-.472 1.066v.559c0 .176.143.32.32.32h2.963a.08.08 0 0 1 .08.08v3.673a.32.32 0 0 0 .1.232l.737.697a.32.32 0 0 0 .44 0l.737-.697a.32.32 0 0 0 .1-.232V9.99a.08.08 0 0 1 .08-.08h2.963a.32.32 0 0 0 .32-.32v-.56c0-.445-.195-.752-.472-1.066-.276-.315-.85-.692-1.241-.692Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPlayLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M12 20.333a8.333 8.333 0 1 0 0-16.666 8.333 8.333 0 0 0 0 16.666ZM12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Z"/>
  <path fill-rule="evenodd" d="m15.333 12.333-5.5-3.175v6.35l5.5-3.175Zm1.334 1.155a1.333 1.333 0 0 0 0-2.31l-6.5-3.752c-.89-.513-2 .128-2 1.155v7.505a1.333 1.333 0 0 0 2 1.155l6.5-3.753Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPlusCircleSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0Zm0 1.951A6.056 6.056 0 0 0 1.951 8 6.056 6.056 0 0 0 8 14.049 6.056 6.056 0 0 0 14.049 8 6.056 6.056 0 0 0 8 1.951Zm0 2.732c.497 0 .908.372.968.853l.008.123-.002 1.365h1.367c.456 0 .84.313.946.736l.022.118.008.122a.976.976 0 0 1-.853.968l-.123.008H8.974l.002 1.365a.976.976 0 0 1-.736.946l-.118.022-.122.008a.976.976 0 0 1-.968-.853l-.008-.123V8.976H5.66a.976.976 0 0 1-.946-.736l-.022-.118L4.683 8c0-.497.372-.908.853-.968l.123-.008h1.365V5.66c0-.456.313-.84.736-.946l.118-.022L8 4.683Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPlusSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M8 1.143a1 1 0 0 1 1 1V7h4.857a1 1 0 1 1 0 2H9v4.857a1 1 0 1 1-2 0V9H2.143a1 1 0 0 1 0-2H7V2.143a1 1 0 0 1 1-1Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconProjectPrivateLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd"
        fill="#CCCCCC"
        d="M21.828 5.775c-.15-.225-.374-.375-.598-.525l.075-.525c.15-1.35-.822-2.55-2.167-2.625H9.576c-.224 0-.448-.075-.597-.3L8.232.9C7.709.375 7.036 0 6.289 0H3.675C3.002 0 2.33.3 1.882.825c-.523.525-.747 1.2-.673 1.95l.3 2.4c-.3.15-.598.3-.897.6A2.476 2.476 0 0 0 .014 7.65l.822 9.375A2.762 2.762 0 0 0 3.6 19.5h9.637c-.075-.3-.075-.6-.075-.9 0-.225 0-.525.075-.75H3.6c-.598 0-1.046-.45-1.046-.975L1.658 7.5a.85.85 0 0 1 .224-.6c.15-.15.373-.3.597-.3h17.556c.224 0 .448.075.597.3a.85.85 0 0 1 .224.6l-.522 5.7c.597.15 1.12.45 1.568.75l.598-6.3c0-.675-.224-1.35-.672-1.875Zm-2.241-.825H3.152l-.3-2.4c0-.225.076-.45.225-.6.15-.15.374-.3.598-.3h2.614c.224 0 .449.075.598.3l.747.9c.448.6 1.12.9 1.868.9h9.263c.224 0 .448.075.597.225.15.15.225.375.225.6v.375Z" />
    <path fill-rule="evenodd"
        d="M18.375 12.75c3.15 0 5.625 2.55 5.625 5.625S21.45 24 18.375 24s-5.625-2.55-5.625-5.625 2.55-5.625 5.625-5.625Zm0 1.95c-1.05 0-1.95.9-1.95 1.95v.675c-.375 0-.675.3-.675.675v2.625c0 .375.3.675.675.675h3.9c.375 0 .675-.3.675-.675V18c0-.375-.3-.675-.675-.675v-.675c0-1.05-.9-1.95-1.95-1.95Zm0 3.75c.3 0 .525.225.45.45 0 .225-.075.375-.225.45v.675c0 .15-.075.225-.225.225-.15 0-.225-.075-.225-.225v-.675c-.15-.15-.225-.3-.225-.45 0-.225.15-.45.45-.45Zm0-3.075c.75 0 1.35.6 1.275 1.35v.675h-2.625v-.675c0-.75.6-1.35 1.35-1.35Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconProjectPublicLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd"
        fill="#CCCCCC"
        d="M13.123 19.05v-.45c0-.225 0-.525.075-.75H3.61c-.6 0-1.049-.45-1.049-.975L1.662 7.5c0-.225.075-.45.225-.6.15-.15.374-.3.6-.3h17.602c.225 0 .45.075.6.3.149.15.224.375.224.6l-.524 5.7c.3.075.524.15.748.3 0 0 .075 0 .075.075.225.15.45.225.675.375l.599-6.3a2.472 2.472 0 0 0-.6-1.875c-.15-.225-.374-.375-.599-.525l.075-.525c.15-1.35-.824-2.55-2.172-2.625H9.602c-.225 0-.45-.075-.6-.3L8.255.9C7.729.375 7.055 0 6.306 0H3.685C3.01 0 2.336.3 1.887.825c-.525.525-.75 1.2-.674 1.95l.3 2.4c-.3.15-.6.3-.9.6A2.477 2.477 0 0 0 .014 7.65l.824 9.375A2.767 2.767 0 0 0 3.61 19.5h9.662c-.075-.15-.075-.3-.15-.45ZM3.085 1.95c.15-.15.375-.3.6-.3h2.621c.225 0 .45.075.6.3l.749.9c.449.6 1.123.9 1.872.9h9.288a.85.85 0 0 1 .6.225.85.85 0 0 1 .224.6l-.075.375H3.085l-.224-2.4c0-.225.075-.45.224-.6Z" />
    <path fill-rule="evenodd"
        d="M18.823 12.771c-3.437-.299-6.35 2.615-6.052 6.052.224 2.69 2.391 4.932 5.156 5.156 3.437.299 6.35-2.615 6.052-6.052a5.606 5.606 0 0 0-5.156-5.156Zm.673.822.672.224c.15.075.224.15.374.15.598.298 1.12.672 1.569 1.195 0 0 .075.075.075.15v.298c0 .075-.075.15-.075.225 0 .149.15.224.224.224h.299a.16.16 0 0 1 .15.15c.074.149.149.298.149.373.224.523.299 1.046.373 1.644 0 .074 0 .149-.074.224a1.63 1.63 0 0 0-.3.373c-.149.3-.298.747-.522.972-.15.15-.3.298-.3.448-.074.15 0 .299-.074.373 0 .075-.075.075-.15 0-.223-.298-.298-.597-.373-.896-.075-.224-.075-.448-.15-.747a1.162 1.162 0 0 0-.448-.598c-.224-.15-.523-.075-.747-.15-.299 0-.523-.074-.747-.298-.075-.075-.15-.224-.15-.3-.149-.597.225-1.27.748-1.568.075-.075.15-.075.224-.15.15-.15.224-.299.15-.523 0-.074-.075-.074-.075-.074-.15.074-.3.074-.374.149-.075 0-.15 0-.15-.075 0-.224 0-.448.075-.747s.15-.523 0-.747c0-.075-.074-.075-.15-.075h-.672a.583.583 0 0 0 .3-.299c.074.075.074.075.149.075Zm-2.391.075c.075 0 .075 0 .15.075.074.149.149.224.223.373.15.299.224.673.075.897-.15.299-.523.448-.822.672-.672.299-1.195.822-1.569 1.42l-.075.075c-.074 0-.074 0-.149-.075s-.15-.075-.224-.15c0 0-.075 0-.075.075a.751.751 0 0 0 .374.822c.074 0 .074.075.15.075.074.15 0 .299 0 .448 0 .224.298.299.447.299.15 0 .374-.15.598-.224a1.5 1.5 0 0 1 1.27.15c.224.149.374.298.523.447.15.15.374.225.598.225.075 0 .075 0 .15.074a.581.581 0 0 1-.15.598c-.15.224-.373.299-.523.523-.373.448-.523 1.12-.822 1.644-.075.075-.15.224-.224.299-.15.15-.15.299-.15.523 0 0 0 .075-.074.075-.075 0-.15-.075-.224-.075-.075 0-.075-.075-.075-.15a10.65 10.65 0 0 0-.672-2.017c-.15-.224-.3-.523-.523-.672-.075-.075-.15-.075-.15-.15v-.15a1.878 1.878 0 0 0-.747-1.718c-.075-.075-.224-.15-.224-.224-.075-.075-.075-.224-.075-.299l-.299-.299c-.075 0-.075-.075-.075-.15.3-1.643 1.644-2.988 3.363-3.436Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconPuzzlePieceSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M6.43.81c.856 0 1.467.494 1.467 1.268 0 .342-.084.567-.316.908l-.156.22c-.31.428-.43.688-.43 1.089 0 1.074 1.03 1.312 2.673.987.397-.078.817-.187 1.249-.32l.316-.1.306-.104.384-.14-.01.037c-.069.248-.138.517-.203.797-.092.401-.167.792-.22 1.16-.21 1.493-.023 3.034.792 3.034a.922.922 0 0 0 .328-.064c.063-.024.127-.054.198-.092l.112-.063c.06-.035.271-.166.31-.19.419-.252.742-.367 1.168-.367.81 0 1.316.651 1.316 1.553 0 .852-.49 1.444-1.274 1.444-.344 0-.57-.084-.913-.314l-.221-.155c-.43-.307-.69-.427-1.092-.427-.792 0-1.1.652-1.061 1.678.012.324.058.668.127 1.014l.058.267.024.104-.153.01a9.379 9.379 0 0 0-.397.038l-1.2.139-.147.014c-1.648.16-2.449-.02-2.449-.725 0-.283.079-.48.29-.782l.551-.585c.36-.478.32-.835.32-1.303 0-.95-.958-1.554-1.961-1.554-1.035 0-2.016.598-2.016 1.588 0 .432.061.884.343 1.269l.438.515c.035.044.203.246.245.3.082.103.138.183.176.257a.48.48 0 0 1 .063.221c0 .667-.791.948-2.156.9a11.97 11.97 0 0 1-1.458-.148l-.338-.056-.37-.073V5.143l.305.06a11.919 11.919 0 0 0 1.792.209c1.478.053 2.394-.28 2.394-1.185a.896.896 0 0 0-.066-.328 1.95 1.95 0 0 0-.16-.31l-.195-.308c-.26-.417-.379-.738-.379-1.161 0-.803.676-1.31 1.597-1.31Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconQuestionMarkCircleSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
	<path d="M7.74707 10.1475C8.28284 10.1475 8.704 10.5072 8.7041 11.0273C8.7041 11.5476 8.2829 11.9072 7.74707 11.9072C7.21119 11.9072 6.78223 11.54 6.78223 11.0273C6.78233 10.5071 7.21125 10.1475 7.74707 10.1475Z" />
	<path d="M8 4.09473C9.40825 4.09488 10.5642 4.86009 10.5645 6.12988C10.5645 6.98689 10.12 7.42353 9.35449 7.9209C8.8876 8.21927 8.59691 8.47947 8.55859 8.84668C8.55094 8.86962 8.55061 8.90788 8.54297 8.93848C8.5047 9.25979 8.20641 9.50479 7.75488 9.50488C7.219 9.50488 6.92773 9.26754 6.92773 8.80078V8.72461C6.92773 8.08951 7.30315 7.70697 7.84668 7.33203C8.4742 6.89604 8.79566 6.65087 8.7959 6.22266C8.7959 5.76355 8.45092 5.45703 7.91504 5.45703C7.50948 5.45714 7.21854 5.65594 6.97363 6.00781C6.75928 6.24502 6.62925 6.47461 6.16992 6.47461C5.74122 6.47461 5.43457 6.20665 5.43457 5.81641C5.4346 5.67111 5.46597 5.53317 5.51953 5.39551C5.77998 4.66875 6.69112 4.09473 8 4.09473Z" />
	<path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0ZM8 1.59961C4.46538 1.59961 1.59961 4.46538 1.59961 8C1.59961 11.5346 4.46538 14.4004 8 14.4004C11.5346 14.4004 14.4004 11.5346 14.4004 8C14.4004 4.46538 11.5346 1.59961 8 1.59961Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconQuestionMarkLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M12.085 16.582a1.56 1.56 0 0 1 1.552 1.553 1.557 1.557 0 0 1-1.553 1.552c-.41 0-.81-.165-1.099-.454a1.564 1.564 0 0 1-.453-1.098c0-.409.165-.809.453-1.097.29-.29.69-.456 1.1-.456ZM12.06 3.937c2.712 0 5.004 1.846 5.126 4.113l.005.194-.007.243-.02.234c-.139 1.296-.816 2.134-2.243 3.221l-.216.167-.376.302c-.737.615-.988 1.007-1.057 1.657a.75.75 0 0 1-.75.74h-.783a.85.85 0 0 1-.85-.867c.134-1.41.877-2.342 2.347-3.462 1.243-.939 1.57-1.349 1.57-2.24 0-1.287-1.21-2.301-2.746-2.301l-.189.005-.194.016c-1.218.139-1.829.633-2.153 1.366a.974.974 0 0 1-.927.676h-.97a.561.561 0 0 1-.549-.676c.353-2.072 2.425-3.388 4.982-3.388Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconQuoteLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M0 6.4C0 5.095 1.05 4 2.375 4h5.5C9.2 4 10.25 5.095 10.25 6.4v6.342c0 .585-.13 1.156-.391 1.687L7.909 18.4A2.837 2.837 0 0 1 5.358 20c-2.14 0-3.484-2.268-2.547-4.159l.001-.002.707-1.439H2.375C1.05 14.4 0 13.305 0 12V6.4ZM2.375 6A.392.392 0 0 0 2 6.4V12c0 .235.188.4.375.4h3.553a.5.5 0 0 1 .448.72l-1.77 3.605-.002.004C4.306 17.33 4.748 18 5.36 18a.837.837 0 0 0 .748-.469l.004-.008 1.953-3.976c.124-.253.186-.522.186-.805V6.4c0-.235-.188-.4-.375-.4h-5.5Zm11.375.4c0-1.305 1.05-2.4 2.375-2.4h5.5C22.95 4 24 5.095 24 6.4v6.342c0 .585-.13 1.156-.391 1.687l-1.95 3.972A2.837 2.837 0 0 1 19.108 20c-2.139 0-3.484-2.268-2.547-4.159l.001-.002.707-1.439h-1.145c-1.325 0-2.375-1.095-2.375-2.4V6.4Zm2.375-.4a.392.392 0 0 0-.375.4V12c0 .235.188.4.375.4h3.553a.5.5 0 0 1 .448.72l-1.77 3.605-.002.004c-.298.601.144 1.271.755 1.271a.837.837 0 0 0 .748-.469l.004-.008 1.953-3.976c.124-.253.186-.522.186-.805V6.4c0-.235-.188-.4-.375-.4h-5.5Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconReadLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M11.375 4.116c0 .537-.408.979-.93 1.032h-.107l-1.964 3.57c-.196 0-.442.035-.647.223a.188.188 0 0 0-.027.028 3.556 3.556 0 0 1 2.644.797 3.06 3.06 0 0 1 3.082-.04 3.555 3.555 0 0 1 2.222-.776c.58 0 1.126.138 1.61.383l.542-1.2c.583-1.293 1.167-2.586 1.733-3.885.165-.376.451-.66.834-.799.275-.1.552-.097.644-.096h.018a1.036 1.036 0 0 1 .264 2.039h-.109c-.395.884-.769 1.779-1.143 2.673-.384.92-.768 1.839-1.175 2.748a1.105 1.105 0 0 1-.04.08 3.57 3.57 0 1 1-6.475.255 1.314 1.314 0 0 0-.966.04 3.57 3.57 0 1 1-6.32-.595c.132-.387.322-.773.446-.99l3.273-5.728a.996.996 0 0 1 .12-.169h.001l.001-.002.003-.003.005-.006.012-.013a1.42 1.42 0 0 1 .115-.111l.029-.026c.063-.057.145-.13.245-.192a1.966 1.966 0 0 1 1.023-.273c.572 0 1.036.464 1.037 1.036Zm-9.44 1.208A2.096 2.096 0 0 1 4.03 3.229h2.036a.81.81 0 1 1 0 1.619H4.03a.476.476 0 0 0-.476.476v13.5a.476.476 0 0 0 .476.477h13.5a.477.477 0 0 0 .477-.476V17.61a.812.812 0 0 1 .81-.818.812.812 0 0 1 .81.818v1.213a2.096 2.096 0 0 1-2.096 2.096H4.03a2.096 2.096 0 0 1-2.096-2.096v-13.5Zm11.888 7.197a1.825 1.825 0 1 1 3.65 0 1.825 1.825 0 0 1-3.65 0Zm-5.751-1.825a1.825 1.825 0 1 0 0 3.649 1.825 1.825 0 0 0 0-3.65Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconRefreshLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="m18.098 6.612.037-1.674a.936.936 0 1 1 1.872.044l-.11 4.49a1.09 1.09 0 0 1-1.296 1.045l-4.388-.84a.968.968 0 0 1 .358-1.903l2.174.401a6.39 6.39 0 0 0-1.572-1.814 5.754 5.754 0 0 0-3.792-1.246c-1.357.056-2.657.602-3.694 1.551-.798.732-1.375 1.684-1.723 2.74-.171.52-.69.869-1.224.75-.51-.114-.844-.614-.698-1.117.445-1.535 1.254-2.919 2.398-3.967 1.366-1.251 3.08-1.97 4.869-2.044 1.788-.073 3.548.505 4.997 1.641a8.36 8.36 0 0 1 1.792 1.943ZM7.26 15.822a6.39 6.39 0 0 0 1.572 1.815c1.1.862 2.435 1.3 3.792 1.245 1.357-.056 2.657-.602 3.694-1.551.799-.732 1.375-1.684 1.723-2.74.171-.52.69-.869 1.224-.75.51.114.844.615.698 1.117-.445 1.535-1.254 2.92-2.397 3.967-1.366 1.251-3.08 1.971-4.87 2.044-1.788.073-3.548-.505-4.997-1.641a8.362 8.362 0 0 1-1.792-1.943l-.037 1.674a.936.936 0 1 1-1.872-.044l.11-4.49a1.09 1.09 0 0 1 1.296-1.045l4.388.841a.968.968 0 0 1-.358 1.902l-2.174-.4Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconRefreshSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="m13.416 2.807-.032 1.453a7.258 7.258 0 0 0-1.556-1.687C10.57 1.586 9.042 1.085 7.49 1.148c-1.553.064-3.041.689-4.227 1.775-.993.91-1.695 2.11-2.082 3.444-.126.436.163.87.606.97.463.102.915-.2 1.063-.651.302-.918.803-1.744 1.496-2.38A5.05 5.05 0 0 1 7.553 2.96a4.995 4.995 0 0 1 3.291 1.081 5.54 5.54 0 0 1 1.365 1.575l-1.887-.348a.84.84 0 0 0-.31 1.652l3.582.686a1.143 1.143 0 0 0 1.357-1.094l.09-3.667a.813.813 0 1 0-1.625-.038ZM1.143 13.647a.813.813 0 1 0 1.625.038l.033-1.454a7.243 7.243 0 0 0 1.555 1.687c1.258.987 2.786 1.489 4.339 1.425 1.553-.063 3.04-.688 4.227-1.775.992-.909 1.695-2.11 2.081-3.443.127-.436-.162-.871-.606-.97-.463-.103-.914.2-1.062.65-.302.918-.803 1.744-1.497 2.38a5.05 5.05 0 0 1-3.206 1.346 4.995 4.995 0 0 1-3.292-1.08 5.547 5.547 0 0 1-1.365-1.576l1.888.348a.84.84 0 0 0 .31-1.651l-3.582-.687A1.143 1.143 0 0 0 1.233 9.98l-.09 3.667Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconReportLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M3.142 21.243h11.554a.77.77 0 1 0 0-1.54H3.912V2.756h9.244v3.851c0 .425.344.77.77.77h3.851V9.69a.77.77 0 1 0 1.54 0V6.61a.775.775 0 0 0-.226-.546l-4.62-4.62a.776.776 0 0 0-.545-.226H3.142a.77.77 0 0 0-.77.77v18.486c0 .425.345.77.77.77ZM14.696 3.846l1.992 1.992h-1.992V3.846Z"/>
  <path d="M11.615 9.305c0-2.18-2.018-4.627-2.104-4.73-.294-.35-.89-.35-1.184 0-.086.103-2.104 2.55-2.104 4.73A2.7 2.7 0 0 0 8.92 12a2.7 2.7 0 0 0 2.696-2.695Zm-3.851 0c0-.942.618-2.113 1.156-2.932.537.817 1.154 1.987 1.154 2.932a1.157 1.157 0 0 1-2.31 0Zm0 5.005a.77.77 0 0 1-.77.77h-.77a.77.77 0 1 1 0-1.54h.77a.77.77 0 0 1 .77.77Zm6.932 0a.77.77 0 0 1-.77.77h-3.852a.77.77 0 1 1 0-1.54h3.852a.77.77 0 0 1 .77.77Zm-6.932 3.082a.77.77 0 0 1-.77.77h-.77a.77.77 0 1 1 0-1.54h.77a.77.77 0 0 1 .77.77Zm6.932 0a.77.77 0 0 1-.77.77h-3.852a.77.77 0 1 1 0-1.54h3.852a.77.77 0 0 1 .77.77Zm.77-5.392v2.31a.77.77 0 0 0 .77.771v5.392a2.313 2.313 0 0 0 2.311 2.31 2.313 2.313 0 0 0 2.31-2.31V15.08a.77.77 0 0 0 .771-.77V12a.77.77 0 0 0-.77-.77h-4.622a.77.77 0 0 0-.77.77Zm3.851 8.473a.771.771 0 0 1-1.54 0V15.08h1.54v5.392Zm-2.31-7.703h3.08v.77h-3.08v-.77Z"/>
  <path fill-rule="evenodd" d="M2.372 20.473c0 .425.345.77.77.77h11.554a.77.77 0 1 0 0-1.54H3.912V2.756h9.244v3.851c0 .425.344.77.77.77h3.851V9.69a.77.77 0 1 0 1.54 0V6.61a.775.775 0 0 0-.226-.546l-4.62-4.62a.776.776 0 0 0-.545-.226H3.142a.77.77 0 0 0-.77.77v18.486Zm9.243-11.168c0-2.18-2.018-4.627-2.104-4.73-.294-.35-.89-.35-1.184 0-.086.103-2.104 2.55-2.104 4.73A2.7 2.7 0 0 0 8.92 12a2.7 2.7 0 0 0 2.696-2.695Zm-3.85 5.005a.77.77 0 0 1-.771.77h-.77a.77.77 0 1 1 0-1.54h.77a.77.77 0 0 1 .77.77Zm6.93 0a.77.77 0 0 1-.77.77h-3.85a.77.77 0 1 1 0-1.54h3.85a.77.77 0 0 1 .77.77Zm-6.93 3.082a.77.77 0 0 1-.771.77h-.77a.77.77 0 1 1 0-1.54h.77a.77.77 0 0 1 .77.77Zm6.93 0a.77.77 0 0 1-.77.77h-3.85a.77.77 0 1 1 0-1.54h3.85a.77.77 0 0 1 .77.77ZM15.467 12v2.31a.77.77 0 0 0 .77.771v5.392a2.313 2.313 0 0 0 2.311 2.31 2.313 2.313 0 0 0 2.31-2.31V15.08a.77.77 0 0 0 .771-.77V12a.77.77 0 0 0-.77-.77h-4.622a.77.77 0 0 0-.77.77ZM7.764 9.305c0-.942.618-2.113 1.156-2.932.537.817 1.154 1.987 1.154 2.932a1.157 1.157 0 0 1-2.31 0Zm8.924-3.467-1.992-1.992v1.992h1.992Zm2.63 14.635a.771.771 0 0 1-1.541 0V15.08h1.54v5.392Zm.77-7.703h-3.081v.77h3.08v-.77Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconRocketLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M13.443 5.465c1.19-1.19 2.877-1.622 4.374-1.707a10.18 10.18 0 0 1 1.887.067 5.6 5.6 0 0 1 .405.066c.022.11.045.246.067.405.064.484.108 1.147.066 1.886-.086 1.497-.517 3.183-1.708 4.375-.614.615-2.2 1.92-3.672 3.1-.728.584-1.415 1.127-1.921 1.524l-.297.233-.486-.486-.007-.006-.996-.997 2.024-2.024a.762.762 0 1 0-1.08-1.08l-2.024 2.024-1.49-1.489.233-.298c.398-.505.942-1.193 1.525-1.92 1.182-1.473 2.485-3.058 3.1-3.673Zm-3.368 9.54 2.167 2.167c.327.334.433.91.381 1.58a5.313 5.313 0 0 1-.216 1.119l-.004.013a.765.765 0 0 0 1.202.841l.001-.001.004-.002.011-.01.039-.032a12.305 12.305 0 0 0 .6-.543c.376-.364.873-.887 1.35-1.516.896-1.188 1.856-2.946 1.478-4.801 1.05-.859 2.036-1.693 2.526-2.183 1.569-1.57 2.057-3.694 2.152-5.368.05-.846 0-1.607-.077-2.176a7.198 7.198 0 0 0-.129-.716 2.815 2.815 0 0 0-.077-.264 1.498 1.498 0 0 0-.057-.137.86.86 0 0 0-.401-.401 1.184 1.184 0 0 0-.14-.058 2.81 2.81 0 0 0-.262-.077 7.178 7.178 0 0 0-.717-.13 11.791 11.791 0 0 0-2.175-.077c-1.674.096-3.799.584-5.368 2.152-.493.493-1.336 1.49-2.2 2.549-1.838-.352-3.575.6-4.752 1.488a13.275 13.275 0 0 0-1.944 1.814c-.05.058-.09.103-.116.135l-.032.04-.009.01-.003.004h-.001a.764.764 0 0 0 .842 1.202l.013-.004a4.746 4.746 0 0 1 .303-.084c.212-.05.5-.106.814-.13.676-.053 1.256.055 1.589.388l1.156 1.156.004.005.968.967-1.233 1.233a.763.763 0 1 0 1.08 1.08l1.233-1.233ZM7.45 10.33l.168-.214c.357-.455.832-1.055 1.348-1.701-.897.117-1.814.607-2.635 1.227a9.018 9.018 0 0 0-.314.247c.471.042.977.165 1.433.44Zm6.94 7.37c.635-.84 1.133-1.778 1.236-2.697-.662.53-1.278 1.016-1.742 1.38l-.205.162c.293.464.42.986.465 1.47.082-.101.165-.206.247-.314Zm2.456-9.62c-.298.298-.726.268-.96.035-.233-.233-.263-.663.034-.96.297-.297.727-.267.96-.034.233.233.263.662-.034.96Zm1.08 1.08c-.871.872-2.268.887-3.12.035-.852-.852-.836-2.25.034-3.12.87-.87 2.268-.886 3.12-.034.852.852.837 2.249-.034 3.12ZM6.672 18.408a.764.764 0 0 0-1.08-1.08l-3.154 3.154a.764.764 0 0 0 1.08 1.08l3.154-3.154Zm3.957-.667c.26.333.2.813-.13 1.073l-3.54 2.768a.764.764 0 0 1-.941-1.203l3.539-2.769a.765.765 0 0 1 1.072.131ZM5.183 13.5a.765.765 0 0 1 1.204.941l-2.77 3.54a.763.763 0 1 1-1.202-.941l2.768-3.54Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconRotateLeftSmall.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="m8.127 13.287 1.453.033a.813.813 0 1 1-.038 1.625l-3.667-.09a1.143 1.143 0 0 1-1.094-1.358l.686-3.582a.84.84 0 0 1 1.652.31l-.349 1.888a5.547 5.547 0 0 0 1.575-1.365 4.995 4.995 0 0 0 1.081-3.292A5.05 5.05 0 0 0 8.08 4.25c-.636-.694-1.461-1.195-2.379-1.497-.45-.148-.754-.6-.65-1.062.098-.444.533-.733.969-.606 1.333.386 2.534 1.089 3.444 2.081 1.086 1.186 1.711 2.674 1.774 4.227.064 1.553-.438 3.08-1.424 4.339a7.26 7.26 0 0 1-1.687 1.556Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconRotateRightSmall.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M5.63 1.835a.813.813 0 0 1 .832-.78l3.667.09a1.143 1.143 0 0 1 1.094 1.358l-.686 3.582a.84.84 0 0 1-1.652-.31l.349-1.888a5.547 5.547 0 0 0-1.576 1.365 4.995 4.995 0 0 0-1.08 3.292 5.05 5.05 0 0 0 1.346 3.207c.635.693 1.461 1.194 2.379 1.496.45.148.753.6.65 1.063-.098.443-.533.732-.97.605-1.332-.386-2.533-1.089-3.443-2.081-1.086-1.186-1.711-2.674-1.775-4.227-.063-1.553.439-3.08 1.425-4.339a7.258 7.258 0 0 1 1.687-1.555L6.424 2.68a.813.813 0 0 1-.794-.845Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconSaveLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M15.98 14.544a3.98 3.98 0 1 1-7.96 0 3.98 3.98 0 0 1 7.96 0Zm-1.713 0a2.267 2.267 0 1 1-4.534 0 2.267 2.267 0 0 1 4.534 0Z"/>
  <path fill-rule="evenodd" d="M3.182 2.182a1 1 0 0 0-1 1v17.636a1 1 0 0 0 1 1h17.636a1 1 0 0 0 1-1V7.024a1 1 0 0 0-.293-.707l-3.842-3.842a1 1 0 0 0-.707-.293H3.182Zm13.92 2.134 3.003 3.003v12.787H3.895V3.895h3v3.854a1 1 0 0 0 1 1h8.207a1 1 0 0 0 1-1V4.316Zm-8.495 2.72V3.895h6.782v3.14H8.607Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconScaleSmall.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <defs>
    <clipPath id="a">
      <path d="M0 0h16v16H0z"/>
    </clipPath>
  </defs>
  <g clip-path="url(#a)">
    <path fill-rule="evenodd" d="M8.733.999a.733.733 0 0 0-1.466 0v3.4L3.765 5.587a.741.741 0 0 0-.036.013.733.733 0 0 0-.606.327l-2.933 4.4a.734.734 0 0 0-.123.407V12.2a3.667 3.667 0 0 0 7.333 0v-1.466a.734.734 0 0 0-.123-.407L4.894 6.752l5.728-1.94L8.723 7.66a.733.733 0 0 0-.123.406v1.466a3.667 3.667 0 1 0 7.333 0V8.066a.733.733 0 0 0-.123-.406l-2.892-4.34a.733.733 0 0 0-.946-.514l-3.24 1.097V.999Zm5.408 6.8-1.874-2.811-1.874 2.811h3.748Zm-4.074 1.467h4.4v.266a2.2 2.2 0 0 1-4.4 0v-.266Zm-4.46 1.2L3.733 7.654 1.86 10.466h3.748Zm-4.074 1.467h4.4v.266a2.2 2.2 0 0 1-4.4 0v-.266Z"/>
  </g>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconScatterPlotSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
	<path d="M1.89998 1.00001C1.89998 0.50295 1.49703 0.100006 0.999976 0.100006C0.502919 0.100006 0.0999756 0.50295 0.0999756 1.00001V15C0.0999756 15.4971 0.502919 15.9 0.999976 15.9H15C15.497 15.9 15.9 15.4971 15.9 15C15.9 14.5029 15.497 14.1 15 14.1H1.89998V1.00001Z" />
	<path d="M5.49998 3.75003C6.19033 3.75003 6.74998 3.19039 6.74998 2.50003C6.74998 1.80967 6.19033 1.25003 5.49998 1.25003C4.80962 1.25003 4.24998 1.80967 4.24998 2.50003C4.24998 3.19039 4.80962 3.75003 5.49998 3.75003Z" />
	<path d="M12.5 6.75003C13.1903 6.75003 13.75 6.19039 13.75 5.50003C13.75 4.80967 13.1903 4.25003 12.5 4.25003C11.8096 4.25003 11.25 4.80967 11.25 5.50003C11.25 6.19039 11.8096 6.75003 12.5 6.75003Z" />
	<path d="M12.75 9.50003C12.75 10.1904 12.1903 10.75 11.5 10.75C10.8096 10.75 10.25 10.1904 10.25 9.50003C10.25 8.80967 10.8096 8.25003 11.5 8.25003C12.1903 8.25003 12.75 8.80967 12.75 9.50003Z" />
	<path d="M7.49998 8.75003C8.19033 8.75003 8.74998 8.19039 8.74998 7.50003C8.74998 6.80967 8.19033 6.25003 7.49998 6.25003C6.80962 6.25003 6.24998 6.80967 6.24998 7.50003C6.24998 8.19039 6.80962 8.75003 7.49998 8.75003Z" />
	<path d="M5.49998 11.25C5.49998 11.9404 4.94033 12.5 4.24998 12.5C3.55962 12.5 2.99998 11.9404 2.99998 11.25C2.99998 10.5597 3.55962 10 4.24998 10C4.94033 10 5.49998 10.5597 5.49998 11.25Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconSearchLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M15.491 14.03a7.867 7.867 0 0 0-.681-10.35 7.874 7.874 0 0 0-11.132 0 7.865 7.865 0 0 0 0 11.127 7.876 7.876 0 0 0 10.355.682.896.896 0 0 0 .072.08l6.75 6.75a1.036 1.036 0 0 0 1.466-1.465l-6.75-6.75a1.046 1.046 0 0 0-.08-.072Zm-2.184-8.926a5.8 5.8 0 1 1-8.203 8.203 5.8 5.8 0 0 1 8.203-8.203Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconSearchLinesHorizontal3Large.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M6.51 5.694a.818.818 0 1 0 0 1.636h4.362a.818.818 0 0 0 0-1.636H6.51ZM5.692 9.24c0-.453.366-.819.818-.819h6.543a.818.818 0 0 1 0 1.636H6.51a.818.818 0 0 1-.818-.818Zm.818 1.908a.818.818 0 1 0 0 1.637h2.726a.818.818 0 1 0 0-1.637H6.51Z"/>
  <path fill-rule="evenodd" d="M14.81 3.679a7.867 7.867 0 0 1 .681 10.352c.027.022.054.046.08.071l6.75 6.751a1.036 1.036 0 0 1-1.465 1.466l-6.751-6.75a1.04 1.04 0 0 1-.072-.08 7.876 7.876 0 0 1-10.355-.683 7.865 7.865 0 0 1 0-11.127 7.874 7.874 0 0 1 11.132 0Zm-1.503 9.628a5.8 5.8 0 1 0-8.203-8.203 5.8 5.8 0 0 0 8.203 8.203Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconSearchLinesHorizontal3Small.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path
    d="M4.378 3.799a.516.516 0 1 0 0 1.033h3.099a.516.516 0 1 0 0-1.033H4.378Zm-.516 2.324c0-.285.23-.517.516-.517H8.51a.516.516 0 1 1 0 1.033H4.378a.516.516 0 0 1-.516-.516Zm.516 1.291a.516.516 0 1 0 0 1.033h2.066a.516.516 0 0 0 0-1.033H4.378Z" />
  <path fill-rule="evenodd"
    d="M9.843 2.508a5.187 5.187 0 0 1 .501 6.753.734.734 0 0 1 .079.07l4.36 4.36a.773.773 0 1 1-1.093 1.094l-4.36-4.361a.78.78 0 0 1-.07-.08 5.187 5.187 0 1 1 .583-7.836Zm-1.144 6.19a3.602 3.602 0 1 0-5.095-5.095A3.602 3.602 0 0 0 8.7 8.698Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconSearchSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M10.343 9.261a5.186 5.186 0 0 0-7.832-6.752 5.184 5.184 0 0 0 6.749 7.835.78.78 0 0 0 .069.08l4.36 4.359a.773.773 0 0 0 1.093-1.094l-4.36-4.36a.787.787 0 0 0-.079-.068ZM8.7 3.605a3.601 3.601 0 1 1-5.093 5.093A3.601 3.601 0 0 1 8.7 3.605Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconSendLarge.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
  <path fill-rule="evenodd" d="M22.396 12.031v-.029a.847.847 0 0 0-.497-.774L2.824 2.044a.85.85 0 0 0-1.162 1.071l3.418 8.887-3.418 8.888a.85.85 0 0 0 1.162 1.07l19.075-9.184a.853.853 0 0 0 .497-.745Zm-4.574-.879L4.018 4.506l2.556 6.646h11.248Zm-11.248 1.7h11.248L4.018 19.5l2.556-6.647Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconShareLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M18.145 19.726a1.942 1.942 0 0 1-2.63.742 1.869 1.869 0 0 1-.755-2.578c.526-.92 1.685-1.234 2.64-.717.944.512 1.271 1.634.745 2.553Zm-12.115-5.2c-1.038 0-1.877-.819-1.877-1.828 0-1.01.839-1.828 1.877-1.828s1.878.818 1.878 1.828c0 1.01-.84 1.827-1.878 1.827Zm9.485-9.495a1.945 1.945 0 0 1 2.63.743c.526.92.199 2.042-.746 2.553-.954.519-2.113.202-2.639-.717-.524-.914-.184-2.07.755-2.58Zm2.79 10.559c-1.491-.808-3.342-.5-4.546.742l-4.24-2.224a3.58 3.58 0 0 0 .29-1.41c0-.466-.098-.909-.26-1.321l4.21-2.21c1.204 1.244 3.055 1.551 4.546.743 1.825-.989 2.483-3.24 1.468-5.017l-.078-.134-.004.003c-1.052-1.677-3.296-2.261-5.074-1.296-1.483.804-2.194 2.492-1.753 4.137L8.469 9.909a3.808 3.808 0 0 0-2.44-.89c-2.088 0-3.779 1.646-3.779 3.68 0 2.031 1.691 3.679 3.78 3.679.897 0 1.71-.318 2.36-.827l4.474 2.348c-.44 1.643.27 3.331 1.753 4.136 1.778.964 4.022.38 5.074-1.297l.004.003.078-.134c1.015-1.776.357-4.027-1.468-5.017Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconSlidersHorizontalLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M15.767 3.535a2.46 2.46 0 0 1 2.32 1.641h2.848a.818.818 0 1 1 0 1.637h-2.848a2.46 2.46 0 0 1-4.64 0H3.07a.818.818 0 0 1 0-1.637h10.376a2.46 2.46 0 0 1 2.32-1.641Zm.5 3.373a1.042 1.042 0 0 0 .54-.912c0-.333-.157-.63-.4-.82h.005a1.037 1.037 0 0 0-1.29 0h.005a1.038 1.038 0 0 0 .64 1.86c.18 0 .351-.047.5-.128ZM7.31 9.544a2.46 2.46 0 0 1 2.321 1.642h11.303a.818.818 0 1 1 0 1.636H9.631a2.46 2.46 0 0 1-4.64 0H3.07a.818.818 0 0 1 0-1.636h1.92a2.46 2.46 0 0 1 2.32-1.642Zm.5 3.374a1.038 1.038 0 0 0 .14-1.732h.006a1.037 1.037 0 0 0-1.29 0h.005a1.038 1.038 0 0 0 .14 1.732 1.036 1.036 0 0 0 1 0Zm6.918 4.283a2.46 2.46 0 0 0-4.644 0H3.07a.818.818 0 0 0 0 1.637h7.017a2.46 2.46 0 0 0 4.636 0h6.21a.818.818 0 1 0 0-1.637h-6.206Zm-1.686 1.637a1.035 1.035 0 0 1-.636.217 1.035 1.035 0 0 1-.636-.217 1.038 1.038 0 0 1-.011-1.637h-.005a1.037 1.037 0 0 1 1.304 0h-.005a1.038 1.038 0 0 1-.01 1.637Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconSpeechBubblesLarge.svg">
<svg width="25" height="24" viewBox="0 0 25 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M19.69.927A.927.927 0 0 0 18.762 0H.927A.927.927 0 0 0 0 .927v13.516c0 .512.415.927.927.927h2.357v3.226a.927.927 0 0 0 1.555.683l4.255-3.909h.89v1.84c0 .512.416.927.928.927h6.136l2.75 2.79c.581.59 1.587.178 1.587-.652v-2.138h1.721a.927.927 0 0 0 .927-.927V5.441a.927.927 0 0 0-.927-.927H19.69V.927Zm0 5.147h2.796v10.504h-2.649v2.183l-2.152-2.183h-6.153V15.37h7.23a.927.927 0 0 0 .928-.927v-8.37ZM18.142 1.56H1.548v12.277h3.284v3.346l3.672-3.346h9.638V1.56Zm-6.396 8.272c.302 0 .546.245.546.546v.443a.545.545 0 0 1-.546.546H5.212a.545.545 0 0 1-.545-.546v-.443c0-.301.244-.546.545-.546h6.534ZM6.621 7.236c.301 0 .546.245.546.546v.443a.545.545 0 0 1-.546.546H5.212a.545.545 0 0 1-.545-.546v-.443c0-.301.244-.546.545-.546h1.41Zm8.2 0c.301 0 .546.245.546.546v.443a.546.546 0 0 1-.546.546h-1.106a.545.545 0 0 1-.546-.546v-.443c0-.301.245-.546.546-.546h1.106Zm-5.446 0c.302 0 .546.245.546.546v.443a.545.545 0 0 1-.546.546H8.086a.545.545 0 0 1-.545-.546v-.443c0-.301.244-.546.545-.546h1.29Zm2.875 0c.3 0 .545.245.545.546v.443a.545.545 0 0 1-.545.546h-1.41a.545.545 0 0 1-.545-.546v-.443c0-.301.244-.546.546-.546h1.409Zm2.544-2.57c.302 0 .546.245.546.546v.443a.545.545 0 0 1-.546.546H5.212a.545.545 0 0 1-.545-.546v-.443c0-.301.244-.545.545-.545h9.582Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconSquareOnDashedSquareLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M9.103 9.226v4.845c0 .232.087.45.244.62.114.122.26.213.409.257l.089.021.074.01 4.94.003v4.844a1.18 1.18 0 0 1-.953 1.16l-.118.017-.111.005H4.259a1.18 1.18 0 0 1-1.159-.953l-.017-.118-.006-.11v-9.419A1.18 1.18 0 0 1 4.03 9.25l.118-.017.111-.006h4.844Zm-1.396 1.4h-3.23v8.98h8.988v-3.23H9.879a2.222 2.222 0 0 1-1.168-.418l-.125-.097-.195-.187-.09-.09a2.222 2.222 0 0 1-.573-1.213l-.016-.153-.005-.15v-3.441Zm9.372 4.343c.371 0 .677.292.677.65a.66.66 0 0 1-.524.633l-.078.013-.075.004h-.66a.661.661 0 0 1-.672-.65c0-.3.213-.558.513-.63l.076-.015.082-.005h.66Zm2.405-.431c.175-.29.501-.413.813-.272a.613.613 0 0 1 .318.842c-.258.566-.78.93-1.401.99-.37.036-.66-.156-.696-.525a.672.672 0 0 1 .448-.698l.075-.022.127-.02a.406.406 0 0 0 .213-.123l.036-.048.067-.125Zm.789-4.29c.3 0 .558.212.63.512l.015.077.005.082v1.58c0 .37-.291.671-.65.671a.655.655 0 0 1-.63-.513l-.015-.076-.005-.082v-1.58a.66.66 0 0 1 .65-.672Zm0-4.07c.3 0 .558.212.63.512l.015.077.005.082v1.58c0 .37-.291.671-.65.671a.655.655 0 0 1-.63-.513l-.015-.076-.005-.082v-1.58a.66.66 0 0 1 .65-.672ZM8.54 5.927c.312 0 .58.212.655.512l.014.077.006.082V7.67a.675.675 0 0 1-1.33.159l-.015-.077-.005-.082V6.599c0-.371.302-.672.675-.672Zm1.084-2.73a.672.672 0 0 1 .202 1.317l-.076.017-.129.012a.404.404 0 0 0-.22.11l-.039.045-.074.12a.672.672 0 0 1-1.144-.7 1.743 1.743 0 0 1 1.48-.921Zm9.585-.065a1.748 1.748 0 0 1 1.48.922.671.671 0 0 1-1.096.76l-.053-.067-.036-.06a.404.404 0 0 0-.228-.193l-.057-.014-.055-.005a.672.672 0 0 1 .044-1.343Zm-5.915-.141c.371 0 .672.291.672.65a.655.655 0 0 1-.513.63l-.077.015-.082.005h-1.58a.661.661 0 0 1-.67-.65c0-.301.212-.558.512-.63l.077-.015.082-.005h1.58Zm3.793 0c.371 0 .672.291.672.65a.655.655 0 0 1-.513.63l-.077.015-.082.005h-1.58a.661.661 0 0 1-.671-.65c0-.301.212-.558.513-.63l.076-.015.082-.005h1.58Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconStarburstSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="m.91 6.341 1.513-.908a.8.8 0 0 0 .388-.672l.03-1.764a.8.8 0 0 1 .926-.777l1.743.277a.8.8 0 0 0 .729-.266L7.396.9a.8.8 0 0 1 1.208 0L9.76 2.231a.8.8 0 0 0 .73.266l1.742-.277a.8.8 0 0 1 .925.777l.03 1.764a.8.8 0 0 0 .388.672l1.513.908a.8.8 0 0 1 .21 1.19l-1.11 1.37a.8.8 0 0 0-.136.765l.575 1.668a.8.8 0 0 1-.604 1.046l-1.732.336a.8.8 0 0 0-.594.499c-.441-.186-1.4-.537-1.4-.537a2.3 2.3 0 0 1 1.708-1.435l.942-.182-.313-.907a2.3 2.3 0 0 1 .388-2.197l.603-.745-.822-.493a2.3 2.3 0 0 1-1.115-1.933l-.017-.958-.947.15a2.3 2.3 0 0 1-2.096-.763L8 2.491l-.629.724a2.3 2.3 0 0 1-2.096.763l-.947-.15-.017.959a2.3 2.3 0 0 1-1.115 1.932l-.822.493.603.745a2.3 2.3 0 0 1 .388 2.197l-.313.907.942.182a2.3 2.3 0 0 1 1.709 1.435l.343.895.838-.465.728 1.311-1.543.856a.8.8 0 0 1-1.135-.413l-.632-1.647a.8.8 0 0 0-.594-.499l-1.732-.336a.8.8 0 0 1-.604-1.046l.575-1.668a.8.8 0 0 0-.135-.765l-1.11-1.37A.8.8 0 0 1 .91 6.34Zm9.044 7.232.343-.895s.96.35 1.4.537l-.631 1.647a.8.8 0 0 1-1.135.413l-1.543-.856a.8.8 0 0 0-.776 0l-.728-1.311a2.3 2.3 0 0 1 2.232 0l.838.465Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconStarLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="m11.992 8.712-.64 1.538a1.855 1.855 0 0 1-1.563 1.136l-1.66.133 1.264 1.084c.528.452.759 1.162.598 1.838l-.387 1.62 1.422-.868a1.855 1.855 0 0 1 1.933 0l1.421.868-.386-1.62a1.854 1.854 0 0 1 .597-1.838l1.265-1.084-1.66-.133a1.855 1.855 0 0 1-1.564-1.136l-.64-1.538ZM13 7.015c-.372-.896-1.641-.896-2.014 0L9.892 9.642a.273.273 0 0 1-.23.167l-2.837.228c-.967.077-1.36 1.284-.622 1.916l2.161 1.851a.27.27 0 0 1 .088.27l-.66 2.769c-.225.944.801 1.69 1.63 1.184l2.428-1.484a.273.273 0 0 1 .284 0l2.43 1.484c.827.505 1.854-.24 1.629-1.184l-.66-2.769a.273.273 0 0 1 .087-.27l2.162-1.851c.737-.632.344-1.839-.623-1.916l-2.837-.228a.273.273 0 0 1-.23-.167L13 7.015Z"/>
  <path d="M11.201 2.111a.79.79 0 1 1 1.582 0v1.69a.791.791 0 0 1-1.582 0v-1.69Zm11.055 9.091a.79.79 0 0 1 0 1.582h-1.691a.79.79 0 0 1 0-1.582h1.69Zm-3.466-7.13a.791.791 0 0 1 1.119 1.119l-1.196 1.195a.79.79 0 1 1-1.119-1.118l1.196-1.196Zm1.945 14.727a.79.79 0 1 1-1.119 1.118l-1.195-1.195a.79.79 0 1 1 1.118-1.119l1.196 1.196Zm-9.534 1.386a.79.79 0 0 1 1.582 0v1.69a.791.791 0 0 1-1.582 0v-1.69ZM3.42 11.202a.79.79 0 1 1 0 1.582H1.73a.79.79 0 1 1 0-1.582h1.69Zm1.028 6.401a.79.79 0 1 1 1.119 1.119L4.37 19.917A.791.791 0 0 1 3.253 18.8l1.195-1.196ZM6.39 5.268a.79.79 0 1 1-1.12 1.118L4.076 5.191a.79.79 0 1 1 1.119-1.119L6.39 5.268Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTableSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M14.5 1.143h-13a1.5 1.5 0 0 0-1.5 1.5v11a1.5 1.5 0 0 0 1.5 1.5h13a1.5 1.5 0 0 0 1.5-1.5v-11a1.5 1.5 0 0 0-1.5-1.5Zm-7.071 12.2h-6V10h6v3.343Zm0-5.2h-6v-3.4h6v3.4Zm7.142 5.2h-6V10h6v3.343Zm0-5.2h-6v-3.4h6v3.4Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconThumbsDownSmall.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <defs>
    <clipPath id="a">
      <path d="M0 0h16v16H0z"/>
    </clipPath>
  </defs>
  <g clip-path="url(#a)">
    <path fill-rule="evenodd" d="M13.6 2.337a.707.707 0 0 0-.472-.17h-.961v5.666h.961a.707.707 0 0 0 .705-.567V2.734a.707.707 0 0 0-.232-.397ZM10.5 8.49V2.167H3.804a.5.5 0 0 0-.5.425v.001l-.92 5.999a.502.502 0 0 0 .5.575h3.783c.46 0 .833.373.833.833v2.667a1.167 1.167 0 0 0 .674 1.057L10.5 8.49Zm1.375 1.01-2.447 5.505a.833.833 0 0 1-.761.495 2.833 2.833 0 0 1-2.834-2.833v-1.834H2.897a2.167 2.167 0 0 1-2.16-2.491l.92-6s-.001 0 0 0A2.169 2.169 0 0 1 3.816.5h9.29a2.374 2.374 0 0 1 2.386 2.055.835.835 0 0 1 .007.112v4.666a.835.835 0 0 1-.008.112A2.374 2.374 0 0 1 13.107 9.5h-1.232Z"/>
  </g>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconThumbsUpSmall.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <defs>
    <clipPath id="a">
      <path d="M0 0h16v16H0z"/>
    </clipPath>
  </defs>
  <g clip-path="url(#a)">
    <path fill-rule="evenodd" d="M6.572.995A.833.833 0 0 1 7.333.5a2.833 2.833 0 0 1 2.834 2.833v1.834h2.935a2.167 2.167 0 0 1 2.162 2.491l-.92 6a2.168 2.168 0 0 1-2.162 1.842H2.667A2.167 2.167 0 0 1 .5 13.333V8.667A2.167 2.167 0 0 1 2.667 6.5h1.458L6.572.995ZM3.833 8.167H2.667a.5.5 0 0 0-.5.5v4.666a.5.5 0 0 0 .5.5h1.166V8.167ZM5.5 13.833h6.696a.5.5 0 0 0 .5-.425l.92-6a.501.501 0 0 0-.5-.575H9.333A.833.833 0 0 1 8.5 6V3.333a1.167 1.167 0 0 0-.674-1.057L5.5 7.51v6.323Z"/>
  </g>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTrashCanLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M9.188 2.202a2.182 2.182 0 0 0-2.181 2.181v.648H4.102a.49.49 0 0 0-.49.491v.557c0 .27.219.49.49.49h15.796a.49.49 0 0 0 .491-.49v-.557a.49.49 0 0 0-.49-.49h-2.903v-.649a2.182 2.182 0 0 0-2.182-2.181H9.188Zm-.64 2.201c0-.361.293-.654.655-.654h5.594c.362 0 .655.293.655.654v.62H8.548v-.62Z"/>
  <path d="M17.714 7.828a.218.218 0 0 1 .218-.209h1.103c.124 0 .223.103.218.227l-.492 12.336c-.023.411-.213 1.007-.528 1.29-.315.283-.732.44-1.166.44H6.929c-.434 0-.852-.157-1.167-.44-.315-.283-.501-.88-.524-1.29L4.733 7.845a.218.218 0 0 1 .218-.227h1.117c.117 0 .213.093.218.21l.506 12.296s.047.293.363.292l9.698.008c.308 0 .353-.316.353-.316l.508-12.28Z"/>
  <path d="M8.496 9.62a.438.438 0 0 1 .418-.454l.436-.02a.436.436 0 0 1 .454.418l.369 9.175a.438.438 0 0 1-.418.454l-.436.02a.435.435 0 0 1-.454-.418l-.37-9.175Zm3.286-.469a.436.436 0 0 0-.436.437v9.15c0 .241.195.437.436.437h.437c.24 0 .436-.196.436-.437v-9.15a.436.436 0 0 0-.436-.437h-.437Zm2.424.413a.435.435 0 0 1 .454-.417l.436.019c.24.01.428.214.418.455l-.378 9.174a.435.435 0 0 1-.454.417l-.436-.02a.438.438 0 0 1-.418-.454l.378-9.174Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTrashCanSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd"
    d="M10.633 1.6v.525h3.756a1.058 1.058 0 1 1 0 2.115h-.503l-.856 10.293A1.6 1.6 0 0 1 11.436 16H4.36a1.6 1.6 0 0 1-1.595-1.467L1.91 4.24h-.315a1.058 1.058 0 0 1 0-2.115h3.53V1.6a1.6 1.6 0 0 1 1.6-1.6h2.308a1.6 1.6 0 0 1 1.6 1.6Zm-1.44-.32H6.585v.826h2.608V1.28ZM5.037 13.434a.574.574 0 0 0 1.147-.062l-.39-7.183a.574.574 0 1 0-1.146.062l.39 7.183Zm2.71.514a.573.573 0 0 0 .574-.574V6.211a.573.573 0 1 0-1.147 0v7.163c0 .317.257.574.574.574Zm2.11.01a.574.574 0 0 0 .6-.543l.39-7.182A.574.574 0 1 0 9.7 6.17l-.389 7.183a.574.574 0 0 0 .545.604Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTreeDendogramLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M20.812 6.325a1.4 1.4 0 1 0-1.158-2.188H12a.788.788 0 0 0-.788.788v2.842H7.8a.787.787 0 0 0-.788.788v4.138H4.425a1.4 1.4 0 1 0 0 1.575h2.587v4.657c0 .435.353.787.788.787h11.854a1.399 1.399 0 0 0 2.558-.787 1.4 1.4 0 0 0-2.557-.788H8.587V9.342h2.625v2.324c0 .435.353.787.788.787h7.655a1.4 1.4 0 1 0 0-1.575h-6.868V5.712h6.868c.252.37.676.613 1.157.613Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTreeHorizontalLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M18.784 17.275c.85 0 1.517.663 1.517 1.51 0 .854-.667 1.524-1.517 1.524a1.53 1.53 0 0 1-1.531-1.525c0-.846.673-1.509 1.531-1.509ZM5.232 13.527c-.85 0-1.517-.67-1.517-1.524 0-.847.667-1.51 1.517-1.51.859 0 1.532.663 1.532 1.51a1.53 1.53 0 0 1-1.532 1.524ZM18.784 3.69c.85 0 1.517.67 1.517 1.525 0 .846-.667 1.509-1.517 1.509-.858 0-1.531-.663-1.531-1.51 0-.84.686-1.524 1.531-1.524Zm0 6.803c.85 0 1.517.663 1.517 1.51 0 .854-.667 1.524-1.517 1.524a1.529 1.529 0 0 1-1.531-1.524c0-.847.673-1.51 1.531-1.51ZM15.84 12.84c.345 1.323 1.608 2.345 2.944 2.345 1.636 0 3.078-1.547 3.078-3.182 0-1.636-1.442-3.189-3.078-3.189-1.343 0-2.605 1.036-2.944 2.368h-2.978V6.109h3c.365 1.286 1.617 2.182 2.922 2.182 1.636 0 3.078-1.44 3.078-3.076 0-1.635-1.442-3.077-3.078-3.077-1.353 0-2.64.967-2.955 2.313h-3.805c-.192 0-.486.117-.622.25-.14.135-.218.385-.22.59v5.89H8.17C7.832 9.85 6.574 8.815 5.23 8.815c-1.642 0-3.093 1.55-3.093 3.189 0 1.595 1.492 3.182 3.094 3.182 1.337 0 2.595-1.022 2.939-2.345h3.01v5.892c.007.393.449.817.842.817h3.806c.316 1.343 1.604 2.313 2.955 2.313 1.636 0 3.078-1.443 3.078-3.078 0-1.635-1.442-3.075-3.078-3.075-1.305 0-2.557.895-2.922 2.182h-3V12.84h2.978Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTreeHorizontalPrivateLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd"
        fill="#CCCCCC"
        d="M13.71 15.9H9.652v-4.8h2.987a2.683 2.683 0 0 0 2.605 2.025c1.531 0 2.757-1.2 2.757-2.7 0-1.5-1.226-2.7-2.757-2.7a2.683 2.683 0 0 0-2.605 2.025H9.651v-4.8h2.987c.307 1.2 1.379 1.95 2.605 1.95C16.774 6.9 18 5.7 18 4.2c0-1.5-1.226-2.7-2.757-2.7-1.226 0-2.375.9-2.605 2.1h-3.6c-.153 0-.306.075-.46.225-.152.15-.23.3-.23.45V9.75H5.363a2.683 2.683 0 0 0-2.605-2.025c-1.531 0-2.757 1.2-2.757 2.7v.075c.077 1.425 1.302 2.625 2.757 2.625A2.683 2.683 0 0 0 5.362 11.1h2.987v5.475a.68.68 0 0 0 .69.675h4.059c.076-.525.306-.9.613-1.35Zm1.533-6.825c.766 0 1.378.6 1.378 1.35 0 .75-.612 1.425-1.378 1.425-.766 0-1.38-.6-1.38-1.425-.076-.75.537-1.35 1.38-1.35Zm0-6.225c.766 0 1.378.6 1.378 1.425 0 .75-.612 1.35-1.378 1.35-.766 0-1.38-.6-1.38-1.35-.076-.75.614-1.425 1.38-1.425Zm-12.562 9c-.766 0-1.379-.6-1.379-1.425 0-.75.613-1.35 1.379-1.35s1.455.6 1.455 1.35c0 .75-.69 1.425-1.455 1.425Z" />
    <path fill-rule="evenodd"
        d="M18.375 12.75c3.15 0 5.625 2.55 5.625 5.625S21.45 24 18.375 24s-5.625-2.55-5.625-5.625 2.55-5.625 5.625-5.625Zm0 1.95c-1.05 0-1.95.9-1.95 1.95v.675c-.375 0-.675.3-.675.675v2.625c0 .375.3.675.675.675h3.9c.375 0 .675-.3.675-.675V18c0-.375-.3-.675-.675-.675v-.675c0-1.05-.9-1.95-1.95-1.95Zm0 3.75c.3 0 .525.225.45.45 0 .225-.075.375-.225.45v.675c0 .15-.075.225-.225.225-.15 0-.225-.075-.225-.225v-.675c-.15-.15-.225-.3-.225-.45 0-.225.15-.45.45-.45Zm0-3.075c.75 0 1.35.6 1.275 1.35v.675h-2.625v-.675c0-.75.6-1.35 1.35-1.35Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTreeHorizontalPublicLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd"
        fill="#CCCCCC"
        d="M13.94 15.9H9.651v-4.8h2.987a2.683 2.683 0 0 0 2.605 2.025c1.531 0 2.757-1.2 2.757-2.7 0-1.5-1.226-2.7-2.757-2.7a2.683 2.683 0 0 0-2.605 2.025H9.651v-4.8h2.987c.307 1.2 1.379 1.95 2.605 1.95C16.774 6.9 18 5.7 18 4.2c0-1.5-1.226-2.7-2.757-2.7-1.226 0-2.375.9-2.605 2.1h-3.6c-.153 0-.306.075-.46.225-.152.15-.23.3-.23.45V9.75H5.363a2.683 2.683 0 0 0-2.605-2.025c-1.531 0-2.757 1.2-2.757 2.7v.075c.077 1.425 1.302 2.625 2.757 2.625A2.683 2.683 0 0 0 5.362 11.1h2.987v5.475a.68.68 0 0 0 .69.675h4.289a2.75 2.75 0 0 1 .612-1.35Zm1.303-6.825c.766 0 1.378.6 1.378 1.35 0 .75-.612 1.425-1.378 1.425-.766 0-1.38-.6-1.38-1.425-.076-.75.537-1.35 1.38-1.35Zm0-6.225c.766 0 1.378.6 1.378 1.425 0 .75-.612 1.35-1.378 1.35-.766 0-1.38-.6-1.38-1.35-.076-.75.614-1.425 1.38-1.425Zm-12.562 9c-.766 0-1.379-.6-1.379-1.425 0-.75.613-1.35 1.379-1.35s1.455.6 1.455 1.35c0 .75-.69 1.425-1.455 1.425Z" />
    <path fill-rule="evenodd"
        d="M18.823 12.771c-3.437-.299-6.35 2.615-6.052 6.052.224 2.69 2.391 4.932 5.156 5.156 3.437.299 6.35-2.615 6.052-6.052-.224-2.765-2.391-5.006-5.156-5.156Zm.673.747.672.224c.15.075.224.15.374.15.598.299 1.12.672 1.569 1.195 0 0 .075.075.075.15v.299c0 .074-.075.15-.075.224 0 .15.15.224.224.224h.299a.16.16 0 0 1 .15.15c.074.149.149.298.149.373.224.523.299 1.046.373 1.644 0 .075 0 .15-.074.224a1.63 1.63 0 0 0-.3.374c-.149.299-.298.747-.522.97-.15.15-.3.3-.3.45-.074.149 0 .298-.074.373 0 .074-.075.074-.15 0-.223-.299-.298-.598-.373-.897-.075-.224-.075-.448-.15-.747a1.162 1.162 0 0 0-.448-.598c-.224-.15-.523-.074-.747-.15-.299 0-.523-.074-.747-.298-.075-.075-.15-.224-.15-.299-.149-.598.225-1.27.748-1.569.075-.075.15-.075.224-.15.15-.149.224-.298.15-.522 0-.075-.075-.075-.075-.075-.15.075-.3.075-.374.15-.075 0-.15 0-.15-.075 0-.225 0-.449.075-.748s.15-.523 0-.747c0-.075-.074-.075-.15-.075h-.672a.584.584 0 0 0 .3-.298c.074.149.149.074.149.074Zm-2.391.075c.075 0 .075 0 .15.075.074.15.149.224.223.373.15.3.224.673.075.897-.15.299-.523.448-.822.672-.672.3-1.195.822-1.569 1.42l-.075.075c-.074 0-.074 0-.149-.075s-.15-.075-.224-.15c0 0-.075 0-.075.075a.751.751 0 0 0 .374.822c.074 0 .074.075.15.075.074.15 0 .299 0 .448 0 .224.298.3.447.3.225 0 .374-.15.598-.225a1.5 1.5 0 0 1 1.27.15c.224.149.374.298.523.448.15.15.374.224.598.224.075 0 .075 0 .15.075a.581.581 0 0 1-.15.597c-.15.224-.373.3-.523.523-.373.449-.523 1.121-.822 1.644-.075.075-.15.224-.224.3-.075.149-.075.298-.075.522 0 0 0 .075-.074.075-.075 0-.15-.075-.224-.075-.075 0-.075-.075-.075-.15a10.657 10.657 0 0 0-.673-2.017c-.15-.224-.299-.523-.523-.672-.074-.075-.15-.075-.15-.15v-.15a1.875 1.875 0 0 0-.746-1.718c-.075-.074-.225-.149-.225-.224 0-.075-.074-.224-.074-.299l-.3-.299c-.074 0-.074-.074-.074-.149.3-1.569 1.57-2.989 3.288-3.437Z" />
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTreeHorizontalSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M13.162 1.143c1.121 0 2 .874 2 1.99 0 1.127-.879 2.01-2 2.01A2.022 2.022 0 0 1 11.341 4H8.286v3.143h3.042A2 2 0 0 1 13.162 6c1.121 0 2 .874 2 1.99 0 1.127-.879 2.01-2 2.01a2.022 2.022 0 0 1-1.821-1.142H8.286V12h3.042a2 2 0 0 1 1.834-1.143c1.121 0 2 .875 2 1.99 0 1.127-.879 2.01-2 2.01a2.022 2.022 0 0 1-1.821-1.142H7.429a.857.857 0 0 1-.85-.742l-.008-.116v-4l-2.17.001c-.317.681-1 1.142-1.81 1.142A2.016 2.016 0 0 1 .57 7.99C.571 6.875 1.46 6 2.591 6c.815 0 1.502.462 1.816 1.143H6.57v-4c0-.434.323-.793.741-.85l.117-.007h3.9a2 2 0 0 1 1.833-1.143Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTreeHorizontalTopRightFilledLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M18.784 17.276c.85 0 1.517.663 1.517 1.508 0 .855-.667 1.525-1.517 1.525a1.529 1.529 0 0 1-1.531-1.525c0-.845.673-1.508 1.531-1.508Zm-13.552-3.75c-.85 0-1.517-.67-1.517-1.523 0-.847.667-1.51 1.517-1.51.859 0 1.532.663 1.532 1.51a1.53 1.53 0 0 1-1.532 1.524Zm13.552-3.033c.85 0 1.517.663 1.517 1.51 0 .854-.667 1.524-1.517 1.524a1.529 1.529 0 0 1-1.531-1.524c0-.847.673-1.51 1.531-1.51ZM15.84 12.84c.345 1.323 1.608 2.345 2.944 2.345 1.636 0 3.078-1.547 3.078-3.182 0-1.636-1.442-3.188-3.078-3.188-1.343 0-2.605 1.035-2.944 2.367h-2.978V6.109h3c.365 1.287 1.617 2.182 2.922 2.182 1.636 0 3.078-1.44 3.078-3.076 0-1.635-1.442-3.077-3.078-3.077-1.353 0-2.64.967-2.955 2.313h-3.805c-.192 0-.486.117-.622.25-.14.135-.218.385-.22.59v5.89H8.17c-.339-1.33-1.597-2.366-2.94-2.366-1.642 0-3.093 1.549-3.093 3.188 0 1.595 1.492 3.182 3.094 3.182 1.337 0 2.595-1.022 2.939-2.345h3.01v5.892c.008.393.449.817.842.817h3.806c.316 1.343 1.604 2.313 2.955 2.313 1.636 0 3.078-1.443 3.078-3.078 0-1.634-1.442-3.075-3.078-3.075-1.305 0-2.557.895-2.922 2.182h-3V12.84h2.978Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTreeVerticalSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M5.571 1.143a2.142 2.142 0 0 1 .807 4.128l.008.012v3.595l.177-.064c.39-.129.838-.2 1.538-.271l.744-.073c1.008-.113 1.43-.248 1.696-.579.154-.19.242-.486.256-.887A2.155 2.155 0 0 1 9.43 5a2.142 2.142 0 1 1 4.285 0 2.15 2.15 0 0 1-1.457 2.033l.161-.063.01.02c-.012.701-.173 1.282-.49 1.752l-.126.17c-.665.826-1.473 1.059-3.284 1.226l-.667.07c-.515.063-.797.131-1.041.255a.786.786 0 0 0-.318.27l-.028.039a2.142 2.142 0 1 1-3.046 1.943c0-.96.63-1.771 1.5-2.047l-.13.046-.04-.093V5.283l.004-.013a2.141 2.141 0 0 1 .81-4.127Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTriangleDownSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M3.29 4.8h9.42a.7.7 0 0 1 .495 1.195l-4.71 4.71a.7.7 0 0 1-.99 0l-4.71-4.71A.7.7 0 0 1 3.29 4.8Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTriangleLeftSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M11.2 3.29v9.42a.7.7 0 0 1-1.195.495l-4.71-4.71a.7.7 0 0 1 0-.99l4.71-4.71a.7.7 0 0 1 1.195.495Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTriangleRightSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M4.8 12.71V3.29a.7.7 0 0 1 1.195-.495l4.71 4.71a.7.7 0 0 1 0 .99l-4.71 4.71A.7.7 0 0 1 4.8 12.71Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconTriangleUpSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M12.71 11.2H3.29a.7.7 0 0 1-.495-1.195l4.71-4.71a.7.7 0 0 1 .99 0l4.71 4.71a.7.7 0 0 1-.495 1.195Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconUpdateLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M18.772 7.79a.873.873 0 0 1 1.21.239c.233.347.443.71.63 1.087a.873.873 0 1 1-1.565.773A7.874 7.874 0 0 0 18.532 9a.873.873 0 0 1 .24-1.21Zm1.88 4.131a.873.873 0 0 1 .928.815 9.672 9.672 0 0 1 0 1.255.873.873 0 0 1-1.742-.112 7.982 7.982 0 0 0 0-1.03.873.873 0 0 1 .815-.928Zm-.436 4.52c.432.215.61.738.396 1.17a9.59 9.59 0 0 1-.63 1.087.873.873 0 0 1-1.45-.97c.19-.285.362-.582.515-.89a.873.873 0 0 1 1.169-.396Zm-16.431 0a.873.873 0 0 1 1.169.397c.152.308.324.605.514.89a.873.873 0 0 1-1.45.97 9.598 9.598 0 0 1-.63-1.087.873.873 0 0 1 .397-1.17Zm13.79 3.694c.268.4.16.943-.24 1.211-.347.232-.71.443-1.087.629a.873.873 0 0 1-.774-1.565c.309-.152.606-.324.89-.514a.873.873 0 0 1 1.21.24Zm-11.149 0a.873.873 0 0 1 1.21-.24c.285.19.582.363.89.515a.873.873 0 1 1-.773 1.565 9.598 9.598 0 0 1-1.087-.629.873.873 0 0 1-.24-1.21Zm4.132 1.881a.873.873 0 0 1 .927-.814 7.981 7.981 0 0 0 1.03 0 .873.873 0 1 1 .113 1.741 9.741 9.741 0 0 1-1.255 0 .873.873 0 0 1-.815-.927Zm5.332-10.36c.34.34.34.893 0 1.234l-3.273 3.273a.873.873 0 0 1-1.234 0L9.201 13.98a.873.873 0 0 1 1.234-1.234L12 14.31l2.656-2.655a.873.873 0 0 1 1.234 0Zm1.091-6.402a.873.873 0 0 0 0-1.235l-2.717-2.716a.873.873 0 1 0-1.234 1.234l1.227 1.227H12a9.6 9.6 0 0 0-9.6 9.6.873.873 0 0 0 1.746 0A7.855 7.855 0 0 1 12 5.509h2.257L13.03 6.736a.873.873 0 0 0 1.235 1.234l2.716-2.716Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconUploadLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M10.667 3.75c-2.942 0-5.408 2.128-6 4.956C2.042 9.044 0 11.306 0 14.069c0 2.995 2.393 5.43 5.333 5.43h.8a.797.797 0 0 0 .703-.403.828.828 0 0 0 0-.821.797.797 0 0 0-.703-.404h-.8c-2.082 0-3.733-1.682-3.733-3.802s1.651-3.802 3.733-3.802a.806.806 0 0 0 .8-.738c.229-2.328 2.176-4.15 4.534-4.15 1.286 0 2.319.496 3.158 1.375a.79.79 0 0 0 .858.195c.343-.132.872-.212 1.317-.212a3.503 3.503 0 0 1 3.475 3.08.812.812 0 0 0 .517.67c1.42.531 2.408 1.92 2.408 3.582 0 2.12-1.651 3.802-3.733 3.802h-.8a.797.797 0 0 0-.703.404.827.827 0 0 0 0 .821.797.797 0 0 0 .703.404h.8c2.94 0 5.333-2.436 5.333-5.431a5.408 5.408 0 0 0-3.033-4.88c-.488-2.342-2.54-4.081-4.967-4.081-.46 0-.936.074-1.4.195-1.057-.95-2.397-1.553-3.933-1.553Zm1.338 13.03a.793.793 0 0 0 .566-.248.823.823 0 0 0 .226-.584v-4.344l.467.543a.793.793 0 0 0 1.362-.25.826.826 0 0 0-.162-.828l-1.867-2.172a.794.794 0 0 0-1.2 0L9.53 11.069a.826.826 0 0 0-.166.803.792.792 0 0 0 1.366.275l.467-.543v4.345a.823.823 0 0 0 .231.59c.152.156.36.243.577.241Zm-3.213-.556a.793.793 0 0 0-.567.248.823.823 0 0 0-.225.584v1.63c0 .45.358.814.8.814h6.4c.442 0 .8-.365.8-.815v-1.629a.818.818 0 0 0-.397-.715.788.788 0 0 0-.806 0 .818.818 0 0 0-.397.715v.815H9.6v-.815a.823.823 0 0 0-.231-.59.793.793 0 0 0-.577-.242Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconUploadSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path d="M8.006 11.976a.98.98 0 0 1-.713-.299 1.025 1.025 0 0 1-.288-.735v-6.1L5.892 6.139a.979.979 0 0 1-.942.334.998.998 0 0 1-.75-.674 1.034 1.034 0 0 1 .208-1.001l2.847-3.314a.98.98 0 0 1 .74-.34c.284 0 .554.124.742.341l2.844 3.31c.254.282.332.68.205 1.036a.98.98 0 0 1-1.685.31L8.986 4.844v6.094c.006.276-.096.538-.28.733a.983.983 0 0 1-.57.296l-.13.01Z"/>
  <path d="M12.526 11.253c0-.554.417-1.012.956-1.074l.126-.008c.597 0 1.082.485 1.082 1.082l-.002 2.484-.01.178c-.062.538-.52.956-1.074.956H2.396a1.083 1.083 0 0 1-1.081-1.09v-2.527a1.082 1.082 0 1 1 2.163 0l-.001 1.452h9.048v-1.453Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconVirusCircleSLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path d="M20.62 10.487c0-.382.308-.803.807-.803.498 0 .785.421.785.803v2.764c0 .28-.15.536-.36.672a6.742 6.742 0 0 0-1.231-.852v-.405h-1.047a5.633 5.633 0 0 0-1.454-.19c-.06 0-.23-.002-.289 0 .014-.167.02-.441.02-.61a6.095 6.095 0 0 0-6.106-6.112c-3.336 0-6.115 2.777-6.115 6.115a6.104 6.104 0 0 0 6.115 6.115c.253 0 .604-.025.852-.055l.001.203c0 .413.068 1.011.153 1.399-.064.008-.15.023-.213.029v1.185h.66c.178.34.445.755.686 1.049-.136.345-.447.57-.749.545h-2.763c-.382 0-.809-.307-.809-.801 0-.494.417-.793.799-.793h.586V19.56a7.172 7.172 0 0 1-4.025-1.708l-.89.854.414.415c.268.27.35.765 0 1.117s-.861.268-1.13 0l-1.942-1.942a.8.8 0 0 1-.072-1.202c.382-.382.94-.242 1.189.085l.41.41.862-.896a7.179 7.179 0 0 1-1.677-4.027H2.864v.585c0 .381-.288.797-.793.797a.79.79 0 0 1-.796-.797v-2.764c0-.382.306-.802.796-.802.49 0 .793.42.793.802v.585h1.223A7.202 7.202 0 0 1 5.768 7.04l-.852-.889-.416.416a.793.793 0 0 1-1.12 0c-.35-.35-.27-.867-.003-1.137L5.32 3.49c.249-.338.832-.43 1.2-.062s.25.936-.077 1.185l-.415.415.894.86a7.18 7.18 0 0 1 4.027-1.676v-1.22h-.586a.801.801 0 0 1-.795-.796c0-.486.413-.797.795-.797h2.763c.382 0 .797.31.797.797 0 .487-.415.796-.797.796h-.588v1.22a7.2 7.2 0 0 1 4.032 1.682l.89-.852-.415-.415c-.305-.261-.393-.82-.038-1.175.356-.355.906-.249 1.162.05l1.956 1.942c.267.27.348.777.001 1.127-.347.349-.856.265-1.126-.002l-.412-.413-.828.893a7.181 7.181 0 0 1 1.678 4.027h1.184v-.589Z"/>
  <path fill-rule="evenodd" d="M22.726 17.988c0 2.486-2.014 4.62-4.598 4.62a4.598 4.598 0 0 1-4.61-4.624 4.584 4.584 0 0 1 4.602-4.59c2.55 0 4.606 2.109 4.606 4.594Zm-3.396 2.284c.293-.264.426-.6.426-1.014 0-.413-.072-.528-.24-.808-.185-.242-.528-.482-1.029-.722a7.49 7.49 0 0 1-.721-.373.804.804 0 0 1-.22-.216.932.932 0 0 1-.112-.361.64.64 0 0 1 .265-.49c.114-.1.31-.145.525-.145.18 0 .364.023.55.07.187.046.355.105.64.222l.283-.695a4.251 4.251 0 0 0-.705-.243 3.187 3.187 0 0 0-.8-.092c-.573.027-.965.179-1.288.45-.285.326-.358.603-.358 1.016 0 .251.025.364.122.552.098.188.229.353.392.495.164.141.405.285.736.443.35.166.565.278.678.353.114.076.295.216.318.31.058.081.06.193.06.298 0 .226-.127.452-.303.523-.131.095-.322.142-.571.142-.208 0-.437-.033-.688-.099a4.794 4.794 0 0 1-.815-.293v.814c.44.215.844.292 1.415.292.62 0 1.147-.164 1.44-.429Z"/>
  <path d="M12.789 16.578a5.895 5.895 0 0 1 .967-1.97c-.085-.68-.797-1.448-1.753-1.448a1.79 1.79 0 0 0-1.792 1.803c0 1.04.86 1.79 1.792 1.79.248 0 .574-.08.786-.175Zm-3.055-4.709a1.31 1.31 0 0 0-1.314-1.313c-.746 0-1.311.567-1.311 1.313s.583 1.312 1.333 1.312 1.292-.605 1.292-1.312Z"/>
  <path fill-rule="evenodd" d="M13.575 11.997a2.299 2.299 0 0 1-2.427-2.304c.002-1.35 1.117-2.345 2.427-2.299 1.31.047 2.18 1.13 2.18 2.299a2.296 2.296 0 0 1-2.18 2.304Zm0-3.23c-.515 0-.962.387-.965.926-.003.538.477.955.965.948.487-.008.91-.436.91-.948a.91.91 0 0 0-.91-.927Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconVirusLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M20.874 10.618c0-.381.297-.8.796-.8.5 0 .793.419.793.8v2.764c0 .381-.29.796-.793.796a.79.79 0 0 1-.796-.796v-.585h-1.185c-.155 1.528-.7 2.874-1.692 4.046l.83.87.413-.412c.274-.234.71-.347 1.09.033.38.38.265.813.03 1.087l-.988 1.016-.974.974a.787.787 0 0 1-1.134-.012c-.373-.373-.254-.838.014-1.108l.401-.429-.85-.85a7.205 7.205 0 0 1-4.034 1.68v1.185h.584c.382 0 .802.286.802.796s-.42.793-.802.793h-2.763a.785.785 0 0 1-.791-.793c0-.503.409-.796.79-.796h.586v-1.185a7.225 7.225 0 0 1-4.04-1.717l-.882.852.417.416a.788.788 0 0 1-.002 1.122c-.355.355-.857.26-1.126-.008l-.981-.967-.96-.974a.785.785 0 0 1-.052-1.2c.4-.395.916-.242 1.165.086l.424.41.846-.888a7.148 7.148 0 0 1-1.67-4.019H3.12v.577c0 .381-.25.796-.796.796s-.798-.448-.798-.83v-2.763c0-.381.304-.763.798-.763.493 0 .796.415.796.796v.585h1.22a7.194 7.194 0 0 1 1.679-4.03l-.856-.887-.417.418a.79.79 0 0 1-1.114-.007.8.8 0 0 1 0-1.121l.967-.981.974-.96c.25-.338.826-.453 1.2-.079s.242.943-.086 1.193l-.406.406.905.85c1.177-.98 2.49-1.518 4.015-1.663V3.124h-.585c-.382 0-.803-.303-.803-.793 0-.49.421-.801.803-.801h2.763c.382 0 .8.31.8.801 0 .49-.418.793-.8.793h-.585v1.218c1.525.145 2.875.672 4.052 1.653l.861-.825-.419-.419a.798.798 0 0 1-.019-1.165.782.782 0 0 1 1.147.038l.98.967.975.974c.268.27.384.751.016 1.12a.803.803 0 0 1-1.143.008l-.416-.402-.813.873a7.206 7.206 0 0 1 1.674 4.04h1.185v-.586ZM5.887 12c0 3.312 2.811 6.103 6.107 6.103 3.295 0 6.118-2.645 6.118-6.079 0-3.434-2.68-6.139-6.115-6.139-3.434 0-6.11 2.804-6.11 6.115Z"/>
  <path d="M8.674 10.683c.822 0 1.312.649 1.312 1.317 0 .668-.52 1.321-1.312 1.321S7.361 12.669 7.361 12c0-.668.491-1.317 1.313-1.317Zm3.583 2.607c1.046 0 1.792.864 1.792 1.796 0 .933-.74 1.801-1.792 1.801-1.05 0-1.791-.868-1.791-1.8 0-.933.745-1.798 1.791-1.798Z"/>
  <path fill-rule="evenodd" d="M13.828 12.132a2.302 2.302 0 0 0 2.188-2.305 2.292 2.292 0 0 0-2.188-2.301c-1.224-.069-2.427.895-2.427 2.301 0 1.407 1.214 2.373 2.427 2.305Zm0-3.239a.925.925 0 0 1 .914.934.93.93 0 0 1-.914.937c-.5 0-.97-.417-.97-.937s.454-.947.97-.934Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconWidgetLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M1.404 3.785c0-.481.391-.872.873-.872h6.695c.482 0 .873.39.873.873v6.695a.872.872 0 0 1-.873.872H2.277a.873.873 0 0 1-.873-.872V3.785Zm1.746.873v4.95H8.1v-4.95H3.15ZM1.404 14.905c0-.482.391-.873.873-.873h6.695c.482 0 .873.391.873.873V21.6a.873.873 0 0 1-.873.873H2.277a.873.873 0 0 1-.873-.873v-6.695Zm1.746.873v4.95H8.1v-4.95H3.15Zm9.62-.873c0-.482.392-.873.874-.873h6.695c.482 0 .873.391.873.873V21.6a.873.873 0 0 1-.873.873h-6.695a.873.873 0 0 1-.873-.873v-6.695Zm1.746.873v4.95h4.95v-4.95h-4.95Zm-2.878-8.027a.873.873 0 0 1 0-1.234l4.734-4.734a.873.873 0 0 1 1.234 0l4.734 4.734c.34.34.34.893 0 1.234l-4.734 4.734a.873.873 0 0 1-1.234 0l-4.734-4.734Zm1.851-.617 3.5 3.5 3.5-3.5-3.5-3.5-3.5 3.5Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconXMarkCircleSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0Zm0 1.951A6.056 6.056 0 0 0 1.951 8 6.056 6.056 0 0 0 8 14.049 6.056 6.056 0 0 0 14.049 8 6.056 6.056 0 0 0 8 1.951Zm.966 3.703a.976.976 0 0 1 1.467 1.28l-.088.1L9.38 8l.966.966c.318.317.37.8.16 1.171l-.072.109-.088.1a.976.976 0 0 1-1.28.087l-.1-.088L8 9.38l-.966.966a.976.976 0 0 1-1.172.16l-.108-.072-.1-.088a.976.976 0 0 1-.087-1.28l.087-.1L6.621 8l-.967-.966a.976.976 0 0 1-.158-1.172l.071-.108.087-.1a.976.976 0 0 1 1.28-.087l.1.087.966.967.966-.967Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconXMarkLarge.svg">
<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="m12.002 13.544 6.871 6.872a1 1 0 0 0 1.414 0l.129-.129a1 1 0 0 0 0-1.414l-6.872-6.871 6.872-6.872a1 1 0 0 0 0-1.414l-.129-.129a1 1 0 0 0-1.414 0l-6.871 6.872L5.13 3.587a1 1 0 0 0-1.414 0l-.129.129a1 1 0 0 0 0 1.414l6.872 6.872-6.872 6.871a1 1 0 0 0 0 1.415l.129.128a1 1 0 0 0 1.414 0l6.872-6.872Z"/>
</svg>
</file>

<file path="packages/components/src/common/svgs/IconXMarkSmall.svg">
<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" d="M13.007 2.99a1 1 0 0 0-1.414 0L7.998 6.585 4.407 2.993a1 1 0 1 0-1.414 1.414l3.592 3.591-3.595 3.595a1 1 0 1 0 1.414 1.414l3.594-3.595 3.595 3.595a1 1 0 1 0 1.414-1.414L9.412 7.998l3.595-3.594a1 1 0 0 0 0-1.414Z"/>
</svg>
</file>

<file path="packages/components/src/common/types/svg.d.ts">
interface CustomSVGProps extends React.SVGAttributes<SVGElement> {
  fillcontrast: string;
}

declare module "*.svg" {
  export const ReactComponent: React.FunctionComponent<CustomSVGProps>;
  const src: string;
  export default src;
}
</file>

<file path="packages/components/src/common/utils.ts">
export const noop = (): void => {};

export const toKebabCase = (str: string) =>
  str.replace(/[\s_]+/g, "-").toLowerCase();

export const EMPTY_OBJECT = {};

// eslint-disable-next-line @typescript-eslint/no-explicit-any
type Props = { [key: string]: any };

export function filterProps<T extends Props, K extends keyof T>(
  props: T,
  excludeProps: K[]
): Partial<T> {
  const result: Partial<T> = {};

  for (const key of Object.keys(props) as (keyof T)[]) {
    if (!excludeProps.includes(key as K)) {
      result[key] = props[key];
    }
  }

  return result;
}

// eslint-disable-next-line @typescript-eslint/no-explicit-any
export const mergeRefs = (refs: any[]) => {
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  return (element: any) => {
    refs.forEach((ref) => {
      if (typeof ref === "function") {
        ref(element);
      } else if (ref != null) {
        ref.current = element;
      }
    });
  };
};
</file>

<file path="packages/components/src/common/warnings.test.ts">
import {
  SDSWarningTypes,
  showWarningIfFirstOccurence,
} from "src/common/warnings";

export {};

describe("showWarningIfFirstOccurence", () => {
  let consoleWarnSpy: jest.SpyInstance;

  beforeEach(() => {
    consoleWarnSpy = jest.spyOn(console, "warn");
  });

  it("shows warning on first call", () => {
    showWarningIfFirstOccurence(SDSWarningTypes.ChipDeprecated);

    expect(consoleWarnSpy).toHaveBeenCalledTimes(1);
  });

  it("does not show warning on subsequent calls", () => {
    showWarningIfFirstOccurence(SDSWarningTypes.ChipDeprecated);
    showWarningIfFirstOccurence(SDSWarningTypes.ChipDeprecated);
    showWarningIfFirstOccurence(SDSWarningTypes.ChipDeprecated);

    expect(consoleWarnSpy).toHaveBeenCalledTimes(1);
  });
});
</file>

<file path="packages/components/src/common/warnings.ts">
export enum SDSWarningTypes {
  ButtonMinimalIsAllCaps = "buttonMinimalIsAllCaps",
  ButtonMissingSDSProps = "buttonMissingProps",
  ButtonIconMissingIconProp = "buttonIconMissingIconProp",
  ButtonDropdownMinimal = "buttonDropdownMinimal",
  ButtonToggleMissingIconProp = "buttonToggleMissingIconProp",
  ChipDeprecated = "chipDeprecated",
  MenuSelectDeprecated = "menuSelectDeprecated",
  TooltipSubtitle = "tooltipSubtitle",
  TooltipWidth = "tooltipWidth",
  TooltipInvertStyle = "tooltipInvertStyle",
  ContentCardActionsOnlyButtons = "contentCardActionsOnlyButtons",
  ClickableContentCardNumberOfButtons = "clickableContentCardNumberOfButtons",
}

export const SDS_WARNINGS = {
  [SDSWarningTypes.ButtonMinimalIsAllCaps]: {
    hasWarned: false,
    message:
      "Warning: isAllCaps can not be applied to buttons with sdsStyle='icon'.",
  },
  [SDSWarningTypes.ButtonMissingSDSProps]: {
    hasWarned: false,
    message:
      "Warning: Buttons without sdsStyle or sdsType props will be deprecated.",
  },
  [SDSWarningTypes.ButtonIconMissingIconProp]: {
    hasWarned: false,
    message:
      "Warning: Buttons with an SDS type of icon require an icon prop to be provided.",
  },
  [SDSWarningTypes.ButtonDropdownMinimal]: {
    hasWarned: false,
    message: "Warning: Button Dropdowns can not be of type minimal!",
  },
  [SDSWarningTypes.ButtonToggleMissingIconProp]: {
    hasWarned: false,
    message: "Warning: Button Toggles require an icon prop to be provided.",
  },
  [SDSWarningTypes.ChipDeprecated]: {
    hasWarned: false,
    message: "Warning: <Chip /> will be deprecated and replaced with <Tag />",
  },
  [SDSWarningTypes.MenuSelectDeprecated]: {
    hasWarned: false,
    message:
      "Warning: MenuSelect will be deprecated and replaced with <DropdownMenu />",
  },
  [SDSWarningTypes.TooltipSubtitle]: {
    hasWarned: false,
    message:
      "Warning: The 'subtitle' text is only available for dark tooltips!",
  },
  [SDSWarningTypes.TooltipWidth]: {
    hasWarned: false,
    message: "Warning: The 'wide' width is only available for light tooltips!",
  },
  [SDSWarningTypes.TooltipInvertStyle]: {
    hasWarned: false,
    message:
      "Warning: Tooltips using the inverted or sdsStyle prop will be deprecated. Please use hasInvertedStyle instead!",
  },
  [SDSWarningTypes.ContentCardActionsOnlyButtons]: {
    hasWarned: false,
    message:
      "Warning: Only SDS buttons could be used within ContentCard Actions component slot!",
  },
  [SDSWarningTypes.ClickableContentCardNumberOfButtons]: {
    hasWarned: false,
    message:
      "Warning: Clickable Content Cards can only have one or no buttons!",
  },
};

export const showWarningIfFirstOccurence = (warningType: SDSWarningTypes) => {
  if (!(<string>warningType in SDS_WARNINGS)) {
    // add undefined warning to prevent multiple warnings
    SDS_WARNINGS[warningType] = {
      hasWarned: false,
      message: `Warning: SDSWarningType ${warningType} is not defined in SDS_WARNINGS`,
    };
  }

  if (SDS_WARNINGS[warningType].hasWarned) {
    return;
  }

  // eslint-disable-next-line no-console
  console.warn(SDS_WARNINGS[warningType].message);

  SDS_WARNINGS[warningType].hasWarned = true;
};
</file>

<file path="packages/components/src/core/Accordion/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawAccordion, {
  AccordionDetails,
  AccordionHeader,
} from "src/core/Accordion";
import { EXTRA_SHORT_LOREM_IPSUM } from "src/common/storybook/loremIpsum";

export const Accordion = (props: Args): JSX.Element => {
  const { id, subtitle, useDivider, togglePosition } = props;
  return (
    <RawAccordion
      id={id}
      useDivider={useDivider}
      togglePosition={togglePosition}
      {...props}
    >
      <AccordionHeader id={`${id}-header`} subtitle={subtitle}>
        Accordion Header
      </AccordionHeader>
      <AccordionDetails>{EXTRA_SHORT_LOREM_IPSUM}</AccordionDetails>
    </RawAccordion>
  );
};
</file>

<file path="packages/components/src/core/Accordion/__storybook__/constants.tsx">
export const ACCORDION_EXCLUDED_CONTROLS = [
  "id",
  "subtitle",
  "useDivider",
  "togglePosition",
];
</file>

<file path="packages/components/src/core/Accordion/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Accordion } from "./stories/default";
import { ACCORDION_EXCLUDED_CONTROLS } from "./constants";

export default {
  argTypes: {
    defaultExpanded: {
      control: { type: "boolean" },
    },
    id: {
      control: { type: "text" },
      required: true,
    },
    subtitle: {
      control: { type: "text" },
    },
    togglePosition: {
      control: { type: "select" },
      options: ["right", "left"],
    },
    useDivider: {
      control: { type: "boolean" },
    },
  },
  component: Accordion,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Accordion",
} as Meta;

// Default

export const Default = {
  args: {
    togglePosition: "right",
  },
};

// Test

export const Test = {
  args: {
    id: "test-story",
    togglePosition: "right",
  },
  parameters: {
    controls: {
      exclude: ACCORDION_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (props: Args): JSX.Element => (
    <Accordion {...props} data-testid="accordion" />
  ),
};
</file>

<file path="packages/components/src/core/Accordion/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Accordion /> Default story renders snapshot 1`] = `
<div
  class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation1 MuiAccordion-root MuiAccordion-gutters css-11n92rv-MuiPaper-root-MuiAccordion-root"
>
  <div
    aria-controls="undefined-header-panel-content"
    aria-expanded="false"
    class="MuiButtonBase-root MuiAccordionSummary-root MuiAccordionSummary-gutters css-1q0jqld-MuiButtonBase-root-MuiAccordionSummary-root"
    id="undefined-header"
    role="button"
    tabindex="0"
  >
    <div
      class="MuiAccordionSummary-content MuiAccordionSummary-contentGutters css-eqpfi5-MuiAccordionSummary-content"
    >
      Accordion Header
    </div>
    <div
      class="MuiAccordionSummary-expandIconWrapper css-yw020d-MuiAccordionSummary-expandIconWrapper"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconChevronDownSmall"
          data-testid="IconChevronDownSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </div>
  </div>
  <div
    class="MuiCollapse-root MuiCollapse-vertical MuiCollapse-hidden css-bz4dnt-MuiCollapse-root"
    style="min-height: 0px;"
  >
    <div
      class="MuiCollapse-wrapper MuiCollapse-vertical css-smkl36-MuiCollapse-wrapper"
    >
      <div
        class="MuiCollapse-wrapperInner MuiCollapse-vertical css-9l5vo-MuiCollapse-wrapperInner"
      >
        <div
          aria-labelledby="undefined-header"
          class="MuiAccordion-region"
          role="region"
        >
          <div
            class="MuiAccordionDetails-root css-kcniag-MuiAccordionDetails-root"
          >
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
`;
</file>

<file path="packages/components/src/core/Accordion/__tests__/Accordion.namespace-test.tsx">
import { Accordion, AccordionProps } from "@czi-sds/components";
import React from "react";

const AccordionNameSpaceTest = (props: AccordionProps) => {
  return (
    <Accordion {...props} useDivider togglePosition="right" id="accordion-id" />
  );
};
</file>

<file path="packages/components/src/core/Accordion/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen, waitFor } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<Accordion />", () => {
  generateSnapshots(stories);

  it("renders accordion component", () => {
    render(<Test />);
    const accordionElement = screen.getByTestId("accordion");
    expect(accordionElement).not.toBeNull();
  });

  it("opens and closes the accordion when clicked", async () => {
    const ariaExpanded = "aria-expanded";

    render(<Test />);

    // Starts closed
    const accordionHeader = screen.getByRole("button");
    expect(accordionHeader).toHaveAttribute(ariaExpanded, "false");
    expect(screen.getByText(/Lorem ipsum/)).not.toBeVisible();

    // It opens when clicked.
    fireEvent.click(accordionHeader);
    expect(accordionHeader).toHaveAttribute(ariaExpanded, "true");
    expect(screen.getByText(/Lorem ipsum/)).toBeVisible();

    // And closes when clicked again.
    fireEvent.click(accordionHeader);
    expect(accordionHeader).toHaveAttribute(ariaExpanded, "false");

    await waitFor(() => {
      expect(screen.getByText(/Lorem ipsum/)).not.toBeVisible();
    });
  });
});
</file>

<file path="packages/components/src/core/Accordion/components/AccordionDetails/index.tsx">
import { AccordionDetailsProps } from "@mui/material";
import { StyledAccordionDetails } from "./style";

const AccordionDetails = (props: AccordionDetailsProps) => {
  const { children } = props;
  return <StyledAccordionDetails>{children}</StyledAccordionDetails>;
};

export default AccordionDetails;
</file>

<file path="packages/components/src/core/Accordion/components/AccordionDetails/style.ts">
import { css } from "@emotion/react";
import { AccordionDetails } from "@mui/material";
import styled from "@emotion/styled";
import { CommonThemeProps, fontBodyS, getSpaces } from "src/core/styles";

export const StyledAccordionDetails = styled(AccordionDetails)`
  ${fontBodyS}

  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);

    return css`
      padding: ${spaces?.xxs}px ${spaces?.m}px ${spaces?.m}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Accordion/components/AccordionHeader/index.tsx">
import { AccordionSummaryProps as RawAccordionSummaryProps } from "@mui/material";
import { StyledAccordionHeader, StyledSubtitle } from "./style";
import Icon from "src/core/Icon";

export interface SdsAccordionHeaderProps {
  subtitle?: string;
}

export type AccordionHeaderProps = RawAccordionSummaryProps &
  SdsAccordionHeaderProps;

const AccordionHeader = (props: AccordionHeaderProps) => {
  const { children, id, subtitle } = props;
  return (
    <StyledAccordionHeader
      aria-controls={`${id}-panel-content`}
      id={id}
      expandIcon={<Icon sdsIcon="ChevronDown" sdsSize="xs" />}
    >
      {children}
      {subtitle && <StyledSubtitle>{subtitle}</StyledSubtitle>}
    </StyledAccordionHeader>
  );
};

export default AccordionHeader;
</file>

<file path="packages/components/src/core/Accordion/components/AccordionHeader/style.ts">
import { css } from "@emotion/react";
import { AccordionSummary, accordionSummaryClasses } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBodyXxs,
  fontHeaderS,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export const StyledAccordionHeader = styled(AccordionSummary)`
  ${fontHeaderS}
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return css`
      padding: ${spaces?.m}px;
      align-items: flex-start;
      box-sizing: border-box;

      .${accordionSummaryClasses.content} {
        margin: 0;
        flex-direction: column;

        &.${accordionSummaryClasses.expanded} {
          margin: 0;
        }
      }

      & .${accordionSummaryClasses.expandIconWrapper} {
        margin-left: ${spaces?.m}px;
        margin-top: ${spaces?.xxs}px !important;
        align-self: center;

        svg {
          color: ${semanticColors?.base?.ornamentSecondary};
        }
      }

      &:hover {
        & .${accordionSummaryClasses.expandIconWrapper} {
          svg {
            color: ${semanticColors?.base?.ornamentSecondaryHover};
          }
        }
      }
    `;
  }}
`;

export const StyledSubtitle = styled("p")`
  ${fontBodyXxs}

  ${(props: CommonThemeProps) => {
    const semanticColors = getSemanticColors(props);

    return css`
      color: ${semanticColors?.base?.textSecondary};
      margin: 0;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Accordion/index.tsx">
import { AccordionProps as RawAccordionProps } from "@mui/material";
import React from "react";
import AccordionDetails from "./components/AccordionDetails";
import AccordionHeader from "./components/AccordionHeader";
import { AccordionExtraProps, StyledAccordion } from "./style";

export { AccordionDetails, AccordionHeader };

export type AccordionProps = RawAccordionProps & AccordionExtraProps;

/**
 * @see https://mui.com/material-ui/react-accordion/
 */
const Accordion = React.forwardRef<HTMLDivElement, AccordionProps>(
  (props, ref) => {
    const {
      children,
      useDivider,
      togglePosition = "right",
      id,
      defaultExpanded = false,
    } = props;
    const [expanded, setExpanded] = React.useState<string | false>(
      defaultExpanded ? id : false
    );

    const handleChange =
      (panel: string) =>
      (_event: React.ChangeEvent<unknown>, isExpanded: boolean) => {
        setExpanded(isExpanded ? panel : false);
      };
    return (
      <StyledAccordion
        square
        useDivider={useDivider}
        togglePosition={togglePosition}
        expanded={expanded === id}
        onChange={handleChange(id)}
        ref={ref}
        {...props}
      >
        {children}
      </StyledAccordion>
    );
  }
);

export default Accordion;
</file>

<file path="packages/components/src/core/Accordion/style.ts">
import { css, SerializedStyles } from "@emotion/react";
import {
  Accordion,
  accordionClasses,
  accordionSummaryClasses,
  accordionDetailsClasses,
} from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBodyXs,
  getBorders,
  getIconSizes,
  getShadows,
  getSpaces,
  getTypography,
} from "src/core/styles";
import { focusVisibleA11yStyle } from "src/core/styles/common/mixins/a11y";

export interface AccordionExtraProps extends CommonThemeProps {
  useDivider?: boolean;
  togglePosition?: "right" | "left";
  id: string;
}

const sdsPropNames = ["useDivider", "togglePosition"];

export const StyledAccordion = styled(Accordion, {
  shouldForwardProp: (prop) => {
    return !sdsPropNames.includes(prop.toString());
  },
})`
  ${(props: AccordionExtraProps) => {
    const { useDivider, togglePosition } = props;

    const shadows = getShadows(props);
    const typography = getTypography(props);
    const borders = getBorders(props);
    const spaces = getSpaces(props);

    return css`
      &.${accordionClasses.root} {
        background-color: transparent;
        background-image: none;
        box-shadow: ${shadows?.none};
        font-family: ${typography?.fontFamily?.body};
        border-bottom: ${useDivider ? borders?.base?.divider : "none"};
        height: fit-content;

        & .${accordionSummaryClasses.root} {
          ${focusVisibleA11yStyle(props)}
          min-height: 44px;

          &.${accordionSummaryClasses.focusVisible} {
            background-color: unset;
          }

          &.${accordionSummaryClasses.expanded} {
            min-height: unset;
          }

          & .MuiAccordionSummary-expandIcon,
          & .${accordionSummaryClasses.expandIconWrapper} {
            padding: 0;
            align-self: flex-start;
            margin-top: ${spaces?.xxxs}px;
          }
        }

        .${accordionDetailsClasses.root} {
          ${fontBodyXs(props)}
          padding: ${spaces?.m}px;
          padding-top: ${spaces?.xxs}px;
        }

        &:before {
          opacity: 0;
        }

        &.${accordionClasses.expanded} {
          margin: 0;
        }

        ${togglePosition === "left" && leftPosition(props)}
      }
    `;
  }}
`;

const leftPosition = (props: AccordionExtraProps): SerializedStyles => {
  const spaces = getSpaces(props);
  const iconSizes = getIconSizes(props);

  return css`
    &.${accordionClasses.root} {
      & .${accordionSummaryClasses.root} {
        flex-direction: row-reverse;

        .${accordionSummaryClasses.content} {
          padding-left: ${spaces?.s}px;
        }

        .${accordionSummaryClasses.expandIconWrapper} {
          margin: 0;
          transform: rotate(-90deg);
          align-self: flex-start;
          margin-top: ${spaces?.xxxs}px;

          &.${accordionSummaryClasses.expanded} {
            transform: rotate(0deg);
          }
        }
      }

      /** This is to adjust the padding of the AccordionDetails when the togglePosition is left
        * The padding-left is the sum of the
        * left padding of the AccordionButton = spaces?.m
        * the width of the expandIcon = iconSizes?.xs.width
        * and the left padding of the AccordionSummary = spaces?.s 
        */
      & .${accordionDetailsClasses.root} {
        padding-left: ${(spaces?.m ?? 12) +
        (iconSizes?.xs.width ?? 12) +
        (spaces?.s ?? 8)}px;
      }
    }
  `;
};
</file>

<file path="packages/components/src/core/Alert/__storybook__/index.stories.tsx">
import { CheckCircleOutline } from "@mui/icons-material";
import { Snackbar, Button as MUIButton } from "@mui/material";
import styled from "@emotion/styled";
import { Args, Meta } from "@storybook/react";
import React from "react";
import Button from "src/core/Button";
import { defaultTheme } from "src/core/styles/common/defaultTheme";
import Alert from "../index";
import { BADGE } from "src/common/storybook/storybookBadges";
import Callout from "src/core/Callout";
import Icon from "src/core/Icon";

const DismissButton = styled(MUIButton)`
  margin-left: -${defaultTheme.spacing(3)}px;
  padding-bottom: 0;
  font-size: 12px;
  line-height: 18px;
  letter-spacing: 1px;
  font-weight: 600;
  &:hover {
    background: none;
  }
`;

const Demo = (props: Args): JSX.Element => {
  const { text } = props;
  return (
    <>
      <Callout
        intent="negative"
        title="Deprecated!"
        sdsStyle="persistent"
        icon={<Icon sdsIcon="ExclamationMarkCircle" sdsSize="l" />}
        body={
          <>
            The <strong>Alert</strong> component is deprecated!
            <br />
            Please use <strong>Callout</strong> or <strong>Notification</strong>{" "}
            instead.
          </>
        }
      >
        The <strong>Alert</strong> component is deprecated!
      </Callout>
      <Alert icon={<CheckCircleOutline />} onClose={() => {}} {...props}>
        {text}
      </Alert>
    </>
  );
};

export default {
  argTypes: {
    text: {
      control: { type: "text" },
      required: true,
    },
  },
  component: Demo,
  parameters: {
    badges: [BADGE.DEPRECATED],
  },
  title: "Deprecated/Alert [deprecated]",
} as Meta;

const ExcludedControls = ["text"];

// Default

export const Default = {
  args: {
    text: "This is an alert!",
  },
  parameters: {
    snapshot: {
      skip: true,
    },
  },
};

export const SnackbarAlert = () => {
  const [open, setOpen] = React.useState(false);

  const handleOpen = () => setOpen(true);
  const handleClose = () => setOpen(false);

  return (
    <div>
      <Callout
        intent="negative"
        title="Deprecated!"
        sdsStyle="persistent"
        icon={<Icon sdsIcon="ExclamationMarkCircle" sdsSize="l" />}
        body={
          <>
            The <strong>Alert</strong> component is deprecated!
            <br />
            Please use <strong>Callout</strong> or <strong>Notification</strong>{" "}
            instead.
          </>
        }
      >
        The <strong>Alert</strong> component is deprecated!
      </Callout>
      <Button sdsType="primary" sdsStyle="square" onClick={handleOpen}>
        Open alert
      </Button>
      <Snackbar
        anchorOrigin={{
          horizontal: "right",
          vertical: "top",
        }}
        open={open}
        autoHideDuration={6000}
      >
        <div>
          <Alert className="elevated" severity="info">
            <div>This is a snackbar alert!</div>
            <DismissButton onClick={handleClose}>DISMISS</DismissButton>
          </Alert>
        </div>
      </Snackbar>
    </div>
  );
};

export const Test = {
  args: {
    text: "Test Alert!",
  },
  parameters: {
    controls: {
      exclude: ExcludedControls,
    },
  },
};
</file>

<file path="packages/components/src/core/Alert/index.tsx">
import { AlertProps } from "@mui/lab";
import { StyledAlert } from "./style";

/**
 * @see https://mui.com/material-ui/react-alert/
 *
 * @deprecated
 * This component is deprecated and will be removed in the next major version.
 * Please use `Callout` or `Notification` instead.
 */
const Alert = (props: AlertProps): JSX.Element => {
  return <StyledAlert {...props} />;
};

export default Alert;
</file>

<file path="packages/components/src/core/Alert/style.ts">
import { Alert, AlertProps } from "@mui/material";
import styled from "@emotion/styled";
import {
  Colors,
  CommonThemeProps,
  getColors,
  getSemanticColors,
  getShadows,
  getSpaces,
} from "../styles";

export interface AlertExtraProps extends CommonThemeProps, AlertProps {}

export const StyledAlert = styled(Alert)`
  ${(props: AlertExtraProps) => {
    const colors = getColors(props);
    const spaces = getSpaces(props);
    const shadows = getShadows(props);
    const semanticColors = getSemanticColors(props);
    const { severity = "success" } = props;

    const borderColor =
      (colors && severityToColor(severity, colors)[400]) || "black";
    const alertColor =
      (colors && severityToColor(severity, colors)[100]) || "white";
    const iconColor =
      (colors && severityToColor(severity, colors)[400]) || "black";
    const backgroundColor = colors && severityToColor(severity, colors)[100];

    return `
      background-color: ${backgroundColor};
      margin: ${spaces?.m}px 0;
      color: ${semanticColors?.base?.textPrimary};
      padding: ${spaces?.l}px ${spaces?.l}px
        ${spaces?.l}px 9px;
      background-color: ${alertColor};
      &.elevated {
        border-left: 5px solid;
        box-shadow: ${shadows?.s};
        border-color: ${borderColor};
      }
      .MuiAlert-icon {
        path {
          fill: ${iconColor};
        }
      }
    `;
  }}
`;

function severityToColor(
  alertSeverity: AlertProps["severity"],
  colors: Colors
) {
  switch (alertSeverity) {
    case "error":
      return colors?.red;
    case "warning":
      return colors?.yellow;
    case "info":
      return colors?.blue;
    case "success":
      return colors?.green;
    default:
      return colors?.green;
  }
}
</file>

<file path="packages/components/src/core/Autocomplete/__storybook__/stories/controlledOpen.tsx">
import { Args } from "@storybook/react";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { SyntheticEvent, useEffect, useState } from "react";
import RawAutocomplete, {
  AutocompleteMultiColumnValue,
  SDSAutocompleteValue,
} from "src/core/Autocomplete";
import TagFilter from "src/core/TagFilter";
import { AutocompleteValue } from "@mui/base";
import {
  AUTOCOMPLETE_DIV_MARGIN,
  AUTOCOMPLETE_WRAPPER_STYLES,
} from "../constants";

export const ControlledOpenDemo = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  const {
    label,
    multiple,
    options = AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
    search,
    value: propValue,
    keepSearchOnSelect,
  } = props;

  type DisableClearable = false;
  type FreeSolo = false;

  const isControlled = propValue !== undefined;
  const [value, setValue] = useState<
    SDSAutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(
    (multiple ? [] : null) as SDSAutocompleteValue<
      T,
      Multiple,
      DisableClearable,
      FreeSolo
    >
  );

  const [selection, setSelection] = useState<string[]>([]);
  const [open, setOpen] = useState(true);

  useEffect(() => {
    if (isControlled) {
      setValue(propValue);
    }
  }, [isControlled, propValue]);

  useEffect(() => {
    setSelection([]);
    setValue(
      (multiple ? [] : null) as SDSAutocompleteValue<
        T,
        Multiple,
        DisableClearable,
        FreeSolo
      >
    );
  }, [multiple, options]);

  return (
    <>
      <div style={AUTOCOMPLETE_WRAPPER_STYLES}>
        <RawAutocomplete
          onClickAway={() => {
            setOpen(false);
          }}
          onClick={() => {
            if (open) {
              setOpen(false);
            } else {
              setOpen(true);
            }
          }}
          open={open}
          id="autocomplete-demo"
          disableCloseOnSelect={multiple}
          label={label}
          multiple={multiple}
          onChange={handleChange}
          keepSearchOnSelect={keepSearchOnSelect}
          options={options}
          search={search}
          value={value}
          getOptionDisabled={(option: T) => {
            return option.name === "Type: feature request";
          }}
          {...props}
        />
      </div>

      <div style={{ margin: AUTOCOMPLETE_DIV_MARGIN }}>
        {selection.length
          ? selection.map((item) => {
              return (
                <TagFilter
                  key={item}
                  label={item}
                  onDelete={() => handleTagDelete(item)}
                  onClick={() => handleTagDelete(item)}
                />
              );
            })
          : null}
      </div>
    </>
  );

  // eslint-disable-next-line sonarjs/cognitive-complexity
  function handleChange(
    _: SyntheticEvent<Element, Event>,
    newValue: SDSAutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ) {
    setValue(newValue);
    const newSelection: string[] = [];

    if (
      (newValue as T)?.name ||
      (Array.isArray(newValue) && (newValue as T[])[0].name)
    ) {
      if (multiple) {
        setSelection(
          Array.isArray(newValue) ? newValue?.map((item) => item.name) : []
        );
      } else {
        if (newValue && !Array.isArray(newValue) && newValue.name) {
          setSelection([(newValue as T).name]);
        }
      }
    } else {
      if (multiple) {
        if (newValue) {
          Object.values(newValue).forEach((items) => {
            (items as T[])?.map(({ name }: { name: string }) => {
              newSelection.push(name);
            });
          });
          setSelection(newSelection);
        }
      } else {
        if (newValue) {
          Object.values(newValue).forEach((item) => {
            newSelection.push((item as T).name);
          });
        }
        setSelection(newSelection);
      }
    }
  }

  // eslint-disable-next-line sonarjs/cognitive-complexity
  function handleTagDeleteMultiColumn(tag: string) {
    if (multiple) {
      if (value) {
        Object.entries(value).forEach(([key, values]) => {
          const index = (values as T[])?.findIndex(
            (item: T) => item.name === tag
          );
          if (index > -1) {
            const newValue = [...(values as T[])];
            newValue.splice(index, 1);
            setValue((prev) => {
              return {
                ...prev,
                [key]: newValue as AutocompleteValue<
                  T,
                  Multiple,
                  DisableClearable,
                  FreeSolo
                >,
              };
            });

            const newSelection = [...selection];
            const deleteIndex = newSelection.indexOf(tag);
            newSelection.splice(deleteIndex, 1);
            setSelection(newSelection);
          }
        });
      }
    } else {
      if (value) {
        Object.entries(value).forEach(([key, val]) => {
          if ((val as T).name === tag) {
            const finalValue = { ...value } as AutocompleteMultiColumnValue<
              T,
              Multiple,
              DisableClearable,
              FreeSolo
            >;
            if (finalValue) delete finalValue[key];
            setValue(finalValue);

            const newSelection = [...selection];
            const deleteIndex = newSelection.indexOf(tag);
            newSelection.splice(deleteIndex, 1);
            setSelection(newSelection);
          }
        });
      }
    }
  }

  function handleTagDelete(tag: string) {
    if (
      (value && (value as T).name) ||
      (Array.isArray(value) && (value as T[])[0].name)
    ) {
      if (multiple && Array.isArray(value)) {
        const index = value?.findIndex((item) => item.name === tag);
        const newValue = [...value];
        newValue.splice(index, 1);
        setValue(
          newValue as SDSAutocompleteValue<
            T,
            Multiple,
            DisableClearable,
            FreeSolo
          >
        );

        const newSelection = [...selection];
        const deleteIndex = newSelection.indexOf(tag);
        newSelection.splice(deleteIndex, 1);
        setSelection(newSelection);
      } else {
        setValue(
          null as SDSAutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
        );
        setSelection([]);
      }
    } else {
      handleTagDeleteMultiColumn(tag);
    }
  }
};
</file>

<file path="packages/components/src/core/Autocomplete/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { SyntheticEvent, useEffect, useState } from "react";
import RawAutocomplete, {
  AutocompleteMultiColumnValue,
  SDSAutocompleteValue,
} from "src/core/Autocomplete";
import TagFilter from "src/core/TagFilter";
import { AutocompleteValue } from "@mui/base";
import {
  AUTOCOMPLETE_DIV_MARGIN,
  AUTOCOMPLETE_WRAPPER_STYLES,
} from "../constants";

export const Autocomplete = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  const {
    label,
    multiple,
    options = AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
    search,
    value: propValue,
    keepSearchOnSelect,
  } = props;

  type DisableClearable = false;
  type FreeSolo = false;

  const isControlled = propValue !== undefined;
  const [value, setValue] = useState<
    SDSAutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(
    (multiple ? [] : null) as SDSAutocompleteValue<
      T,
      Multiple,
      DisableClearable,
      FreeSolo
    >
  );

  const [selection, setSelection] = useState<string[]>([]);

  useEffect(() => {
    if (isControlled) {
      setValue(propValue);
    }
  }, [isControlled, propValue]);

  useEffect(() => {
    setSelection([]);
    setValue(
      (multiple ? [] : null) as SDSAutocompleteValue<
        T,
        Multiple,
        DisableClearable,
        FreeSolo
      >
    );
  }, [multiple, options]);

  return (
    <>
      <div style={AUTOCOMPLETE_WRAPPER_STYLES}>
        <RawAutocomplete
          id="autocomplete-demo"
          disableCloseOnSelect={multiple}
          label={label}
          multiple={multiple}
          onChange={handleChange}
          keepSearchOnSelect={keepSearchOnSelect}
          options={options}
          search={search}
          value={value}
          getOptionDisabled={(option: T) => {
            return option.name === "Type: feature request";
          }}
          {...props}
        />
      </div>
      <div style={{ margin: AUTOCOMPLETE_DIV_MARGIN }}>
        {selection.length
          ? selection.map((item) => {
              return (
                <TagFilter
                  key={item}
                  label={item}
                  onDelete={() => handleTagDelete(item)}
                  onClick={() => handleTagDelete(item)}
                />
              );
            })
          : null}
      </div>
    </>
  );

  // eslint-disable-next-line sonarjs/cognitive-complexity
  function handleChange(
    _: SyntheticEvent<Element, Event>,
    newValue: SDSAutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ) {
    setValue(newValue);
    const newSelection: string[] = [];

    if (
      (newValue as T)?.name ||
      (Array.isArray(newValue) && (newValue as T[])[0].name)
    ) {
      if (multiple) {
        setSelection(
          Array.isArray(newValue) ? newValue?.map((item) => item.name) : []
        );
      } else {
        if (newValue && !Array.isArray(newValue) && newValue.name) {
          setSelection([(newValue as T).name]);
        }
      }
    } else {
      if (multiple) {
        if (newValue) {
          Object.values(newValue).forEach((items) => {
            (items as T[])?.map(({ name }: { name: string }) => {
              newSelection.push(name);
            });
          });
          setSelection(newSelection);
        }
      } else {
        if (newValue) {
          Object.values(newValue).forEach((item) => {
            newSelection.push((item as T).name);
          });
        }
        setSelection(newSelection);
      }
    }
  }

  // eslint-disable-next-line sonarjs/cognitive-complexity
  function handleTagDeleteMultiColumn(tag: string) {
    if (multiple) {
      if (value) {
        Object.entries(value).forEach(([key, values]) => {
          const index = (values as T[])?.findIndex(
            (item: T) => item.name === tag
          );
          if (index > -1) {
            const newValue = [...(values as T[])];
            newValue.splice(index, 1);
            setValue((prev) => {
              return {
                ...prev,
                [key]: newValue as AutocompleteValue<
                  T,
                  Multiple,
                  DisableClearable,
                  FreeSolo
                >,
              };
            });

            const newSelection = [...selection];
            const deleteIndex = newSelection.indexOf(tag);
            newSelection.splice(deleteIndex, 1);
            setSelection(newSelection);
          }
        });
      }
    } else {
      if (value) {
        Object.entries(value).forEach(([key, val]) => {
          if ((val as T).name === tag) {
            const finalValue = { ...value } as AutocompleteMultiColumnValue<
              T,
              Multiple,
              DisableClearable,
              FreeSolo
            >;
            if (finalValue) delete finalValue[key];
            setValue(finalValue);

            const newSelection = [...selection];
            const deleteIndex = newSelection.indexOf(tag);
            newSelection.splice(deleteIndex, 1);
            setSelection(newSelection);
          }
        });
      }
    }
  }

  function handleTagDelete(tag: string) {
    if (
      (value && (value as T).name) ||
      (Array.isArray(value) && (value as T[])[0].name)
    ) {
      if (multiple && Array.isArray(value)) {
        const index = value?.findIndex((item) => item.name === tag);
        const newValue = [...value];
        newValue.splice(index, 1);
        setValue(
          newValue as SDSAutocompleteValue<
            T,
            Multiple,
            DisableClearable,
            FreeSolo
          >
        );

        const newSelection = [...selection];
        const deleteIndex = newSelection.indexOf(tag);
        newSelection.splice(deleteIndex, 1);
        setSelection(newSelection);
      } else {
        setValue(
          null as SDSAutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
        );
        setSelection([]);
      }
    } else {
      handleTagDeleteMultiColumn(tag);
    }
  }
};
</file>

<file path="packages/components/src/core/Autocomplete/__storybook__/stories/multiColumn.tsx">
import { Args } from "@storybook/react";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import { AUTOCOMPLETE_MULTI_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_MULTI_COLUMN_OPTIONS";
import { useEffect, useState } from "react";
import { AutocompleteMultiColumnValue } from "src/core/Autocomplete";
import {
  AutocompleteChangeDetails,
  AutocompleteChangeReason,
  AutocompleteValue,
} from "@mui/base";
import {
  AUTOCOMPLETE_DIV_MARGIN,
  AUTOCOMPLETE_WRAPPER_STYLES,
} from "../constants";
import TagFilter from "src/core/TagFilter";
import RawAutocompleteMultiColumn from "src/core/Autocomplete/components/AutocompleteMultiColumn";

export const AutocompleteMultiColumnDemo = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  const {
    multiple,
    options = AUTOCOMPLETE_MULTI_COLUMN_OPTIONS,
    search,
    label,
  } = props;

  type DisableClearable = false;
  type FreeSolo = false;

  const [selection, setSelection] = useState<string[]>([]);

  const [theValue, setTheValue] =
    useState<
      AutocompleteMultiColumnValue<T, Multiple, DisableClearable, FreeSolo>
    >();

  useEffect(() => {
    setSelection([]);
  }, [multiple]);

  const handleChange = (
    _event: React.SyntheticEvent,
    newValue: AutocompleteMultiColumnValue<
      T,
      Multiple,
      DisableClearable,
      FreeSolo
    >,
    _reason: AutocompleteChangeReason,
    _details?: AutocompleteChangeDetails<T>
  ) => {
    setTheValue(newValue);
    const newSelection: string[] = [];

    if (multiple) {
      if (newValue) {
        Object.values(newValue).forEach((items) => {
          (items as T[])?.map(({ name }: { name: string }) => {
            newSelection.push(name);
          });
        });
        setSelection(newSelection);
      }
    } else {
      if (newValue) {
        Object.values(newValue).forEach((item) => {
          newSelection.push((item as T).name);
        });
      }
      setSelection(newSelection);
    }
  };

  return (
    <>
      <div style={AUTOCOMPLETE_WRAPPER_STYLES}>
        <RawAutocompleteMultiColumn<T, Multiple, DisableClearable, FreeSolo>
          label={label}
          disableCloseOnSelect={false}
          multiple={multiple}
          onChange={handleChange}
          options={options}
          search={search}
          value={theValue}
          {...props}
        />
      </div>
      <div style={{ margin: AUTOCOMPLETE_DIV_MARGIN }}>
        {selection.length
          ? selection.map((item) => {
              return (
                <TagFilter
                  key={item}
                  label={item}
                  onDelete={() => handleTagDelete(item)}
                  onClick={() => handleTagDelete(item)}
                />
              );
            })
          : null}
      </div>
    </>
  );

  function handleTagDelete(tag: string) {
    if (multiple) {
      if (theValue) {
        Object.entries(theValue).forEach(([key, values]) => {
          const index = (values as T[])?.findIndex(
            (item: T) => item.name === tag
          );
          if (index > -1) {
            const newValue = [...(values as T[])];
            newValue.splice(index, 1);
            setTheValue((prev) => {
              return {
                ...prev,
                [key]: newValue as AutocompleteValue<
                  T,
                  Multiple,
                  DisableClearable,
                  FreeSolo
                >,
              };
            });

            const newSelection = [...selection];
            const deleteIndex = newSelection.indexOf(tag);
            newSelection.splice(deleteIndex, 1);
            setSelection(newSelection);
          }
        });
      }
    } else {
      if (theValue) {
        Object.entries(theValue).forEach(([key, value]) => {
          if ((value as T).name === tag) {
            const finalValue = { ...theValue };
            delete finalValue[key];
            setTheValue(finalValue);

            const newSelection = [...selection];
            const deleteIndex = newSelection.indexOf(tag);
            newSelection.splice(deleteIndex, 1);
            setSelection(newSelection);
          }
        });
      }
    }
  }
};
</file>

<file path="packages/components/src/core/Autocomplete/__storybook__/stories/singleColumn.tsx">
import { AutocompleteChangeReason, AutocompleteValue } from "@mui/base";
import AutocompleteBase, {
  DefaultAutocompleteOption,
} from "src/core/Autocomplete/components/AutocompleteBase";
import { Args } from "@storybook/react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { useEffect, useState } from "react";
import {
  AUTOCOMPLETE_DIV_MARGIN,
  AUTOCOMPLETE_WRAPPER_STYLES,
} from "../constants";
import TagFilter from "src/core/TagFilter";

export const AutocompleteSingleColumnDemo = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  type DisableClearable = false;
  type FreeSolo = false;

  const {
    label,
    multiple,
    options = AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
    search,
    value: propValue,
    keepSearchOnSelect,
  } = props;

  const isControlled = propValue !== undefined;
  const [value, setValue] = useState(getInitialValue());
  const [pendingValue, setPendingValue] = useState(getInitialValue());

  const [selection, setSelection] = useState<string[]>([]);

  useEffect(() => {
    if (isControlled) {
      setValue(propValue);
    }
  }, [isControlled, propValue]);

  useEffect(() => {
    setSelection([]);
  }, [multiple]);

  return (
    <>
      <div style={AUTOCOMPLETE_WRAPPER_STYLES}>
        <AutocompleteBase<T, Multiple, FreeSolo, DisableClearable>
          id="autocomplete-base-demo"
          disableCloseOnSelect={multiple}
          label={label}
          multiple={multiple}
          keepSearchOnSelect={keepSearchOnSelect}
          options={options}
          search={search}
          onChange={handleChange}
          value={multiple ? pendingValue : value}
          getOptionDisabled={(option: DefaultAutocompleteOption) => {
            return option.name === "Type: feature request";
          }}
          {...props}
        />
      </div>
      <div style={{ margin: AUTOCOMPLETE_DIV_MARGIN }}>
        {selection.length
          ? selection.map((item) => {
              return (
                <TagFilter
                  key={item}
                  label={item}
                  onDelete={() => handleTagDelete(item)}
                  onClick={() => handleTagDelete(item)}
                />
              );
            })
          : null}
      </div>
    </>
  );

  function handleChange(
    _event: React.SyntheticEvent,
    newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>,
    _reason: AutocompleteChangeReason
  ) {
    if (multiple) {
      const newSelection = Array.isArray(newValue)
        ? newValue?.map((item) => item.name)
        : [];
      setSelection(newSelection);
      return setPendingValue(newValue);
    } else {
      if (newValue && !Array.isArray(newValue) && newValue.name) {
        setValue(newValue);
        setSelection([newValue.name]);
      }
    }
  }

  function handleTagDelete(tag: string) {
    if (multiple && Array.isArray(pendingValue)) {
      const index = pendingValue?.findIndex((item) => item.name === tag);
      const newValue = [...pendingValue];
      newValue.splice(index, 1);
      setPendingValue(
        newValue as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
      );

      const newSelection = [...selection];
      const deleteIndex = newSelection.indexOf(tag);
      newSelection.splice(deleteIndex, 1);
      setSelection(newSelection);
    } else {
      setValue(
        null as unknown as AutocompleteValue<
          T,
          Multiple,
          DisableClearable,
          FreeSolo
        >
      );
      setSelection([]);
    }
  }

  function getInitialValue(): AutocompleteValue<
    T,
    Multiple,
    DisableClearable,
    FreeSolo
  > {
    if (isControlled) {
      return propValue;
    }

    return multiple
      ? ([] as unknown as AutocompleteValue<
          T,
          Multiple,
          DisableClearable,
          FreeSolo
        >)
      : (null as unknown as AutocompleteValue<
          T,
          Multiple,
          DisableClearable,
          FreeSolo
        >);
  }
};
</file>

<file path="packages/components/src/core/Autocomplete/__storybook__/stories/test.tsx">
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import { AUTOCOMPLETE_WRAPPER_STYLES } from "../constants";
import { Args } from "@storybook/react";
import RawAutocomplete from "src/core/Autocomplete";

export const TestDemo = (props: Args): JSX.Element => {
  const {
    multiple,
    options = AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
    search,
  } = props;

  return (
    <div style={AUTOCOMPLETE_WRAPPER_STYLES}>
      <RawAutocomplete
        open
        search={search}
        label="Search"
        multiple={multiple}
        disableCloseOnSelect={multiple}
        options={options}
        groupBy={(option: DefaultAutocompleteOption) =>
          option.section as string
        }
        {...props}
      />
    </div>
  );
};
</file>

<file path="packages/components/src/core/Autocomplete/__storybook__/constants.tsx">
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import { AUTOCOMPLETE_MULTI_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_MULTI_COLUMN_OPTIONS";

export const AUTOCOMPLETE_EXCLUDED_CONTROLS = [
  "search",
  "keepSearchOnSelect",
  "multiple",
  "blurOnSelect",
  "clearOnBlur",
  "groupBy",
  "label",
  "options",
  "intent",
];

export const AUTOCOMPLETE_GROUP_BY_OPTIONS = [
  undefined,
  (option: DefaultAutocompleteOption) => option.section as string,
];

export const AUTOCOMPLETE_WRAPPER_STYLES = {
  margin: "16px 0 0 24px",
  width: 274,
};

export const AUTOCOMPLETE_DIV_MARGIN = "10px 0 0 24px";

export const AUTOCOMPLETE_LABEL = "Search by label";

export const AUTOCOMPLETE_DATA_OPTIONS = [
  AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
  [AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[0], AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[1]],
  [
    AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[0],
    AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[1],
    AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[2],
  ],
];
</file>

<file path="packages/components/src/core/Autocomplete/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import {
  AUTOCOMPLETE_DATA_OPTIONS,
  AUTOCOMPLETE_EXCLUDED_CONTROLS,
  AUTOCOMPLETE_GROUP_BY_OPTIONS,
  AUTOCOMPLETE_LABEL,
} from "./constants";
import { Autocomplete } from "./stories/default";
import { AutocompleteSingleColumnDemo } from "./stories/singleColumn";
import { AutocompleteMultiColumnDemo } from "./stories/multiColumn";
import { TestDemo } from "./stories/test";
import { ControlledOpenDemo } from "./stories/controlledOpen";

export default {
  argTypes: {
    groupBy: {
      control: {
        labels: ["No group by", "Group by section names"],
        type: "select",
      },
      mapping: AUTOCOMPLETE_GROUP_BY_OPTIONS,
      options: Object.keys(AUTOCOMPLETE_GROUP_BY_OPTIONS),
    },
    intent: {
      control: { type: "radio" },
      options: ["default", "negative", "notice", "positive"],
    },
    keepSearchOnSelect: {
      control: { type: "boolean" },
    },
    label: {
      control: { type: "text" },
    },
    multiple: {
      control: { type: "boolean" },
    },
    options: {
      control: {
        labels: ["One Column", "Two Columns", "Three Columns"],
        type: "select",
      },
      mapping: AUTOCOMPLETE_DATA_OPTIONS,
      options: Object.keys(AUTOCOMPLETE_DATA_OPTIONS),
    },
  },
  component: Autocomplete,
  // (masoudmanson) For the purpose of storybook, the button is removed
  // from the RawAutocomplete component which may cause some accessibility
  // violations related to ARIA roles and attributes. However, this
  // should not be a concern as the component is always used with a button
  // in real applications. To avoid false positive test failures, the following
  // accessibility rules have been temporarily disabled in the tests
  parameters: {
    axe: {
      disabledRules: [
        "aria-input-field-name",
        "aria-required-children",
        "aria-required-parent",
        "button-name",
        "list",
        "listitem",
      ],
    },
    badges: [BADGE.STABLE],
  },
  title: "Components/Dropdowns/Autocomplete",
} as Meta;

// Default

export const Default = {
  args: {
    groupBy: AUTOCOMPLETE_GROUP_BY_OPTIONS[1],
    keepSearchOnSelect: true,
    label: AUTOCOMPLETE_LABEL,
    multiple: true,
    search: true,
  },
  parameters: {
    controls: {
      exclude: ["search"],
    },
  },
};

// Single Column Autocomplete

export const SingleColumn = {
  args: {
    groupBy: AUTOCOMPLETE_GROUP_BY_OPTIONS[1],
    keepSearchOnSelect: false,
    label: AUTOCOMPLETE_LABEL,
    multiple: true,
    search: true,
  },
  parameters: {
    controls: {
      exclude: AUTOCOMPLETE_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <AutocompleteSingleColumnDemo {...args} />,
};

// Multi Column Autocomplete

export const MultiColumn = {
  args: {
    groupBy: AUTOCOMPLETE_GROUP_BY_OPTIONS[1],
    keepSearchOnSelect: false,
    label: AUTOCOMPLETE_LABEL,
    multiple: true,
    search: true,
  },
  parameters: {
    controls: {
      exclude: AUTOCOMPLETE_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <AutocompleteMultiColumnDemo {...args} />,
};

// Controlled Open

export const ControlledOpen = {
  args: {
    groupBy: AUTOCOMPLETE_GROUP_BY_OPTIONS[1],
    keepSearchOnSelect: true,
    label: AUTOCOMPLETE_LABEL,
    multiple: true,
    options: AUTOCOMPLETE_DATA_OPTIONS[1],
    search: true,
  },
  parameters: {
    controls: {
      exclude: ["search"],
    },
  },
  render: (args: Args) => <ControlledOpenDemo {...args} />,
};

// Test

export const Test = {
  args: {
    keepSearchOnSelect: false,
    multiple: true,
    search: true,
  },
  parameters: {
    controls: {
      exclude: AUTOCOMPLETE_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => (
    <TestDemo data-testid="autocomplete-base" {...args} />
  ),
};
</file>

<file path="packages/components/src/core/Autocomplete/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Autocomplete /> ControlledOpen story renders snapshot 1`] = `
<div
  style="margin: 16px 0px 0px 24px; width: 274px;"
>
  <div>
    <label
      class="css-l5xdrx"
      for="location-search"
    >
      Search by label
    </label>
    <div
      class="MuiFormControl-root MuiTextField-root css-1oz5stj-MuiFormControl-root-MuiTextField-root"
    >
      <div
        class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl MuiInputBase-sizeSmall MuiInputBase-adornedStart MuiInputBase-adornedEnd css-2ehmn7-MuiInputBase-root-MuiOutlinedInput-root"
        inputmode="text"
      >
        <div
          class="MuiInputAdornment-root MuiInputAdornment-positionStart MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-3b46cg-MuiInputAdornment-root"
        >
          <span
            class="notranslate"
          >
            ​
          </span>
          <button
            aria-label="search-button"
            class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-3px3eh-MuiButtonBase-root-MuiIconButton-root"
            icon="Search"
            tabindex="0"
            type="button"
          >
            <div
              class="css-1ft6wgl"
            >
              <svg
                aria-hidden="true"
                class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                data-file-name="IconSearchSmall"
                data-testid="IconSearchSmall"
                fillcontrast="white"
                focusable="false"
                height="16"
                viewBox="0 0 16 16"
                width="16"
              />
            </div>
            <span
              class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
            />
          </button>
        </div>
        <input
          aria-invalid="false"
          autocomplete="one-time-code"
          class="MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputTypeSearch MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedStart MuiInputBase-inputAdornedEnd css-16slxrv-MuiInputBase-input-MuiOutlinedInput-input"
          id="location-search"
          placeholder="Search by label"
          type="search"
          value=""
        />
        <div
          class="MuiInputAdornment-root MuiInputAdornment-positionEnd MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-1is7ehy-MuiInputAdornment-root"
        >
          <p
            class="MuiTypography-root MuiTypography-body1 css-1pnmrwp-MuiTypography-root"
          />
        </div>
        <fieldset
          aria-hidden="true"
          class="MuiOutlinedInput-notchedOutline css-1d3z3hw-MuiOutlinedInput-notchedOutline"
        >
          <legend
            class="css-ihdtdm"
          >
            <span
              class="notranslate"
            >
              ​
            </span>
          </legend>
        </fieldset>
      </div>
    </div>
    <div
      class="MuiPopper-root css-v2msuu-MuiPopper-root"
      data-popper-escaped=""
      data-popper-placement="bottom-start"
      data-popper-reference-hidden=""
      role="tooltip"
      style="position: absolute; left: 0px; top: 0px; margin: 0px; transform: translate(0px, 0px);"
    >
      <div
        class="SdsAutocompleteMultiColumn-wrapper css-ov1ktg"
      >
        <div
          class="SdsAutocompleteMultiColumn-column-root css-1451ohq"
          width="260"
        >
          <span
            class="SdsAutocompleteMultiColumn-column-relation-icon css-19gs2ff"
          >
            <div
              class="css-1ft6wgl"
            >
              <svg
                aria-hidden="true"
                class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                data-file-name="IconChevronRightSmall"
                data-testid="IconChevronRightSmall"
                fillcontrast="white"
                focusable="false"
                height="16"
                viewBox="0 0 16 16"
                width="16"
              />
            </div>
          </span>
          <p
            class="SdsAutocompleteMultiColumn-column-title css-ederv3"
          >
            Column One
          </p>
          <div
            aria-owns="autocomplete-demo-listbox"
            class="MuiAutocomplete-root Mui-expanded MuiAutocomplete-hasPopupIcon css-1nl9kkd-MuiAutocomplete-root"
            label="Search by label"
          >
            <div
              class="css-tiqrog"
            >
              <label
                class="css-l5xdrx"
                for="location-search"
              >
                Search by label
              </label>
              <div
                aria-hidden="true"
                aria-label="Search Input"
                class="MuiFormControl-root MuiTextField-root css-c6ujh4-MuiFormControl-root-MuiTextField-root"
                tabindex="-1"
              >
                <div
                  aria-hidden="true"
                  class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl MuiInputBase-sizeSmall MuiInputBase-adornedStart MuiInputBase-adornedEnd css-2ehmn7-MuiInputBase-root-MuiOutlinedInput-root"
                  inputmode="none"
                >
                  <div
                    class="MuiInputAdornment-root MuiInputAdornment-positionStart MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-3b46cg-MuiInputAdornment-root"
                  >
                    <span
                      class="notranslate"
                    >
                      ​
                    </span>
                    <button
                      aria-hidden="true"
                      aria-label="Search Button"
                      class="MuiButtonBase-root Mui-disabled MuiIconButton-root Mui-disabled MuiIconButton-sizeMedium css-l19ret-MuiButtonBase-root-MuiIconButton-root"
                      disabled=""
                      icon="Search"
                      tabindex="-1"
                      type="button"
                    >
                      <div
                        class="css-1ft6wgl"
                      >
                        <svg
                          aria-hidden="true"
                          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                          data-file-name="IconSearchSmall"
                          data-testid="IconSearchSmall"
                          fillcontrast="white"
                          focusable="false"
                          height="16"
                          viewBox="0 0 16 16"
                          width="16"
                        />
                      </div>
                    </button>
                  </div>
                  <input
                    aria-autocomplete="list"
                    aria-controls="autocomplete-demo-listbox"
                    aria-expanded="true"
                    aria-invalid="false"
                    autocapitalize="none"
                    autocomplete="off"
                    class="MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputTypeSearch MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedStart MuiInputBase-inputAdornedEnd MuiAutocomplete-input MuiAutocomplete-inputFocused css-16slxrv-MuiInputBase-input-MuiOutlinedInput-input"
                    disabled=""
                    id="autocomplete-demo"
                    placeholder="Search by label"
                    role="combobox"
                    spellcheck="false"
                    type="search"
                    value=""
                  />
                  <div
                    class="MuiInputAdornment-root MuiInputAdornment-positionEnd MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-1is7ehy-MuiInputAdornment-root"
                  >
                    <p
                      class="MuiTypography-root MuiTypography-body1 css-1pnmrwp-MuiTypography-root"
                    />
                  </div>
                  <fieldset
                    aria-hidden="true"
                    class="MuiOutlinedInput-notchedOutline css-1d3z3hw-MuiOutlinedInput-notchedOutline"
                  >
                    <legend
                      class="css-ihdtdm"
                    >
                      <span
                        class="notranslate"
                      >
                        ​
                      </span>
                    </legend>
                  </fieldset>
                </div>
              </div>
            </div>
          </div>
          <div
            class="MuiPopper-root MuiAutocomplete-popper MuiAutocomplete-popperDisablePortal css-1gsu57t-MuiPopper-root-MuiAutocomplete-popper"
            data-popper-escaped=""
            data-popper-placement="bottom"
            data-popper-reference-hidden=""
            role="presentation"
            style="width: 0px; position: absolute; left: 0px; top: 0px; margin: 0px; transform: translate(0px, 0px);"
          >
            <div
              class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiAutocomplete-paper css-1bqrqoq-MuiPaper-root-MuiAutocomplete-paper"
            >
              <ul
                aria-labelledby="autocomplete-demo-label"
                class="MuiAutocomplete-listbox css-gdh49b-MuiAutocomplete-listbox"
                id="autocomplete-demo-listbox"
                role="listbox"
              >
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="0"
                  id="autocomplete-demo-option-0"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Status: can't reproduce
                      </div>
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="1"
                  id="autocomplete-demo-option-1"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Status: confirmed
                      </div>
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="2"
                  id="autocomplete-demo-option-2"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Status: duplicate
                      </div>
                    </span>
                    <span
                      class="css-1o15svb"
                    >
                      3
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="3"
                  id="autocomplete-demo-option-3"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Status: needs information
                      </div>
                    </span>
                    <span
                      class="css-1o15svb"
                    >
                      5
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="4"
                  id="autocomplete-demo-option-4"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Status: wont do/fix
                        <div
                          class="menuItem-details css-3gjguy"
                        >
                          This will not be worked on
                        </div>
                      </div>
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="5"
                  id="autocomplete-demo-option-5"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Status: work in progress
                        <div
                          class="menuItem-details css-3gjguy"
                        >
                          This is still in progress
                        </div>
                      </div>
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div
          class="SdsAutocompleteMultiColumn-column-root css-1451ohq"
          width="260"
        >
          <span
            class="SdsAutocompleteMultiColumn-column-relation-icon css-19gs2ff"
          >
            <div
              class="css-1ft6wgl"
            >
              <svg
                aria-hidden="true"
                class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                data-file-name="IconChevronRightSmall"
                data-testid="IconChevronRightSmall"
                fillcontrast="white"
                focusable="false"
                height="16"
                viewBox="0 0 16 16"
                width="16"
              />
            </div>
          </span>
          <p
            class="SdsAutocompleteMultiColumn-column-title css-ederv3"
          >
            Column Two
          </p>
          <div
            aria-owns="autocomplete-demo-listbox"
            class="MuiAutocomplete-root Mui-expanded MuiAutocomplete-hasPopupIcon css-1nl9kkd-MuiAutocomplete-root"
            label="Search by label"
          >
            <div
              class="css-tiqrog"
            >
              <label
                class="css-l5xdrx"
                for="location-search"
              >
                Search by label
              </label>
              <div
                aria-hidden="true"
                aria-label="Search Input"
                class="MuiFormControl-root MuiTextField-root css-c6ujh4-MuiFormControl-root-MuiTextField-root"
                tabindex="-1"
              >
                <div
                  aria-hidden="true"
                  class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl MuiInputBase-sizeSmall MuiInputBase-adornedStart MuiInputBase-adornedEnd css-2ehmn7-MuiInputBase-root-MuiOutlinedInput-root"
                  inputmode="none"
                >
                  <div
                    class="MuiInputAdornment-root MuiInputAdornment-positionStart MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-3b46cg-MuiInputAdornment-root"
                  >
                    <span
                      class="notranslate"
                    >
                      ​
                    </span>
                    <button
                      aria-hidden="true"
                      aria-label="Search Button"
                      class="MuiButtonBase-root Mui-disabled MuiIconButton-root Mui-disabled MuiIconButton-sizeMedium css-l19ret-MuiButtonBase-root-MuiIconButton-root"
                      disabled=""
                      icon="Search"
                      tabindex="-1"
                      type="button"
                    >
                      <div
                        class="css-1ft6wgl"
                      >
                        <svg
                          aria-hidden="true"
                          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                          data-file-name="IconSearchSmall"
                          data-testid="IconSearchSmall"
                          fillcontrast="white"
                          focusable="false"
                          height="16"
                          viewBox="0 0 16 16"
                          width="16"
                        />
                      </div>
                    </button>
                  </div>
                  <input
                    aria-autocomplete="list"
                    aria-controls="autocomplete-demo-listbox"
                    aria-expanded="true"
                    aria-invalid="false"
                    autocapitalize="none"
                    autocomplete="off"
                    class="MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputTypeSearch MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedStart MuiInputBase-inputAdornedEnd MuiAutocomplete-input MuiAutocomplete-inputFocused css-16slxrv-MuiInputBase-input-MuiOutlinedInput-input"
                    disabled=""
                    id="autocomplete-demo"
                    placeholder="Search by label"
                    role="combobox"
                    spellcheck="false"
                    type="search"
                    value=""
                  />
                  <div
                    class="MuiInputAdornment-root MuiInputAdornment-positionEnd MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-1is7ehy-MuiInputAdornment-root"
                  >
                    <p
                      class="MuiTypography-root MuiTypography-body1 css-1pnmrwp-MuiTypography-root"
                    />
                  </div>
                  <fieldset
                    aria-hidden="true"
                    class="MuiOutlinedInput-notchedOutline css-1d3z3hw-MuiOutlinedInput-notchedOutline"
                  >
                    <legend
                      class="css-ihdtdm"
                    >
                      <span
                        class="notranslate"
                      >
                        ​
                      </span>
                    </legend>
                  </fieldset>
                </div>
              </div>
            </div>
          </div>
          <div
            class="MuiPopper-root MuiAutocomplete-popper MuiAutocomplete-popperDisablePortal css-1gsu57t-MuiPopper-root-MuiAutocomplete-popper"
            data-popper-escaped=""
            data-popper-placement="bottom"
            data-popper-reference-hidden=""
            role="presentation"
            style="width: 0px; position: absolute; left: 0px; top: 0px; margin: 0px; transform: translate(0px, 0px);"
          >
            <div
              class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiAutocomplete-paper css-1bqrqoq-MuiPaper-root-MuiAutocomplete-paper"
            >
              <ul
                aria-labelledby="autocomplete-demo-label"
                class="MuiAutocomplete-listbox css-gdh49b-MuiAutocomplete-listbox"
                id="autocomplete-demo-listbox"
                role="listbox"
              >
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="0"
                  id="autocomplete-demo-option-0"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Type: bug
                        <div
                          class="menuItem-details css-3gjguy"
                        >
                          This will be worked on!
                        </div>
                      </div>
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="1"
                  id="autocomplete-demo-option-1"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Type: discussion
                      </div>
                    </span>
                    <span
                      class="css-1o15svb"
                    >
                      4
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="2"
                  id="autocomplete-demo-option-2"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Type: documentation
                      </div>
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="3"
                  id="autocomplete-demo-option-3"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Type: enhancement
                      </div>
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="4"
                  id="autocomplete-demo-option-4"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Type: epic
                      </div>
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
                <li
                  aria-disabled="true"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root Mui-disabled MuiMenuItem-gutters Mui-disabled MuiMenuItem-root Mui-disabled MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="5"
                  id="autocomplete-demo-option-5"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      disabled=""
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1wkj2yd"
                      disabled=""
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Type: feature request
                      </div>
                    </span>
                  </span>
                </li>
                <li
                  aria-disabled="false"
                  aria-selected="false"
                  class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters MuiAutocomplete-option css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
                  data-option-index="6"
                  id="autocomplete-demo-option-6"
                  role="option"
                  tabindex="-1"
                >
                  <span
                    class="css-17socgo"
                  >
                    <svg
                      aria-hidden="true"
                      class="MuiSvgIcon-root MuiSvgIcon-colorPrimary MuiSvgIcon-fontSizeMedium check-icon css-4wl0oy-MuiSvgIcon-root"
                      data-testid="CheckIcon"
                      focusable="false"
                      viewBox="0 0 24 24"
                    >
                      <path
                        d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"
                      />
                    </svg>
                  </span>
                  <span
                    class="css-bv5fko"
                  >
                    <span
                      class="primary-text css-1k1xg99"
                    >
                      <div
                        class="css-1iyoj2o"
                      >
                        Type: question
                      </div>
                    </span>
                  </span>
                  <span
                    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                  />
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
`;

exports[`<Autocomplete /> Default story renders snapshot 1`] = `
<div
  style="margin: 16px 0px 0px 24px; width: 274px;"
>
  <div
    class="MuiAutocomplete-root MuiAutocomplete-hasPopupIcon css-41z5h3-MuiAutocomplete-root"
    label="Search by label"
  >
    <div
      class="css-1oteowz"
    >
      <label
        class="css-l5xdrx"
        for="location-search"
      >
        Search by label
      </label>
      <div
        aria-hidden="false"
        aria-label="Search Input"
        class="MuiFormControl-root MuiTextField-root css-gk2vxn-MuiFormControl-root-MuiTextField-root"
        tabindex="0"
      >
        <div
          aria-hidden="false"
          class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl MuiInputBase-sizeSmall MuiInputBase-adornedStart MuiInputBase-adornedEnd css-2ehmn7-MuiInputBase-root-MuiOutlinedInput-root"
          inputmode="text"
        >
          <div
            class="MuiInputAdornment-root MuiInputAdornment-positionStart MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-3b46cg-MuiInputAdornment-root"
          >
            <span
              class="notranslate"
            >
              ​
            </span>
            <button
              aria-hidden="false"
              aria-label="Search Button"
              class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-3px3eh-MuiButtonBase-root-MuiIconButton-root"
              icon="Search"
              tabindex="0"
              type="button"
            >
              <div
                class="css-1ft6wgl"
              >
                <svg
                  aria-hidden="true"
                  class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                  data-file-name="IconSearchSmall"
                  data-testid="IconSearchSmall"
                  fillcontrast="white"
                  focusable="false"
                  height="16"
                  viewBox="0 0 16 16"
                  width="16"
                />
              </div>
              <span
                class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
              />
            </button>
          </div>
          <input
            aria-autocomplete="list"
            aria-expanded="false"
            aria-invalid="false"
            autocapitalize="none"
            autocomplete="off"
            class="MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputTypeSearch MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedStart MuiInputBase-inputAdornedEnd MuiAutocomplete-input MuiAutocomplete-inputFocused css-16slxrv-MuiInputBase-input-MuiOutlinedInput-input"
            id="autocomplete-demo"
            placeholder="Search by label"
            role="combobox"
            spellcheck="false"
            type="search"
            value=""
          />
          <div
            class="MuiInputAdornment-root MuiInputAdornment-positionEnd MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-1is7ehy-MuiInputAdornment-root"
          >
            <p
              class="MuiTypography-root MuiTypography-body1 css-1pnmrwp-MuiTypography-root"
            />
          </div>
          <fieldset
            aria-hidden="true"
            class="MuiOutlinedInput-notchedOutline css-1d3z3hw-MuiOutlinedInput-notchedOutline"
          >
            <legend
              class="css-ihdtdm"
            >
              <span
                class="notranslate"
              >
                ​
              </span>
            </legend>
          </fieldset>
        </div>
      </div>
    </div>
  </div>
</div>
`;
</file>

<file path="packages/components/src/core/Autocomplete/__tests__/Autocomplete.namespace-test.tsx">
import {
  Autocomplete,
  AutocompleteProps,
  DefaultAutocompleteOption,
} from "@czi-sds/components";
import { noop } from "src/common/utils";

const OPTIONS = [
  {
    color: "#7057ff",
    description: "Good for newcomers",
    name: "good first issue",
  },
  {
    color: "#008672",
    description: "Extra attention is needed",
    name: "help wanted",
  },
];

const AutocompleteNameSpaceTest = (
  props: AutocompleteProps<DefaultAutocompleteOption, true, false, false>
) => {
  return (
    <Autocomplete
      disableCloseOnSelect={false}
      id="1"
      onChange={noop}
      options={OPTIONS}
      label="Dropdown Menu Title"
    />
  );
};
</file>

<file path="packages/components/src/core/Autocomplete/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStory } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as snapshotTestStoryFile from "../__storybook__/index.stories";
import Meta, { Test as TestStory } from "../__storybook__/index.stories";

const Test = composeStory(TestStory, Meta);

describe("<Autocomplete />", () => {
  generateSnapshots(snapshotTestStoryFile);

  it("renders AutocompleteBase component", () => {
    render(<Test {...Test.args} />);
    const AutocompleteElement = screen.getByTestId("autocomplete-base");
    expect(AutocompleteElement).not.toBeNull();
  });
});
</file>

<file path="packages/components/src/core/Autocomplete/components/AutocompleteBase/index.tsx">
import {
  AutocompleteChangeDetails,
  AutocompleteChangeReason,
  AutocompleteCloseReason,
  AutocompleteFreeSoloValueMapping,
  AutocompleteInputChangeReason,
  AutocompleteRenderInputParams,
  AutocompleteRenderOptionState,
  AutocompleteValue,
  AutocompleteProps as MuiAutocompleteProps,
  Popper,
  PopperProps,
  useTheme,
} from "@mui/material";
import React, {
  ReactNode,
  SyntheticEvent,
  useCallback,
  useRef,
  useState,
} from "react";
import { EMPTY_OBJECT, noop } from "src/common/utils";
import Button from "src/core/Button";
import { IconProps } from "src/core/Icon";
import { InputSearchProps } from "src/core/InputSearch";
import { StyledInputAdornment } from "src/core/InputSearch/style";
import MenuItem, { IconNameToSmallSizes } from "src/core/MenuItem";
import { SDSTheme } from "src/core/styles";
import {
  InputBaseWrapper,
  StyleProps,
  StyledAutocompleteBase,
  StyledMenuInputSearch,
  StyledMenuItemDetails,
  StyledMenuItemText,
  StyledPaper,
} from "./style";
import useDetectUserTabbing from "src/common/helpers/userTabbing";

// (thuang): This requires option to have a `name` property.
// (masoudmanson): Represents a generic autocomplete option with common properties.
interface AutocompleteOptionGeneral {
  name: string; // The name of the autocomplete option.
  section?: string; // An optional section for categorization.
}

// (masoudmanson): Represents a basic autocomplete option.
export interface AutocompleteOptionBasic extends AutocompleteOptionGeneral {
  count?: number; // An optional count associated with the option.
  details?: string; // An optional string for additional details.
  icon?: keyof IconNameToSmallSizes | React.ReactElement<CustomSVGProps>; // An optional icon key.
  sdsIconProps?: Partial<IconProps<keyof IconNameToSmallSizes>>; // Optional properties for the associated icon.
}

// (masoudmanson): Represents an autocomplete option that includes a custom React component.
export interface AutocompleteOptionComponent extends AutocompleteOptionGeneral {
  component?: ReactNode; // An optional custom React component.
}

// (masoudmanson): Combines properties from two types while ensuring that overlapping properties are optional.
type Exclusive<T, U> = T & { [K in Exclude<keyof U, keyof T>]?: undefined };

// (masoudmanson): Represents a default autocomplete option that can be either basic or include a custom component.
export type DefaultAutocompleteOption =
  | Exclusive<AutocompleteOptionBasic, AutocompleteOptionComponent> // Represents a basic option with optional custom properties.
  | Exclusive<AutocompleteOptionComponent, AutocompleteOptionBasic>; // Represents an option with a custom component and optional basic properties.

interface ExtraAutocompleteProps<T, Multiple, DisableClearable, FreeSolo>
  extends StyleProps {
  keepSearchOnSelect?: boolean;
  renderInput?: (params: AutocompleteRenderInputParams) => React.ReactNode;
  onInputChange?: (
    event: SyntheticEvent<Element, Event>,
    value: string,
    reason: AutocompleteInputChangeReason
  ) => void;
  onChange?: (
    event: React.SyntheticEvent,
    value: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>,
    reason: AutocompleteChangeReason,
    details?: AutocompleteChangeDetails<T>
  ) => void;
  InputBaseProps?: Partial<InputSearchProps>;
  label?: string;
  intent?: InputSearchProps["intent"];
  onClickAway?: (
    event?: MouseEvent | TouchEvent,
    reason?: AutocompleteCloseReason
  ) => void;
  onClick?: (event?: TouchEvent | MouseEvent) => void;
}

type CustomAutocompleteProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = Omit<
  MuiAutocompleteProps<T, Multiple, DisableClearable, FreeSolo>,
  "renderInput" | "nonce" | "rev" | "rel" | "autoFocus" | "content"
>;

export type AutocompleteBaseProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = CustomAutocompleteProps<T, Multiple, DisableClearable, FreeSolo> &
  ExtraAutocompleteProps<T, Multiple, DisableClearable, FreeSolo>;

const AutocompleteBase = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: AutocompleteBaseProps<T, Multiple, DisableClearable, FreeSolo>
): JSX.Element => {
  const {
    multiple,
    disableCloseOnSelect = multiple,
    getOptionLabel = defaultGetOptionLabel,
    InputBaseProps = EMPTY_OBJECT,
    isOptionEqualToValue = defaultIsOptionEqualToValue,
    keepSearchOnSelect = false,
    label = "Label",
    loading = false,
    loadingText = "",
    noOptionsText = "No options",
    onInputChange = noop,
    renderOption = defaultRenderOption,
    renderTags = defaultRenderTags,
    search = false,
    clearOnBlur = false,
    blurOnSelect = !multiple,
    onClickAway,
    onClick,
    onOpen,
    onClose,
    disabled,
    intent = "default",
  } = props;
  const theme: SDSTheme = useTheme();

  const ref = useRef(null);
  const [inputValue, setInputValue] = useState("");

  useDetectUserTabbing(ref);

  return (
    <StyledAutocompleteBase
      ref={ref}
      clearOnBlur={clearOnBlur}
      disableCloseOnSelect={disableCloseOnSelect}
      disablePortal
      renderTags={renderTags}
      loading={loading}
      loadingText={loadingText}
      noOptionsText={noOptionsText}
      PaperComponent={StyledPaper}
      PopperComponent={useDefaultPopperComponent()}
      renderOption={renderOption}
      getOptionLabel={getOptionLabel}
      isOptionEqualToValue={isOptionEqualToValue}
      inputValue={inputValue}
      renderInput={defaultRenderInput}
      multiple={multiple}
      /**
       * (masoudmanson): Overrides the onOpen and onClose handlers to ensure that
       * the onClick and onClickAway handlers are triggered when a controlled dropdown
       * is opened or closed, respectively.
       */
      onOpen={defaultOnOpen}
      onClose={defaultOnClose}
      {...props}
      /**
       * (masoudmanson): For multiple options (multiple = true), setting blurOnSelect to false
       * keeps the dropdown open after selecting an option. This feature enhances user experience
       * by preventing the dropdown from closing, enabling users to select multiple options
       * without having to reopen the menu repeatedly.
       */
      blurOnSelect={multiple ? false : blurOnSelect}
      /**
       * (masoudmanson): Given the necessity of maintaining consistent onBlur functionality,
       * and clearing the input value on blur, it's crucial to include the onBlur handler
       * after spreading other props. Furthermore, within the defaultOnBlur function, the
       * actual onBlur function is invoked for completeness.
       */
      onBlur={defaultOnBlur}
      /**
       * (masoudmanson): To ensure component-level actions (changing the input field value)
       * trigger upon input changes, it's crucial to position the onInputChange handler after
       * spreading the other props. Furthermore, within the defaultOnInputChange function,
       * the provided onInputChange from props is called at the end to emit the input changes
       * to the user.
       */
      onInputChange={defaultOnInputChange}
      disabled={disabled || !search}
    />
  );

  /**
   * (masoudmanson): Using a custom Popper or Paper with the Autocomplete
   * without a useCallback results in scroll jumps while selecting an option!
   */
  function useDefaultPopperComponent() {
    return useCallback((popperProps: PopperProps) => {
      return (
        <Popper
          modifiers={[
            {
              enabled: true,
              name: "offset",
              options: {
                offset: [0, theme.app?.spacing.s],
              },
            },
          ]}
          {...popperProps}
        />
      );
    }, []);
  }

  function defaultRenderInput(params: AutocompleteRenderInputParams) {
    return (
      <InputBaseWrapper search={search}>
        <StyledMenuInputSearch
          id="location-search"
          aria-label="Search Input"
          // (masoudmanson): This is to ensure that the input field won't be focusable
          // when the search prop is set to false.
          tabIndex={search ? 0 : -1}
          aria-hidden={!search}
          label={label}
          placeholder={label}
          ref={params.InputProps.ref}
          search={search}
          // (masoudmanson): This prevents Backspace from deselecting selected dropdown options.
          onKeyDown={(event) => {
            if (event.key === "Backspace") {
              event.stopPropagation();
            }
          }}
          InputProps={{
            /**
             * (mmoore): passing only the ref along to InputProps to prevent
             * default MUI arrow from rendering in search input.
             * renderInput strips InputProps, so we explicitly pass end adornment here
             */
            ...params.InputProps.ref,
            "aria-hidden": !search,
            endAdornment: (
              <StyledInputAdornment position="end">
                {inputValue && (
                  <Button
                    // (masoudmanson): This is to ensure that the clear button won't be focusable
                    // when the search prop is set to false.
                    tabIndex={search ? 0 : -1}
                    aria-hidden={!search}
                    disabled={!search}
                    aria-label="Clear Button"
                    className="input-search-clear-icon"
                    onClick={clearInput}
                    sdsType="tertiary"
                    sdsSize="small"
                    sdsStyle="icon"
                    icon="XMarkCircle"
                  />
                )}
              </StyledInputAdornment>
            ),
            /**
             * (thuang): Works with css caret-color: "transparent" to hide
             * mobile keyboard
             */
            inputMode: search ? "text" : "none",
            inputProps: params.inputProps,
            startAdornment: (
              <StyledInputAdornment position="start">
                <Button
                  aria-label="Search Button"
                  // (masoudmanson): This is to ensure that the search button won't be focusable
                  // when the search prop is set to false.
                  tabIndex={search ? 0 : -1}
                  aria-hidden={!search}
                  disabled={!search}
                  sdsType="tertiary"
                  sdsSize="small"
                  sdsStyle="icon"
                  icon="Search"
                />
              </StyledInputAdornment>
            ),
          }}
          intent={intent}
          {...InputBaseProps}
        />
      </InputBaseWrapper>
    );
  }

  function defaultOnBlur(event: React.FocusEvent<HTMLInputElement>) {
    if (clearOnBlur) setInputValue("");
    props.onBlur?.(event);
  }

  /**
   * (masoudmanson): The default onOpen handler is the Callback fired when the popup
   * requests to be opened. This function is responsible for invoking the onOpen and onClick
   * handlers when a controlled dropdown is opening.
   */
  function defaultOnOpen(event: React.SyntheticEvent<Element, Event>) {
    onOpen?.(event);
    onClick?.(event as unknown as TouchEvent | MouseEvent);
  }

  /**
   * (masoudmanson): The default onClose handler is the callback fired when the popup
   * requests to be closed. This function is responsible for invoking the onClose and onClickAway
   * handlers when a controlled dropdown is closing.
   */
  function defaultOnClose(
    event: React.SyntheticEvent<Element, Event>,
    reason: AutocompleteCloseReason
  ) {
    onClose?.(event, reason);
    onClickAway?.(event as unknown as TouchEvent | MouseEvent, reason);
  }

  function defaultOnInputChange(
    event: SyntheticEvent<Element, Event>,
    value: string,
    reason: AutocompleteInputChangeReason
  ) {
    if (!multiple) {
      if (reason === "input") {
        setInputValue(value);
      } else {
        setInputValue("");
      }
    } else {
      if (reason === "clear") {
        setInputValue("");
      } else if (
        reason === "input" ||
        (reason === "reset" && !keepSearchOnSelect)
      ) {
        setInputValue(value);
      }
    }

    if (onInputChange) onInputChange(event, value, reason);
  }

  function clearInput() {
    setInputValue("");
    /**
     * (masoudmanson): Because we are manually firing this event,
     * we must build a onChange event to transmit the updated value to onChange listeners.
     */
    if (onInputChange)
      onInputChange(
        { target: { value: "" } } as React.ChangeEvent<HTMLInputElement>,
        "",
        "clear"
      );
  }

  function defaultGetOptionLabel(
    option:
      | DefaultAutocompleteOption
      | AutocompleteFreeSoloValueMapping<boolean>
  ): string {
    if (typeof option === "object" && "name" in option) return option.name;
    return option.toString();
  }

  function defaultIsOptionEqualToValue(option: T, val: T): boolean {
    return option.name === val.name;
  }

  function defaultRenderTags() {
    return null;
  }

  function defaultRenderOption(
    optionProps: React.HTMLAttributes<HTMLLIElement>,
    option: T,
    { selected }: AutocompleteRenderOptionState
  ) {
    let MenuItemContent;

    const { component, details, count, icon, sdsIconProps } = option;
    const menuItemLabel = getOptionLabel(option);

    if (component) {
      MenuItemContent = component;
    } else {
      MenuItemContent = (
        <StyledMenuItemText>
          {menuItemLabel}
          {details && (
            <StyledMenuItemDetails className="menuItem-details">
              {details}
            </StyledMenuItemDetails>
          )}
        </StyledMenuItemText>
      );
    }

    return (
      <MenuItem
        column={count}
        disabled={optionProps["aria-disabled"] === true}
        icon={icon}
        sdsIconProps={sdsIconProps}
        isMultiSelect={multiple}
        selected={selected}
        {...optionProps}
        key={option.name}
      >
        {MenuItemContent}
      </MenuItem>
    );
  }
};

export default AutocompleteBase;
</file>

<file path="packages/components/src/core/Autocomplete/components/AutocompleteBase/style.ts">
import { Autocomplete, autocompleteClasses, Paper } from "@mui/material";
import styled from "@emotion/styled";
import { ReactElement } from "react";
import InputSearch from "src/core/InputSearch";
import {
  CommonThemeProps,
  fontBodyXxs,
  fontCapsXxxxs,
  getBorders,
  getCorners,
  getSemanticColors,
  getShadows,
  getSpaces,
} from "src/core/styles";

export interface StyleProps extends CommonThemeProps {
  count?: number;
  icon?: ReactElement;
  search?: boolean;
}

const doNotForwardProps = [
  "count",
  "keepSearchOnSelect",
  "search",
  "InputBaseProps",
  "PopperBaseProps",
  "onClickAway",
];

export const StyledAutocompleteBase = styled(Autocomplete, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  + .${autocompleteClasses.popper}
    > .${autocompleteClasses.paper}
    .${autocompleteClasses.groupLabel} {
    ${fontCapsXxxxs}
  }

  ${(props: StyleProps) => {
    const { search } = props;
    const spaces = getSpaces(props);
    const borders = getBorders(props);
    const semanticColors = getSemanticColors(props);

    return `
      ${!search && `height: 0; margin: 0 !important;`};
      
      // (masoudmanson): We need to apply the focus styles to the input element
      // when the user is tabbing through the options. To find out more, take a
      // look at the useDetectUserTabbing hook.
      &[data-user-is-tabbing="true"]:focus-within {
        border-radius: 4px;
        outline: 2px solid ${semanticColors?.base?.borderPrimaryHover};
        outline-offset: 1px;
      }

      .MuiFormControl-root {
        outline: none;
      }

      .MuiOutlinedInput-root.MuiInputBase-formControl.MuiInputBase-adornedEnd {
        padding: 0 ${spaces?.m}px;

        .MuiAutocomplete-input {
          padding: ${spaces?.xs}px ${spaces?.s}px;
        }
      }

      & + .${autocompleteClasses.popper} > .${autocompleteClasses.paper} {
        .${autocompleteClasses.listbox} {
          max-height: 40vh;
          padding: 0 ${spaces?.m}px 0 0;

          .${autocompleteClasses.option} {
            min-height: unset;

            &.${autocompleteClasses.focused} {
              background-color: ${semanticColors?.base?.fillHover};
            }

            &[aria-selected="true"] {
              background-color: ${semanticColors?.base?.surface};
            }

            &[aria-disabled="true"] {
              opacity: 1;
            }

            &[aria-selected="true"].${autocompleteClasses.focused} {
              background-color: ${semanticColors?.base?.fillHover};
            }
          }

          & > li:last-child .${autocompleteClasses.groupUl} {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
          }
        }

        .${autocompleteClasses.groupLabel} {
          top: 0;
          color: ${semanticColors?.base?.textSecondary};
          background-color: ${semanticColors?.base?.surface};
          padding: ${spaces?.xxs}px ${spaces?.s}px;
        }

        .${autocompleteClasses.groupUl} {
          position: relative;
          margin: 0 0 ${spaces?.m}px;
          border-bottom: ${borders?.base?.divider};
          padding-bottom: ${spaces?.xxs}px;

          & li:last-of-type {
            position: relative;
          }
        }

        .${autocompleteClasses.noOptions} {
          padding: ${spaces?.xs}px ${spaces?.s}px;
          margin-right: ${spaces?.l}px;
        }

        .${autocompleteClasses.loading} {
          padding: 0 ${spaces?.m}px 0 0;
        }
      }
    `;
  }}
` as typeof Autocomplete;

export const InputBaseWrapper = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: StyleProps) => {
    const { search } = props;

    if (!search) {
      // (thuang): We cannot use `display: none;` here, since
      // the component needs to be in the DOM to handle backdrop
      // click to close the menu
      return `
        border: 0;
        padding: 0;
        white-space: nowrap;
        clip-path: inset(100%);
        clip: rect(0 0 0 0);
        overflow: hidden;
        margin: 0;
        speak: none;
      `;
    }
  }}
`;

export const StyledMenuInputSearch = styled(InputSearch, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})<{ search: boolean }>`
  margin: 0;
  .MuiInputBase-root {
    width: 100%;
  }
  /* (thuang): Works with attribute inputMode: "none" to hide mobile keyboard */
  caret-color: ${({ search }) => (search ? "auto" : "transparent")};
`;

export const StyledPaper = styled(Paper)`
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);
    const corners = getCorners(props);
    const shadows = getShadows(props);
    const borders = getBorders(props);
    const semanticColors = getSemanticColors(props);

    return `
      background-image: none;
      padding: ${spaces?.l}px ${spaces?.xxs}px ${spaces?.l}px ${spaces?.l}px ;
      background-color: ${semanticColors?.base?.surface};
      border: ${borders?.none};
      border-radius: ${corners?.m}px;
      box-shadow: ${shadows?.m};
      box-sizing: border-box;
    `;
  }}
`;

export const StyledMenuItemDetails = styled("div")`
  ${fontBodyXxs}
  ${(props) => {
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textSecondary};
      white-space: pre-wrap;
    `;
  }}
`;

export const StyledMenuItemText = styled("div")`
  display: flex;
  flex-direction: column;
`;
</file>

<file path="packages/components/src/core/Autocomplete/components/AutocompleteGroup/index.tsx">
import {
  AutocompleteChangeDetails,
  AutocompleteChangeReason,
  AutocompleteValue,
} from "@mui/base";
import { useCallback, useEffect, useState } from "react";
import { AutocompleteMultiColumnOption } from "src/core/Autocomplete";
import AutocompleteBase, {
  AutocompleteBaseProps,
  DefaultAutocompleteOption,
} from "../AutocompleteBase";
import { StyledColumn, StyledColumnIcon, StyledColumnTitle } from "./style";

interface ExtraAutocompleteGroupProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> {
  autocompleteProps: AutocompleteMultiColumnOption<
    T,
    Multiple,
    DisableClearable,
    FreeSolo
  >;
  onValueChange: (
    colum: string,
    event: React.SyntheticEvent,
    value: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>,
    reason: AutocompleteChangeReason,
    details?: AutocompleteChangeDetails<T>
  ) => void;
  value?: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>;
  popperOpen?: boolean;
}

type CustomAutocompleteProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = Omit<
  AutocompleteBaseProps<T, Multiple, DisableClearable, FreeSolo>,
  | "renderInput"
  | "options"
  | "value"
  | "onChange"
  | "nonce"
  | "rev"
  | "rel"
  | "autoFocus"
  | "content"
>;

export type AutocompleteGroupProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = CustomAutocompleteProps<T, Multiple, DisableClearable, FreeSolo> &
  ExtraAutocompleteGroupProps<T, Multiple, DisableClearable, FreeSolo>;

const AutocompleteGroup = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: AutocompleteGroupProps<T, Multiple, DisableClearable, FreeSolo>
) => {
  const {
    autocompleteProps,
    onValueChange,
    value: propValue,
    multiple,
    label,
    InputBaseProps,
    popperOpen,
    inputValue,
    PaperComponent,
    ...rest
  } = props;

  const { name, width, icon, props: propProps } = autocompleteProps;

  const [value, setValue] = useState<
    AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(getInitialValue(multiple, propValue));
  const [pendingValue, setPendingValue] = useState<
    AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(getInitialValue(multiple, propValue));

  useEffect(() => {
    if (propValue !== undefined) {
      setValue(propValue);
    }
  }, [propValue]);

  const handleChange = useCallback(
    (
      event: React.SyntheticEvent,
      newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>,
      reason: AutocompleteChangeReason,
      details?: AutocompleteChangeDetails<T>
    ) => {
      propProps?.onChange?.(event, newValue, reason, details);
      onValueChange(name, event, newValue, reason, details);

      if (multiple) {
        setPendingValue(newValue);
      } else {
        if (
          newValue &&
          !Array.isArray(newValue) &&
          Object.prototype.hasOwnProperty.call(newValue, "name")
        ) {
          setValue(newValue);
        }
      }
    },
    [name, multiple, onValueChange, propProps]
  );

  return (
    <StyledColumn
      width={width}
      className="SdsAutocompleteMultiColumn-column-root"
    >
      {icon && (
        <StyledColumnIcon className="SdsAutocompleteMultiColumn-column-relation-icon">
          {icon}
        </StyledColumnIcon>
      )}
      <StyledColumnTitle className="SdsAutocompleteMultiColumn-column-title">
        {name}
      </StyledColumnTitle>
      <AutocompleteBase<T, Multiple, DisableClearable, FreeSolo>
        label={label}
        InputBaseProps={InputBaseProps}
        open={popperOpen}
        multiple={multiple}
        inputValue={inputValue}
        options={autocompleteProps.options as T[]}
        onChange={handleChange}
        value={multiple ? pendingValue : value}
        search={false}
        PaperComponent={PaperComponent}
        {...rest}
        {...autocompleteProps.props}
        // (masoudmanson): groupBy option is disabled on MultiColumn dropdowns
        groupBy={undefined}
      />
    </StyledColumn>
  );

  function getInitialValue(
    isMultiple: boolean | undefined,
    customValue?: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ): AutocompleteValue<T, Multiple, DisableClearable, FreeSolo> {
    if (customValue !== undefined) {
      return customValue;
    }

    return isMultiple
      ? ([] as unknown as AutocompleteValue<
          T,
          Multiple,
          DisableClearable,
          FreeSolo
        >)
      : (null as unknown as AutocompleteValue<
          T,
          Multiple,
          DisableClearable,
          FreeSolo
        >);
  }
};

export default AutocompleteGroup;
</file>

<file path="packages/components/src/core/Autocomplete/components/AutocompleteGroup/style.ts">
import styled from "@emotion/styled";
import { ReactElement } from "react";
import {
  CommonThemeProps,
  fontCapsXxxxs,
  getBorders,
  getIconSizes,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export interface StyleProps extends CommonThemeProps {
  count?: number;
  icon?: ReactElement;
  search?: boolean;
  title?: string;
  width?: number;
}

export const StyledColumn = styled("div")`
  ${(props: StyleProps) => {
    const { width = 280 } = props;

    const spaces = getSpaces(props);
    const borders = getBorders(props);

    return `
      position: relative;
      width: ${width}px;

      &:not(:last-child) {
        border-right: ${borders?.base?.divider};
        margin-right: ${spaces?.m}px;
      }

      // (masoudmanson): This code hides the relation icon of the last column
      &:last-of-type {
        .SdsAutocompleteMultiColumn-column-relation-icon {
          display: none;
        }
      }
    `;
  }}
`;

export const StyledColumnTitle = styled("p")`
  ${fontCapsXxxxs}
  ${(props: StyleProps) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textSecondary};
      padding: 0 ${spaces?.s}px ${spaces?.xxs}px;
      margin: 0;
    `;
  }}
`;

export const StyledColumnIcon = styled("span")`
  ${(props: StyleProps) => {
    const spaces = getSpaces(props);
    const iconSizes = getIconSizes(props);
    const semanticColors = getSemanticColors(props);

    return `
      background-color: ${semanticColors?.base?.surface};
      position: absolute;
      right: -${spaces?.xs}px;
      top: -2px;
      padding-bottom: 2px;

      svg {
        color: ${semanticColors?.base?.ornamentSecondary};
        width: ${iconSizes?.xs.width}px;
        height: ${iconSizes?.xs.height}px;
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Autocomplete/components/AutocompleteMultiColumn/index.tsx">
import {
  AutocompleteChangeDetails,
  AutocompleteChangeReason,
  AutocompleteCloseReason,
  AutocompleteInputChangeReason,
  AutocompleteRenderInputParams,
  AutocompleteValue,
  ClickAwayListener,
  ClickAwayListenerProps as MUIClickAwayListenerProps,
  PopperProps,
  useTheme,
} from "@mui/material";
import React, { SyntheticEvent, useEffect, useRef, useState } from "react";
import {
  AutocompleteMultiColumnOption,
  AutocompleteMultiColumnValue,
} from "src/core/Autocomplete";
import Button from "src/core/Button";
import { InputSearchProps } from "src/core/InputSearch";
import { StyledInputAdornment } from "src/core/InputSearch/style";
import { SDSTheme } from "src/core/styles";
import {
  AutocompleteBaseProps,
  DefaultAutocompleteOption,
} from "../AutocompleteBase";
import AutocompleteGroup from "../AutocompleteGroup";
import {
  StyleProps,
  StyledAutocompleteGroupWrapper,
  StyledAutocompleteInput,
  StyledPaper,
  StyledPopper,
} from "./style";
import useDetectUserTabbing from "src/common/helpers/userTabbing";

interface ExtraAutocompleteMultiColumnProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> extends StyleProps {
  keepSearchOnSelect?: boolean;
  renderInput?: (params: AutocompleteRenderInputParams) => React.ReactNode;
  onInputChange?: (
    event: SyntheticEvent<Element, Event>,
    value: string,
    reason: AutocompleteInputChangeReason
  ) => void;
  InputBaseProps?: Partial<InputSearchProps>;
  PopperBaseProps?: Partial<PopperProps>;
  label?: string;
  PopperComponent?: React.JSXElementConstructor<PopperProps>;
  PopperPlacement?: "bottom-start" | "top-start" | "bottom-end" | "top-end";
  children?: JSX.Element | null;
  onClickAway?: (
    event?: MouseEvent | TouchEvent,
    reason?: AutocompleteCloseReason
  ) => void;
  onClick?: (event?: TouchEvent | MouseEvent) => void;
  ClickAwayListenerProps?: Partial<MUIClickAwayListenerProps>;
  options: AutocompleteMultiColumnOption<
    T,
    Multiple,
    DisableClearable,
    FreeSolo
  >[];
  value?: AutocompleteMultiColumnValue<T, Multiple, DisableClearable, FreeSolo>;
  onChange?: (
    event: React.SyntheticEvent,
    value: AutocompleteMultiColumnValue<
      T,
      Multiple,
      DisableClearable,
      FreeSolo
    >,
    reason: AutocompleteChangeReason,
    details?: AutocompleteChangeDetails<T>
  ) => void;
}

type CustomAutocompleteProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = Omit<
  AutocompleteBaseProps<T, Multiple, DisableClearable, FreeSolo>,
  | "renderInput"
  | "options"
  | "value"
  | "onChange"
  | "nonce"
  | "rev"
  | "rel"
  | "autoFocus"
  | "content"
>;

export type AutocompleteMultiColumnProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = CustomAutocompleteProps<T, Multiple, DisableClearable, FreeSolo> &
  ExtraAutocompleteMultiColumnProps<T, Multiple, DisableClearable, FreeSolo>;

const AutocompleteMultiColumn = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: AutocompleteMultiColumnProps<T, Multiple, DisableClearable, FreeSolo>
): JSX.Element => {
  const {
    InputBaseProps,
    open,
    PopperPlacement = "bottom-start",
    PopperBaseProps,
    search = false,
    label = "Search",
    onClickAway,
    onClick,
    ClickAwayListenerProps,
    options,
    onInputChange,
    onBlur,
    multiple,
    value: parentInitialValue,
    onChange,
    PopperComponent = StyledPopper,
    ...rest
  } = props;

  const theme: SDSTheme = useTheme();

  const isOpenControlled = open !== undefined;
  const [inputValue, setInputValue] = useState("");
  const [popperOpen, setPopperOpen] = useState<boolean>(
    isOpenControlled ? open : false
  );

  /**
   * (masoudmanson): This useEffect is used to update the popperOpen state
   * when the open prop is controlled.
   */
  useEffect(() => {
    if (isOpenControlled) {
      setPopperOpen(open);
    }
  }, [isOpenControlled, open]);

  const anchorRef = useRef(null);
  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);

  useDetectUserTabbing(anchorRef);

  useEffect(() => {
    setAnchorEl(anchorRef?.current);
  }, [anchorRef]);

  const [autocompleteMultiColumnValue, setAutocompleteMultiColumnValue] =
    useState<
      AutocompleteMultiColumnValue<T, Multiple, DisableClearable, FreeSolo>
    >({});

  useEffect(() => {
    if (parentInitialValue !== undefined) {
      setAutocompleteMultiColumnValue(parentInitialValue);
    }
  }, [options, parentInitialValue]);

  const defaultOnValueChange = (
    column: string,
    event: React.SyntheticEvent,
    val: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>,
    reason: AutocompleteChangeReason,
    details?: AutocompleteChangeDetails<T>
  ) => {
    setAutocompleteMultiColumnValue((prev) => {
      return {
        ...prev,
        [column]: val,
      };
    });

    onChange?.(
      event,
      {
        ...autocompleteMultiColumnValue,
        [column]: val,
      },
      reason,
      details
    );
  };

  return (
    <ClickAwayListener
      onClickAway={defaultOnClickAway}
      {...ClickAwayListenerProps}
    >
      <div>
        <StyledAutocompleteInput
          id="location-search"
          label={label}
          placeholder={label}
          value={inputValue}
          onChange={handleInputChange}
          onClick={handleInputClick}
          onBlur={handleInputBlur}
          ref={anchorRef}
          search={search}
          onKeyDown={handleInputKeyDown}
          InputProps={{
            /**
             * (mmoore): passing only the ref along to InputProps to prevent
             * default MUI arrow from rendering in search input.
             * renderInput strips InputProps, so we explicitly pass end adornment here
             */
            ...InputBaseProps?.ref,
            endAdornment: (
              <StyledInputAdornment position="end">
                {/**
                 * (masoudmanson): Because the Autocomplete component overrides the
                 * InputSearch's endAdornment, we must also include the clear IconButton here.
                 */}
                {inputValue && (
                  <Button
                    aria-label="clear-button"
                    className="input-search-clear-icon"
                    sdsType="tertiary"
                    sdsSize="small"
                    sdsStyle="icon"
                    icon="XMarkCircle"
                    onClick={clearInput}
                  />
                )}
              </StyledInputAdornment>
            ),
            /**
             * (thuang): Works with css caret-color: "transparent" to hide
             * mobile keyboard
             */
            inputMode: "text",
            startAdornment: (
              <StyledInputAdornment position="start">
                <Button
                  aria-label="search-button"
                  sdsType="tertiary"
                  sdsSize="small"
                  sdsStyle="icon"
                  icon="Search"
                />
              </StyledInputAdornment>
            ),
          }}
          {...InputBaseProps}
        />

        {anchorEl && (
          <PopperComponent
            modifiers={[
              {
                name: "offset",
                options: {
                  offset: [0, theme.app?.spacing.s],
                },
              },
            ]}
            open={popperOpen}
            anchorEl={anchorEl}
            placement={PopperPlacement}
            disablePortal
            {...PopperBaseProps}
          >
            <StyledAutocompleteGroupWrapper className="SdsAutocompleteMultiColumn-wrapper">
              {options.map((autocompleteOptions) => (
                <AutocompleteGroup
                  autocompleteProps={autocompleteOptions}
                  key={autocompleteOptions.name}
                  onValueChange={defaultOnValueChange}
                  value={
                    autocompleteMultiColumnValue
                      ? autocompleteMultiColumnValue[autocompleteOptions.name]
                      : undefined
                  }
                  multiple={multiple}
                  label={label}
                  /**
                   * (masoudmanson): In a multi-column autocomplete, the search input for
                   * inner autocompletes should remain hidden and unfocused when the parent
                   * input is focused. This prevents blurring of the main search input.
                   */
                  InputBaseProps={{
                    ...InputBaseProps,
                    autoFocus: false,
                    tabIndex: -1,
                  }}
                  popperOpen={popperOpen}
                  inputValue={inputValue}
                  PaperComponent={StyledPaper}
                  {...rest}
                />
              ))}
            </StyledAutocompleteGroupWrapper>
          </PopperComponent>
        )}
      </div>
    </ClickAwayListener>
  );

  function clearInput() {
    setInputValue("");
    /**
     * (masoudmanson): Because we are manually firing this event,
     * we must build a onChange event to transmit the updated value to onChange listeners.
     */
    onInputChange?.(
      { target: { value: "" } } as React.ChangeEvent<HTMLInputElement>,
      "",
      "clear"
    );
  }

  function handleInputClick(event: React.MouseEvent<HTMLInputElement>) {
    /**
     * (masoudmanson): Because the Autocomplete component overrides the
     * InputSearch's onClick, we must also include the parent onClick here.
     */
    onClick?.(event);

    /**
     * (masoudmanson): If the dropdown is controlled, we call the onClick prop to allow the parent
     * to handle the opening and closing of the dropdown.
     */
    if (isOpenControlled) {
      return;
    }

    /**
     * (masoudmanson): If the dropdown is not controlled, we toggle the dropdown open and closed.
     */
    if (popperOpen) {
      setPopperOpen(false);
    } else {
      setPopperOpen(true);
    }
  }

  function handleInputChange(event: React.ChangeEvent<HTMLInputElement>) {
    setInputValue(event.target.value);
    if (onInputChange) {
      if (event.target.value === "") {
        onInputChange(event, "", "clear");
      } else {
        onInputChange(event, event.target.value, "input");
      }
    }
  }

  function handleInputBlur(event: React.FocusEvent<HTMLInputElement>) {
    if (props.clearOnBlur) setInputValue("");
    onBlur?.(event);
  }

  /**
   * (masoudmanson): This is the default onClickAway handler for the Autocomplete component.
   * It is used to close the dropdown when the user clicks away from the dropdown. It also
   * calls the parent onClickAway prop if it is provided.
   */
  function defaultOnClickAway(event: MouseEvent | TouchEvent) {
    /**
     * (masoudmanson): We only want to close the dropdown if it is open.
     * This may sound unnecessary, but it is to prevent the dropdown from
     * calling the parent onClickAway prop when the dropdown is closed.
     */
    if (popperOpen) {
      onClickAway?.(event, "blur");

      /**
       * (masoudmanson): If the dropdown is controlled, we call the onClickAway prop to allow the parent
       * to handle the closing of the dropdown.
       */
      if (isOpenControlled) return;

      // (masoudmanson): If the dropdown is not controlled, we close the dropdown.
      setPopperOpen(false);
    }
  }

  function handleInputKeyDown(event: React.KeyboardEvent<HTMLInputElement>) {
    /**
     * (masoudmanson): Because the Autocomplete component overrides the
     * InputSearch's onKeyDown, we must also include the user defined onKeyDown here.
     */
    if (props?.onKeyDown) {
      props?.onKeyDown?.(event);
    } else {
      // (masoudmanson): This prevents Backspace from deselecting selected dropdown options.
      if (event.key === "Backspace") {
        event.stopPropagation();
      }

      /**
       * (masoudmanson): This is to handle the Escape key to close the dropdown.
       * If the dropdown is controlled, we call the onClick prop to allow the parent
       * to handle the closing of the dropdown.
       */
      if (event.key === "Escape") {
        if (isOpenControlled) {
          onClick?.();
          return;
        }

        setPopperOpen(false);
      } else {
        // (masoudmanson): This is to open the dropdown when the user types in the search input.
        // especially when the user is tabbing through the input.
        setPopperOpen(true);
      }
    }
  }
};

export default AutocompleteMultiColumn;
</file>

<file path="packages/components/src/core/Autocomplete/components/AutocompleteMultiColumn/style.ts">
import { autocompleteClasses, Paper, Popper } from "@mui/material";
import styled from "@emotion/styled";
import { ReactElement } from "react";
import InputSearch from "src/core/InputSearch";
import {
  CommonThemeProps,
  getBorders,
  getCorners,
  getSemanticColors,
  getShadows,
  getSpaces,
} from "src/core/styles";

export interface StyleProps extends CommonThemeProps {
  count?: number;
  icon?: ReactElement;
  search?: boolean;
  title?: string;
  width?: number;
}

const doNotForwardProps = [
  "anchorEl",
  "count",
  "keepSearchOnSelect",
  "search",
  "InputBaseProps",
  "title",
  "PopperBaseProps",
  "onClickAway",
  "ClickAwayListenerProps",
];

export const StyledPopper = styled(Popper, {
  shouldForwardProp: (prop: string) =>
    !doNotForwardProps.includes(prop) || prop === "anchorEl",
})`
  ${(props: StyleProps) => {
    const corners = getCorners(props);
    const shadows = getShadows(props);
    const spaces = getSpaces(props);
    const borders = getBorders(props);
    const semanticColors = getSemanticColors(props);

    return `
      background-color: ${semanticColors?.base?.surface};
      background-image: none;
      border: ${borders?.none};
      border-radius: ${corners?.m}px;
      box-shadow: ${shadows?.m};
      padding: ${spaces?.l}px ${spaces?.xxs}px ${spaces?.l}px ${spaces?.l}px;
      box-sizing: border-box;
      z-index: 1400;

      .${autocompleteClasses.popper}.${autocompleteClasses.popperDisablePortal} {
        position: relative !important;
        transform: none !important;
      
        .MuiPaper-root .${autocompleteClasses.listbox} {
          padding: 0 ${spaces?.m}px 0 0;
        }
      }
    `;
  }}
`;

export const StyledPaper = styled(Paper, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: StyleProps) => {
    const shadows = getShadows(props);
    const semanticColors = getSemanticColors(props);

    return `
      background-color: ${semanticColors?.base?.surface};
      background-image: none;
      box-shadow: ${shadows?.none};
      margin: 0;
      border-radius: 0;
      padding-top: 0;
      padding-bottom: 0;
    `;
  }}
`;

export const StyledAutocompleteGroupWrapper = styled("div")`
  display: flex;
`;

export const StyledAutocompleteInput = styled(InputSearch, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})<{ search: boolean }>`
  ${({ search }) =>
    !search && "height: 0; display: none; margin: 0 !important;"}

  margin: 0;
  .MuiInputBase-root {
    width: 100%;
  }
  /* (thuang): Works with attribute inputMode: "none" to hide mobile keyboard */
  caret-color: ${({ search }) => (search ? "auto" : "transparent")};
`;
</file>

<file path="packages/components/src/core/Autocomplete/index.tsx">
import {
  AutocompleteChangeDetails,
  AutocompleteChangeReason,
  AutocompleteCloseReason,
  AutocompleteValue,
} from "@mui/base";
import { PopperProps } from "@mui/material";
import React, { ReactElement } from "react";
import AutocompleteBase, {
  AutocompleteBaseProps,
  AutocompleteOptionBasic,
  AutocompleteOptionComponent,
  DefaultAutocompleteOption,
} from "./components/AutocompleteBase";
import { StyledPaper } from "./components/AutocompleteBase/style";
import AutocompleteMultiColumn, {
  AutocompleteMultiColumnProps,
} from "./components/AutocompleteMultiColumn";
import { StyledPopper } from "./components/AutocompleteMultiColumn/style";

export type {
  AutocompleteBaseProps,
  AutocompleteMultiColumnProps,
  AutocompleteOptionBasic,
  AutocompleteOptionComponent,
  DefaultAutocompleteOption,
};

export type AutocompleteSingleColumnOption<T> = T;

export type AutocompleteMultiColumnOption<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = {
  options: T[];
  props?: Partial<
    AutocompleteBaseProps<T, Multiple, DisableClearable, FreeSolo>
  >;
  width?: number;
  name: string;
  icon?: React.ReactNode;
};

export type SDSAutocompleteOptions<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> =
  | AutocompleteSingleColumnOption<T>[]
  | AutocompleteMultiColumnOption<T, Multiple, DisableClearable, FreeSolo>[];

export type AutocompleteMultiColumnValue<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> =
  | Record<
      string | number | symbol,
      AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
    >
  | undefined;

export type AutocompleteSingleColumnValue<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>;

export type SDSAutocompleteValue<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> =
  | AutocompleteSingleColumnValue<T, Multiple, DisableClearable, FreeSolo>
  | AutocompleteMultiColumnValue<T, Multiple, DisableClearable, FreeSolo>;

export type AutocompleteSingleColumnOnChange<
  T,
  Multiple,
  DisableClearable,
  FreeSolo,
> = (
  event: React.SyntheticEvent,
  value: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>,
  reason: AutocompleteChangeReason,
  details?: AutocompleteChangeDetails<T>
) => void;

export type AutocompleteMultiColumnOnChange<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = (
  event: React.SyntheticEvent,
  value: AutocompleteMultiColumnValue<T, Multiple, DisableClearable, FreeSolo>,
  reason: AutocompleteChangeReason,
  details?: AutocompleteChangeDetails<T>
) => void;

export type SDSAutocompleteOnChange<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> =
  | AutocompleteSingleColumnOnChange<T, Multiple, DisableClearable, FreeSolo>
  | AutocompleteMultiColumnOnChange<T, Multiple, DisableClearable, FreeSolo>;

interface ExtraAutocompleteProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> {
  options: SDSAutocompleteOptions<T, Multiple, DisableClearable, FreeSolo>;
  PopperBaseProps?: Partial<PopperProps>;
  value?: SDSAutocompleteValue<T, Multiple, DisableClearable, FreeSolo>;
  onClickAway?: (
    event?: MouseEvent | TouchEvent,
    reason?: AutocompleteCloseReason
  ) => void;
  onClick?: (event?: TouchEvent | MouseEvent) => void;
  onChange?: SDSAutocompleteOnChange<T, Multiple, DisableClearable, FreeSolo>;
  count?: number;
  icon?: ReactElement;
  search?: boolean;
}

export type AutocompleteProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = Omit<
  AutocompleteBaseProps<T, Multiple, DisableClearable, FreeSolo>,
  "options" | "value" | "onChange"
> &
  ExtraAutocompleteProps<T, Multiple, DisableClearable, FreeSolo>;

/**
 * (masoudmanson): The AutocompleteBase manages the rendering of Single-Column Autocompletes.
 * By default, it uses MUI's Popper component without requiring custom styles.
 * If there's a need for a custom Popper for the Single-Column Autocomplete,
 * users have the option to import the Popper component from the @mui/material package
 * and extend its functionalities as per their requirements.
 *
 * The StyledPopper component, designed for Multi-Column Autocomplete,
 * and the StyledPaper component, intended for Single-Column Autocomplete, are exported
 * to accommodate external use cases.
 */

export {
  StyledPopper as AutocompleteMultiColumnStyledPopper,
  StyledPaper as AutocompleteSingleColumnStyledPaper,
};

const Autocomplete = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: AutocompleteProps<T, Multiple, DisableClearable, FreeSolo>
): JSX.Element => {
  const { options, value, onChange, ...rest } = props;

  // Multi-column options
  if (options && !!options[0] && "options" in options[0]) {
    if (options.length > 1) {
      return (
        <AutocompleteMultiColumn
          options={
            options as AutocompleteMultiColumnOption<
              T,
              Multiple,
              DisableClearable,
              FreeSolo
            >[]
          }
          value={
            value as AutocompleteMultiColumnValue<
              T,
              Multiple,
              DisableClearable,
              FreeSolo
            >
          }
          onChange={
            onChange as AutocompleteMultiColumnOnChange<
              T,
              Multiple,
              DisableClearable,
              FreeSolo
            >
          }
          {...rest}
          // (masoudmanson): groupBy option is disabled on MultiColumn dropdowns
          groupBy={undefined}
        />
      );
    } else {
      return (
        <AutocompleteBase
          options={options[0].options as AutocompleteSingleColumnOption<T>[]}
          value={
            value as AutocompleteSingleColumnValue<
              T,
              Multiple,
              DisableClearable,
              FreeSolo
            >
          }
          onChange={
            onChange as AutocompleteSingleColumnOnChange<
              T,
              Multiple,
              DisableClearable,
              FreeSolo
            >
          }
          {...rest}
        />
      );
    }
  } else {
    return (
      <AutocompleteBase
        options={options as AutocompleteSingleColumnOption<T>[]}
        onChange={
          onChange as AutocompleteSingleColumnOnChange<
            T,
            Multiple,
            DisableClearable,
            FreeSolo
          >
        }
        value={
          value as AutocompleteSingleColumnValue<
            T,
            Multiple,
            DisableClearable,
            FreeSolo
          >
        }
        {...rest}
      />
    );
  }
};

export default Autocomplete;
</file>

<file path="packages/components/src/core/Banner/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawBanner from "src/core/Banner";

export const Banner = (props: Args): JSX.Element => {
  const { sdsType, textChild } = props;
  return (
    <RawBanner sdsType={sdsType} {...props}>
      {textChild}
    </RawBanner>
  );
};
</file>

<file path="packages/components/src/core/Banner/__storybook__/constants.tsx">
import CustomSdsIcon from "src/common/storybook/customSdsIcon";
import CustomSvgIcon from "src/common/storybook/customSvgIcon";

export const BANNER_EXCLUDED_CONTROLS = [
  "dismissed",
  "dismissible",
  "icon",
  "sdsIconProps",
  "sdsType",
  "textChild",
];

export const BANNER_TEXT = "Banner text lorem ipsum dolor mit";

export const BANNER_ICON_OPTIONS = [
  "CheckCircle",
  "InfoCircle",
  <CustomSdsIcon key="customSdsIcon" sdsSize="l" />,
  <CustomSvgIcon key="customSvgIcon" />,
];
</file>

<file path="packages/components/src/core/Banner/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import {
  BANNER_EXCLUDED_CONTROLS,
  BANNER_ICON_OPTIONS,
  BANNER_TEXT,
} from "./constants";
import { Banner } from "./stories/default";

export default {
  argTypes: {
    dismissed: {
      control: { type: "boolean" },
    },
    dismissible: {
      control: { type: "boolean" },
    },
    icon: {
      control: {
        labels: [
          "SDS Icon: Check Circle",
          "SDS Icon: Info Circle",
          "Custom SDS Icon",
          "Custom SVG Icon",
        ],
        type: "select",
      },
      mapping: BANNER_ICON_OPTIONS,
      options: Object.keys(BANNER_ICON_OPTIONS),
    },
    sdsIconProps: {
      control: {
        type: "object",
      },
    },
    sdsType: {
      control: { type: "radio" },
      options: ["primary", "secondary"],
      required: true,
    },
    textChild: {
      control: { type: "text" },
      required: true,
    },
  },
  component: Banner,
  parameters: {
    axe: {
      disabledRules: ["landmark-no-duplicate-banner", "landmark-unique"],
    },
    badges: [BADGE.STABLE],
  },
  title: "Components/Banner",
} as Meta<Args>;

// Default

export const Default = {
  args: {
    dismissed: false,
    dismissible: true,
    sdsType: "primary",
    textChild: BANNER_TEXT,
  },
};

// Test

export const Test = {
  args: {
    dismissible: true,
    sdsType: "primary",
    textChild: "test text",
  },
  parameters: {
    controls: {
      exclude: BANNER_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (props: Args): JSX.Element => (
    <Banner {...props} data-testid="banner" />
  ),
};
</file>

<file path="packages/components/src/core/Banner/__tests__/__snapshots__/banner.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Banner /> Default story renders snapshot 1`] = `
<div
  class="css-1fd36s4"
  role="banner"
>
  <div
    class="css-1879pua"
  >
    <div
      class="css-1fhtzit"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconInfoCircleLarge"
          data-testid="IconInfoCircleLarge"
          fillcontrast="white"
          focusable="false"
          height="24"
          viewBox="0 0 24 24"
          width="24"
        />
      </div>
    </div>
    Banner text lorem ipsum dolor mit
  </div>
  <button
    aria-label="Close"
    class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-f0g2hw-MuiButtonBase-root-MuiIconButton-root"
    icon="XMark"
    tabindex="0"
    type="button"
  >
    <div
      class="css-1ft6wgl"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
        data-file-name="IconXMarkSmall"
        data-testid="IconXMarkSmall"
        fillcontrast="white"
        focusable="false"
        height="16"
        viewBox="0 0 16 16"
        width="16"
      />
    </div>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
</div>
`;
</file>

<file path="packages/components/src/core/Banner/__tests__/Banner.namespace-test.tsx">
import React from "react";
import { Banner, BannerProps } from "@czi-sds/components";

const BannerNameSpaceTest = (props: BannerProps) => {
  return (
    <Banner {...props} dismissible sdsType="primary">
      Lorem, ipsum dolor sit amet consectetur adipisicing elit. Nesciunt aliquid
      maxime soluta voluptas expedita molestias neque saepe aperiam amet enim
      natus placeat, tempore doloribus odio reiciendis repellat? Dolorem,
      voluptatem tempore.
    </Banner>
  );
};
</file>

<file path="packages/components/src/core/Banner/__tests__/banner.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<Banner />", () => {
  generateSnapshots(stories);

  it("renders banner component", async () => {
    render(<Test {...Test.args} />);
    const banner = screen.getByRole("banner");
    expect(banner).not.toBeNull();
  });

  it("renders text given to it", () => {
    const text = "this is a test component";
    render(<Test {...Test.args} textChild={text} />);
    const bannerText = screen.getByText(text);
    expect(bannerText).not.toBeNull();
  });

  it("can be dismissed", async () => {
    render(<Test {...Test.args} />);
    const banner = screen.getByRole("banner");
    expect(banner).not.toBeNull();

    const closeButton = screen.getByRole("button");
    const click = new MouseEvent("click", {
      bubbles: true,
      cancelable: true,
    });
    fireEvent(closeButton, click);

    const banner2 = screen.queryByRole("banner");
    expect(banner2).toBeNull();
  });

  it("executes callback on close", () => {
    const onClose = jest.fn();
    render(<Test {...Test.args} onClose={onClose} />);

    const closeButton = screen.getByRole("button");
    const click = new MouseEvent("click", {
      bubbles: true,
      cancelable: true,
    });
    fireEvent(closeButton, click);

    expect(onClose).toHaveBeenCalledTimes(1);
  });
});
</file>

<file path="packages/components/src/core/Banner/index.tsx">
import React, { ForwardedRef, forwardRef, useState } from "react";
import Icon, { IconNameToSizes, IconProps } from "src/core/Icon";
import {
  BannerExtraProps,
  Centered,
  IconWrapper,
  StyledBanner,
  StyledButton,
} from "./style";

export interface BannerProps extends BannerExtraProps {
  children: React.ReactNode;
  icon?: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
  sdsIconProps?: Partial<IconProps<keyof IconNameToSizes>>;
  dismissed?: boolean;
  dismissible?: boolean;
  onClose?: (e: React.MouseEvent) => void;
}

const Banner = forwardRef(function Banner(
  props: BannerProps,
  ref: ForwardedRef<HTMLDivElement | null>
): JSX.Element | null {
  const {
    children,
    dismissed,
    dismissible = true,
    onClose,
    sdsType,
    icon,
    sdsIconProps,
    ...rest
  } = props;

  const [wasDismissed, setWasDismissed] = useState<boolean>(false);

  if (dismissed || wasDismissed) return null;

  const handleClose = (e: React.MouseEvent) => {
    if (dismissed === undefined) {
      // let the component be uncontrolled
      setWasDismissed(true);
    }
    if (onClose) onClose(e);
  };

  const iconItem = () => {
    if (icon) {
      if (typeof icon !== "string") {
        return icon;
      } else {
        return <Icon sdsIcon={icon} sdsSize="l" {...sdsIconProps} />;
      }
    } else {
      return <Icon sdsIcon="InfoCircle" sdsSize="l" {...sdsIconProps} />;
    }
  };

  return (
    <StyledBanner role="banner" sdsType={sdsType} ref={ref} {...rest}>
      <Centered>
        <IconWrapper bannerType={sdsType}>{iconItem()}</IconWrapper>
        {children}
      </Centered>
      {dismissible && (
        <StyledButton
          aria-label="Close"
          bannerType={sdsType}
          sdsType="tertiary"
          sdsSize="small"
          sdsStyle="icon"
          onClick={handleClose}
          icon="XMark"
        />
      )}
    </StyledBanner>
  );
});

export default Banner;
</file>

<file path="packages/components/src/core/Banner/style.ts">
import styled from "@emotion/styled";
import Button, { ButtonProps } from "src/core/Button";
import {
  CommonThemeProps,
  fontBodyS,
  getIconSizes,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export interface BannerExtraProps extends CommonThemeProps {
  sdsType: "primary" | "secondary";
}

type ButtonType = ButtonProps & { bannerType: string } & CommonThemeProps;
type IconWrapperType = CommonThemeProps & { bannerType: string };

export const Centered = styled("div")`
  flex: 1 1 auto;
  display: flex;
  justify-content: center;
  align-items: center;
`;

const doNotForwardPropsIconWrapper = ["bannerType"];

export const IconWrapper = styled("div", {
  shouldForwardProp: (prop: string) =>
    !doNotForwardPropsIconWrapper.includes(prop),
})`
  ${(props: IconWrapperType) => {
    const { bannerType } = props;

    const iconSizes = getIconSizes(props);
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      height: ${iconSizes?.l.height}px;
      margin-right: ${spaces?.m}px;
      svg {
        fill: ${bannerType === "primary" ? semanticColors?.base?.ornamentOnFill : semanticColors?.info?.ornament};
      }
    `;
  }}
`;

const doNotForwardPropsButtonIcon = ["bannerType", "textChild"];

export const StyledButton = styled(Button as React.ComponentType<ButtonType>, {
  shouldForwardProp: (prop: string) =>
    !doNotForwardPropsButtonIcon.includes(prop),
})`
  flex: 0 0 auto;

  ${(props: ButtonType) => {
    const { bannerType } = props;

    const semanticColors = getSemanticColors(props);

    if (bannerType === "primary")
      return `
        svg {
          fill: ${semanticColors?.base?.ornamentOnFill};
          opacity: .65;
        }

        svg:hover {
          opacity: 1;
        }
      `;

    return `
      svg {
        fill: ${semanticColors?.base?.ornamentPrimary};
        opacity: .55;
      }

      svg:hover {
        opacity: 1;
      }
    `;
  }}
`;

export const Text = styled("div")`
  ${fontBodyS}
`;

const primary = (props: BannerExtraProps) => {
  const semanticColors = getSemanticColors(props);

  return `
    background-color: ${semanticColors?.info?.surfacePrimary};
    color: ${semanticColors?.base?.textOnFill};
  `;
};

const secondary = (props: BannerExtraProps) => {
  const semanticColors = getSemanticColors(props);

  return `
    background-color: ${semanticColors?.info?.surfaceSecondary};
    color: ${semanticColors?.base?.textPrimary};
  `;
};

const doNotForwardProps = ["sdsType", "textChild"];

export const StyledBanner = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontBodyS}

  ${(props: BannerExtraProps) => {
    const { sdsType } = props;

    const spaces = getSpaces(props);

    return `
      display: flex;
      align-items: center;
      padding: ${spaces?.s}px ${spaces?.l}px;
  
      ${sdsType === "primary" ? primary(props) : ""}
      ${sdsType === "secondary" ? secondary(props) : ""}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Bases/Borders/__storybook__/stories/default.tsx">
import { useTheme } from "@mui/material";
import CellComponent from "src/core/CellComponent";
import CellHeader from "src/core/CellHeader";
import Table from "src/core/Table";
import TableHeader from "src/core/TableHeader";
import TableRow from "src/core/TableRow";
import { Borders, getBorders, getMode } from "src/core/styles";
import { StyledBorderBox } from "../style";
import { StyledVariable } from "src/core/Bases/style";
import { copyToClipboard } from "src/core/Bases/utils";

export const Template = () => {
  const theme = useTheme();
  const borders = getBorders({ theme });
  const mode = getMode({ theme });

  const RenderTableRow = (
    border: string,
    parentKey: string | null,
    currentKey: string
  ) => {
    const sassVariable = parentKey
      ? `$sds-border-${parentKey}-${currentKey}${mode === "dark" ? "-dark" : ""}`
      : `$sds-border-${currentKey}${mode === "dark" ? "-dark" : ""}`;

    const cssVariable = parentKey
      ? "--sds-border-" + parentKey + "-" + currentKey
      : "--sds-border-" + currentKey;

    return (
      <TableRow key={cssVariable} hover={false}>
        <CellComponent verticalAlign="center" horizontalAlign="center">
          <StyledBorderBox border={border} />
        </CellComponent>

        <CellComponent verticalAlign="center">
          <StyledVariable
            onClick={() => copyToClipboard(sassVariable)}
            type="sass"
          >
            {sassVariable}
          </StyledVariable>
          <StyledVariable
            onClick={() => copyToClipboard(cssVariable)}
            type="css"
          >
            {cssVariable}
          </StyledVariable>
        </CellComponent>

        <CellComponent
          verticalAlign="center"
          onClick={() => copyToClipboard(`border: ${border};`)}
        >
          <StyledVariable>border: {border};</StyledVariable>
        </CellComponent>
      </TableRow>
    );
  };

  if (borders) {
    const { none, link, base, ...rest } = borders;

    const generateTableBodyContent = (
      border: Borders,
      parentKey: string | null = null
    ): JSX.Element[] => {
      return Object.entries(border).flatMap(([key, value]) => {
        const currentKey = parentKey ? `${parentKey}-${key}` : key;

        if (typeof value === "object") {
          return generateTableBodyContent(value, currentKey);
        } else {
          return RenderTableRow(value, parentKey, key);
        }
      });
    };

    const TableBodyContent = generateTableBodyContent({
      none,
      // eslint-disable-next-line sort-keys, prettier/prettier
      link,
      // eslint-disable-next-line sort-keys, prettier/prettier
      base,
      ...rest,
    });

    return (
      <Table>
        <TableHeader>
          <CellHeader hideSortIcon style={{ width: 120 }}>
            Example
          </CellHeader>
          <CellHeader hideSortIcon>Variables</CellHeader>
          <CellHeader hideSortIcon>Value</CellHeader>
        </TableHeader>
        <tbody>{TableBodyContent}</tbody>
      </Table>
    );
  }
};
</file>

<file path="packages/components/src/core/Bases/Borders/__storybook__/index.stories.tsx">
import { Meta } from "@storybook/react";
import { BADGE } from "src/common/storybook/storybookBadges";
import { StyledBordersWrapper } from "./style";
import { Template } from "./stories/default";

export default {
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Bases/Borders",
} as Meta;

// Borders

export const Default = {
  render: () => (
    <>
      <StyledBordersWrapper>
        <Template />
      </StyledBordersWrapper>
    </>
  ),
};
</file>

<file path="packages/components/src/core/Bases/Borders/__storybook__/style.ts">
import styled from "@emotion/styled";
import { CommonThemeProps, getCorners } from "src/core/styles";

const BORDER_BOX_BORDER_WIDTH_PX = 1,
  BORDER_BOX_BOX_SIZE_PX = 60;

export const StyledBordersWrapper = styled("div")`
  max-width: 100%;
`;

interface IStyledCornerBoxProps extends CommonThemeProps {
  border: string;
}

export const StyledBorderBox = styled("div")`
  ${(props: IStyledCornerBoxProps) => {
    const { border } = props;

    const corners = getCorners(props);

    return `
      position: relative;
      margin-left: 10px;
      width: ${BORDER_BOX_BOX_SIZE_PX}px;
      height: ${BORDER_BOX_BOX_SIZE_PX}px;
      background-color: transparent;
      border-radius: ${BORDER_BOX_BORDER_WIDTH_PX}px;
      border: ${border};
      border-radius: ${corners?.l}px;

      &:hover {
        animation: pulse 3s infinite;
      }

      @keyframes pulse {
        50% {
          border-radius: 0;
        }
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Bases/Breakpoints/__storybook__/stories/default.tsx">
import Table from "src/core/Table";
import TableHeader from "src/core/TableHeader";
import CellHeader from "src/core/CellHeader";
import TableRow from "src/core/TableRow";
import CellComponent from "src/core/CellComponent";
import CellBasic from "src/core/CellBasic";
import { copyToClipboard } from "src/core/Bases/utils";
import { StyledVariable } from "src/core/Bases/style";
import { BREAKPOINTS_RANGE, BREAKPOINTS_USAGE } from "../constants";
import { Breakpoint, useTheme } from "@mui/material";
import { getBreakpoints } from "src/core/styles";

export const Template = () => {
  const theme = useTheme();
  const breakpoints = getBreakpoints({ theme })?.values;

  const RenderTableRow = (size: number, name: Breakpoint) => {
    const sassVariable = "$sds-breakpoint-" + name;
    const cssVariable = "--sds-breakpoint-" + name;

    return (
      <TableRow key={name} hover={false}>
        <CellComponent verticalAlign="center" horizontalAlign="left">
          <strong>{name}</strong>
        </CellComponent>

        <CellComponent verticalAlign="center">
          <StyledVariable
            onClick={() => copyToClipboard(sassVariable)}
            type="sass"
          >
            {sassVariable}
          </StyledVariable>
          <StyledVariable
            onClick={() => copyToClipboard(cssVariable)}
            type="css"
          >
            {cssVariable}
          </StyledVariable>
        </CellComponent>

        <CellComponent verticalAlign="center">{`${size}px`}</CellComponent>

        <CellBasic
          verticalAlign="center"
          primaryText={BREAKPOINTS_RANGE[name]}
          shouldShowTooltipOnHover={false}
        />

        <CellBasic
          verticalAlign="center"
          primaryText={BREAKPOINTS_USAGE[name]}
          shouldShowTooltipOnHover={false}
        />
      </TableRow>
    );
  };

  if (breakpoints) {
    const TableBodyContent = Object.entries(breakpoints)
      .sort((a, b) => b[1] - a[1])
      .map(([key, value]) => RenderTableRow(value, key as Breakpoint));

    return (
      <Table>
        <TableHeader>
          <CellHeader hideSortIcon style={{ width: 100 }}>
            Breakpoint
          </CellHeader>
          <CellHeader hideSortIcon>Variables</CellHeader>
          <CellHeader hideSortIcon>Value</CellHeader>
          <CellHeader hideSortIcon>Range</CellHeader>
          <CellHeader hideSortIcon>Usage</CellHeader>
        </TableHeader>
        <tbody>{TableBodyContent}</tbody>
      </Table>
    );
  }
};
</file>

<file path="packages/components/src/core/Bases/Breakpoints/__storybook__/constants.tsx">
import { Breakpoint } from "@mui/material";

export const BREAKPOINTS_USAGE: Record<Breakpoint, string> = {
  lg: "Large breakpoint can be used for all large displays.",
  md: "Medium breakpoint will work for small laptops and large-screened tablets.",
  sm: "Small breakpoint will work for mobile devices and small-screened tablets.",
};

export const BREAKPOINTS_RANGE: Record<Breakpoint, string> = {
  lg: "> 1024px",
  md: "512px - 1023px",
  sm: "0px - 511px",
};
</file>

<file path="packages/components/src/core/Bases/Breakpoints/__storybook__/index.stories.tsx">
import { Meta } from "@storybook/react";
import { BADGE } from "src/common/storybook/storybookBadges";
import { StyledBreakpointsWrapper } from "./style";
import { Template } from "./stories/default";

export default {
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Bases/Breakpoints",
} as Meta;

// Breakpoints

export const Default = {
  render: () => (
    <>
      <StyledBreakpointsWrapper>
        <Template />
      </StyledBreakpointsWrapper>
    </>
  ),
};
</file>

<file path="packages/components/src/core/Bases/Breakpoints/__storybook__/style.ts">
import styled from "@emotion/styled";

export const StyledBreakpointsWrapper = styled("div")`
  max-width: 100%;
`;
</file>

<file path="packages/components/src/core/Bases/Colors/__storybook__/components/Colors/color.tsx">
import { useTheme } from "@mui/material";
import {
  StyledColorWrapper,
  StyledColorCode,
  StyledColorVariable,
  StyledColorTitle,
} from "./style";
import {
  convertToKebabCase,
  copyToClipboard,
  pickTextColorBasedOnBgColor,
} from "src/core/Bases/utils";
import { getMode } from "src/core/styles";

interface ColorComponentProps {
  group: string;
  value: string;
  shade?: string;
  prefix?: string;
  semanticName?: string;
}

const Color = (props: ColorComponentProps) => {
  const { group, value, shade, prefix = "$", semanticName } = props;

  const theme = useTheme();
  const mode = getMode({ theme });

  const sassVariable = shade
    ? `$${prefix}-${group}-${convertToKebabCase(shade)}${mode === "dark" ? "-dark" : ""}`
    : `$${prefix}-${group}${mode === "dark" ? "-dark" : ""}`;

  const cssVariable = shade
    ? "--" + prefix + "-" + group + "-" + convertToKebabCase(shade)
    : "--" + prefix + "-" + group;

  const title = shade || group;

  return (
    <StyledColorWrapper
      key={group + shade}
      backgroundColor={String(value)}
      textColor={pickTextColorBasedOnBgColor(value)}
    >
      <div>
        <StyledColorTitle className="color-title">
          {title.charAt(0).toUpperCase() + title.slice(1)}
        </StyledColorTitle>

        <StyledColorVariable onClick={() => copyToClipboard(sassVariable)}>
          {sassVariable}
        </StyledColorVariable>
      </div>

      <div>
        <StyledColorCode onClick={() => copyToClipboard(value)}>
          {String(semanticName)}
        </StyledColorCode>

        <StyledColorVariable onClick={() => copyToClipboard(cssVariable)}>
          {cssVariable}
        </StyledColorVariable>
      </div>
    </StyledColorWrapper>
  );
};

export default Color;
</file>

<file path="packages/components/src/core/Bases/Colors/__storybook__/components/Colors/index.tsx">
import { Color as ColorType, getColors } from "src/core/styles";
import Color from "./color";
import { StyledColorGroupTitle, StyledColorsWrapper } from "./style";
import { useTheme } from "@mui/material";
import { NestedObject, flattenObj } from "./util";

interface SemanticColorsProps {
  colors: object;
  type?: "semantic" | "primitive";
  prefix?: string;
}

const Colors = (props: SemanticColorsProps): JSX.Element => {
  const { colors, type = "semantic", prefix } = props;

  const theme = useTheme();
  const primitiveColors = getColors({ theme });

  const flattenColors = primitiveColors
    ? flattenObj(primitiveColors as unknown as NestedObject, null)
    : {};

  const renderColorGroups = (colorGroups: object) => {
    if (colorGroups) {
      return Object.entries(colorGroups).map(([key, value]) => (
        <div key={key}>
          <StyledColorGroupTitle>
            {key.charAt(0).toLocaleUpperCase() + key.slice(1)}
          </StyledColorGroupTitle>
          <div>{renderColors(value, key)}</div>
        </div>
      ));
    }
  };

  const renderColors = (sdsColors: ColorType, groupName: string) => {
    if (typeof sdsColors === "string") {
      return (
        <Color
          group={groupName}
          semanticName={
            type === "semantic" ? flattenColors[sdsColors] : sdsColors
          }
          value={sdsColors}
          prefix={prefix}
        />
      );
    } else {
      return Object.entries(sdsColors).map(([k, v]) => {
        if (v === "transparent") return;

        if (type === "semantic" && v.length > 7) {
          return (
            <Color
              key={k}
              group={groupName}
              value={v}
              semanticName={`${flattenColors[v.slice(0, -2)]} (28% opacity)`}
              shade={k}
              prefix={prefix}
            />
          );
        }

        return (
          <Color
            key={k}
            group={groupName}
            value={v}
            semanticName={type === "semantic" ? flattenColors[v] : v}
            shade={k}
            prefix={prefix}
          />
        );
      });
    }
  };

  return (
    <StyledColorsWrapper>
      {colors && renderColorGroups(colors)}
    </StyledColorsWrapper>
  );
};

export default Colors;
</file>

<file path="packages/components/src/core/Bases/Colors/__storybook__/components/Colors/style.ts">
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBodyXs,
  fontCodeXs,
  fontHeaderL,
  getBorders,
  getCorners,
  getFontWeights,
  getSpaces,
} from "src/core/styles";

interface IStyledDivProps extends CommonThemeProps {
  backgroundColor: string;
  textColor: string;
}

export const StyledColorWrapper = styled("div")`
  ${fontBodyXs}

  ${(props: IStyledDivProps) => {
    const { backgroundColor, textColor } = props;

    const spaces = getSpaces(props);
    const corners = getCorners(props);
    const borders = getBorders(props);
    const fontWeights = getFontWeights(props);

    return `
      background-color: ${backgroundColor};
      color: ${textColor};
      padding: ${spaces?.xs}px ${spaces?.s}px;
      margin: ${spaces?.xxxs}px 0;
      border-radius: ${corners?.m}px;
      border: solid 1px ${backgroundColor};
      transition: transform 0.2s ease-in-out;

      & > div {
        display: flex;
        justify-content: space-between;
      }

      &:hover {
        border: ${borders?.base?.hover};
        z-index: 10;

        .color-title {
          font-weight: ${fontWeights?.semibold};
        }
      }
    `;
  }}
`;

export const StyledColorGroupTitle = styled("h3")`
  ${fontHeaderL}

  ${(props) => {
    const spaces = getSpaces(props);
    return `
      margin-bottom: ${spaces?.s}px;
    `;
  }}
`;

export const StyledColorCode = styled("span")`
  ${fontCodeXs}

  ${(props) => {
    const fontWeights = getFontWeights(props);

    return `
      cursor: pointer;
      font-size: 12px;

      &:active {
        font-weight: ${fontWeights?.semibold};
      }
    `;
  }}
`;

export const StyledColorTitle = styled("span")`
  ${fontBodyXs}
`;

export const StyledColorVariable = styled("span")`
  ${fontCodeXs}

  ${(props) => {
    const fontWeights = getFontWeights(props);

    return `
      cursor: pointer;
      font-size: 10px;

      &:active {
        font-weight: ${fontWeights?.semibold};
      }
    `;
  }}
`;

export const StyledColorsWrapper = styled("div")`
  display: grid;
  grid-template-columns: repeat(1, 1fr);
  grid-row-gap: 30px;
`;
</file>

<file path="packages/components/src/core/Bases/Colors/__storybook__/components/Colors/util.ts">
export type NestedObject = {
  [key: string]: NestedObject | string;
};

export function flattenObj(
  obj: NestedObject,
  parent: string | null = null,
  res: { [key: string]: string } = {}
) {
  for (const key in obj) {
    const propName = parent ? `${parent}-${key}` : key;
    if (typeof obj[key] === "object") {
      flattenObj(obj[key] as NestedObject, propName, res);
    } else {
      res[obj[key] as string] = propName;
    }
  }
  return res;
}
</file>

<file path="packages/components/src/core/Bases/Colors/__storybook__/stories/primitiveColors.tsx">
import { useTheme } from "@mui/material";
import { getColors } from "src/core/styles";
import Colors from "../components/Colors";

export const PrimitiveColorsTemplate = () => {
  const theme = useTheme();
  const colors = getColors({ theme });

  if (colors) {
    // Prioritizing the gray color to be passed as the initial color to
    // the SemanticColors component.
    const { gray, ...rest } = colors;

    return (
      <Colors
        colors={{ gray, ...rest }}
        type="primitive"
        prefix="sds-color-primitive"
      />
    );
  }
};
</file>

<file path="packages/components/src/core/Bases/Colors/__storybook__/stories/semanticColors.tsx">
import { useTheme } from "@mui/material";
import { getSemanticColors } from "src/core/styles";
import Colors from "../components/Colors";

export const SemanticColorsTemplate = () => {
  const theme = useTheme();
  const semanticColors = getSemanticColors({ theme });

  const { base, ...rest } = semanticColors || {};

  return (
    semanticColors && (
      <Colors colors={{ base, ...rest }} prefix="sds-color-semantic" />
    )
  );
};
</file>

<file path="packages/components/src/core/Bases/Colors/__storybook__/index.stories.tsx">
import { Meta } from "@storybook/react";
import { BADGE } from "src/common/storybook/storybookBadges";
import { PrimitiveColorsTemplate } from "./stories/primitiveColors";
import { SemanticColorsTemplate } from "./stories/semanticColors";

export default {
  parameters: {
    axe: {
      disabledRules: ["color-contrast"],
    },
    badges: [BADGE.STABLE],
  },
  title: "Bases/Colors",
} as Meta;

// Primitive

export const PrimitiveColors = {
  render: () => <PrimitiveColorsTemplate />,
};

// Semantic Colors

export const SemanticColors = {
  render: () => <SemanticColorsTemplate />,
};
</file>

<file path="packages/components/src/core/Bases/Corners/__storybook__/stories/default.tsx">
import Table from "src/core/Table";
import TableHeader from "src/core/TableHeader";
import CellHeader from "src/core/CellHeader";
import TableRow from "src/core/TableRow";
import CellComponent from "src/core/CellComponent";
import CellBasic from "src/core/CellBasic";
import { copyToClipboard } from "src/core/Bases/utils";
import { StyledVariable } from "src/core/Bases/style";
import { CORNERS_TITLE, CORNERS_USAGE } from "../constants";
import { useTheme } from "@mui/material";
import { Corners, getCorners } from "src/core/styles";
import { StyledCornerBox, StyledCornerVariable } from "../style";

export const Template = () => {
  const theme = useTheme();
  const corners = getCorners({ theme });

  const RenderTableRow = (size: number, name: keyof Corners) => {
    const sassVariable = "$sds-corner-" + name;
    const cssVariable = "--sds-corner-" + name;

    return (
      <TableRow key={name} hover={false}>
        <CellComponent verticalAlign="center" horizontalAlign="center">
          <StyledCornerBox size={size} />
        </CellComponent>

        <CellBasic
          primaryText={CORNERS_TITLE[name]}
          verticalAlign="center"
          shouldShowTooltipOnHover={false}
        />

        <CellComponent verticalAlign="center">
          <StyledVariable
            onClick={() => copyToClipboard(sassVariable)}
            type="sass"
          >
            {sassVariable}
          </StyledVariable>
          <StyledVariable
            onClick={() => copyToClipboard(cssVariable)}
            type="css"
          >
            {cssVariable}
          </StyledVariable>
        </CellComponent>

        <CellComponent verticalAlign="center">
          <StyledCornerVariable>{`${size}px`}</StyledCornerVariable>
        </CellComponent>

        <CellBasic
          verticalAlign="center"
          primaryText={CORNERS_USAGE[name]}
          shouldShowTooltipOnHover={false}
        />
      </TableRow>
    );
  };

  if (corners) {
    const TableBodyContent = Object.entries(corners)
      .sort((a, b) => b[1] - a[1])
      .map(([key, value]) => RenderTableRow(value, key as keyof Corners));

    return (
      <Table>
        <TableHeader>
          <CellHeader hideSortIcon style={{ width: 120 }}>
            Example
          </CellHeader>
          <CellHeader hideSortIcon>Corner Type</CellHeader>
          <CellHeader hideSortIcon>Variables</CellHeader>
          <CellHeader hideSortIcon>Value</CellHeader>
          <CellHeader hideSortIcon>Usage</CellHeader>
        </TableHeader>
        <tbody>{TableBodyContent}</tbody>
      </Table>
    );
  }
};
</file>

<file path="packages/components/src/core/Bases/Corners/__storybook__/constants.tsx">
import { Corners } from "src/core/styles";

export const CORNERS_USAGE: Record<keyof Corners, string> = {
  l: "Rounded elements (buttons and inputs)",
  m: "Standard, default radius for corners in UI elements (square buttons, form inputs, modals, tooltips, tags, etc.)",
  none: "Corners on backgrounds for hovered dropdown menus and tables.",
  s: "Corners on elements that are smaller than 20px × 20px.",
};

export const CORNERS_TITLE: Record<keyof Corners, string> = {
  l: "Large Corner",
  m: "Medium Corner",
  none: "No Corner",
  s: "Small Corner",
};
</file>

<file path="packages/components/src/core/Bases/Corners/__storybook__/index.stories.tsx">
import { Meta } from "@storybook/react";
import { BADGE } from "src/common/storybook/storybookBadges";
import { StyledCornersWrapper } from "./style";
import { Template } from "./stories/default";

export default {
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Bases/Corners",
} as Meta;

// Corners

export const Default = {
  render: () => (
    <>
      <StyledCornersWrapper>
        <Template />
      </StyledCornersWrapper>
    </>
  ),
};
</file>

<file path="packages/components/src/core/Bases/Corners/__storybook__/style.ts">
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontCodeXs,
  getFontWeights,
  getSemanticColors,
} from "src/core/styles";

export const StyledCornersWrapper = styled("div")`
  max-width: 100%;
`;

interface IStyledCornerBoxProps extends CommonThemeProps {
  size: number;
}

export const StyledCornerBox = styled("div")`
  ${(props: IStyledCornerBoxProps) => {
    const { size } = props;

    const semanticColors = getSemanticColors(props);
    const BorderWidth = 2;
    const BoxSize = 60;

    return `
      position: relative;
      margin-left: 10px;
      width: ${BoxSize}px;
      height: ${BoxSize}px;
      background-color: transparent;
      border-radius: ${size + BorderWidth}px;

      background-position:  0 0, 0 0, 100% 0, 0 100%;
      background-size: 10px 100%, 100% 10px, 10px 100% , 100% 10px;
      background-repeat: no-repeat;
      background-image:
        none, // left
        linear-gradient(90deg, transparent, transparent 50%, ${semanticColors?.accent.border} 50%), // top
        linear-gradient(180deg, ${semanticColors?.accent.border}, ${semanticColors?.accent.border} 50%, transparent 50%), // right
        none // bottom
      ;

      &::after {
        content: "";
        position: absolute;
        background-color: ${semanticColors?.base?.backgroundSecondary};
        width: ${BoxSize - 2 * BorderWidth}px;
        height: ${BoxSize - 2 * BorderWidth}px;
        top: ${BorderWidth}px;
        left: ${BorderWidth}px;
        border-radius: ${size}px;
      }

      &:hover {
        animation: boxBorderAnimation 2s infinite linear;
      }

      @keyframes boxBorderAnimation {
        0% {
          background-image:
            none, // left
            linear-gradient(90deg, transparent, transparent 50%, ${semanticColors?.accent.border} 50%), // top
            linear-gradient(180deg, ${semanticColors?.accent.border}, ${semanticColors?.accent.border} 50%, transparent 50%), // right
            none // bottom
          ;
        }
        12.5% {
          background-image:
            none, // left
            none, // top
            linear-gradient(180deg, ${semanticColors?.accent.border}, ${semanticColors?.accent.border} 100%, transparent 100%), // right
            none // bottom
          ;
        }
        25% {
          background-image:
            none, // left
            none, // top
            linear-gradient(180deg, transparent, transparent 50%, ${semanticColors?.accent.border} 50%), // right
            linear-gradient(270deg, ${semanticColors?.accent.border}, ${semanticColors?.accent.border} 50%, transparent 50%) // bottom
          ;
        }
        37.5% {
          background-image:
            none, // left
            none, // top
            none, // right
            linear-gradient(270deg, ${semanticColors?.accent.border}, ${semanticColors?.accent.border} 100%, transparent 100%) // bottom
          ;
        }
        50% {
          background-image:
            linear-gradient(0deg, ${semanticColors?.accent.border}, ${semanticColors?.accent.border} 50%, transparent 50%), // left
            none, // top
            none, // right
            linear-gradient(270deg, transparent, transparent 50%, ${semanticColors?.accent.border} 50%) // bottom
          ;
        }
        62.5% {
          background-image:
            linear-gradient(0deg, ${semanticColors?.accent.border}, ${semanticColors?.accent.border} 100%), // left
            none, // top
            none, // right
            none // bottom
          ;
        }
        75% {
          background-image:
            linear-gradient(0deg, transparent, transparent 50%, ${semanticColors?.accent.border} 50%), // left
            linear-gradient(90deg, ${semanticColors?.accent.border}, ${semanticColors?.accent.border} 50%, transparent 50%), // top
            none, // right
            none // bottom
          ;
        }
        87.5% {
          background-image:
          none, // left
          linear-gradient(90deg, ${semanticColors?.accent.border}, ${semanticColors?.accent.border} 100%), // top
          none, // right
          none // bottom
        ;
        }
        100% {
          background-image:
            none, // left
            linear-gradient(90deg, transparent, transparent 50%, ${semanticColors?.accent.border} 50%), // top
            linear-gradient(180deg, ${semanticColors?.accent.border}, ${semanticColors?.accent.border} 50%, transparent 50%), // right
            none // bottom
          ;
        }
      }
    `;
  }}
`;

export const StyledCornerVariable = styled("p")`
  ${fontCodeXs}

  ${(props) => {
    const fontWeights = getFontWeights(props);

    return `
      margin: 0;
      cursor: pointer;

      &:active {
        font-weight: ${fontWeights?.semibold};
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Bases/DropShadows/__storybook__/stories/default.tsx">
import { useTheme } from "@mui/material";
import { getShadows } from "src/core/styles";
import { StyledShadowBox, StyledShadowVariable } from "../style";
import Table from "src/core/Table";
import TableHeader from "src/core/TableHeader";
import CellHeader from "src/core/CellHeader";
import TableRow from "src/core/TableRow";
import CellComponent from "src/core/CellComponent";
import CellBasic from "src/core/CellBasic";
import { copyToClipboard } from "src/core/Bases/utils";
import { StyledVariable } from "src/core/Bases/style";
import { DROP_SHADOWS_TITLE, DROP_SHADOWS_USAGE } from "../constants";

export const Template = () => {
  const theme = useTheme();
  const shadows = getShadows({ theme });

  const RenderTableRow = (shadow: string, name: string) => {
    const sassVariable = "$sds-drop-shadow-" + name;
    const cssVariable = "--sds-drop-shadow-" + name;

    return (
      <TableRow key={name} hover={false}>
        <CellComponent verticalAlign="center" horizontalAlign="center">
          <StyledShadowBox shadow={shadow} />
        </CellComponent>
        <CellBasic
          primaryText={DROP_SHADOWS_TITLE[name]}
          verticalAlign="center"
          shouldShowTooltipOnHover={false}
        />
        <CellComponent verticalAlign="center">
          <StyledVariable
            onClick={() => copyToClipboard(sassVariable)}
            type="sass"
          >
            {sassVariable}
          </StyledVariable>
          <StyledVariable
            onClick={() => copyToClipboard(cssVariable)}
            type="css"
          >
            {cssVariable}
          </StyledVariable>
        </CellComponent>
        <CellComponent
          verticalAlign="center"
          onClick={() => copyToClipboard(`box-shadow: ${shadow};`)}
        >
          <StyledShadowVariable>box-shadow: {shadow};</StyledShadowVariable>
        </CellComponent>
        <CellBasic
          verticalAlign="center"
          primaryText={DROP_SHADOWS_USAGE[name]}
          shouldShowTooltipOnHover={false}
          primaryTextWrapLineCount={5}
        />
      </TableRow>
    );
  };

  if (shadows) {
    const { l, m, s, none } = shadows;

    // eslint-disable-next-line sort-keys
    const TableBodyContent = Object.entries({ l, m, s, none }).map(
      ([key, value]) => RenderTableRow(value, key)
    );

    return (
      <Table>
        <TableHeader>
          <CellHeader hideSortIcon style={{ width: 120 }}>
            Example
          </CellHeader>
          <CellHeader hideSortIcon>Shadow Type</CellHeader>
          <CellHeader hideSortIcon>Variables</CellHeader>
          <CellHeader hideSortIcon>Value</CellHeader>
          <CellHeader hideSortIcon>Usage</CellHeader>
        </TableHeader>

        <tbody>{TableBodyContent}</tbody>
      </Table>
    );
  }
};
</file>

<file path="packages/components/src/core/Bases/DropShadows/__storybook__/constants.tsx">
export const DROP_SHADOWS_USAGE: Record<string, string> = {
  l: "Containers that layer on top of all other page content (bottom panels, side panels, modals, etc.)",
  m: "Containers that are part of a page's content, but appear on user input, layering over primary content (dropdown menus, tooltips, etc.)",
  none: "No shadows.",
  s: "Containers that layer closely over content, including images of documents/screens placed in content, and sign up forms.",
};

export const DROP_SHADOWS_TITLE: Record<string, string> = {
  l: "Large Shadow",
  m: "Medium Shadow",
  none: "No Shadow",
  s: "Small Shadow",
};
</file>

<file path="packages/components/src/core/Bases/DropShadows/__storybook__/index.stories.tsx">
import { Meta } from "@storybook/react";
import { BADGE } from "src/common/storybook/storybookBadges";
import { StyledShadowsWrapper } from "./style";
import { Template } from "./stories/default";

export default {
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Bases/Drop Shadows",
} as Meta;

// Drop Shadows

export const Default = {
  render: () => (
    <>
      <StyledShadowsWrapper>
        <Template />
      </StyledShadowsWrapper>
    </>
  ),
};
</file>

<file path="packages/components/src/core/Bases/DropShadows/__storybook__/style.ts">
import styled from "@emotion/styled";
import {
  getColors,
  CommonThemeProps,
  fontCodeXs,
  getFontWeights,
} from "src/core/styles";

const SHADOW_BOX_BOX_SIZE_PX = 60;

export const StyledShadowsWrapper = styled("div")`
  max-width: 100%;
`;

interface IStyledCornerBoxProps extends CommonThemeProps {
  shadow: string;
}

export const StyledShadowBox = styled("div")`
  ${(props: IStyledCornerBoxProps) => {
    const { shadow } = props;

    const colors = getColors(props);

    return `
      position: relative;
      margin-left: 10px;
      width: ${SHADOW_BOX_BOX_SIZE_PX}px;
      height: ${SHADOW_BOX_BOX_SIZE_PX}px;
      background-color: ${colors?.gray[100]};
      border-radius: 6px;
      box-shadow: ${shadow};

      &:hover {
        animation: boxShadowAnimation 3s infinite;
      }

      @keyframes boxShadowAnimation {
        50% {
          box-shadow: ${shadow};
        }
      }
    `;
  }}
`;

export const StyledShadowVariable = styled("p")`
  ${fontCodeXs}

  ${(props) => {
    const fontWeights = getFontWeights(props);

    return `
      margin: 0;
      cursor: pointer;
    
      &:active {
        font-weight: ${fontWeights?.semibold};
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Bases/Spaces/__storybook__/stories/default.tsx">
import { useTheme } from "@mui/material";
import { getSpaces } from "src/core/styles";
import {
  StyledInlineSpacingBox,
  StyledInsetSpacingBox,
  StyledSpacingVariable,
  StyledStackedSpacingBox,
} from "../style";
import Table from "src/core/Table";
import TableHeader from "src/core/TableHeader";
import CellHeader from "src/core/CellHeader";
import TableRow from "src/core/TableRow";
import CellComponent from "src/core/CellComponent";
import { copyToClipboard } from "src/core/Bases/utils";
import { StyledVariable } from "src/core/Bases/style";

export const Template = () => {
  const theme = useTheme();
  const spaces = getSpaces({ theme });

  const RenderTableRow = (size: number, name: string) => {
    const sassVariable = "$sds-space-" + name;
    const cssVariable = "--sds-space-" + name;

    return (
      <TableRow key={name} hover={false}>
        <CellComponent verticalAlign="center" horizontalAlign="center">
          <StyledInsetSpacingBox size={size}>{name}</StyledInsetSpacingBox>
        </CellComponent>

        <CellComponent verticalAlign="center" horizontalAlign="center">
          <StyledInlineSpacingBox size={size}>{name}</StyledInlineSpacingBox>
        </CellComponent>

        <CellComponent verticalAlign="center" horizontalAlign="center">
          <StyledStackedSpacingBox size={size}>{name}</StyledStackedSpacingBox>
        </CellComponent>

        <CellComponent verticalAlign="center">
          <StyledVariable
            onClick={() => copyToClipboard(sassVariable)}
            type="sass"
          >
            {sassVariable}
          </StyledVariable>
          <StyledVariable
            onClick={() => copyToClipboard(cssVariable)}
            type="css"
          >
            {cssVariable}
          </StyledVariable>
        </CellComponent>

        <CellComponent verticalAlign="center">
          <StyledSpacingVariable>{`${size}px`}</StyledSpacingVariable>
        </CellComponent>
      </TableRow>
    );
  };

  if (spaces) {
    const TableBodyContent = Object.entries(spaces)
      .sort((a, b) => a[1] - b[1])
      .map(([key, value]) => {
        return RenderTableRow(value, key);
      });

    return (
      <Table>
        <TableHeader>
          <CellHeader hideSortIcon>Inset Spacing</CellHeader>
          <CellHeader hideSortIcon>Inline Spacing</CellHeader>
          <CellHeader hideSortIcon>Stacked Spacing</CellHeader>
          <CellHeader hideSortIcon>Variables</CellHeader>
          <CellHeader hideSortIcon>Value</CellHeader>
        </TableHeader>

        <tbody>{TableBodyContent}</tbody>
      </Table>
    );
  }
};
</file>

<file path="packages/components/src/core/Bases/Spaces/__storybook__/index.stories.tsx">
import { Meta } from "@storybook/react";
import { BADGE } from "src/common/storybook/storybookBadges";
import { StyledSpacingWrapper } from "./style";
import { Template } from "./stories/default";

export default {
  parameters: {
    axe: {
      disabledRules: ["color-contrast"],
    },
    badges: [BADGE.STABLE],
  },
  title: "Bases/Spaces",
} as Meta;

// Spaces

export const Default = {
  render: () => (
    <>
      <StyledSpacingWrapper>
        <Template />
      </StyledSpacingWrapper>
    </>
  ),
};
</file>

<file path="packages/components/src/core/Bases/Spaces/__storybook__/style.ts">
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontCodeXs,
  getFontWeights,
  getSemanticColors,
} from "src/core/styles";

export const StyledSpacingWrapper = styled("div")`
  max-width: 100%;
`;

interface IProps extends CommonThemeProps {
  size: number;
}

export const StyledInsetSpacingBox = styled("div")`
  ${fontCodeXs}

  ${(props: IProps) => {
    const { size } = props;

    const semanticColors = getSemanticColors(props);
    const BoxSize = 100;

    return `
      position: relative;
      box-sizing: border-box;
      width: ${BoxSize}px;
      height: ${BoxSize}px;
      border: solid ${size}px ${semanticColors?.positive.surfaceSecondary};
      color: ${semanticColors?.positive?.text};
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    `;
  }}
`;

export const StyledInlineSpacingBox = styled("div")`
  ${fontCodeXs}

  ${(props: IProps) => {
    const { size } = props;

    const semanticColors = getSemanticColors(props);
    const BoxSize = 100;

    return `
      position: relative;
      margin-left: 30px;
      width: ${size}px;
      height: ${BoxSize}px;
      background-color: ${semanticColors?.notice.surfaceSecondary};
      color: ${semanticColors?.notice?.text};
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    `;
  }}
`;

export const StyledStackedSpacingBox = styled("div")`
  ${fontCodeXs}

  ${(props: IProps) => {
    const { size } = props;

    const semanticColors = getSemanticColors(props);
    const BoxSize = 120;

    return `
      position: relative;
      height: ${size}px;
      width: ${BoxSize}px;
      background-color: ${semanticColors?.notice.surfaceSecondary};
      color: ${semanticColors?.notice?.text};
      font-size: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    `;
  }}
`;

export const StyledSpacingVariable = styled("p")`
  ${fontCodeXs}

  ${(props) => {
    const fontWeights = getFontWeights(props);

    return `
      margin: 0;
      cursor: pointer;
    
      &:active {
        font-weight: ${fontWeights?.semibold};
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Bases/style.ts">
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontCodeXs,
  getColors,
  getFontWeights,
} from "src/core/styles";

interface IStyledVariableProps extends CommonThemeProps {
  type?: "css" | "sass" | "none";
  color?: string;
}

export const StyledVariable = styled("p")`
  ${fontCodeXs}

  ${(props: IStyledVariableProps) => {
    const { type = "none", color } = props;

    const colors = getColors(props);
    const fontWeights = getFontWeights(props);

    const textColor =
      type === "none"
        ? "black"
        : type === "css"
          ? colors?.yellow?.[500]
          : colors?.red?.[400];

    return `
      cursor: pointer;
      position: relative;
      padding-left: ${type === "none" ? 0 : type === "css" ? 32 : 40}px;

      &:active {
        font-weight: ${fontWeights?.semibold};

        &::before {
          font-weight: normal;
          background-color: ${type === "none" ? "transparent" : colors?.gray?.[200]};
          color: black;
        }
      }

      &::before {
        content: "${type === "none" ? "" : type}";
        color: ${color || textColor};
        position: absolute;
        padding: 0 5px;
        border-radius: 4px;
        left: 0;
        top: 0;
        font-size: 10px;
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Bases/utils.ts">
/**
 * Function to determine whether to use light or dark text based on the background color.
 * @param {string} bgColor - The background color in hex or RGB format.
 * @param {string} lightColor - The color code for light text (default: "#ffffff").
 * @param {string} darkColor - The color code for dark text (default: "#000000").
 * @returns {string} - The color code for the chosen text color.
 */
export const pickTextColorBasedOnBgColor = (
  bgColor: string,
  lightColor: string = "#ffffff",
  darkColor: string = "#000000"
): string => {
  // Extracting the hex color if it starts with '#'
  const color = bgColor.charAt(0) === "#" ? bgColor.substring(1, 7) : bgColor;

  // Extracting individual RGB values from the hex color
  const r = parseInt(color.substring(0, 2), 16); // hexToR
  const g = parseInt(color.substring(2, 4), 16); // hexToG
  const b = parseInt(color.substring(4, 6), 16); // hexToB

  // Normalizing RGB values to the range [0, 1]
  const uicolors = [r / 255, g / 255, b / 255];

  // Applying the gamma correction to the RGB values
  const c = uicolors.map((col) => {
    if (col <= 0.03928) {
      return col / 12.92;
    }
    return Math.pow((col + 0.055) / 1.055, 2.4);
  });

  // Calculating the relative luminance of the color
  const L = 0.2126 * c[0] + 0.7152 * c[1] + 0.0722 * c[2];

  // Choosing text color based on the luminance
  return L > 0.5 ? darkColor : lightColor;
};

export const copyToClipboard = (text: string): void => {
  navigator.clipboard.writeText(text);
};

export const convertToKebabCase = (input: string): string => {
  return input
    .replace(/[A-Z]/g, (match) => `-${match.toLowerCase()}`)
    .replace(/\d+/g, (match) => `-${match}`)
    .replace(/^-/, "")
    .replace(/-+/g, "-");
};
</file>

<file path="packages/components/src/core/Button/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import React from "react";
import RawButton from "src/core/Button";
import Callout from "src/core/Callout";
import Icon, { IconNameToSizes } from "src/core/Icon";

const ButtonIconSizeToSdsIconSize = {
  large: "xl",
  medium: "l",
  small: "s",
};

export const InvalidIconButtonPropsError = (
  <Callout
    intent="negative"
    title="Invalid Props!"
    body={
      <>
        The <strong>icon</strong> styled Button must include an icon. Please
        choose an icon from from the controls section.
      </>
    }
  />
);

export const InvalidSdsTypeTertiaryError = (
  <Callout
    intent="negative"
    title="Invalid Props!"
    body={
      <>
        Only buttons with the <strong>icon</strong> style can have the{" "}
        <strong>tertiary</strong> type. Please select another type, either{" "}
        <strong>primary</strong> or <strong>secondary</strong>.
      </>
    }
  />
);

export const InvalidSdsTypeDestructiveError = (
  <Callout
    intent="negative"
    title="Invalid Props!"
    body={
      <>
        Buttons with the <strong>icon</strong> or <strong>minimal</strong>{" "}
        styles cannot have the <strong>destructive</strong> type. Please choose
        another type, such as <strong>square</strong> or{" "}
        <strong>rounded</strong>.
      </>
    }
  />
);

const FinalIconSize = (sdsStyle: string, sdsSize: string) => {
  return sdsStyle === "minimal"
    ? "s"
    : sdsStyle === "icon"
      ? ButtonIconSizeToSdsIconSize[
          sdsSize as keyof typeof ButtonIconSizeToSdsIconSize
        ]
      : "l";
};

// eslint-disable-next-line sonarjs/cognitive-complexity
export const Button = (props: Args): JSX.Element => {
  const { sdsType, sdsStyle, sdsSize, text, startIcon, endIcon, icon } = props;

  const finalIconSize = FinalIconSize(sdsStyle, sdsSize);

  let startIconFinal = startIcon;
  let endIconFinal = endIcon;

  if (startIcon && finalIconSize) {
    if (typeof startIcon !== "string") {
      startIconFinal = React.cloneElement(startIcon, {
        sdsSize: finalIconSize,
      });
    } else {
      startIconFinal = (
        <Icon
          sdsIcon={startIcon as keyof IconNameToSizes}
          sdsSize={finalIconSize as typeof sdsSize}
        />
      );
    }
  }

  if (endIcon && finalIconSize) {
    if (typeof endIcon !== "string") {
      endIconFinal = React.cloneElement(endIcon, {
        sdsSize: finalIconSize,
      });
    } else {
      endIconFinal = (
        <Icon
          sdsIcon={endIcon as keyof IconNameToSizes}
          sdsSize={finalIconSize as typeof sdsSize}
        />
      );
    }
  }

  if (sdsStyle === "icon" && icon === undefined) {
    return InvalidIconButtonPropsError;
  }

  if (sdsStyle !== "icon" && sdsType === "tertiary") {
    return InvalidSdsTypeTertiaryError;
  }

  if (
    (sdsStyle === "icon" || sdsStyle === "minimal") &&
    sdsType === "destructive"
  ) {
    return InvalidSdsTypeDestructiveError;
  }

  return (
    <RawButton
      {...props}
      sdsStyle={sdsStyle}
      startIcon={startIconFinal}
      endIcon={endIconFinal}
    >
      {text}
    </RawButton>
  );
};
</file>

<file path="packages/components/src/core/Button/__storybook__/stories/screenshot.tsx">
import { Args } from "@storybook/react";
import RawButton from "src/core/Button";
import {
  BUTTON_DISABLED_OPTIONS,
  SCREENSHOT_BUTTON_ICON_OPTIONS,
  BUTTON_PSEUDO_STATES,
  SCREENSHOT_BUTTON_SDS_STYLES,
  SCREENSHOT_BUTTON_SDS_TYPES,
  BUTTON_TEXT,
  BUTTON_ICON_DISABLED_OPTIONS,
  BUTTON_ICON_PSEUDO_STATES,
  BUTTON_ICON_SDS_SIZES,
  BUTTON_ICON_SDS_TYPES,
} from "../constants";
import {
  SDSSizes,
  SDSStyles,
  SDSTypes,
} from "src/core/ButtonIcon/__storybook__/types";
import Icon, { IconNameToSizes } from "src/core/Icon";

export const ScreenshotTestDemo = (props: Args): JSX.Element => {
  const topLevel: React.CSSProperties = {
    columnGap: "20px",
    display: "inline-grid",
    fontFamily: "sans-serif",
    marginRight: "50px",
  };
  const displayContents: React.CSSProperties = {
    display: "contents",
  };
  const penultimateLevel: React.CSSProperties = {
    display: "contents",
  };
  const bottomLevel: React.CSSProperties = {
    marginBottom: 10,
  };
  const fontWeightNormal: React.CSSProperties = {
    fontWeight: "normal",
  };
  const topLabel: React.CSSProperties = {
    ...fontWeightNormal,
    fontSize: "2em",
    gridColumn: "1 / 6",
    marginBottom: 0,
  };
  const midLabel: React.CSSProperties = {
    ...fontWeightNormal,
    borderStyle: "solid none none none",
    gridColumn: "1 / 6",
    justifySelf: "stretch",
    paddingTop: 10,
  };
  const secondLabel: React.CSSProperties = {
    ...midLabel,
    borderWidth: "2px",
    fontSize: "1.17em",
    margin: "20px 0",
  };
  const thirdLabel: React.CSSProperties = {
    ...midLabel,
    alignSelf: "end",
    borderWidth: "1px",
    fontWeight: "normal",
    margin: "0 0 5px 0",
  };
  const bottomLabel: React.CSSProperties = {
    ...fontWeightNormal,
    margin: "10px 0",
  };
  const MID_LABEL: React.CSSProperties = {
    borderStyle: "solid none none none",
    gridColumn: "1 / 6",
    justifySelf: "stretch",
    paddingTop: 10,
  };
  const DISPLAY_CONTENTS: React.CSSProperties = {
    display: "contents",
  };

  // loop through all SCREENSHOT_BUTTON_SDS_STYLES
  return (
    <>
      {SCREENSHOT_BUTTON_SDS_STYLES.map((sdsStyle) => {
        return <ButtonStyleOption sdsStyle={sdsStyle} key={sdsStyle} />;
      })}

      <div>
        {BUTTON_ICON_SDS_TYPES.map((sdsType) => {
          return <ButtonIconTypeOption sdsType={sdsType} key={sdsType} />;
        })}
      </div>
    </>
  );

  // loop through all SCREENSHOT_BUTTON_SDS_TYPES + create headers for SCREENSHOT_BUTTON_SDS_STYLES
  function ButtonStyleOption({
    sdsStyle,
  }: {
    sdsStyle: (typeof SCREENSHOT_BUTTON_SDS_STYLES)[number];
  }) {
    return (
      <div style={topLevel}>
        <h3 style={topLabel}>
          Style: <b>{sdsStyle}</b>
        </h3>
        {SCREENSHOT_BUTTON_SDS_TYPES.map((type) => {
          // (masoudmanson): The minimal style does not have the destructive type.
          if (sdsStyle === "minimal" && type === "destructive") return null;

          return (
            <ButtonTypeOption sdsStyle={sdsStyle} type={type} key={type} />
          );
        })}
      </div>
    );
  }

  // loop through all SCREENSHOT_BUTTON_ICON_OPTIONS + create headers for button types
  function ButtonTypeOption({
    sdsStyle,
    type,
  }: {
    sdsStyle: (typeof SCREENSHOT_BUTTON_SDS_STYLES)[number];
    type: (typeof SCREENSHOT_BUTTON_SDS_TYPES)[number];
  }) {
    return (
      <div style={displayContents}>
        <h4 style={secondLabel}>
          Type: <b>{type}</b>
        </h4>
        {SCREENSHOT_BUTTON_ICON_OPTIONS.map((icon) => {
          return icon !== undefined ? (
            sdsStyle === "minimal" ? (
              <ButtonIconOption
                sdsStyle={sdsStyle}
                type={type}
                icon={
                  <Icon sdsIcon={icon as keyof IconNameToSizes} sdsSize="s" />
                }
                key={String(icon)}
              />
            ) : (
              <ButtonIconOption
                sdsStyle={sdsStyle}
                type={type}
                icon={
                  <Icon sdsIcon={icon as keyof IconNameToSizes} sdsSize="l" />
                }
                key={String(icon)}
              />
            )
          ) : (
            <ButtonIconOption
              sdsStyle={sdsStyle}
              type={type}
              icon={undefined}
              key={String(icon)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all BUTTON_DISABLED_OPTIONS + create headers for BUTTON_ICON_OPTIONS
  function ButtonIconOption({
    sdsStyle,
    type,
    icon,
  }: {
    sdsStyle: (typeof SCREENSHOT_BUTTON_SDS_STYLES)[number];
    type: (typeof SCREENSHOT_BUTTON_SDS_TYPES)[number];
    icon?: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
  }) {
    return (
      <div style={displayContents}>
        <h5 style={thirdLabel}>
          Icon: <b>{icon ? "yes" : "no"}</b>
        </h5>
        {BUTTON_DISABLED_OPTIONS.map((disabled) => {
          return (
            <ButtonDisabledOption
              sdsStyle={sdsStyle}
              type={type}
              icon={icon}
              disabled={disabled}
              key={String(disabled)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all BUTTON_PSEUDO_STATES + create headers for BUTTON_DISABLED_OPTIONS, BUTTON_PSEUDO_STATES
  function ButtonDisabledOption({
    sdsStyle,
    type,
    icon,
    disabled,
  }: {
    sdsStyle: (typeof SCREENSHOT_BUTTON_SDS_STYLES)[number];
    type: (typeof SCREENSHOT_BUTTON_SDS_TYPES)[number];
    icon?: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
    disabled: (typeof BUTTON_DISABLED_OPTIONS)[number];
  }) {
    return (
      <div style={penultimateLevel}>
        {BUTTON_PSEUDO_STATES.map((state) => {
          return (
            <div style={bottomLevel} key={state}>
              {/* removes irrelevant disabled iterations: when combined with all pseudo-states except default, `disabled=false` is impossible */}
              {(disabled === false ||
                (disabled === true && state === "default")) && (
                <>
                  <h6 style={bottomLabel}>
                    {disabled === false ? "State: " : "Disabled: "}
                    <br />
                    <b>{disabled === false ? state : "true"}</b>
                  </h6>
                  <RawButton
                    {...props}
                    data-testid="button"
                    sdsStyle={sdsStyle as SDSStyles[number]}
                    sdsType={type as SDSTypes[number]}
                    startIcon={icon}
                    icon="Download"
                    disabled={disabled}
                    className={`pseudo-${state}`}
                    key={state}
                  >
                    {BUTTON_TEXT}
                  </RawButton>
                </>
              )}
            </div>
          );
        })}
      </div>
    );
  }

  // Icon Style

  // loop through all BUTTON_ICON_SDS_SIZES + create headers for SDS_TYPES
  function ButtonIconTypeOption({ sdsType }: { sdsType: SDSTypes[number] }) {
    const LEVEL_STYLE: React.CSSProperties = {
      columnGap: "20px",
      display: "inline-grid",
      fontFamily: "sans-serif",
      marginRight: "50px",
    };
    const LABEL_STYLE: React.CSSProperties = {
      fontSize: "2em",
      gridColumn: "1 / 6",
      marginBottom: 0,
    };
    return (
      <div style={LEVEL_STYLE}>
        <p style={LABEL_STYLE}>
          Type: <b>{sdsType}</b>
        </p>
        {BUTTON_ICON_SDS_SIZES.map((sdsSize) => {
          return (
            <ButtonIconSizeOption
              sdsType={sdsType}
              sdsSize={sdsSize}
              key={sdsSize}
            />
          );
        })}
      </div>
    );
  }

  // loop through all BUTTON_ICON_DISABLED_OPTIONS + create headers for SDS_SIZES
  function ButtonIconSizeOption({
    sdsType,
    sdsSize,
  }: {
    sdsType: SDSTypes[number];
    sdsSize: SDSSizes[number];
  }) {
    const LABEL_STYLE: React.CSSProperties = {
      ...MID_LABEL,
      borderWidth: "2px",
      fontSize: "1.17em",
      margin: "20px 0",
    };

    return (
      <div style={DISPLAY_CONTENTS}>
        <p style={LABEL_STYLE}>
          Size: <b>{sdsSize}</b>
        </p>
        {BUTTON_ICON_DISABLED_OPTIONS.map((disabled) => {
          return (
            <ButtonIconDisabledOption
              sdsType={sdsType}
              sdsSize={sdsSize}
              disabled={disabled}
              key={String(disabled)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all PSEUDO_STATES + create headers for DISABLED_OPTIONS, PSEUDO_STATES
  function ButtonIconDisabledOption({
    sdsType,
    sdsSize,
    disabled,
  }: {
    sdsType: SDSTypes[number];
    sdsSize: SDSSizes[number];
    disabled: (typeof BUTTON_ICON_DISABLED_OPTIONS)[number];
  }) {
    const SDS_ICONS = {
      primary: {
        large: "Cube",
        medium: "Cube",
        small: "Cube",
      },
      secondary: {
        large: "ExclamationMarkCircle",
        medium: "ExclamationMarkCircle",
        small: "ExclamationMarkCircle",
      },
      tertiary: {
        large: "XMark",
        medium: "XMark",
        small: "XMark",
      },
    };
    const DISABLED_LEVEL: React.CSSProperties = {
      display: "contents",
    };
    const PSEUDO_STATE_LEVEL: React.CSSProperties = {
      marginBottom: 10,
    };
    const PSEUDO_STATE_LABEL: React.CSSProperties = {
      fontSize: "0.67em",
      margin: "10px 0",
    };

    return (
      <div style={DISABLED_LEVEL}>
        {BUTTON_ICON_PSEUDO_STATES.map((state) => {
          // eslint-disable-next-line @typescript-eslint/ban-ts-comment
          // @ts-ignore: invalid `icon` is skipped in <ButtonIconTypeOption />
          const icon = SDS_ICONS[sdsType][sdsSize];

          return (
            <div style={PSEUDO_STATE_LEVEL} key={`div-${state}`}>
              {/* remove irrelevant disabled iterations: when combined with all pseudo-states except default, `disabled=false` is impossible */}
              {(disabled === false ||
                (disabled === true && state === "default")) && (
                <>
                  <p style={PSEUDO_STATE_LABEL}>
                    {disabled === false ? "State: " : "Disabled: "}
                    <br />
                    <b>{disabled === false ? state : "true"}</b>
                  </p>
                  <RawButton
                    aria-label={icon}
                    icon={icon as keyof IconNameToSizes}
                    data-testid="button-icon"
                    sdsStyle="icon"
                    sdsType={sdsType}
                    sdsSize={sdsSize}
                    disabled={disabled}
                    className={`pseudo-${state}`}
                    key={state}
                  />
                </>
              )}
            </div>
          );
        })}
      </div>
    );
  }
};
</file>

<file path="packages/components/src/core/Button/__storybook__/constants.tsx">
import { action } from "@storybook/addon-actions";
import CustomSdsIcon from "src/common/storybook/customSdsIcon";
import CustomSvgIcon from "src/common/storybook/customSvgIcon";
import { SDSSizes, SDSTypes } from "src/core/ButtonIcon/__storybook__/types";

export const BUTTON_EXCLUDED_CONTROLS = [
  "endIcon",
  "startIcon",
  "onClick",
  "sdsStyle",
  "sdsType",
  "text",
  "label",
  "disabled",
  "sdsSize",
  "icon",
  "sdsIconProps",
  "isAllCaps",
];

export const BUTTON_SDS_STYLES = ["rounded", "square", "minimal", "icon"];

export const BUTTON_SDS_SIZE = ["small", "medium", "large"];

export const BUTTON_SDS_TYPES = [
  "primary",
  "secondary",
  "tertiary",
  "destructive",
];

export const BUTTON_TEXT = "Label";

export const BUTTON_ICON_OPTIONS = [
  undefined,
  "XMark",
  "Download",
  "Copy",
  "DotsHorizontal",
  "Cube",
  <CustomSdsIcon key="customSdsIcon" />,
  <CustomSvgIcon key="customIcon" />,
];

export const BUTTON_ICON_LABELS = [
  "No Icon",
  "SDS Icon: XMark",
  "SDS Icon: Download",
  "SDS Icon: Copy",
  "SDS Icon: DotsHorizontal",
  "SDS Icon: Cube",
  "Custom SDS Icon",
  "Custom SVG Icon",
];

export const BUTTON_DISABLED_OPTIONS = [false, true];

export const BUTTON_PSEUDO_STATES = [
  "default",
  "hover",
  "active",
  "focus-visible",
];

export const BUTTON_ACTIONS = {
  onClick: action("onClick"),
};

export const SCREENSHOT_BUTTON_ICON_OPTIONS = [undefined, "Download"];

export const SCREENSHOT_BUTTON_SDS_STYLES = ["rounded", "square", "minimal"];

export const SCREENSHOT_BUTTON_SDS_SIZE = ["small", "medium", "large"];

export const SCREENSHOT_BUTTON_SDS_TYPES = [
  "primary",
  "secondary",
  "destructive",
];

export const DEFAULT_PLACEMENT_STYLES: React.CSSProperties = {
  display: "grid",
  gridColumnGap: "10px",
  gridRowGap: "0px",
  gridTemplateColumns: "repeat(6, 120px)",
  gridTemplateRows: "1fr",
};

export const MINIMAL_PLACEMENT_STYLES: React.CSSProperties = {
  display: "grid",
  gridColumnGap: "24px",
  gridRowGap: "0px",
  gridTemplateColumns: "repeat(3, min-content)",
  gridTemplateRows: "1fr",
};

export const BUTTON_ICON_SDS_TYPES: SDSTypes = [
  "primary",
  "secondary",
  "tertiary",
];

export const BUTTON_ICON_SDS_SIZES: SDSSizes = ["large", "medium", "small"];

export const BUTTON_ICON_DISABLED_OPTIONS = [false, true];

export const BUTTON_ICON_PSEUDO_STATES = [
  "default",
  "hover",
  "active",
  "focus-visible",
];
</file>

<file path="packages/components/src/core/Button/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { ScreenshotTestDemo } from "./stories/screenshot";
import {
  BUTTON_ACTIONS,
  BUTTON_EXCLUDED_CONTROLS,
  BUTTON_SDS_STYLES,
  BUTTON_SDS_TYPES,
  BUTTON_SDS_SIZE,
  BUTTON_ICON_LABELS,
  BUTTON_ICON_OPTIONS,
} from "./constants";
import { Button } from "./stories/default";
import { BADGE } from "src/common/storybook/storybookBadges";

export default {
  argTypes: {
    endIcon: {
      control: {
        labels: BUTTON_ICON_LABELS,
        type: "select",
      },
      if: { arg: "sdsStyle", neq: "icon" },
      mapping: BUTTON_ICON_OPTIONS,
      options: Object.keys(BUTTON_ICON_OPTIONS),
    },
    icon: {
      control: {
        labels: BUTTON_ICON_LABELS,
        type: "select",
      },
      if: { arg: "sdsStyle", eq: "icon" },
      mapping: BUTTON_ICON_OPTIONS,
      options: Object.keys(BUTTON_ICON_OPTIONS),
    },
    isAllCaps: {
      control: { type: "boolean" },
    },
    onClick: { action: BUTTON_ACTIONS.onClick },
    sdsSize: {
      control: {
        labels: BUTTON_SDS_SIZE,
        type: "select",
      },
      if: { arg: "sdsStyle", eq: "icon" },
      mapping: BUTTON_SDS_SIZE,
      options: Object.keys(BUTTON_SDS_SIZE),
    },
    sdsStyle: {
      control: { type: "select" },
      options: BUTTON_SDS_STYLES,
    },
    sdsType: {
      control: { type: "select" },
      options: BUTTON_SDS_TYPES,
    },
    startIcon: {
      control: {
        labels: BUTTON_ICON_LABELS,
        type: "select",
      },
      if: { arg: "sdsStyle", neq: "icon" },
      mapping: BUTTON_ICON_OPTIONS,
      options: Object.keys(BUTTON_ICON_OPTIONS),
    },
    text: {
      control: {
        type: "text",
      },
      if: { arg: "sdsStyle", neq: "icon" },
    },
  },
  component: Button,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Buttons/Button",
} as Meta;

// Default

export const Default = {
  args: {
    disabled: false,
    icon: "Cube",
    sdsSize: "medium",
    sdsStyle: "rounded",
    sdsType: "primary",
    text: "Label",
  },
};

// Screenshot Test

export const ScreenshotTest = {
  args: {
    label: "Label",
  },
  parameters: {
    controls: {
      exclude: BUTTON_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ScreenshotTestDemo {...args} />,
};

// Test

export const Test = {
  args: {
    disabled: false,
    sdsStyle: "rounded",
    sdsType: "primary",
    text: "Label",
  },
  parameters: {
    controls: {
      exclude: BUTTON_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (props: Args) => <Button {...props} data-testid="button" />,
};
</file>

<file path="packages/components/src/core/Button/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<button /> Default story renders snapshot 1`] = `
<button
  class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-ufz8f0-MuiButtonBase-root-MuiButton-root"
  icon="Cube"
  tabindex="0"
  text="Label"
  type="button"
>
  Label
  <span
    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
  />
</button>
`;
</file>

<file path="packages/components/src/core/Button/__tests__/Button.namespace-test.tsx">
import React from "react";
import { Button, ButtonProps } from "@czi-sds/components";

const ButtonNameSpaceTest = (props: ButtonProps) => {
  return (
    <>
      <Button sdsType="primary" sdsStyle="square">
        Primary Square Button
      </Button>

      <Button sdsType="secondary" sdsStyle="square">
        Secondary Square Button
      </Button>

      <Button sdsType="destructive" sdsStyle="square">
        Destructive Square Button
      </Button>

      <Button sdsType="primary" sdsStyle="rounded">
        Primary Rounded Button
      </Button>

      <Button sdsType="secondary" sdsStyle="square">
        Secondary Rounded Button
      </Button>

      <Button sdsType="destructive" sdsStyle="square">
        Destructive Rounded Button
      </Button>

      <Button sdsType="primary" sdsStyle="minimal">
        Primary Minimal Button
      </Button>

      <Button sdsType="secondary" sdsStyle="minimal">
        Secondary Minimal Button
      </Button>

      <Button sdsType="primary" sdsStyle="icon" icon="Bacteria">
        Primary Icon Button
      </Button>

      <Button sdsType="secondary" sdsStyle="icon" icon="Bacteria">
        Secondary Icon Button
      </Button>

      <Button sdsType="tertiary" sdsStyle="icon" icon="Bacteria">
        Tertiary Icon Button
      </Button>
    </>
  );
};
</file>

<file path="packages/components/src/core/Button/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

const { Test } = composeStories(stories);

describe("<button />", () => {
  generateSnapshots(stories);

  it("renders Button component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("button");
    expect(elements.length).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/Button/index.tsx">
import { ButtonProps as RawButtonProps } from "@mui/material";
import React, { ForwardedRef, HTMLAttributeAnchorTarget } from "react";
import {
  SDSWarningTypes,
  showWarningIfFirstOccurence,
} from "src/common/warnings";
import { StyledButton, StyledButtonLegacy, StyledMinimalButton } from "./style";
import ButtonIcon from "../ButtonIcon";
import { IconNameToSizes, IconProps } from "../Icon";
import { filterProps } from "src/common/utils";

export type ButtonType = "primary" | "secondary" | "tertiary" | "destructive";

export type ButtonTypeMap = {
  icon: "primary" | "secondary" | "tertiary";
  minimal: "primary" | "secondary";
  rounded: "primary" | "secondary" | "destructive";
  square: "primary" | "secondary" | "destructive";
};

export type ButtonSize = "small" | "medium" | "large";

interface BaseButtonProps extends RawButtonProps {
  children?: React.ReactNode;
  isAllCaps?: boolean;
  target?: HTMLAttributeAnchorTarget;
}

export interface SdsIconButtonProps extends BaseButtonProps {
  sdsStyle: "icon";
  sdsType?: ButtonTypeMap["icon"];
  sdsSize?: ButtonSize;
  icon: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
  sdsIconProps?: Partial<IconProps<keyof IconNameToSizes>>;
}

export interface SdsMinimalButtonProps extends BaseButtonProps {
  sdsStyle: "minimal";
  sdsType?: ButtonTypeMap["minimal"];
  children: React.ReactNode;
}

export interface SdsButtonProps extends BaseButtonProps {
  sdsStyle: "rounded" | "square";
  isRounded?: boolean;
  sdsType?: ButtonTypeMap["rounded" | "square"];
  children: React.ReactNode;
}

export type SdsProps =
  | SdsIconButtonProps
  | SdsMinimalButtonProps
  | SdsButtonProps;

export type ButtonProps = SdsProps;

/**
 * (masoudmanson): The MUI variant prop is determined by the sdsType prop.
 */
const MUI_VARIANT_MAP: { [key in ButtonType]: ButtonProps["variant"] } = {
  destructive: "contained",
  primary: "contained",
  secondary: "outlined",
  tertiary: "text",
};

/**
 * @see https://mui.com/material-ui/react-button/
 */
const Button = React.forwardRef(
  (
    props: ButtonProps,
    ref: ForwardedRef<HTMLButtonElement>
  ): JSX.Element | null => {
    const { sdsStyle = "square", sdsType } = props;

    if (!sdsStyle || !sdsType) {
      showWarningIfFirstOccurence(SDSWarningTypes.ButtonMissingSDSProps);
    }

    if (sdsStyle === "icon" && typeof props?.isAllCaps === "boolean") {
      showWarningIfFirstOccurence(SDSWarningTypes.ButtonMinimalIsAllCaps);
    }

    // isAllCaps is only used for the Minimal Button.
    // It defaults to true for the Minimal Button.
    // It defaults to false for all other buttons.
    const isAllCaps =
      typeof props?.isAllCaps === "boolean"
        ? props?.isAllCaps
        : sdsStyle === "minimal";

    type PropsWithDefaultsType = ButtonProps & { isAllCaps?: boolean };
    const propsWithDefault: PropsWithDefaultsType = { ...props, isAllCaps };

    switch (true) {
      case sdsStyle === "icon": {
        const iconProps = props as SdsIconButtonProps;
        if (iconProps?.icon !== undefined) {
          // (masoudmanson): We need to remove the props that are not supported by
          // the ButtonIcon component.
          const excludedProps: (keyof PropsWithDefaultsType)[] = [
            "startIcon",
            "endIcon",
            "sdsStyle",
            "isAllCaps",
            "sdsType",
          ];
          const finalProps = filterProps(propsWithDefault, excludedProps);

          return (
            <ButtonIcon
              icon={iconProps?.icon}
              {...finalProps}
              sdsType={sdsType as Exclude<ButtonType, "destructive">}
              ref={ref}
            />
          );
        } else {
          showWarningIfFirstOccurence(
            SDSWarningTypes.ButtonIconMissingIconProp
          );
          return null;
        }
      }

      case sdsStyle === "minimal":
        return (
          <StyledMinimalButton
            color="primary"
            variant="text"
            {...propsWithDefault}
            ref={ref}
            data-style={sdsStyle}
          />
        );

      case sdsStyle === "rounded":
      case sdsStyle === "square":
        return (
          <StyledButton
            color="primary"
            variant={sdsType ? MUI_VARIANT_MAP[sdsType] : "text"}
            {...propsWithDefault}
            ref={ref}
          />
        );

      default:
        return <StyledButtonLegacy {...propsWithDefault} ref={ref} />;
    }
  }
);

export default Button;
</file>

<file path="packages/components/src/core/Button/style.ts">
import { Button, buttonClasses } from "@mui/material";
import styled from "@emotion/styled";
import { css, SerializedStyles } from "@emotion/react";
import {
  CommonThemeProps,
  fontBodySemiboldXs,
  fontCapsXxxs,
  fontCapsXxs,
  getCorners,
  getIconSizes,
  getSemanticColors,
  getShadows,
  getSpaces,
  fontBodySemiboldXxs,
  fontBody,
} from "src/core/styles";
import { focusVisibleA11yStyle } from "src/core/styles/common/mixins/a11y";
import { ButtonProps } from ".";

const doNotForwardProps = [
  "isAllCaps",
  "isRounded",
  "sdsStyle",
  "sdsType",
  "sdsSize",
  "hasInvertedStyle",
  "customTheme",
];

type ButtonExtraProps = ButtonProps & CommonThemeProps;

// Rounded + Square Button Styles

const ButtonStyles = (props: ButtonExtraProps): SerializedStyles => {
  const { variant, startIcon, endIcon, isAllCaps } = props;
  const spaces = getSpaces(props);
  const iconSizes = getIconSizes(props);
  const semanticColors = getSemanticColors(props);

  const hasIcon = !!startIcon || !!endIcon;

  // (masoudmanson): The padding depends on the presence of an icon.
  // If the component has either a startIcon or endIcon, the padding will be spaces?.m pixels.
  // If the component doesn't have any icon at all, the padding will be spaces?.l pixels.
  const padding = hasIcon
    ? `${spaces?.xxs}px ${spaces?.m}px`
    : `${spaces?.xs}px ${spaces?.m}px`;

  const contentColor =
    variant === "outlined"
      ? semanticColors?.accent?.textAction
      : semanticColors?.base?.textOnFill;

  const ornamentColor =
    variant === "outlined"
      ? semanticColors?.accent?.ornament
      : semanticColors?.base?.ornamentOnFill;

  const backgroundColor =
    variant === "outlined"
      ? "transparent"
      : semanticColors?.accent?.fillPrimary;

  const disabledBackgroundColor =
    variant === "outlined" ? "transparent" : semanticColors?.base?.fillDisabled;

  const disabledBorder =
    variant === "outlined"
      ? `inset 0 0 0 1px ${semanticColors?.base?.borderPrimaryDisabled}`
      : "none";

  const boxshadow =
    variant === "outlined"
      ? `inset 0 0 0 1px ${semanticColors?.accent?.border}`
      : "none";

  fontBody("xs", "semibold");

  return css`
    background-color: ${backgroundColor};
    border: none;
    box-shadow: ${boxshadow};
    padding: ${padding};
    color: ${contentColor};
    line-height: ${isAllCaps ? "20px" : "unset"};
    white-space: nowrap;
    min-width: fit-content;

    svg {
      color: ${ornamentColor};
    }

    &:hover {
      color: ${semanticColors?.base?.textPrimaryInverse};
      background-color: ${semanticColors?.accent?.fillHover};
      border: none;
      box-shadow: inset 0 0 0 1px ${semanticColors?.accent?.borderHover};

      svg {
        color: ${semanticColors?.base?.ornamentPrimaryInverse};
      }
    }

    &:active {
      color: ${semanticColors?.base?.textPrimaryInverse};
      background-color: ${semanticColors?.accent?.fillPressed};
      border: none;
      box-shadow: inset 0 0 0 1px ${semanticColors?.accent?.fillPressed};

      svg {
        color: ${semanticColors?.base?.ornamentPrimaryInverse};
      }
    }

    &:disabled {
      color: ${semanticColors?.base?.textDisabled};
      background-color: ${disabledBackgroundColor};
      box-shadow: ${disabledBorder};
      border: none;

      svg {
        color: ${semanticColors?.base?.ornamentDisabled};
      }
    }

    .${buttonClasses.startIcon}, .${buttonClasses.endIcon} {
      height: ${iconSizes?.l?.width}px;
      display: flex;
      align-items: center;
      justify-content: center;

      svg {
        max-width: ${iconSizes?.l?.width}px;
        max-height: ${iconSizes?.l?.width}px;
      }
    }

    .${buttonClasses.startIcon} {
      margin-right: ${spaces?.s}px;
      margin-left: 0;
    }

    .${buttonClasses.endIcon} {
      margin-left: ${spaces?.s}px;
      margin-right: 0;
    }
  `;
};

const Rounded = (): SerializedStyles => {
  return css`
    border-radius: 100px;
  `;
};

const DestructiveButton = (props: ButtonExtraProps): SerializedStyles => {
  const { variant } = props;
  const shadows = getShadows(props);
  const semanticColors = getSemanticColors(props);

  const contentColor =
    variant === "outlined"
      ? semanticColors?.negative?.text
      : semanticColors?.base?.textOnFill;

  const ornamentColor =
    variant === "outlined"
      ? semanticColors?.negative?.ornament
      : semanticColors?.base?.ornamentOnFill;

  const backgroundColor =
    variant === "outlined"
      ? "transparent"
      : semanticColors?.negative?.fillPrimary;

  const boxshadow =
    variant === "outlined"
      ? `inset 0 0 0 1px ${semanticColors?.negative?.border}`
      : "none";

  return css`
    border: none;
    box-shadow: ${boxshadow};
    color: ${contentColor};
    background-color: ${backgroundColor};

    svg {
      color: ${ornamentColor};
    }

    &:hover {
      color: ${semanticColors?.base?.textPrimaryInverse};
      background-color: ${semanticColors?.negative?.fillHover};
      border: none;
      box-shadow: inset 0 0 0 1px ${semanticColors?.negative?.fillHover};

      svg {
        color: ${semanticColors?.base?.ornamentPrimaryInverse};
      }
    }

    &:active {
      color: ${semanticColors?.base?.textPrimaryInverse};
      background-color: ${semanticColors?.negative?.fillPressed};
      border: none;
      box-shadow: inset 0 0 0 1px ${semanticColors?.negative?.fillPressed};

      svg {
        color: ${semanticColors?.base?.ornamentPrimaryInverse};
      }
    }

    &:disabled {
      color: ${semanticColors?.base?.textDisabled};
      background-color: ${semanticColors?.base?.fillDisabled};
      border: none;
      box-shadow: ${shadows?.none};

      svg {
        color: ${semanticColors?.base?.ornamentDisabled};
      }
    }
  `;
};

export const StyledButton = styled(Button, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${focusVisibleA11yStyle}

  ${(props: ButtonExtraProps) => {
    const { sdsStyle, sdsType, isAllCaps } = props;

    return css`
      ${isAllCaps ? fontCapsXxs(props) : fontBodySemiboldXs(props)}

      ${ButtonStyles(props)}
      ${sdsStyle === "rounded" && Rounded()}
      ${sdsType === "destructive" && DestructiveButton(props)}
    `;
  }}
`;

// Minimal Button Styles

const Minimal = (props: ButtonExtraProps): SerializedStyles => {
  const { isAllCaps } = props;

  const spaces = getSpaces(props);
  const iconSizes = getIconSizes(props);
  const semanticColors = getSemanticColors(props);

  return css`
    ${focusVisibleA11yStyle(props)}
    ${isAllCaps ? fontCapsXxxs(props) : fontBodySemiboldXxs(props)}

    min-width: fit-content;
    padding: ${isAllCaps ? spaces?.s : 7}px ${spaces?.s}px;

    &:hover,
    &:focus-visible {
      color: ${semanticColors?.accent?.textActionHover};

      svg {
        color: ${semanticColors?.accent?.ornamentHover};
      }
    }

    &:hover {
      background-color: ${semanticColors?.base?.fillHover};
    }

    &:active {
      color: ${semanticColors?.accent?.textActionPressed};
      background-color: ${semanticColors?.base?.fillHover};

      svg {
        color: ${semanticColors?.accent?.ornamentPressed};
      }
    }

    &:disabled {
      color: ${semanticColors?.base?.textDisabled};

      svg {
        color: ${semanticColors?.base?.ornamentDisabled};
      }
    }

    .${buttonClasses.startIcon}, .${buttonClasses.endIcon} {
      height: ${iconSizes?.s?.width}px;
      display: flex;
      align-items: center;
      justify-content: center;

      svg {
        max-width: ${iconSizes?.s?.width}px;
        max-height: ${iconSizes?.s?.width}px;
      }
    }

    .${buttonClasses.startIcon} {
      margin-right: ${spaces?.xxs}px;
      margin-left: 0;
    }

    .${buttonClasses.endIcon} {
      margin-left: ${spaces?.xxs}px;
      margin-right: 0;
    }
  `;
};

const PrimaryMinimalButton = (props: ButtonExtraProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    ${Minimal(props)}
    color: ${semanticColors?.accent?.textAction};

    svg {
      color: ${semanticColors?.accent?.ornament};
    }
  `;
};

const SecondaryMinimalButton = (props: ButtonExtraProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    ${Minimal(props)}
    color: ${semanticColors?.base?.textPrimary};

    svg {
      color: ${semanticColors?.base?.ornamentPrimary};
    }
  `;
};

export const StyledMinimalButton = styled(Button, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: ButtonExtraProps) => {
    const { sdsType } = props;

    return css`
      ${sdsType === "primary" && PrimaryMinimalButton(props)}
      ${sdsType === "secondary" && SecondaryMinimalButton(props)}
    `;
  }}
`;

// Legacy support for backwards-compatible props
interface IsRounded extends CommonThemeProps {
  isRounded?: boolean;
}

export const StyledButtonLegacy = styled(Button, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${focusVisibleA11yStyle}
  ${(props: IsRounded) => {
    if (!props.isRounded) return ``;

    const corners = getCorners(props);
    const spaces = getSpaces(props);

    return `
      border-radius: ${corners?.l}px;
      padding: ${spaces?.xs}px ${spaces?.m}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/ButtonDropdown/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawButtonDropdown from "src/core/ButtonDropdown";
import { BUTTON_DROPDOWN_TEXT } from "../constants";
import {
  InvalidIconButtonPropsError,
  InvalidSdsTypeDestructiveError,
  InvalidSdsTypeTertiaryError,
} from "src/core/Button/__storybook__/stories/default";

export const ButtonDropdown = (props: Args): JSX.Element => {
  const { sdsStyle, icon, sdsType, ...rest } = props;

  if (sdsStyle === "icon" && icon === undefined) {
    return InvalidIconButtonPropsError;
  }

  if (sdsStyle !== "icon" && sdsType === "tertiary") {
    return InvalidSdsTypeTertiaryError;
  }

  if (sdsStyle === "icon" && sdsType === "destructive") {
    return InvalidSdsTypeDestructiveError;
  }

  return (
    <RawButtonDropdown
      sdsStyle={sdsStyle}
      icon={icon}
      sdsType={sdsType}
      {...rest}
    >
      {BUTTON_DROPDOWN_TEXT}
    </RawButtonDropdown>
  );
};
</file>

<file path="packages/components/src/core/ButtonDropdown/__storybook__/constants.tsx">
import { action } from "@storybook/addon-actions";
import CustomSdsIcon from "src/common/storybook/customSdsIcon";
import CustomSvgIcon from "src/common/storybook/customSvgIcon";

export const BUTTON_DROPDOWN_EXCLUDED_CONTROLS = [
  "disabled",
  "icon",
  "sdsStyle",
  "sdsType",
  "onClick",
];

export const BUTTON_DROPDOWN_TEXT = "Label";

export const BUTTON_DROPDOWN_ACTIONS = {
  onClick: action("onClick"),
};

export const BUTTON_DROPDOWN_ICON_OPTIONS = [
  "Download",
  "Copy",
  "CirclesOverlap2",
  "TrashCan",
  <CustomSdsIcon key="customSdsIcon" />,
  <CustomSvgIcon key="customIcon" />,
];

export const BUTTON_DROPDOWN_ICON_LABELS = [
  "SDS Icon: Download",
  "SDS Icon: Copy",
  "SDS Icon: CirclesOverlap2",
  "SDS Icon: TrashCan",
  "Custom SDS Icon",
  "Custom SVG Icon",
];
</file>

<file path="packages/components/src/core/ButtonDropdown/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import Icon from "src/core/Icon";
import {
  BUTTON_DROPDOWN_ACTIONS,
  BUTTON_DROPDOWN_EXCLUDED_CONTROLS,
  BUTTON_DROPDOWN_ICON_LABELS,
  BUTTON_DROPDOWN_ICON_OPTIONS,
  BUTTON_DROPDOWN_TEXT,
} from "./constants";
import { ButtonDropdown } from "./stories/default";
import { BADGE } from "src/common/storybook/storybookBadges";

export default {
  argTypes: {
    disabled: {
      control: { type: "boolean" },
    },
    icon: {
      control: {
        labels: BUTTON_DROPDOWN_ICON_LABELS,
        type: "select",
      },
      mapping: BUTTON_DROPDOWN_ICON_OPTIONS,
      options: Object.keys(BUTTON_DROPDOWN_ICON_OPTIONS),
    },
    sdsSize: {
      control: {
        type: "radio",
      },
      if: { arg: "sdsStyle", eq: "icon" },
      options: ["small", "medium", "large"],
    },
    sdsStyle: {
      control: { type: "radio" },
      options: ["rounded", "square", "icon"],
      required: true,
    },
    sdsType: {
      control: { type: "radio" },
      options: ["primary", "secondary", "tertiary", "destructive"],
      required: true,
    },
  },
  component: ButtonDropdown,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Buttons/ButtonDropdown",
} as Meta;

// Default

export const Default = {
  args: {
    disabled: false,
    icon: "Download",
    onClick: BUTTON_DROPDOWN_ACTIONS.onClick,
    sdsSize: "medium",
    sdsStyle: "square",
    sdsType: "primary",
  },
};

// Test

export const Test = {
  args: {
    disabled: false,
    icon: <Icon sdsIcon="Download" sdsSize="l" />,
    onClick: BUTTON_DROPDOWN_ACTIONS.onClick,
    sdsStyle: "rounded",
    sdsType: "primary",
  },
  parameters: {
    controls: {
      exclude: BUTTON_DROPDOWN_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (props: Args): JSX.Element => {
    return (
      <ButtonDropdown data-testid="button-dropdown" {...props}>
        {BUTTON_DROPDOWN_TEXT}
      </ButtonDropdown>
    );
  },
};
</file>

<file path="packages/components/src/core/ButtonDropdown/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<ButtonDropdown /> Default story renders snapshot 1`] = `
<button
  class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-bgxiuw-MuiButtonBase-root-MuiButton-root"
  icon="Download"
  tabindex="0"
  type="button"
>
  <span
    class="MuiButton-icon MuiButton-startIcon MuiButton-iconSizeMedium css-1d6wzja-MuiButton-startIcon"
  >
    <div
      class="css-1ft6wgl"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
        data-file-name="IconDownloadLarge"
        data-testid="IconDownloadLarge"
        fillcontrast="white"
        focusable="false"
        height="24"
        viewBox="0 0 24 24"
        width="24"
      />
    </div>
  </span>
  Label
  <span
    class="MuiButton-icon MuiButton-endIcon MuiButton-iconSizeMedium css-9tj150-MuiButton-endIcon"
  >
    <div
      class="css-1ft6wgl"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
        data-file-name="IconChevronDownSmall"
        data-testid="IconChevronDownSmall"
        fillcontrast="white"
        focusable="false"
        height="16"
        viewBox="0 0 16 16"
        width="16"
      />
    </div>
  </span>
  <span
    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
  />
</button>
`;
</file>

<file path="packages/components/src/core/ButtonDropdown/__tests__/ButtonDropdown.namespace-test.tsx">
import React from "react";
import { ButtonDropdown, ButtonDropdownProps, Icon } from "@czi-sds/components";

const ButtonDropdownNameSpaceTest = (props: ButtonDropdownProps) => {
  return (
    <>
      <ButtonDropdown sdsType="primary" sdsStyle="rounded">
        Primary Rounded Button Dropdown
      </ButtonDropdown>

      <ButtonDropdown sdsType="secondary" sdsStyle="rounded">
        Secondary Rounded Button Dropdown
      </ButtonDropdown>

      <ButtonDropdown sdsType="destructive" sdsStyle="rounded">
        Destructive Rounded Button Dropdown
      </ButtonDropdown>

      <ButtonDropdown sdsType="primary" sdsStyle="square">
        Primary Square Button Dropdown
      </ButtonDropdown>

      <ButtonDropdown sdsType="secondary" sdsStyle="square">
        Secondary Square Button Dropdown
      </ButtonDropdown>

      <ButtonDropdown sdsType="destructive" sdsStyle="square">
        Destructive Square Button Dropdown
      </ButtonDropdown>

      <ButtonDropdown sdsType="primary" sdsStyle="icon" icon="Download">
        Primary Icon Button Dropdown with SDS Icon
      </ButtonDropdown>

      <ButtonDropdown sdsType="secondary" sdsStyle="icon" icon="Download">
        Secondary Icon Button Dropdown with SDS Icon
      </ButtonDropdown>

      <ButtonDropdown sdsType="tertiary" sdsStyle="icon" icon="Download">
        Tertiary Icon Button Dropdown with SDS Icon
      </ButtonDropdown>

      <ButtonDropdown
        sdsType="primary"
        sdsStyle="icon"
        icon={<Icon sdsSize="xl" sdsIcon="Download" />}
      >
        Primary Icon Button Dropdown with ReactNode icon
      </ButtonDropdown>
    </>
  );
};
</file>

<file path="packages/components/src/core/ButtonDropdown/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<ButtonDropdown />", () => {
  generateSnapshots(stories);

  it("renders ButtonDropdown component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("button-dropdown");
    expect(elements.length).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/ButtonDropdown/index.tsx">
import React, { ForwardedRef } from "react";
import Button, {
  ButtonProps,
  ButtonSize,
  ButtonTypeMap,
} from "src/core/Button";
import Icon, { IconNameToSizes, IconProps } from "src/core/Icon";
import ButtonIcon from "../ButtonIcon";
import {
  SDSWarningTypes,
  showWarningIfFirstOccurence,
} from "src/common/warnings";

type SdsProps =
  | {
      sdsStyle: "icon";
      sdsType?: ButtonTypeMap["icon"];
      icon: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
      sdsIconProps?: Partial<IconProps<keyof IconNameToSizes>>;
      sdsSize?: ButtonSize;
    }
  | {
      sdsStyle: "rounded" | "square";
      sdsType?: ButtonTypeMap["rounded"];
      icon?: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
      sdsIconProps?: Partial<IconProps<keyof IconNameToSizes>>;
      sdsSize?: ButtonSize;
    };

export type ButtonDropdownProps = ButtonProps & SdsProps;

/**
 * @see https://mui.com/material-ui/react-button/
 */
const ButtonDropdown = React.forwardRef(
  (
    props: ButtonDropdownProps,
    ref: ForwardedRef<HTMLButtonElement>
  ): JSX.Element | null => {
    const { sdsStyle } = props;

    if (sdsStyle === "icon") {
      if (!props.icon) {
        showWarningIfFirstOccurence(SDSWarningTypes.ButtonIconMissingIconProp);
        return null;
      }
      return <ButtonIcon {...props} ref={ref} />;
    }

    if (sdsStyle === "square" || sdsStyle === "rounded") {
      const iconItem = () => {
        if (props?.icon) {
          return typeof props?.icon === "string" ? (
            <Icon {...props?.sdsIconProps} sdsIcon={props?.icon} sdsSize="xl" />
          ) : (
            props?.icon
          );
        }
        return null;
      };

      return (
        <Button
          {...props}
          endIcon={<Icon sdsIcon="ChevronDown" sdsSize="xs" />}
          sdsStyle={sdsStyle}
          ref={ref}
          startIcon={iconItem()}
        />
      );
    }

    showWarningIfFirstOccurence(SDSWarningTypes.ButtonDropdownMinimal);
    return null;
  }
);

export default ButtonDropdown;
</file>

<file path="packages/components/src/core/ButtonIcon/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawButtonIcon from "src/core/ButtonIcon";
import Callout from "src/core/Callout";
import Icon from "src/core/Icon";

export const ButtonIcon = (props: Args): JSX.Element => {
  const { icon, ...rest } = props;

  return (
    <>
      <Callout
        intent="negative"
        title="Deprecated!"
        sdsStyle="persistent"
        icon={<Icon sdsIcon="ExclamationMarkCircle" sdsSize="l" />}
        body={
          <>
            The <strong>ButtnoIcon</strong> component is deprecated!
            <br />
            Please use <strong>Button</strong> component with{" "}
            <strong>Icon</strong> style instead.
          </>
        }
      >
        The <strong>Alert</strong> component is deprecated!
      </Callout>
      <RawButtonIcon icon={icon} sdsSize="medium" sdsType="primary" {...rest} />
    </>
  );
};
</file>

<file path="packages/components/src/core/ButtonIcon/__storybook__/stories/screenshots.tsx">
import { IconNameToSizes } from "src/core/Icon";
import ButtonIcon from "../..";
import {
  BUTTON_ICON_DISABLED_OPTIONS,
  BUTTON_ICON_PSEUDO_STATES,
  BUTTON_ICON_SDS_SIZES,
  BUTTON_ICON_SDS_TYPES,
} from "../constants";
import { SDSSizes, SDSTypes } from "../types";

export const ScreenshotTestDemo = (): JSX.Element => {
  const DISPLAY_CONTENTS: React.CSSProperties = {
    display: "contents",
  };
  const MID_LABEL: React.CSSProperties = {
    borderStyle: "solid none none none",
    gridColumn: "1 / 6",
    justifySelf: "stretch",
    paddingTop: 10,
  };

  // loop through all SDS_TYPES
  return (
    <>
      {BUTTON_ICON_SDS_TYPES.map((sdsType) => {
        return <ButtonIconTypeOption sdsType={sdsType} key={sdsType} />;
      })}
    </>
  );

  // loop through all SDS_SIZES + create headers for SDS_TYPES
  function ButtonIconTypeOption({ sdsType }: { sdsType: SDSTypes[number] }) {
    const LEVEL_STYLE: React.CSSProperties = {
      columnGap: "20px",
      display: "inline-grid",
      fontFamily: "sans-serif",
      marginRight: "50px",
    };
    const LABEL_STYLE: React.CSSProperties = {
      fontSize: "2em",
      gridColumn: "1 / 6",
      marginBottom: 0,
    };
    return (
      <div style={LEVEL_STYLE}>
        <p style={LABEL_STYLE}>
          Type: <b>{sdsType}</b>
        </p>
        {BUTTON_ICON_SDS_SIZES.map((sdsSize) => {
          return (
            <ButtonIconSizeOption
              sdsType={sdsType}
              sdsSize={sdsSize}
              key={sdsSize}
            />
          );
        })}
      </div>
    );
  }

  // loop through all ON_OPTIONS + create headers for SDS_SIZES
  function ButtonIconSizeOption({
    sdsType,
    sdsSize,
  }: {
    sdsType: SDSTypes[number];
    sdsSize: SDSSizes[number];
  }) {
    const LABEL_STYLE: React.CSSProperties = {
      ...MID_LABEL,
      borderWidth: "2px",
      fontSize: "1.17em",
      margin: "20px 0",
    };

    return (
      <div style={DISPLAY_CONTENTS}>
        <p style={LABEL_STYLE}>
          Size: <b>{sdsSize}</b>
        </p>
        {BUTTON_ICON_DISABLED_OPTIONS.map((disabled) => {
          return (
            <ButtonIconDisabledOption
              sdsType={sdsType}
              sdsSize={sdsSize}
              disabled={disabled}
              key={String(disabled)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all PSEUDO_STATES + create headers for DISABLED_OPTIONS, PSEUDO_STATES
  function ButtonIconDisabledOption({
    sdsType,
    sdsSize,
    disabled,
  }: {
    sdsType: SDSTypes[number];
    sdsSize: SDSSizes[number];
    disabled: (typeof BUTTON_ICON_DISABLED_OPTIONS)[number];
  }) {
    const SDS_ICONS = {
      primary: {
        large: "Cube",
        medium: "Cube",
        small: "Cube",
      },
      secondary: {
        large: "ExclamationMarkCircle",
        medium: "ExclamationMarkCircle",
        small: "ExclamationMarkCircle",
      },
      tertiary: {
        large: "XMark",
        medium: "XMark",
        small: "XMark",
      },
    };
    const DISABLED_LEVEL: React.CSSProperties = {
      display: "contents",
    };
    const PSEUDO_STATE_LEVEL: React.CSSProperties = {
      marginBottom: 10,
    };
    const PSEUDO_STATE_LABEL: React.CSSProperties = {
      fontSize: "0.67em",
      margin: "10px 0",
    };

    return (
      <div style={DISABLED_LEVEL}>
        {BUTTON_ICON_PSEUDO_STATES.map((state) => {
          // eslint-disable-next-line @typescript-eslint/ban-ts-comment
          // @ts-ignore: invalid `icon` is skipped in <ButtonIconTypeOption />
          const icon = SDS_ICONS[sdsType][sdsSize];

          return (
            <div style={PSEUDO_STATE_LEVEL} key={`div-${state}`}>
              {/* remove irrelevant disabled iterations: when combined with all pseudo-states except default, `disabled=false` is impossible */}
              {(disabled === false ||
                (disabled === true && state === "default")) && (
                <>
                  <p style={PSEUDO_STATE_LABEL}>
                    {disabled === false ? "State: " : "Disabled: "}
                    <br />
                    <b>{disabled === false ? state : "true"}</b>
                  </p>
                  <ButtonIcon
                    aria-label={icon}
                    icon={icon as keyof IconNameToSizes}
                    data-testid="button-icon"
                    sdsType={sdsType}
                    sdsSize={sdsSize}
                    disabled={disabled}
                    className={`pseudo-${state}`}
                    key={state}
                  />
                </>
              )}
            </div>
          );
        })}
      </div>
    );
  }
};
</file>

<file path="packages/components/src/core/ButtonIcon/__storybook__/constants.tsx">
import CustomSdsIcon from "src/common/storybook/customSdsIcon";
import CustomSvgIcon from "src/common/storybook/customSvgIcon";
import { SDSSizes, SDSTypes } from "./types";

export const BUTTON_ICON_EXCLUDED_CONTROLS = [
  "disabled",
  "icon",
  "sdsSize",
  "sdsType",
];

export const BUTTON_ICON_SDS_TYPES: SDSTypes = [
  "primary",
  "secondary",
  "tertiary",
];

export const BUTTON_ICON_SDS_SIZES: SDSSizes = ["large", "medium", "small"];

export const BUTTON_ICON_DISABLED_OPTIONS = [false, true];

export const BUTTON_ICON_PSEUDO_STATES = [
  "default",
  "hover",
  "active",
  "focus",
];

export const BUTTON_ICON_ICON_OPTIONS = [
  "InfoCircle",
  "DotsHorizontal",
  "Virus",
  "XMark",
  <CustomSdsIcon key="customSdsIcon" />,
  <CustomSvgIcon key="customIcon" />,
];

export const BUTTON_ICON_ICON_LABELS = [
  "SDS Icon: InfoCircle",
  "SDS Icon: DotsHorizontal",
  "SDS Icon: Virus",
  "SDS Icon: XMark",
  "Custom SDS Icon",
  "Custom Icon",
];
</file>

<file path="packages/components/src/core/ButtonIcon/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import RawButtonIcon from "src/core/ButtonIcon";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { ButtonIcon } from "./stories/default";
import {
  BUTTON_ICON_EXCLUDED_CONTROLS,
  BUTTON_ICON_ICON_LABELS,
  BUTTON_ICON_ICON_OPTIONS,
} from "./constants";
import { ScreenshotTestDemo } from "./stories/screenshots";

export default {
  argTypes: {
    disabled: {
      control: {
        type: "boolean",
      },
    },
    icon: {
      control: {
        labels: BUTTON_ICON_ICON_LABELS,
        type: "select",
      },
      mapping: BUTTON_ICON_ICON_OPTIONS,
      options: Object.keys(BUTTON_ICON_ICON_OPTIONS),
    },
    sdsSize: {
      control: {
        type: "select",
      },
      options: ["small", "medium", "large"],
    },
    sdsType: {
      control: {
        type: "select",
      },
      options: ["primary", "secondary", "tertiary"],
    },
  },
  component: ButtonIcon,
  parameters: {
    badges: [BADGE.DEPRECATED],
  },
  title: "Deprecated/ButtonIcon [deprecated]",
} as Meta;

// Default

export const Default = {
  args: {
    "aria-label": "info",
    disabled: false,
    icon: "InfoCircle",
    sdsSize: "large",
    sdsType: "primary",
  },
};

// Screenshot test

export const ScreenshotTest = {
  parameters: {
    controls: {
      exclude: BUTTON_ICON_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ScreenshotTestDemo {...args} />,
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: BUTTON_ICON_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (): JSX.Element => {
    return (
      <RawButtonIcon
        aria-label="dotsHorizontal"
        data-testid="iconButton"
        icon="DotsHorizontal"
        sdsSize="medium"
        sdsType="primary"
      />
    );
  },
};
</file>

<file path="packages/components/src/core/ButtonIcon/__storybook__/types.ts">
export type SDSTypes = NonNullable<"primary" | "secondary" | "tertiary">[];

export type SDSStyles = NonNullable<"icon">[];

export type SDSSizes = NonNullable<"small" | "medium" | "large">[];
</file>

<file path="packages/components/src/core/ButtonIcon/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<ButtonIcon /> Default story renders snapshot 1`] = `
<div
  class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation0 MuiAlert-root MuiAlert-colorSuccess MuiAlert-standardSuccess MuiAlert-standard css-oe84q2-MuiPaper-root-MuiAlert-root"
  intent="negative"
  role="alert"
  style="opacity: 1; transform: none; transition: opacity 0ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,transform 0ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;"
>
  <div
    class="MuiAlert-icon css-1ytlwq5-MuiAlert-icon"
  >
    <div
      class="css-1ft6wgl"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
        data-file-name="IconExclamationMarkCircleLarge"
        data-testid="IconExclamationMarkCircleLarge"
        fillcontrast="white"
        focusable="false"
        height="24"
        viewBox="0 0 24 24"
        width="24"
      />
    </div>
  </div>
  <div
    class="MuiAlert-message css-1pxa9xg-MuiAlert-message"
  >
    <div
      class="MuiTypography-root MuiTypography-body1 MuiTypography-gutterBottom MuiAlertTitle-root css-9esnjf-MuiTypography-root-MuiAlertTitle-root"
    >
      Deprecated!
    </div>
    <p
      class="css-1gwsrfo"
    >
      The 
      <strong>
        ButtnoIcon
      </strong>
       component is deprecated!
      <br />
      Please use 
      <strong>
        Button
      </strong>
       component with
       
      <strong>
        Icon
      </strong>
       style instead.
    </p>
  </div>
  <div
    class="MuiAlert-action css-ki1hdl-MuiAlert-action"
  >
    <button
      aria-label="Close"
      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit MuiIconButton-sizeSmall css-1e0d89p-MuiButtonBase-root-MuiIconButton-root"
      tabindex="0"
      title="Close"
      type="button"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeSmall css-ptiqhd-MuiSvgIcon-root"
        data-testid="CloseIcon"
        focusable="false"
        viewBox="0 0 24 24"
      >
        <path
          d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"
        />
      </svg>
      <span
        class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
      />
    </button>
  </div>
</div>
`;
</file>

<file path="packages/components/src/core/ButtonIcon/__tests__/ButtonIcon.namespace-test.tsx">
import React from "react";
import { ButtonIcon, ButtonIconProps, Icon } from "@czi-sds/components";

const ButtonIconNameSpaceTest = (props: ButtonIconProps) => {
  return (
    <ButtonIcon size="large" sdsType="primary" {...props}>
      <Icon sdsIcon="Download" sdsSize="l" />
    </ButtonIcon>
  );
};
</file>

<file path="packages/components/src/core/ButtonIcon/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<ButtonIcon />", () => {
  generateSnapshots(stories);

  it("renders ButtonIcon component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("iconButton");
    expect(elements.length).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/ButtonIcon/index.tsx">
import { IconButtonProps as RawButtonIconProps } from "@mui/material";
import { ForwardedRef, forwardRef } from "react";
import Icon, { IconNameToSizes, IconProps } from "src/core/Icon";
import { ButtonIconExtraProps, StyledButtonIcon } from "./style";

export interface ButtonIconInternalProps {
  icon: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
  /**
   * @deprecated
   * (masoudmanson): This prop is deprecated and will be removed in the next major version.
   * Please use `icon` instead.
   */
  sdsIcon?: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
  sdsIconProps?: Partial<IconProps<keyof IconNameToSizes>>;
}

export type ButtonIconProps = ButtonIconExtraProps &
  RawButtonIconProps &
  ButtonIconInternalProps;

type IconSizeType = "xs" | "s" | "l" | "xl";

const ButtonIconSizeToSdsIconSize = {
  large: "xl",
  medium: "l",
  small: "s",
};

/**
 * @see https://mui.com/material-ui/react-button/#icon-buttons
 *
 * @deprecated
 * This component is deprecated and will be removed in the next major version.
 * Please use `Button` or `ButtonDropdown` with `sdsStyle: icon` instead.
 */
const ButtonIcon = forwardRef(function ButtonIcon(
  props: ButtonIconProps,
  ref: ForwardedRef<HTMLButtonElement | null>
): JSX.Element {
  /**
   * After deprecating `sdsIcon` prop, we need to remove it from the props object
   * and use `icon` prop instead. The icon prop won't need to be aliased to newIcon
   * in the future.
   */
  const { icon: newIcon, sdsIcon, sdsIconProps, sdsSize = "large" } = props;
  const iconSize = ButtonIconSizeToSdsIconSize[sdsSize];

  /**
   * After deprecating the `sdsIcon` prop, the `icon` prop will be the only prop
   * to be used for the icon.
   */
  const icon = newIcon || sdsIcon;

  const iconItem = () => {
    if (icon) {
      if (typeof icon !== "string") {
        return icon;
      } else {
        return (
          <Icon
            {...sdsIconProps}
            sdsIcon={icon}
            sdsSize={iconSize as IconSizeType}
          />
        );
      }
    }
  };

  return (
    <StyledButtonIcon {...props} ref={ref}>
      {iconItem()}
    </StyledButtonIcon>
  );
});

export default ButtonIcon;
</file>

<file path="packages/components/src/core/ButtonIcon/style.ts">
import { css, SerializedStyles } from "@emotion/react";
import { IconButton } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  focusVisibleA11yStyle,
  getIconSizes,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export interface ButtonIconExtraProps extends CommonThemeProps {
  disabled?: boolean;
  sdsSize?: "small" | "medium" | "large";
  sdsType?: "primary" | "secondary" | "tertiary";
}

const isDisabled = (props: ButtonIconExtraProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    color: ${semanticColors?.base?.ornamentDisabled};

    svg {
      color: ${semanticColors?.base?.ornamentDisabled};
    }
  `;
};

const primary = (props: ButtonIconExtraProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    color: ${semanticColors?.accent?.ornament};

    svg {
      color: ${semanticColors?.accent?.ornament};
    }

    &:hover {
      background: ${semanticColors?.base?.fillHover};
      color: ${semanticColors?.accent?.ornamentHover};

      svg {
        color: ${semanticColors?.accent?.ornamentHover};
      }
    }

    &:active {
      background: ${semanticColors?.base?.fillPressed};
      color: ${semanticColors?.accent?.ornamentPressed};

      svg {
        color: ${semanticColors?.accent?.ornamentPressed};
      }
    }
  `;
};

const secondary = (props: ButtonIconExtraProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    color: ${semanticColors?.base?.ornamentSecondary};

    svg {
      color: ${semanticColors?.base?.ornamentSecondary};
    }

    &:hover {
      background: ${semanticColors?.base?.fillHover};
      color: ${semanticColors?.accent?.ornamentHover};

      svg {
        color: ${semanticColors?.accent?.ornamentHover};
      }
    }

    &:active {
      background: ${semanticColors?.base?.fillPressed};
      color: ${semanticColors?.accent?.ornamentPressed};

      svg {
        color: ${semanticColors?.accent?.ornamentPressed};
      }
    }
  `;
};

const tertiary = (props: ButtonIconExtraProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    color: ${semanticColors?.base?.ornamentSecondary};

    svg {
      color: ${semanticColors?.base?.ornamentSecondary};
    }

    &:hover {
      background: none;
      color: ${semanticColors?.base?.ornamentSecondaryHover};

      svg {
        color: ${semanticColors?.base?.ornamentSecondaryHover};
      }
    }

    &:active {
      background: none;
      color: ${semanticColors?.base?.ornamentSecondaryPressed};

      svg {
        color: ${semanticColors?.base?.ornamentSecondaryPressed};
      }
    }
  `;
};

const small = (props: ButtonIconExtraProps): SerializedStyles => {
  const { sdsType } = props;
  const iconSizes = getIconSizes(props);
  const spaces = getSpaces(props);

  return css`
    ${sdsType !== "tertiary"
      ? `margin: 0 ${spaces?.xxs}px ${spaces?.xxs}px 0;`
      : ""}

    .MuiSvgIcon-root {
      height: ${iconSizes?.s.height}px;
      width: ${iconSizes?.s.width}px;
      ${sdsType !== "tertiary" ? `margin: ${spaces?.xs}px;` : ""}
    }
  `;
};

const medium = (props: ButtonIconExtraProps): SerializedStyles => {
  const { sdsType } = props;
  const iconSizes = getIconSizes(props);
  const spaces = getSpaces(props);

  return css`
    ${sdsType !== "tertiary"
      ? `margin: 0 ${spaces?.xxs}px ${spaces?.xxs}px 0;`
      : ""}

    .MuiSvgIcon-root {
      height: ${iconSizes?.l.height}px;
      width: ${iconSizes?.l.width}px;
      ${sdsType !== "tertiary" ? `margin: ${spaces?.xs}px;` : ""}
    }
  `;
};

const large = (props: ButtonIconExtraProps): SerializedStyles => {
  const { sdsType } = props;
  const iconSizes = getIconSizes(props);
  const spaces = getSpaces(props);

  return css`
    ${sdsType !== "tertiary"
      ? `margin: 0 ${spaces?.s}px ${spaces?.s}px 0;`
      : ""}

    .MuiSvgIcon-root {
      height: ${iconSizes?.xl.height}px;
      width: ${iconSizes?.xl.height}px;
      ${sdsType !== "tertiary" ? `margin: ${spaces?.xxs}px;` : ""}
    }
  `;
};

const doNotForwardProps = [
  "on",
  "sdsSize",
  "sdsType",
  "sdsStyle",
  "sdsIcon",
  "sdsIconProps",
  "customTheme",
];

export const StyledButtonIcon = styled(IconButton, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  padding: 0;
  ${focusVisibleA11yStyle}

  ${(props: ButtonIconExtraProps) => {
    const { disabled, sdsSize = "medium", sdsType = "primary" } = props;

    return css`
      ${sdsType === "primary" && primary(props)}
      ${sdsType === "secondary" && secondary(props)}
      ${sdsType === "tertiary" && tertiary(props)}
      ${disabled && isDisabled(props)}
      ${sdsSize === "small" && small(props)}
      ${sdsSize === "medium" && medium(props)}
      ${sdsSize === "large" && large(props)}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/ButtonToggle/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawButtonToggle from "src/core/ButtonToggle";

export const ButtonToggle = (props: Args): JSX.Element => {
  const { icon } = props;

  return <RawButtonToggle aria-label="button-toggle" icon={icon} {...props} />;
};
</file>

<file path="packages/components/src/core/ButtonToggle/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import ButtonToggle from "src/core/ButtonToggle";

export const TestDemo = (props: Args): JSX.Element => {
  const { icon } = props;

  return (
    <ButtonToggle
      data-testid="button-toggle"
      aria-label="button-toggle"
      icon={icon}
      {...props}
    />
  );
};
</file>

<file path="packages/components/src/core/ButtonToggle/__storybook__/constants.tsx">
import CustomSdsIcon from "src/common/storybook/customSdsIcon";
import CustomSvgIcon from "src/common/storybook/customSvgIcon";

export const BUTTON_TOGGLE_EXCLUDED_CONTROLS = [
  "sdsSize",
  "icon",
  "sdsStage",
  "sdsType",
];

export const BUTTON_TOGGLE_ICON_OPTIONS = [
  "InfoCircle",
  "SlidersHorizontal",
  "Filter",
  "DotsHorizontal",
  "LinesHorizontal3",
  <CustomSdsIcon key="customSdsIcon" />,
  <CustomSvgIcon key="customIcon" />,
];

export const BUTTON_TOGGLE_ICON_LABELS = [
  "SDS Icon: InfoCircle (s/m/l)",
  "SDS Icon: SlidersHorizontal (m/l)",
  "SDS Icon: Filter (s)",
  "SDS Icon: DotsHorizontal (s/m/l)",
  "SDS Icon: LinesHorizontal3 (s/m/l)",
  "Custom SDS Icon (s/m/l)",
  "Custom SVG Icon (s/m/l)",
];
</file>

<file path="packages/components/src/core/ButtonToggle/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { ButtonToggle } from "./stories/default";
import {
  BUTTON_TOGGLE_EXCLUDED_CONTROLS,
  BUTTON_TOGGLE_ICON_LABELS,
  BUTTON_TOGGLE_ICON_OPTIONS,
} from "./constants";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    disabled: {
      control: {
        type: "boolean",
      },
    },
    icon: {
      control: {
        labels: BUTTON_TOGGLE_ICON_LABELS,
        type: "select",
      },
      mapping: BUTTON_TOGGLE_ICON_OPTIONS,
      options: Object.keys(BUTTON_TOGGLE_ICON_OPTIONS),
    },
    sdsSize: {
      control: {
        type: "select",
      },
      options: ["small", "medium", "large"],
    },
    sdsStage: {
      control: {
        type: "radio",
      },
      options: ["on", "off"],
    },
    sdsType: {
      control: {
        type: "radio",
      },
      options: ["primary", "secondary"],
    },
  },
  component: ButtonToggle,
  parameters: {
    badges: [BADGE.BETA],
  },
  title: "Components/Buttons/ButtonToggle",
} as Meta;

// Default

export const Default = {
  args: {
    disabled: false,
    icon: "InfoCircle",
    sdsSize: "medium",
    sdsStage: "off",
    sdsType: "primary",
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: BUTTON_TOGGLE_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo icon="InfoCircle" {...args} />,
};
</file>

<file path="packages/components/src/core/ButtonToggle/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<ButtonToggle /> Default story renders snapshot 1`] = `
<button
  aria-label="button-toggle"
  class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-ul4hcs-MuiButtonBase-root-MuiIconButton-root"
  icon="InfoCircle"
  tabindex="0"
  type="button"
>
  <div
    class="css-1ft6wgl"
  >
    <svg
      aria-hidden="true"
      class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
      data-file-name="IconInfoCircleLarge"
      data-testid="IconInfoCircleLarge"
      fillcontrast="white"
      focusable="false"
      height="24"
      viewBox="0 0 24 24"
      width="24"
    />
  </div>
  <span
    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
  />
</button>
`;
</file>

<file path="packages/components/src/core/ButtonToggle/__tests__/ButtonToggle.namespace-test.tsx">
import { ButtonToggle, ButtonToggleProps } from "@czi-sds/components";

const ButtonToggleNameSpaceTest = (props: ButtonToggleProps) => {
  return (
    <ButtonToggle
      sdsSize="medium"
      sdsType="primary"
      sdsStage="off"
      icon="InfoCircle"
      disabled={false}
    />
  );
};
</file>

<file path="packages/components/src/core/ButtonToggle/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { cleanup, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";
import { SDS_WARNINGS, SDSWarningTypes } from "src/common/warnings";

const { Test } = composeStories(stories);

const BUTTON_TOGGLE_TEST_ID = "button-toggle";

describe("<ButtonToggle />", () => {
  generateSnapshots(stories);

  it("renders ButtonToggle component", () => {
    render(<Test {...Test.args} />);
    const panelElement = screen.getByTestId(BUTTON_TOGGLE_TEST_ID);
    expect(panelElement).not.toBeNull();
  });

  it("renders with different sdsSize values", () => {
    render(<Test {...Test.args} sdsSize="small" />);
    const smallButton = screen.getByTestId(BUTTON_TOGGLE_TEST_ID);
    expect(smallButton).toBeInTheDocument();

    // (masoudmanson): cleanup is necessary to avoid having
    // multiple elements with the same test id in the DOM
    cleanup();

    render(<Test {...Test.args} sdsSize="large" />);
    const largeButton = screen.getByTestId(BUTTON_TOGGLE_TEST_ID);
    expect(largeButton).toBeInTheDocument();
  });

  it("renders with different sdsStage values", () => {
    render(<Test {...Test.args} sdsStage="on" />);
    const onStageButton = screen.getByTestId(BUTTON_TOGGLE_TEST_ID);
    expect(onStageButton).toBeInTheDocument();

    cleanup();

    render(<Test {...Test.args} sdsStage="off" />);
    const offStageButton = screen.getByTestId(BUTTON_TOGGLE_TEST_ID);
    expect(offStageButton).toBeInTheDocument();
  });

  it("renders with different sdsType values", () => {
    render(<Test {...Test.args} sdsType="primary" />);
    const primaryButton = screen.getByTestId(BUTTON_TOGGLE_TEST_ID);
    expect(primaryButton).toBeInTheDocument();

    cleanup();

    render(<Test {...Test.args} sdsType="secondary" />);
    const secondaryButton = screen.getByTestId(BUTTON_TOGGLE_TEST_ID);
    expect(secondaryButton).toBeInTheDocument();
  });

  it("displays warning when icon is missing", () => {
    const warnSpy = jest.spyOn(console, "warn").mockImplementation(() => {});
    render(<Test {...Test.args} icon={undefined} />);
    expect(warnSpy).toHaveBeenCalledWith(
      expect.stringContaining(
        SDS_WARNINGS[SDSWarningTypes.ButtonToggleMissingIconProp].message
      )
    );
    warnSpy.mockRestore();
  });

  it("displays an error when an icon doesn't support the ButtonToggle size", () => {
    const errorSpy = jest.spyOn(console, "error").mockImplementation(() => {});
    // (masoudmanson): SlidersHorizontal icon doesn't support the small size
    // make sure to change this to another icon if the SlidersHorizontal icon is updated
    const SdsIconWithoutSmallSize = "SlidersHorizontal";
    render(
      <Test {...Test.args} sdsSize="small" icon={SdsIconWithoutSmallSize} />
    );
    expect(errorSpy).toHaveBeenCalledWith(
      expect.stringContaining(
        `Error: Icon ${SdsIconWithoutSmallSize} not found for size s. This is a @czi-sds/components problem.`
      )
    );
    errorSpy.mockRestore();
  });

  it("renders with disabled state", () => {
    render(<Test {...Test.args} disabled={true} />);
    const disabledButton = screen.getByTestId(BUTTON_TOGGLE_TEST_ID);
    expect(disabledButton).toBeDisabled();
  });
});
</file>

<file path="packages/components/src/core/ButtonToggle/index.tsx">
import React from "react";
import { ButtonProps } from "@mui/material";
import { IconNameToSizes } from "../Icon";
import {
  SDSWarningTypes,
  showWarningIfFirstOccurence,
} from "src/common/warnings";
import { StyledButtonToggle } from "./style";

export interface ButtonToggleProps extends ButtonProps {
  disabled?: boolean;
  icon: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
  sdsSize?: "small" | "medium" | "large";
  sdsStage?: "on" | "off";
  sdsType?: "primary" | "secondary";
}

/**
 * @see https://mui.com/material-ui/react-button/
 */

const ButtonToggle = React.forwardRef<HTMLButtonElement, ButtonToggleProps>(
  (props, ref) => {
    const {
      icon,
      sdsSize = "medium",
      sdsStage = "off",
      sdsType = "primary",
      ...rest
    } = props;

    if (icon !== undefined) {
      return (
        <StyledButtonToggle
          icon={icon}
          sdsType={sdsType}
          sdsSize={sdsSize}
          sdsStage={sdsStage}
          ref={ref}
          {...rest}
        />
      );
    } else {
      showWarningIfFirstOccurence(SDSWarningTypes.ButtonToggleMissingIconProp);
      return null;
    }
  }
);

export default ButtonToggle;
</file>

<file path="packages/components/src/core/ButtonToggle/style.ts">
import styled from "@emotion/styled";
import ButtonIcon from "../ButtonIcon";
import { CommonThemeProps, getSemanticColors } from "../styles";
import { ButtonToggleProps } from ".";

/**
 * (masoudmanson): Since StyledButtonToggle is built on top of ButtonIcon,
 * we only need to exclude the `sdsStage` prop from being forwarded,
 * as it is not a valid prop for ButtonIcon.
 * All other props should be passed down to ButtonIcon; otherwise,
 * the component won’t function as expected.
 */
const doNotForwardProps = ["sdsStage"];

interface ButtonToggleExtraProps extends CommonThemeProps {
  sdsStage?: ButtonToggleProps["sdsStage"];
}

export const StyledButtonToggle = styled(ButtonIcon, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: ButtonToggleExtraProps) => {
    const { sdsStage } = props;
    const semanticColors = getSemanticColors(props);

    return `
      background-color: ${sdsStage === "on" ? semanticColors?.base?.fillOpen : "transparent"};
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Callout/__storybook__/stories/default.tsx">
import { Box, FormControlLabel } from "@mui/material";
import { Args } from "@storybook/react";
import { useState } from "react";
import RawCallout from "src/core/Callout";
import InputToggle from "src/core/InputToggle";
import { SHORT_LOREM_IPSUM } from "src/common/storybook/loremIpsum";
import TooltipTableContent from "src/core/TooltipTable";

export const Callout = (props: Args): JSX.Element => {
  const { intent, autoDismiss, ...rest } = props;

  const [dismissed, setDismissed] = useState(false);

  const handleChange = () => {
    setDismissed((prev) => !prev);
  };

  const finalOnclose = (_: React.SyntheticEvent) => setDismissed(true);

  return (
    <Box sx={{ width: 600 }}>
      {!autoDismiss && (
        <FormControlLabel
          control={<InputToggle checked={dismissed} onChange={handleChange} />}
          label="Hide Callout"
          sx={{
            "& .MuiSwitch-root": {
              mr: "12px",
            },
            margin: "0 0 16px 0",
          }}
        />
      )}
      <RawCallout
        autoDismiss={autoDismiss}
        intent={intent}
        dismissed={dismissed}
        onClose={finalOnclose}
        {...rest}
      >
        {
          <div>
            {SHORT_LOREM_IPSUM}
            <div style={{ marginTop: 10 }}>
              <TooltipTableContent
                data={[
                  {
                    dataRows: [
                      { label: "Lorem ipsum", value: 14.03 },
                      { label: "Dollor", value: 432.53 },
                      { label: "Sit amet", value: "7,776.05" },
                    ],
                  },
                ]}
              />
            </div>
          </div>
        }
      </RawCallout>
    </Box>
  );
};
</file>

<file path="packages/components/src/core/Callout/__storybook__/constants.tsx">
import CustomSdsIcon from "src/common/storybook/customSdsIcon";
import CustomSvgIcon from "src/common/storybook/customSvgIcon";

export const CALLOUT_EXCLUDED_CONTROLS = [
  "autoDismiss",
  "icon",
  "intent",
  "onClose",
  "sdsStyle",
  "hideTitle",
  "hideBody",
  "title",
  "body",
];

export const CALLOUT_ICON_OPTIONS = [
  <CustomSvgIcon key="customSdsIcon" />,
  <CustomSdsIcon key="customSvgIcon" />,
  "Book",
  "CheckCircle",
];

export const CALLOUT_SDS_STYLE_OPTIONS = [
  "persistent",
  "expandable",
  "dismissible",
];
</file>

<file path="packages/components/src/core/Callout/__storybook__/index.stories.tsx">
import { Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { CALLOUT_ICON_OPTIONS, CALLOUT_SDS_STYLE_OPTIONS } from "./constants";
import { Callout } from "./stories/default";

export default {
  argTypes: {
    autoDismiss: {
      control: { type: "select" },
      defaultValue: { summary: "false" },
      description:
        "If set to a number, the callout will automatically dismiss after that many milliseconds. If set to true, the callout will automatically dismiss after 8000 milliseconds.",
      options: [true, false, 4000, 12000, 20000],
    },
    body: {
      control: { type: "text" },
      defaultValue: { summary: "-" },
      description: "The body text of the callout.",
    },
    hideBody: {
      control: { type: "boolean" },
      defaultValue: { summary: "false" },
      description: "If true, the body of the callout will be hidden.",
    },
    hideTitle: {
      control: { type: "boolean" },
      defaultValue: { summary: "false" },
      description: "If true, the title of the callout will be hidden.",
    },
    icon: {
      control: {
        labels: [
          "Custom SVG Icon",
          "Custom SDS Icon",
          "SDS Icon: Book",
          "SDS Icon: Check Circle",
        ],
        type: "select",
      },
      defaultValue: { summary: "-" },
      description:
        "The icon displayed in the Callout. By default, each Callout intent is paired with a corresponding SDS icon.",
      mapping: CALLOUT_ICON_OPTIONS,
      options: Object.keys(CALLOUT_ICON_OPTIONS),
    },
    intent: {
      control: { type: "radio" },
      defaultValue: { summary: "info" },
      description: "The intent of the callout.",
      options: ["info", "negative", "positive", "notice"],
    },
    sdsStyle: {
      control: {
        labels: ["persistent", "expandable", "dismissible"],
        type: "select",
      },
      defaultValue: { summary: "persistent" },
      description:
        "The style of the Callout determines its behavior: Persistent Callouts are always visible, Expandable Callouts can be toggled to show or hide extra content, and Dismissible Callouts can be closed by the user.",
      mapping: CALLOUT_SDS_STYLE_OPTIONS,
      options: Object.keys(CALLOUT_SDS_STYLE_OPTIONS),
    },
    title: {
      control: { type: "text" },
      defaultValue: { summary: "-" },
      description: "The title of the callout.",
    },
  },
  component: Callout,
  parameters: {
    badges: [BADGE.STABLE],
    controls: {
      expanded: true,
    },
  },
  title: "Components/Callout",
} as Meta;

// Default

export const Default = {
  args: {
    autoDismiss: false,
    body: "Callout text — replace the content here and the height of the component will adjust automatically.",
    title: "The callout title goes here",
  },
};
</file>

<file path="packages/components/src/core/Callout/__tests__/Callout.namespace-test.tsx">
import { Callout, CalloutProps, CalloutTitle } from "@czi-sds/components";
import React from "react";

const CalloutNameSpaceTest = (props: CalloutProps) => {
  return (
    <Callout
      {...props}
      autoDismiss
      intent="info"
      dismissed
      title="Title"
      body="This is a callout!"
    />
  );
};
</file>

<file path="packages/components/src/core/Callout/components/CalloutBody/index.tsx">
import { StyledCalloutBody } from "./style";

const CalloutBody = ({
  children,
  hideTitle,
}: {
  children: React.ReactNode;
  hideTitle?: boolean;
}): JSX.Element => {
  return (
    <StyledCalloutBody hideTitle={hideTitle}>{children}</StyledCalloutBody>
  );
};

export default CalloutBody;
</file>

<file path="packages/components/src/core/Callout/components/CalloutBody/style.ts">
import styled from "@emotion/styled";
import { CommonThemeProps, fontBodyXs, getSpaces } from "src/core/styles";

export const StyledCalloutBody = styled("p")`
  ${fontBodyXs}

  ${(props: CommonThemeProps & { hideTitle?: boolean }) => {
    const { hideTitle = false } = props;
    const spaces = getSpaces(props);

    return `
      margin: ${!hideTitle ? spaces?.xs : 0}px 0 0 0;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Callout/components/CalloutExtraContent/index.tsx">
import { StyledCalloutExtraContent } from "./style";

const CalloutExtraContent = ({
  children,
  hideTitle,
  hideBody,
}: {
  children: React.ReactNode;
  hideTitle?: boolean;
  hideBody?: boolean;
}): JSX.Element => {
  return (
    <StyledCalloutExtraContent hideTitle={hideTitle} hideBody={hideBody}>
      {children}
    </StyledCalloutExtraContent>
  );
};

export default CalloutExtraContent;
</file>

<file path="packages/components/src/core/Callout/components/CalloutExtraContent/style.ts">
import styled from "@emotion/styled";
import { CommonThemeProps, getSpaces } from "src/core/styles";

interface CalloutExtraContentProps {
  hideTitle?: boolean;
  hideBody?: boolean;
}

export const StyledCalloutExtraContent = styled("div")`
  ${(props: CommonThemeProps & CalloutExtraContentProps) => {
    const { hideTitle = false, hideBody = false } = props;
    const spaces = getSpaces(props);

    return `
      margin: ${hideTitle && hideBody ? 0 : spaces?.m}px 0 0 0;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Callout/components/CalloutTitle/index.tsx">
import { AlertTitleProps } from "@mui/material/AlertTitle";
import { CALLOUT_TITLE_DISPLAY_NAME } from "src/core/Callout/constants";
import { StyledCalloutTitle } from "./style";

const CalloutTitle = ({ children }: AlertTitleProps): JSX.Element => {
  return <StyledCalloutTitle>{children}</StyledCalloutTitle>;
};

// Display name required to ensure Callout expand works correctly.
CalloutTitle.displayName = CALLOUT_TITLE_DISPLAY_NAME;

export default CalloutTitle;
</file>

<file path="packages/components/src/core/Callout/components/CalloutTitle/style.ts">
import { AlertTitle } from "@mui/material";
import styled from "@emotion/styled";
import { fontBodySemiboldXs } from "src/core/styles";

export const StyledCalloutTitle = styled(AlertTitle)`
  ${fontBodySemiboldXs}
  margin: 0;
`;
</file>

<file path="packages/components/src/core/Callout/constants.ts">
export const CALLOUT_TITLE_DISPLAY_NAME = "CalloutTitle";
</file>

<file path="packages/components/src/core/Callout/index.tsx">
import { AlertProps } from "@mui/lab";
import { Grow } from "@mui/material";
import React, { useEffect, useState } from "react";
import Button from "src/core/Button";
import Icon, { IconNameToSizes, IconProps } from "src/core/Icon";
import { StyledCallout } from "./style";
import CalloutTitle from "./components/CalloutTitle";
import CalloutBody from "./components/CalloutBody";
import CalloutExtraContent from "./components/CalloutExtraContent";

const SDS_STAGE_OPEN = "open";
const SDS_STAGE_CLOSED = "closed";

export type CalloutIntentType = "info" | "negative" | "notice" | "positive";
export type CalloutSdsStyleType = "persistent" | "expandable" | "dismissible";
export interface CalloutProps {
  autoDismiss?: boolean | number;
  dismissed?: boolean;
  icon?: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
  sdsIconProps?: Partial<IconProps<keyof IconNameToSizes>>;
  intent: CalloutIntentType;
  sdsStage?: typeof SDS_STAGE_CLOSED | typeof SDS_STAGE_OPEN;
  title?: string;
  hideTitle?: boolean;
  body?: React.ReactNode;
  hideBody?: boolean;
  extraContent?: React.ReactNode;
  sdsStyle?: CalloutSdsStyleType;
}

export type ExposedCalloutProps = Omit<AlertProps, "severity"> & CalloutProps;

/**
 * @see https://mui.com/material-ui/react-alert/
 */
const Callout = (props: ExposedCalloutProps): JSX.Element => {
  const {
    autoDismiss,
    dismissed,
    icon,
    sdsIconProps,
    intent,
    sdsStage = SDS_STAGE_OPEN,
    title,
    body,
    hideTitle = false,
    hideBody = false,
    sdsStyle = "persistent",
    children,
    ...rest
  } = props;
  const [hide, setHide] = useState(dismissed);
  const [stage, setStage] = useState(sdsStage);

  useEffect(() => {
    setHide(dismissed);

    if (autoDismiss) {
      const timeout = typeof autoDismiss === "boolean" ? 8000 : autoDismiss;
      setTimeout(() => {
        setHide(true);
      }, timeout);
    }
  }, [dismissed, autoDismiss]);

  const handleClose = (event: React.SyntheticEvent<Element, Event>) => {
    setHide(true);
    if (props?.onClose) props?.onClose(event);
  };

  const getIcon = () => {
    if (icon !== undefined) {
      if (typeof icon !== "string") {
        return icon;
      } else {
        return (
          <Icon
            sdsSize="l"
            sdsIcon={icon as keyof IconNameToSizes}
            {...sdsIconProps}
          />
        );
      }
    } else {
      switch (intent) {
        case "positive":
          return <Icon sdsSize="l" sdsIcon="CheckCircle" />;
        case "info":
          return <Icon sdsSize="l" sdsIcon="InfoCircle" />;
        default:
          return <Icon sdsSize="l" sdsIcon="ExclamationMarkCircle" />;
      }
    }
  };

  const getAction = (collapsed: boolean) => {
    if (sdsStyle === "expandable") {
      return (
        <Button
          aria-label={collapsed ? "open" : "close"}
          onClick={() => {
            setStage(collapsed ? SDS_STAGE_OPEN : SDS_STAGE_CLOSED);
          }}
          sdsSize="small"
          sdsType="tertiary"
          sdsStyle="icon"
          icon={collapsed ? "ChevronDown" : "ChevronUp"}
        />
      );
    } else if (sdsStyle === "dismissible") {
      return (
        <Button
          aria-label="Dismiss"
          onClick={handleClose}
          sdsSize="small"
          sdsType="tertiary"
          sdsStyle="icon"
          size="large"
          icon="XMark"
        />
      );
    }

    return null;
  };

  const collapsed =
    (sdsStyle === "expandable" && stage === SDS_STAGE_CLOSED) || false;

  return (
    <Grow in={!hide}>
      <StyledCallout
        onClose={handleClose}
        action={getAction(collapsed)}
        icon={getIcon()}
        intent={intent}
        collapsed={collapsed || false}
        sdsStyle={sdsStyle}
        hideBody={hideBody}
        {...rest}
      >
        {!hideTitle && <CalloutTitle>{title}</CalloutTitle>}
        {!hideBody && <CalloutBody hideTitle={hideTitle}>{body}</CalloutBody>}
        {sdsStyle === "expandable" && !collapsed && (
          <CalloutExtraContent hideTitle={hideTitle} hideBody={hideBody}>
            {children}
          </CalloutExtraContent>
        )}
      </StyledCallout>
    </Grow>
  );
};

export default Callout;
</file>

<file path="packages/components/src/core/Callout/style.ts">
import {
  Alert,
  AlertProps,
  alertClasses,
  alertTitleClasses,
} from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBodyXs,
  getCorners,
  getIconSizes,
  getPalette,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";
import { CalloutProps as MainCalloutProps } from "src/core/Callout";

interface CalloutExtraProps extends CommonThemeProps, MainCalloutProps {
  collapsed?: boolean;
}

type CalloutProps = Omit<AlertProps, "severity"> & CalloutExtraProps;

const doNotForwardProps = [
  "calloutTitle",
  "collapsed",
  "severity",
  "sdsStyle",
  "hideBody",
];

export const StyledCallout = styled(Alert, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontBodyXs}

  ${(props: CalloutProps) => {
    const { intent = "info", sdsStyle, hideBody, collapsed } = props;

    const spaces = getSpaces(props);
    const corners = getCorners(props);
    const iconSizes = getIconSizes(props);
    const palette = getPalette(props);
    const semanticColors = getSemanticColors(props);

    const iconColor = semanticColors?.[intent]?.ornament ?? "black";
    const backgroundColor =
      semanticColors?.[intent]?.surfaceSecondary ?? "white";

    return `
      margin: ${spaces?.m}px 0;
      border-radius: ${corners?.m}px;
      color: ${palette?.text?.primary};
      padding: ${spaces?.m}px;
      background-color: ${backgroundColor};
      align-items: ${(hideBody && sdsStyle === "expandable" && collapsed) || (hideBody && sdsStyle !== "expandable") ? "center" : "flex-start"};

      .${alertClasses.icon} {
        height: ${iconSizes?.l.height}px;
        width: ${iconSizes?.l.width}px;
        margin-right: ${spaces?.s}px;
        padding: 0;

        path {
          fill: ${iconColor};
        }
      }

      .${alertClasses.message} {
        width: 100%;
        padding: 0;
        margin: 0;

        .${alertTitleClasses.root} {
          margin: 0;
        }
      }

      .${alertClasses.action} {
        display: ${sdsStyle === "persistent" ? "none" : "block"};
        margin: 0 0 0 ${spaces?.s}px;
        padding: 0;
        align-items: flex-start;

        > button {
          padding: 0;
        }
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/CellBasic/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawCellBasic from "src/core/CellBasic";

export const CellBasic = (props: Args): JSX.Element => {
  return (
    <table>
      <tbody>
        <tr>
          <RawCellBasic
            data-testid="CellBasic"
            primaryText="Primary Text"
            tooltipProps={{ sdsStyle: "light" }}
            {...props}
          />
        </tr>
      </tbody>
    </table>
  );
};
</file>

<file path="packages/components/src/core/CellBasic/__storybook__/stories/test.tsx">
import { SHORT_LOREM_IPSUM } from "src/common/storybook/loremIpsum";
import Icon from "src/core/Icon";
import {
  CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_OPTIONS,
  CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_OPTIONS,
} from "../constants";
import { StyledCellBasic } from "../style";

export const TestDemo = (): JSX.Element => (
  <table>
    <tbody>
      <tr>
        <StyledCellBasic
          data-testid="CellBasicVerticalAlignTest"
          primaryText="Primary Text"
          secondaryText={SHORT_LOREM_IPSUM}
          secondaryTextWrapLineCount={2}
          verticalAlign="bottom"
          shouldTextWrap
          shouldShowTooltipOnHover={false}
        />
        <StyledCellBasic
          primaryText="Primary Text"
          secondaryText="Secondary Text"
          horizontalAlign="left"
          shouldShowTooltipOnHover={false}
        />
        <StyledCellBasic
          data-testid="CellBasic"
          primaryText="Primary Text"
          secondaryText="Secondary Text"
          tertiaryText="Tertiary Text"
          horizontalAlign="right"
          tooltipProps={{ sdsStyle: "dark", title: "testTooltipTitle" }}
        />
      </tr>
      <tr>
        <StyledCellBasic
          data-testid="CellBasicWithIcon"
          primaryText="Primary Text"
          secondaryText="Secondary Text"
          tertiaryText="Tertiary Text"
          shouldShowTooltipOnHover={false}
          icon={<Icon sdsSize="l" sdsIcon="Bacteria" />}
        />
        <StyledCellBasic
          primaryText="Primary Text"
          primaryTextComponentSlotRight={
            CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_OPTIONS[2]
          }
          secondaryText="Secondary Text"
          tertiaryText="Tertiary Text"
          shouldShowTooltipOnHover={false}
        />
        <StyledCellBasic
          primaryText="Primary Text"
          primaryTextComponentSlotRight={
            CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_OPTIONS[3]
          }
          shouldShowTooltipOnHover={false}
          secondaryText="Secondary Text"
          tertiaryText="Tertiary Text"
        />
      </tr>
      <tr>
        <StyledCellBasic
          primaryText="Primary Text"
          primaryTextComponentSlotBottom={
            CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_OPTIONS[2]
          }
          shouldShowTooltipOnHover={false}
        />
        <StyledCellBasic
          primaryText="Primary Text"
          primaryTextComponentSlotBottom={
            CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_OPTIONS[3]
          }
          shouldShowTooltipOnHover={false}
        />
        <StyledCellBasic
          primaryText="Primary Text"
          primaryTextComponentSlotBottom={
            CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_OPTIONS[2]
          }
          primaryTextComponentSlotRight={
            CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_OPTIONS[3]
          }
          shouldShowTooltipOnHover={false}
        />
      </tr>
    </tbody>
  </table>
);
</file>

<file path="packages/components/src/core/CellBasic/__storybook__/constants.tsx">
import Icon from "src/core/Icon";
import Tag from "src/core/Tag";
import {
  ButtonIconsGroupBottom,
  ButtonIconsGroupRight,
  EmptySlotBottom,
  EmptySlotRight,
  StyledButton,
} from "./style";

export const CELL_BASIC_EXCLUDED_CONTROLS = [
  "icon",
  "iconVerticalAlign",
  "primaryText",
  "primaryTextWrapLineCount",
  "secondaryText",
  "secondaryTextWrapLineCount",
  "tertiaryText",
  "tertiaryTextWrapLineCount",
  "shouldShowTooltipOnHover",
  "shouldTextWrap",
  "tooltipProps",
  "horizontalAlign",
  "verticalAlign",
  "primaryTextComponentSlotBottom",
  "primaryTextComponentSlotRight",
  "width",
];

export const CELL_BASIC_ICON_OPTIONS = [
  undefined,
  <Icon sdsSize="xs" sdsIcon="Download" key="download" />,
  <Icon sdsSize="s" sdsIcon="LightBulb" key="lightBulb" />,
  <Icon sdsSize="l" sdsIcon="Bacteria" key="bacteria" />,
  <Icon sdsSize="xl" sdsIcon="Flask" key="flask" />,
];

export const CELL_BASIC_ICON_LABELS = [
  "No Icon",
  "XS Download",
  "S Light bulb",
  "L Bacteria",
  "XL Flask",
];

export const CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_OPTIONS = [
  undefined,
  <EmptySlotRight key="componentSlotRight-0">Empty Slot</EmptySlotRight>,
  <Tag
    label="lorem ipsum"
    hover={false}
    sdsStyle="rounded"
    sdsType="secondary"
    style={{ margin: 0 }}
    key="componentSlotRight-1"
  />,
  <ButtonIconsGroupRight key="componentSlotRight-2">
    <StyledButton
      aria-label="Bar Chart Vertical 4"
      icon="BarChartVertical4"
      sdsSize="small"
      sdsType="primary"
      sdsStyle="icon"
    />
    <StyledButton
      aria-label="Copy"
      icon="Copy"
      sdsSize="small"
      sdsType="primary"
      sdsStyle="icon"
    />
    <StyledButton
      aria-label="Search Lines Horizontal 3"
      icon="SearchLinesHorizontal3"
      sdsSize="small"
      sdsType="primary"
      sdsStyle="icon"
    />
    <StyledButton
      aria-label="Download"
      icon="Download"
      sdsSize="small"
      sdsType="primary"
      sdsStyle="icon"
    />
  </ButtonIconsGroupRight>,
];

export const CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_LABELS = [
  "No Component",
  "Empty Slot",
  "Tag",
  "Icon Group",
];

export const CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_OPTIONS = [
  undefined,
  <EmptySlotBottom key="componentSlotBottom-0">Empty Slot</EmptySlotBottom>,
  <div key="componentSlotBottom-1">
    <Tag
      label="lorem ipsum"
      hover={false}
      sdsStyle="rounded"
      sdsType="secondary"
    />
    <Tag label="dollor" hover={false} sdsStyle="rounded" sdsType="secondary" />
    <Tag
      label="sit amet"
      hover={false}
      sdsStyle="rounded"
      sdsType="secondary"
    />
  </div>,
  <ButtonIconsGroupBottom key="componentSlotBottom-2">
    <StyledButton
      aria-label="Bar Chart Vertical 4"
      icon="BarChartVertical4"
      sdsSize="small"
      sdsType="tertiary"
      sdsStyle="icon"
    />
    <StyledButton
      aria-label="Copy"
      icon="Copy"
      sdsSize="small"
      sdsType="tertiary"
      sdsStyle="icon"
    />
    <StyledButton
      aria-label="Search Lines Horizontal 3"
      icon="SearchLinesHorizontal3"
      sdsSize="small"
      sdsType="tertiary"
      sdsStyle="icon"
    />
    <StyledButton
      aria-label="Tree Horizontal"
      icon="TreeHorizontal"
      sdsSize="small"
      sdsType="tertiary"
      sdsStyle="icon"
    />
    <StyledButton
      aria-label="Download"
      icon="Download"
      sdsSize="small"
      sdsType="tertiary"
      sdsStyle="icon"
    />
  </ButtonIconsGroupBottom>,
];

export const CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_LABELS = [
  "No Component",
  "Empty Slot",
  "Tag Group",
  "Icon Group",
];
</file>

<file path="packages/components/src/core/CellBasic/__storybook__/index.stories.tsx">
/* eslint-disable no-use-before-define */
import { Args, Meta } from "@storybook/react";
import { CellBasic } from "./stories/default";
import {
  CELL_BASIC_EXCLUDED_CONTROLS,
  CELL_BASIC_ICON_LABELS,
  CELL_BASIC_ICON_OPTIONS,
  CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_LABELS,
  CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_OPTIONS,
  CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_LABELS,
  CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_OPTIONS,
} from "./constants";
import { TestDemo } from "./stories/test";
import { BADGE } from "src/common/storybook/storybookBadges";

export default {
  argTypes: {
    horizontalAlign: {
      control: { type: "select" },
      defaultValue: { summary: "left" },
      description: "Horizontal alignment of the cell",
      options: ["left", "right"],
    },
    icon: {
      control: {
        labels: CELL_BASIC_ICON_LABELS,
        type: "select",
      },
      defaultValue: { summary: "null" },
      description: "Icon to be displayed",
      mapping: CELL_BASIC_ICON_OPTIONS,
      options: Object.keys(CELL_BASIC_ICON_OPTIONS),
    },
    iconVerticalAlign: {
      control: { type: "select" },
      defaultValue: { summary: "top" },
      description: "Vertical alignment of the icon",
      options: ["top", "center", "bottom"],
    },
    primaryText: {
      control: { type: "text" },
      description: "Primary text to be displayed",
    },
    primaryTextComponentSlotBottom: {
      control: {
        labels: CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_LABELS,
        type: "select",
      },
      defaultValue: { summary: "null" },
      description: `Component slot below primary text. This will only show if 
        there is no secondary or tertiary text. Remove the default values of 
        secondary and tertiary text to see this in action.`,
      mapping: CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_OPTIONS,
      options: Object.keys(
        CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_BOTTOM_OPTIONS
      ),
    },
    primaryTextComponentSlotRight: {
      control: {
        labels: CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_LABELS,
        type: "select",
      },
      defaultValue: { summary: "null" },
      description: "Component slot to the right of primary text",
      mapping: CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_OPTIONS,
      options: Object.keys(
        CELL_BASIC_PRIMARY_TEXT_COMPONENT_SLOT_RIGHT_OPTIONS
      ),
    },
    primaryTextWrapLineCount: {
      control: { type: "number" },
      defaultValue: { summary: "3" },
      description: "Number of lines to wrap the primary text",
    },
    secondaryText: {
      control: { type: "text" },
      description: "Secondary text to be displayed",
    },
    secondaryTextWrapLineCount: {
      control: { type: "number" },
      defaultValue: { summary: "1" },
      description: "Number of lines to wrap the secondary text",
    },
    shouldShowTooltipOnHover: {
      control: { type: "boolean" },
      defaultValue: { summary: "true" },
      description: "Show tooltip on hover",
    },
    shouldTextWrap: {
      control: { type: "boolean" },
      defaultValue: { summary: "true" },
      description: "Wrap text",
    },
    tabularNums: {
      control: { type: "boolean" },
      defaultValue: { summary: "true" },
      description: "Whether to display the primary text in tabular numbers",
    },
    tertiaryText: {
      control: { type: "text" },
      defaultValue: { summary: "null" },
      description: "Tertiary text to be displayed",
    },
    tertiaryTextWrapLineCount: {
      control: { type: "number" },
      defaultValue: { summary: "1" },
      description: "Number of lines to wrap the tertiary text",
    },
    tooltipProps: {
      control: { type: "object" },
      defaultValue: { summary: "null" },
      description: "Props for the tooltip",
    },
    verticalAlign: {
      control: { type: "select" },
      defaultValue: { summary: "top" },
      description: "Vertical alignment of the cell",
      options: ["top", "center", "bottom"],
    },
    width: {
      control: { type: "text" },
      defaultValue: { summary: "auto" },
      description: "Width of the cell",
    },
  },
  component: CellBasic,
  parameters: {
    badges: [BADGE.STABLE],
    controls: {
      expanded: true,
    },
  },
  title: "Components/Table/CellBasic",
} as Meta;

// Default

export const Default = {
  args: {
    primaryText: "Primary Text",
    primaryTextWrapLineCount: 3,
    secondaryText: "Secondary Text",
    secondaryTextWrapLineCount: 1,
    shouldShowTooltipOnHover: true,
    shouldTextWrap: true,
    tabularNums: false,
    tertiaryText: "Tertiary Text",
    tertiaryTextWrapLineCount: 1,
    tooltipProps: { sdsStyle: "dark" },
    width: "300px",
  },
};

// Test

export const Test = {
  args: {
    primaryText: "Primary text",
    secondaryText: "Secondary Text",
  },
  parameters: {
    controls: {
      exclude: CELL_BASIC_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/CellBasic/__storybook__/style.ts">
import styled from "@emotion/styled";
import Button from "src/core/Button";
import {
  CommonThemeProps,
  fontBodyXxxs,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";
import CellBasic from "..";

export const ButtonIconsGroupRight = styled("div")`
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      align-items: center;
      display: inline-flex;
      height: 100%;
      border-left: solid 1px ${semanticColors?.base?.divider};
      padding-left: ${spaces?.xs}px;
    `;
  }}
`;

export const ButtonIconsGroupBottom = styled("div")`
  display: inline-flex;
`;

export const StyledButton = styled(Button)`
  svg {
    width: 12px;
    height: 12px;
  }
`;

export const EmptySlotRight = styled("div")`
  ${fontBodyXxxs}

  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      height: 100%;
      min-width: 100px;
      box-shadow: inset 0 0 0 1px ${semanticColors?.base?.divider};
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 ${spaces?.l}px;
      box-sizing: border-box;
      border-radius: 4px;
      color: ${semanticColors?.base?.textDisabled};
      user-select: none;
    `;
  }}
`;

export const EmptySlotBottom = styled("div")`
  ${fontBodyXxxs}

  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      min-height: 20px;
      width: 100%;
      box-shadow: inset 0 0 0 1px ${semanticColors?.base?.divider};
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 ${spaces?.l}px;
      box-sizing: border-box;
      border-radius: 4px;
      color: ${semanticColors?.base?.textDisabled};
      user-select: none;
    `;
  }}
`;

export const StyledCellBasic = styled(CellBasic)`
  ${(props: CommonThemeProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      border: dashed 1px ${semanticColors?.base?.divider};
      height: 70px;
      max-width: 300px;
      width: 300px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/CellBasic/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<CellBasic /> Default story renders snapshot 1`] = `
<table>
  <tbody>
    <tr>
      <td
        class="css-11b4fo2"
        data-mui-internal-clone-element="true"
        data-testid="CellBasic"
        tabindex="0"
        width="300px"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary Text
              </div>
            </div>
            <span
              class="css-7ykbdx"
            >
              Secondary Text
            </span>
            <span
              class="css-7ykbdx"
            >
              Tertiary Text
            </span>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
`;
</file>

<file path="packages/components/src/core/CellBasic/__tests__/CellBasic.namespace-test.tsx">
import { CellBasic, CellBasicProps, Icon } from "@czi-sds/components";
import React from "react";

const CellBasicNameSpaceTest = (props: CellBasicProps) => {
  return (
    <table>
      <tbody>
        <tr>
          <CellBasic
            horizontalAlign="left"
            verticalAlign="center"
            icon={<Icon sdsIcon="Download" sdsSize="l" />}
            iconVerticalAlign="center"
            primaryText="Primary Text"
            primaryTextWrapLineCount={2}
            secondaryText="Secondary Text"
            secondaryTextWrapLineCount={1}
            tertiaryText="Tertiary Text"
            tertiaryTextWrapLineCount={1}
            shouldShowTooltipOnHover
            tooltipProps={{ sdsStyle: "light" }}
            shouldTextWrap
          />
        </tr>
      </tbody>
    </table>
  );
};
</file>

<file path="packages/components/src/core/CellBasic/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<CellBasic />", () => {
  generateSnapshots(stories);

  it("renders cell basic component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("CellBasic");
    expect(elements).toBeTruthy();
  });

  it("renders tooltip on hover", async () => {
    render(<Test />);
    const cellBasicElement = screen.getByTestId("CellBasic");
    fireEvent.mouseOver(cellBasicElement);
    await screen.findByText("testTooltipTitle");
  });

  it("renders text at right side", async () => {
    render(<Test />);
    const cellBasicElement = screen.getByTestId("CellBasic");
    const renderedElement = document.getElementsByClassName(
      cellBasicElement.className
    )[0];
    const style = window.getComputedStyle(renderedElement);
    expect(style.textAlign).toBe("right");
  });

  it("renders text at the bottom", async () => {
    render(<Test />);
    const cellBasicElement = screen.getByTestId("CellBasicVerticalAlignTest");
    const renderedElement = document.getElementsByClassName(
      cellBasicElement.className
    )[0];
    const style = window.getComputedStyle(renderedElement);
    expect(style.verticalAlign).toBe("bottom");
  });

  it("renders icon with a basic cell", async () => {
    render(<Test />);
    const cellBasicElement = screen.getByTestId("CellBasicWithIcon");
    const iconElement = cellBasicElement.getElementsByTagName("svg");
    expect(iconElement).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/CellBasic/index.tsx">
import React, { forwardRef } from "react";
import Tooltip, { TooltipProps } from "src/core/Tooltip";
import {
  CellBasicExtraProps,
  PrimaryText,
  PrimaryTextComponentSlotBottomWrapper,
  PrimaryTextComponentSlotRightWrapper,
  PrimaryTextWrapper,
  SecondaryText,
  StyledCellContent,
  StyledCellContentWrapper,
  StyledCellIconWrapper,
  StyledTableData,
  TertiaryText,
} from "./style";

interface CellBasicContentProps
  extends Omit<React.HTMLProps<HTMLTableCellElement>, "as"> {
  primaryText: string;
  primaryTextWrapLineCount?: number;
  secondaryText?: string;
  secondaryTextWrapLineCount?: number;
  tertiaryText?: string;
  tertiaryTextWrapLineCount?: number;
  shouldTextWrap?: boolean;
  icon?: React.ReactElement<CustomSVGProps>;
  iconVerticalAlign?: "top" | "center" | "bottom";
  primaryTextComponentSlotRight?: React.ReactNode;
  primaryTextComponentSlotBottom?: React.ReactNode;
  horizontalAlign?: "left" | "right";
  tabularNums?: boolean;
}

export interface CellBasicRawProps {
  shouldShowTooltipOnHover?: boolean;
  tooltipProps?: Partial<TooltipProps>;
}

export type CellBasicProps = CellBasicRawProps &
  CellBasicExtraProps &
  CellBasicContentProps;

const CellBasicContent = (props: CellBasicContentProps): JSX.Element | null => {
  const {
    primaryText,
    primaryTextWrapLineCount,
    secondaryText,
    secondaryTextWrapLineCount,
    tertiaryText,
    tertiaryTextWrapLineCount,
    shouldTextWrap = true,
    icon,
    iconVerticalAlign,
    primaryTextComponentSlotRight,
    primaryTextComponentSlotBottom,
    horizontalAlign = "left",
    tabularNums = false,
  } = props;

  return (
    <StyledCellContent>
      {icon && (
        <StyledCellIconWrapper iconVerticalAlign={iconVerticalAlign}>
          {icon}
        </StyledCellIconWrapper>
      )}
      <StyledCellContentWrapper>
        <PrimaryTextWrapper horizontalAlign={horizontalAlign}>
          <PrimaryText
            shouldTextWrap={shouldTextWrap}
            primaryTextWrapLineCount={primaryTextWrapLineCount}
            tabularNums={tabularNums}
          >
            {primaryText}
          </PrimaryText>
          {primaryTextComponentSlotRight && (
            <PrimaryTextComponentSlotRightWrapper>
              {primaryTextComponentSlotRight}
            </PrimaryTextComponentSlotRightWrapper>
          )}
        </PrimaryTextWrapper>

        {!secondaryText && !tertiaryText && primaryTextComponentSlotBottom && (
          <PrimaryTextComponentSlotBottomWrapper>
            {primaryTextComponentSlotBottom}
          </PrimaryTextComponentSlotBottomWrapper>
        )}

        {secondaryText && (
          <SecondaryText
            shouldTextWrap={shouldTextWrap}
            secondaryTextWrapLineCount={secondaryTextWrapLineCount}
            tabularNums={tabularNums}
          >
            {secondaryText}
          </SecondaryText>
        )}

        {tertiaryText && (
          <TertiaryText
            shouldTextWrap={shouldTextWrap}
            tertiaryTextWrapLineCount={tertiaryTextWrapLineCount}
            tabularNums={tabularNums}
          >
            {tertiaryText}
          </TertiaryText>
        )}
      </StyledCellContentWrapper>
    </StyledCellContent>
  );
};

const CellBasic = forwardRef<HTMLTableCellElement, CellBasicProps>(
  (props: CellBasicProps, ref): JSX.Element | null => {
    const {
      primaryText,
      secondaryText,
      shouldShowTooltipOnHover = true,
      tooltipProps,
    } = props;

    if (shouldShowTooltipOnHover) {
      return (
        <Tooltip
          title={primaryText}
          subtitle={secondaryText}
          arrow
          leaveDelay={0}
          leaveTouchDelay={0}
          sdsStyle="dark"
          {...tooltipProps}
        >
          <StyledTableData ref={ref} {...props}>
            <CellBasicContent {...props} />
          </StyledTableData>
        </Tooltip>
      );
    }
    return (
      <StyledTableData ref={ref} {...props}>
        <CellBasicContent {...props} />
      </StyledTableData>
    );
  }
);

export default CellBasic;
</file>

<file path="packages/components/src/core/CellBasic/style.ts">
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  focusVisibleA11yStyle,
  fontBodyS,
  fontBodyXxs,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export interface CellBasicExtraProps extends CommonThemeProps {
  horizontalAlign?: "left" | "right";
  verticalAlign?: "top" | "center" | "bottom";
  iconVerticalAlign?: "top" | "center" | "bottom";
  shouldTextWrap?: boolean;
  primaryTextWrapLineCount?: number;
  secondaryTextWrapLineCount?: number;
  tertiaryTextWrapLineCount?: number;
  tabularNums?: boolean;
}

const doNotForwardProps = [
  "icon",
  "iconVerticalAlign",
  "horizontalAlign",
  "verticalAlign",
  "primaryText",
  "secondaryText",
  "tertiaryText",
  "shouldTextWrap",
  "shouldShowTooltipOnHover",
  "tooltipProps",
  "primaryTextWrapLineCount",
  "secondaryTextWrapLineCount",
  "tertiaryTextWrapLineCount",
  "primaryTextComponentSlotBottom",
  "primaryTextComponentSlotRight",
  "tabularNums",
];

const TABULAR_NUMS = "tabular-nums";

const verticalAlignCSSMap = {
  bottom: "bottom",
  center: "middle",
  top: "top",
};

const verticalAlignToFlexMap = {
  bottom: "flex-end",
  center: "center",
  top: "flex-start",
};

export const StyledTableData = styled("td", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontBodyS}
  ${focusVisibleA11yStyle}

  ${(props: CellBasicExtraProps) => {
    const { horizontalAlign = "left", verticalAlign = "top" } = props;

    const spaces = getSpaces(props);

    return `
        padding: ${spaces?.l}px ${spaces?.m}px;
        text-align: ${horizontalAlign};
        vertical-align: ${verticalAlignCSSMap[verticalAlign]};
        overflow: hidden;
    `;
  }}
`;

const ShouldWrap = (lineCount: number) => {
  return `
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: ${lineCount};
    -webkit-box-orient: vertical; 
    word-break: break-all;
  `;
};

const ShouldTruncate = () => {
  return `
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    word-break: break-all;
  `;
};

export const StyledCellContent = styled("div")`
  display: flex;
`;

export const StyledCellContentWrapper = styled("div")`
  width: 100%;
`;

export const StyledCellIconWrapper = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: CellBasicExtraProps) => {
    const { iconVerticalAlign = "top" } = props;
    const spaces = getSpaces(props);

    return `
      padding-right: ${spaces?.l}px;
      display: flex;
      flex-direction: column;
      justify-content: ${verticalAlignToFlexMap[iconVerticalAlign]};
    `;
  }}
`;

export const PrimaryTextWrapper = styled("div")`
  ${(props: CellBasicExtraProps) => {
    const { horizontalAlign } = props;

    return `
      display: flex;
      justify-content: ${horizontalAlign === "left" ? "flex-start" : "flex-end"};
    `;
  }}
`;

export const PrimaryText = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontBodyS}

  ${(props: CellBasicExtraProps) => {
    const { primaryTextWrapLineCount = 3, tabularNums = false } = props;

    return `
      display: block;
      font-variant-numeric: ${tabularNums ? TABULAR_NUMS : "normal"};
      
      ${
        props.shouldTextWrap
          ? ShouldWrap(primaryTextWrapLineCount)
          : ShouldTruncate()
      }
    `;
  }}
`;

export const SecondaryText = styled("span", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontBodyXxs}

  ${(props: CellBasicExtraProps) => {
    const { secondaryTextWrapLineCount = 1, tabularNums = false } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      display: block;
      color: ${semanticColors?.base?.textSecondary};
      padding-top: ${spaces?.xxxs}px;
      font-variant-numeric: ${tabularNums ? TABULAR_NUMS : "normal"};

      ${
        props.shouldTextWrap
          ? ShouldWrap(secondaryTextWrapLineCount)
          : ShouldTruncate()
      }
    `;
  }}
`;

export const TertiaryText = styled("span", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontBodyXxs}

  ${(props: CellBasicExtraProps) => {
    const { tertiaryTextWrapLineCount = 1, tabularNums = false } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      display: block;
      color: ${semanticColors?.base?.textSecondary};
      padding-top: ${spaces?.s}px;
      font-variant-numeric: ${tabularNums ? TABULAR_NUMS : "normal"};

      ${
        props.shouldTextWrap
          ? ShouldWrap(tertiaryTextWrapLineCount)
          : ShouldTruncate()
      }
    `;
  }}
`;

export const PrimaryTextComponentSlotBottomWrapper = styled("div")`
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);

    return `
      margin-top: ${spaces?.xxs}px;
    `;
  }}
`;

export const PrimaryTextComponentSlotRightWrapper = styled("div")`
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);

    return `
      margin-left: ${spaces?.xs}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/CellComponent/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawCellComponent from "src/core/CellComponent";

export const CellComponent = (props: Args): JSX.Element => {
  const { horizontalAlign, verticalAlign, children } = props;

  return (
    <table>
      <tbody>
        <tr>
          <RawCellComponent
            horizontalAlign={horizontalAlign}
            verticalAlign={verticalAlign}
            data-testid="CellComponent"
            {...props}
          >
            {children}
          </RawCellComponent>
        </tr>
      </tbody>
    </table>
  );
};
</file>

<file path="packages/components/src/core/CellComponent/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import { CellComponent } from "./default";
import { StyledStoryBody, StyledStoryHeading } from "../style";
import Tag from "src/core/Tag";
import { RadioGroup } from "@mui/material";
import InputRadio from "src/core/InputRadio";
import { CELL_COMPONENT_TEST_PLACEMENT_STYLES } from "../constants";
import { SHORT_LOREM_IPSUM } from "src/common/storybook/loremIpsum";

export const TestDemo = (props: Args): JSX.Element => {
  return (
    <div style={CELL_COMPONENT_TEST_PLACEMENT_STYLES as React.CSSProperties}>
      <div>
        <CellComponent
          data-testid="CellComponentA"
          horizontalAlign="right"
          verticalAlign="bottom"
        >
          <div style={{ display: "block" }}>
            <StyledStoryHeading data-testid="Child">
              Lorem ipsum dolor
            </StyledStoryHeading>
            <StyledStoryBody data-testid="Child">
              {SHORT_LOREM_IPSUM}
            </StyledStoryBody>
            <Tag
              color="neutral"
              data-testid="Child"
              label="Tertiary"
              sdsStyle="rounded"
              sdsType="primary"
              hover={false}
              {...props}
            />
          </div>
        </CellComponent>
      </div>
      <div>
        <CellComponent
          data-testid="CellComponentB"
          horizontalAlign="left"
          verticalAlign="top"
        >
          <div style={{ display: "block" }}>
            <StyledStoryHeading
              data-testid="Child"
              style={{ paddingBottom: 10 }}
            >
              Lorem ipsum dolor
            </StyledStoryHeading>
            <RadioGroup
              aria-labelledby="demo-radio-buttons-group-label"
              data-testid="Child"
              defaultValue="1"
              name="radio-buttons-group"
            >
              <InputRadio label="One" caption="Caption I" value="1" />
              <InputRadio label="Two" caption="Caption II" value="2" />
              <InputRadio label="Three" caption="Caption III" value="3" />
            </RadioGroup>
          </div>
        </CellComponent>
      </div>
    </div>
  );
};
</file>

<file path="packages/components/src/core/CellComponent/__storybook__/constants.tsx">
export const CELL_COMPONENT_EXCLUDED_CONTROLS = [
  "verticalAlign",
  "horizontalAlign",
  "width",
];

export const CELL_COMPONENT_TEST_PLACEMENT_STYLES = {
  display: "grid",
  gridColumnGap: "14px",
  gridRowGap: "0px",
  gridTemplateColumns: "repeat(2, 200px)",
  gridTemplateRows: "1fr",
};
</file>

<file path="packages/components/src/core/CellComponent/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import InputToggle from "../../InputToggle";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { CellComponent } from "./stories/default";
import { CELL_COMPONENT_EXCLUDED_CONTROLS } from "./constants";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    horizontalAlign: {
      control: { type: "select" },
      options: ["left", "center", "right"],
    },
    verticalAlign: {
      control: { type: "select" },
      options: ["top", "center", "bottom"],
    },
    width: {
      control: { type: "text" },
    },
  },
  component: CellComponent,
  parameters: {
    axe: {
      disabledRules: [
        "color-contrast",
        // Unfortunately the MUI Switch component renders an input field without a label, which
        // fails an axe check.
        "label",
      ],
    },
    badges: [BADGE.STABLE],
  },
  title: "Components/Table/CellComponent",
} as Meta;

// Default

export const Default = {
  args: {
    horizontalAlign: "left",
    verticalAlign: "center",
  },
  render: (props: Args) => {
    const { horizontalAlign, verticalAlign } = props;

    return (
      <CellComponent
        horizontalAlign={horizontalAlign}
        verticalAlign={verticalAlign}
        data-testid="CellComponent"
        {...props}
      >
        <p>This is a Cell Component with a toggle!</p>
        <InputToggle />
      </CellComponent>
    );
  },
};

// Test

export const Test = {
  parameters: {
    controls: { exclude: CELL_COMPONENT_EXCLUDED_CONTROLS },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/CellComponent/__storybook__/style.ts">
import styled from "@emotion/styled";
import {
  fontBodyXxs,
  fontHeaderS,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

const doNotForwardProps = ["horizontalAlign", "verticalAlign"];

export const StyledStoryHeading = styled("span")`
  ${fontHeaderS}

  line-height: 24px;
  display: block;
`;

export const StyledStoryBody = styled("span", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontBodyXxs}

  ${(props) => {
    const semanticColors = getSemanticColors(props);
    const spaces = getSpaces(props);

    return `
      display: block;
      color: ${semanticColors?.base?.textSecondary};
      padding: ${spaces?.s}px 0;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/CellComponent/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<CellComponent /> Default story renders snapshot 1`] = `
<table>
  <tbody>
    <tr>
      <td
        class="cell-component css-c6mry2"
        data-testid="CellComponent"
      >
        <p>
          This is a Cell Component with a toggle!
        </p>
        <span
          class="MuiSwitch-root MuiSwitch-sizeMedium css-hcrspq-MuiSwitch-root"
        >
          <span
            class="MuiButtonBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary PrivateSwitchBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary css-byenzh-MuiButtonBase-root-MuiSwitch-switchBase"
          >
            <input
              class="PrivateSwitchBase-input MuiSwitch-input css-1m9pwf3"
              type="checkbox"
              value="Off"
            />
            <span
              class="MuiSwitch-thumb css-jsexje-MuiSwitch-thumb"
            />
            <span
              class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
            />
          </span>
          <span
            class="MuiSwitch-track css-1yjjitx-MuiSwitch-track"
          />
        </span>
      </td>
    </tr>
  </tbody>
</table>
`;
</file>

<file path="packages/components/src/core/CellComponent/__tests__/CellComponent.namespace-test.tsx">
import { CellComponent, CellComponentProps, Icon } from "@czi-sds/components";
import React from "react";

const CellBasicNameSpaceTest = (props: CellComponentProps) => {
  return (
    <table>
      <tbody>
        <tr>
          <CellComponent horizontalAlign="center" verticalAlign="center">
            <Icon sdsIcon="Download" sdsSize="l" />
          </CellComponent>
        </tr>
      </tbody>
    </table>
  );
};
</file>

<file path="packages/components/src/core/CellComponent/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<CellComponent />", () => {
  generateSnapshots(stories);

  it("renders cellComponent component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("CellComponentA");
    expect(elements).toBeTruthy();
  });

  it("renders child components", async () => {
    render(<Test />);
    const elements = screen.getAllByTestId("Child");
    expect(elements).toHaveLength(5);
  });

  it("renders content at bottom right side", async () => {
    render(<Test />);
    const cellComponentElement = screen.getByTestId("CellComponentA");
    const renderedElement = document.getElementsByClassName(
      cellComponentElement.className
    )[0];
    const style = window.getComputedStyle(renderedElement);
    expect(style.textAlign).toBe("right");
    expect(style.verticalAlign).toBe("bottom");
  });

  it("renders content at upper left side", async () => {
    render(<Test />);
    const cellComponentElement = screen.getByTestId("CellComponentB");
    const renderedElement = document.getElementsByClassName(
      cellComponentElement.className
    )[0];
    const style = window.getComputedStyle(renderedElement);
    expect(style.textAlign).toBe("left");
    expect(style.verticalAlign).toBe("top");
  });
});
</file>

<file path="packages/components/src/core/CellComponent/index.tsx">
import React, { forwardRef, ReactNode } from "react";
import { CellComponentExtraProps, StyledCellComponentData } from "./style";

interface CellComponentContentProps
  extends Omit<React.HTMLProps<HTMLTableCellElement>, "as"> {
  children?: ReactNode;
}

export type CellComponentProps = CellComponentContentProps &
  CellComponentExtraProps;

const CellComponent = forwardRef(
  (props: CellComponentProps, _): JSX.Element | null => {
    const { children, ...rest } = props;

    return (
      <StyledCellComponentData className="cell-component" {...rest}>
        {children}
      </StyledCellComponentData>
    );
  }
);

export default CellComponent;
</file>

<file path="packages/components/src/core/CellComponent/style.ts">
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  focusVisibleA11yStyle,
  fontBodyS,
  getSpaces,
} from "src/core/styles";

export interface CellComponentExtraProps extends CommonThemeProps {
  horizontalAlign?: "left" | "center" | "right";
  verticalAlign?: "top" | "center" | "bottom";
}

const doNotForwardProps = ["horizontalAlign", "verticalAlign"];

export const StyledCellComponentData = styled("td", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontBodyS}
  ${focusVisibleA11yStyle}

  ${(props: CellComponentExtraProps) => {
    const spaces = getSpaces(props);
    const { horizontalAlign = "left", verticalAlign = "top" } = props;

    return `
      align-items: center;
      text-align: ${horizontalAlign};
      vertical-align: ${verticalAlign};
      overflow: hidden;
      padding: ${spaces?.l}px ${spaces?.m}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/CellHeader/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import { useEffect, useState } from "react";
import RawCellHeader, { CellHeaderDirection } from "src/core/CellHeader";

export const CellHeader = (props: Args): JSX.Element => {
  const { direction, ...rest } = props;
  const [sorting, setSorting] = useState<CellHeaderDirection>(direction);

  useEffect(() => {
    setSorting(direction);
  }, [direction]);

  const clickHandler = () => {
    setSorting((prevState) => {
      return prevState === "asc" ? "desc" : "asc";
    });
  };

  return (
    <table>
      <tbody>
        <tr>
          <RawCellHeader onClick={clickHandler} direction={sorting} {...rest}>
            Header
          </RawCellHeader>
        </tr>
      </tbody>
    </table>
  );
};
</file>

<file path="packages/components/src/core/CellHeader/__storybook__/stories/test.tsx">
import { Args } from "@storybook/types";
import RawCellHeader from "src/core/CellHeader";

export const TestDemo = (props: Args): JSX.Element => (
  <table>
    <tbody>
      <tr>
        <RawCellHeader
          data-testid="CellHeader"
          horizontalAlign="right"
          shouldShowTooltipOnHover
          active
          tooltipText="testTooltipTitle"
          hover
          {...props}
        >
          Header
        </RawCellHeader>
      </tr>
    </tbody>
  </table>
);
</file>

<file path="packages/components/src/core/CellHeader/__storybook__/constants.ts">
export const CELL_HEADER_EXCLUDED_CONTROLS = [
  "active",
  "direction",
  "hideSortIcon",
  "horizontalAlign",
  "shouldShowTooltipOnHover",
  "tooltipProps",
  "tooltipText",
  "width",
  "hover",
];
</file>

<file path="packages/components/src/core/CellHeader/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { CELL_HEADER_EXCLUDED_CONTROLS } from "./constants";
import { TestDemo } from "./stories/test";
import { CellHeader } from "./stories/default";

export default {
  argTypes: {
    active: {
      control: { type: "boolean" },
    },
    direction: {
      control: { type: "select" },
      options: ["asc", "desc"],
    },
    hideSortIcon: {
      control: { type: "boolean" },
    },
    horizontalAlign: {
      control: { type: "select" },
      options: ["left", "center", "right"],
    },
    hover: {
      control: { type: "boolean" },
    },
    shouldShowTooltipOnHover: {
      control: { type: "boolean" },
    },
    tooltipProps: {
      control: { type: "object" },
    },
    tooltipText: {
      control: { type: "text" },
    },
    width: {
      control: { type: "text" },
    },
  },
  component: CellHeader,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Table/CellHeader",
} as Meta;

// Default

export const Default = {
  args: {
    active: false,
    direction: "desc",
    hideSortIcon: false,
    hover: false,
    shouldShowTooltipOnHover: true,
    tooltipProps: { sdsStyle: "dark" },
    tooltipText: "This is a header cell",
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: CELL_HEADER_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/CellHeader/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<CellHeader /> Default story renders snapshot 1`] = `
<table>
  <tbody>
    <tr>
      <th
        class="css-ezzkc2"
        direction="desc"
      >
        <div
          class="css-rm9mvq"
        >
          <div
            class="css-1epiyn2"
          >
            Header
          </div>
        </div>
      </th>
    </tr>
  </tbody>
</table>
`;
</file>

<file path="packages/components/src/core/CellHeader/__tests__/CellHeader.namespace-test.tsx">
import { CellHeader, CellHeaderProps } from "@czi-sds/components";
import React from "react";
import { noop } from "src/common/utils";

const CellBasicNameSpaceTest = (props: CellHeaderProps) => {
  return (
    <table>
      <tbody>
        <tr>
          <CellHeader
            onClick={noop}
            direction="asc"
            active
            hideSortIcon
            hover
            horizontalAlign="center"
            shouldShowTooltipOnHover
            tooltipProps={{ sdsStyle: "light" }}
            tooltipText="Tooltip"
          >
            Header
          </CellHeader>
        </tr>
      </tbody>
    </table>
  );
};
</file>

<file path="packages/components/src/core/CellHeader/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<CellHeader />", () => {
  generateSnapshots(stories);

  it("renders header cell component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("CellHeader");
    expect(elements).toBeTruthy();
  });

  it("renders tooltip on hover", async () => {
    render(<Test hover={true} />);
    const headerCellElement = screen.getByTestId("CellHeader");
    fireEvent.mouseOver(headerCellElement);
    await screen.findByText("testTooltipTitle");
  });

  it("renders text at right side", async () => {
    render(<Test />);
    const headerCellElement = screen.getByTestId("CellHeader");
    const style = window.getComputedStyle(headerCellElement as Element);
    expect(style.textAlign).toBe("right");
  });

  it("renders a sort icon when header is active and hover is true", async () => {
    render(<Test hover={true} />);
    const headerCellElement = screen.getByTestId("CellHeader");
    const sortIcon =
      headerCellElement.getElementsByClassName("MuiSvgIcon-root")[0];
    expect(sortIcon).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/CellHeader/index.tsx">
import React, { forwardRef } from "react";
import { IconNameToSizes } from "src/core/Icon";
import Tooltip, { TooltipProps } from "src/core/Tooltip";
import {
  CellHeaderExtraProps,
  StyledCellHeaderContainer,
  StyledCellHeaderText,
  StyledSortingIcon,
  StyledTableHeader,
} from "./style";

export type CellHeaderDirection = "asc" | "desc";

interface CellHeaderContentProps {
  active?: boolean;
  direction?: CellHeaderDirection;
  hideSortIcon?: boolean;
  horizontalAlign?: "left" | "center" | "right";
  children: React.ReactNode;
  hover?: boolean;
  shouldTruncate?: boolean;
}

interface CellHeaderRawProps
  extends Omit<React.HTMLProps<HTMLTableCellElement>, "as"> {
  tooltipText?: string;
  tooltipSubtitle?: string;
  shouldShowTooltipOnHover?: boolean;
  tooltipProps?: Partial<TooltipProps>;
}

export type CellHeaderProps = CellHeaderRawProps &
  CellHeaderExtraProps &
  CellHeaderContentProps;

const CellHeaderContent = (
  props: CellHeaderContentProps
): JSX.Element | null => {
  const {
    active,
    children,
    direction = "desc",
    hideSortIcon = false,
    horizontalAlign,
    hover,
    shouldTruncate = false,
  } = props;

  const sdsIconName: keyof IconNameToSizes =
    direction === "asc" ? "ChevronUp" : "ChevronDown";

  const sortIcon = (
    <StyledSortingIcon
      aria-label={
        direction === "asc"
          ? "Change sort direction from ascending to descending"
          : "Change sort direction from descending to ascending"
      }
      sdsIcon={sdsIconName}
      sdsSize="xs"
      active={active}
      hideSortIcon={hideSortIcon}
    />
  );

  return (
    <StyledCellHeaderContainer horizontalAlign={horizontalAlign}>
      <StyledCellHeaderText shouldTruncate={shouldTruncate}>
        {children}
      </StyledCellHeaderText>
      {(!hideSortIcon || active) && hover && sortIcon}
    </StyledCellHeaderContainer>
  );
};

const CellHeader = forwardRef<HTMLTableCellElement, CellHeaderProps>(
  (props, ref): JSX.Element | null => {
    const {
      children,
      shouldShowTooltipOnHover = false,
      tooltipProps,
      tooltipText = "",
      tooltipSubtitle,
      hover = false,
      ...rest
    } = props;

    if (shouldShowTooltipOnHover && hover) {
      return (
        <Tooltip
          arrow
          placement="top-start"
          sdsStyle="dark"
          subtitle={tooltipSubtitle}
          title={tooltipText}
          {...tooltipProps}
        >
          <StyledTableHeader ref={ref} hover={hover} {...rest}>
            <CellHeaderContent {...props} hover={hover}>
              {children}
            </CellHeaderContent>
          </StyledTableHeader>
        </Tooltip>
      );
    }
    return (
      <StyledTableHeader ref={ref} hover={hover} {...rest}>
        <CellHeaderContent hover={hover} {...props}>
          {children}
        </CellHeaderContent>
      </StyledTableHeader>
    );
  }
);

export default CellHeader;
</file>

<file path="packages/components/src/core/CellHeader/style.ts">
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  focusVisibleA11yStyle,
  fontHeaderS,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";
import Icon from "src/core/Icon";

export interface CellHeaderExtraProps extends CommonThemeProps {
  active?: boolean;
  hideSortIcon?: boolean;
  horizontalAlign?: "left" | "center" | "right";
  hover?: boolean;
  shouldTruncate?: boolean;
}

const contentPositionMapping = {
  center: "center",
  left: "flex-start",
  right: "flex-end",
};

const doNotForwardProps = [
  "active",
  "horizontalAlign",
  "shouldShowTooltipOnHover",
  "tooltipProps",
  "tooltipText",
  "hideSortIcon",
  "hover",
  "shouldTruncate",
];

export const StyledSortingIcon = styled(Icon, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: CellHeaderExtraProps) => {
    const { active = false, hideSortIcon } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      margin-left: ${spaces?.s}px;
      margin-bottom: ${spaces?.xxs}px;
      color: ${active ? semanticColors?.accent?.ornament : "transparent"};
      display: ${hideSortIcon ? (active ? "block" : "none") : "block"};
      outline: none !important;
    `;
  }}
`;

const ShouldTruncate = () => {
  return `
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
    word-break: break-all;
  `;
};

export const StyledTableHeader = styled("th", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontHeaderS}
  ${focusVisibleA11yStyle}

  ${(props: CellHeaderExtraProps) => {
    const { active = false, horizontalAlign = "left", hover = true } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    const defaultColor = active
      ? semanticColors?.accent?.textAction
      : semanticColors?.base?.textSecondary;

    const hoverColor = active
      ? semanticColors?.accent?.textActionHover
      : semanticColors?.base?.textPrimary;

    return `
      color: ${defaultColor};
      padding: ${spaces?.l}px ${spaces?.m}px;
      text-align: ${horizontalAlign};
      min-width: 96px;
      cursor: ${hover ? "pointer" : "default"};
      vertical-align: bottom;

      & .MuiButtonBase-root {
        outline: none;
      }

      &:hover {
        color: ${hover ? hoverColor : defaultColor};

        & .MuiButtonBase-root {
          color: ${hoverColor};
          opacity: 1;
        }

        & svg {
          color: ${active ? semanticColors?.accent?.ornamentHover : semanticColors?.base?.ornamentSecondaryHover};
        }
      }
    `;
  }}
`;

export const StyledCellHeaderText = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontHeaderS}
  ${(props: CellHeaderExtraProps) => {
    const { shouldTruncate = false } = props;

    return `
      ${shouldTruncate && ShouldTruncate()}
    `;
  }}
`;

export const StyledCellHeaderContainer = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: CellHeaderExtraProps) => {
    const { horizontalAlign = "left" } = props;
    return `
      align-items: flex-end;
      width: 100%;
      display: flex;
      justify-content: ${
        horizontalAlign ? contentPositionMapping[horizontalAlign] : "flex-start"
      };
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Chip/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import React from "react";
import Button from "../../Button";
import Chip from "../index";
import { BADGE } from "../../../common/storybook/storybookBadges";
import Callout from "src/core/Callout";
import Icon from "src/core/Icon";

const Demo = (props: Args): JSX.Element => {
  const { size, isRounded } = props;
  const [visible, setVisible] = React.useState(false);

  const handleShowChip = () => setVisible(true);
  const handleDismissChip = () => setVisible(false);

  if (size === "medium" && !isRounded) {
    return (
      <>
        <Callout
          intent="negative"
          title="Deprecated!"
          sdsStyle="persistent"
          icon={<Icon sdsIcon="ExclamationMarkCircle" sdsSize="l" />}
          body={
            <>
              The <strong>Chip</strong> component is deprecated!
              <br />
              Please use <strong>Tag</strong> or <strong>TagFilter</strong>{" "}
              component instead.
            </>
          }
        >
          The <strong>Alert</strong> component is deprecated!
        </Callout>
        <Button onClick={handleShowChip} sdsType="secondary" sdsStyle="square">
          Click me!
        </Button>
        {visible && <Chip onDelete={handleDismissChip} {...props} />}
      </>
    );
  }
  return (
    <>
      <Callout
        intent="negative"
        title="Deprecated!"
        sdsStyle="persistent"
        icon={<Icon sdsIcon="ExclamationMarkCircle" sdsSize="l" />}
        body={
          <>
            The <strong>Chip</strong> component is deprecated!
            <br />
            Please use <strong>Tag</strong> or <strong>TagFilter</strong>{" "}
            component instead.
          </>
        }
      >
        The <strong>Alert</strong> component is deprecated!
      </Callout>
      <Chip {...props} />
    </>
  );
};

export default {
  component: Demo,
  parameters: {
    badges: [BADGE.DEPRECATED],
  },
  title: "Deprecated/Chip [deprecated]",
} as Meta;

export const MediumSquareChip = {
  args: {
    isRounded: false,
    label: "Chip",
    size: "medium",
  },
};

export const Success = {
  args: {
    isRounded: true,
    label: "success",
    size: "small",
    status: "success",
  },
};

export const Error = {
  args: {
    isRounded: true,
    label: "error",
    size: "small",
    status: "error",
  },
};

export const Warning = {
  args: {
    isRounded: true,
    label: "warning",
    size: "small",
    status: "warning",
  },
};

export const Info = {
  args: {
    isRounded: true,
    label: "info",
    size: "small",
    status: "info",
  },
};

export const Pending = {
  args: {
    isRounded: true,
    label: "pending",
    size: "small",
    status: "pending",
  },
};

export const Beta = {
  args: {
    isRounded: true,
    label: "beta",
    size: "small",
    status: "beta",
  },
};
</file>

<file path="packages/components/src/core/Chip/index.tsx">
import { Clear } from "@mui/icons-material";
import { ChipProps as RawChipProps } from "@mui/material";
import {
  SDSWarningTypes,
  showWarningIfFirstOccurence,
} from "src/common/warnings";
import { ChipExtraProps, StyledChip } from "./style";

type ChipProps = ChipExtraProps & RawChipProps;

export type { ChipProps };

/**
 * @see https://mui.com/material-ui/react-chip/
 *
 * @deprecated
 * This component is deprecated and will be removed in the next major version.
 * Please use `Tag` or `TagFilter` instead.
 */
const Chip = (props: ChipProps): JSX.Element => {
  showWarningIfFirstOccurence(SDSWarningTypes.ChipDeprecated);
  const { onDelete } = props;

  if (onDelete) {
    return <StyledChip deleteIcon={<Clear />} {...props} />;
  }
  return <StyledChip {...props} />;
};

export default Chip;
</file>

<file path="packages/components/src/core/Chip/style.ts">
import { css, SerializedStyles } from "@emotion/react";
import { Chip } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontCapsXxxxs,
  fontHeaderXs,
  getColors,
  getCorners,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export interface ChipExtraProps extends CommonThemeProps {
  size?: "small" | "medium";
  status?: "success" | "error" | "warning" | "info" | "pending" | "beta";
  isRounded?: boolean;
}

const small = (props: ChipExtraProps): SerializedStyles => {
  const spaces = getSpaces(props);

  return css`
    height: ${spaces?.l}px;
    padding: ${spaces?.xxs}px ${spaces?.xs}px;

    .MuiChip-label {
      ${fontCapsXxxxs(props)}
      padding: 0;
    }
  `;
};

const medium = (props: ChipExtraProps): SerializedStyles => {
  const spaces = getSpaces(props);
  const colors = getColors(props);

  return css`
    margin: 0 ${spaces?.s}px;
    height: 24px;

    background-color: ${colors?.blue[400]};

    &:hover {
      background-color: ${colors?.blue[500]};
    }

    &:active {
      background-color: ${colors?.blue[600]};
    }

    .MuiChip-label {
      ${fontHeaderXs(props)}
      color: white;
      padding-left: ${spaces?.s}px;
    }

    .MuiChip-deleteIcon {
      color: white;
      padding-right: ${spaces?.xxs}px;
      margin: 0 0 0 -${spaces?.s}px;
      height: ${spaces?.l}px;
      width: ${spaces?.l}px;

      &:hover,
      &:focus-visible {
        color: white;
      }
    }
  `;
};

const rounded = (props: ChipExtraProps): SerializedStyles => {
  const corners = getCorners(props);

  return css`
    border-radius: ${corners?.l}px;
  `;
};

const square = (props: ChipExtraProps): SerializedStyles => {
  const corners = getCorners(props);

  return css`
    border-radius: ${corners?.m}px;
  `;
};

const success = (props: ChipExtraProps): SerializedStyles | undefined => {
  return createStatusCss(props, "success");
};

const error = (props: ChipExtraProps): SerializedStyles | undefined => {
  return createStatusCss(props, "error");
};

const beta = (props: ChipExtraProps): SerializedStyles | undefined => {
  return createStatusCss(props, "beta");
};

const pending = (props: ChipExtraProps): SerializedStyles | undefined => {
  return createStatusCss(props, "pending");
};

const warning = (props: ChipExtraProps): SerializedStyles | undefined => {
  return createStatusCss(props, "warning");
};

const info = (props: ChipExtraProps): SerializedStyles | undefined => {
  return createStatusCss(props, "info");
};

function createStatusCss(
  props: ChipExtraProps,
  status: NonNullable<ChipExtraProps["status"]>
): SerializedStyles | undefined {
  const colors = getColors(props);
  const semanticColors = getSemanticColors(props);

  if (!colors) return;

  const statusToColors = {
    beta: {
      dark: semanticColors?.beta?.text,
      light: semanticColors?.beta?.surfaceSecondary,
    },
    error: {
      dark: semanticColors?.negative?.text,
      light: semanticColors?.negative?.surfaceSecondary,
    },
    info: {
      dark: semanticColors?.info?.text,
      light: semanticColors?.info?.surfaceSecondary,
    },
    pending: {
      dark: semanticColors?.neutral?.text,
      light: semanticColors?.neutral?.surfaceSecondary,
    },
    success: {
      dark: semanticColors?.positive?.text,
      light: semanticColors?.positive?.surfaceSecondary,
    },
    warning: {
      dark: colors?.yellow[700],
      light: semanticColors?.notice?.surfaceSecondary,
    },
  };

  const statusColors = statusToColors[status];

  return css`
    background-color: ${statusColors.light};

    .MuiChip-label {
      color: ${statusColors.dark};
    }
  `;
}

const statusToCss = {
  beta,
  error,
  info,
  pending,
  success,
  warning,
};

const doNotForwardProps = ["isRounded"];

export const StyledChip = styled(Chip, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  border: none;

  ${(props: ChipExtraProps) => {
    const { size, status, isRounded } = props;

    return css`
      ${isRounded && rounded(props)}
      ${!isRounded && square(props)}
      ${size === "small" && small(props)}
      ${size === "medium" && medium(props)}
      ${status && statusToCss[status](props)}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/ComplexFilter/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { noop } from "src/common/utils";
import { DefaultAutocompleteOption } from "src/core/Autocomplete";
import RawComplexFilter from "src/core/ComplexFilter";

export const ComplexFilter = <T extends DefaultAutocompleteOption>(
  props: Args
): JSX.Element => {
  return (
    <RawComplexFilter
      label="Click Target"
      onChange={noop}
      options={AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS as T[]}
      DropdownMenuProps={{
        groupBy: (option: DefaultAutocompleteOption) =>
          option.section as string,
        width: 400,
      }}
      {...props}
    />
  );
};
</file>

<file path="packages/components/src/core/ComplexFilter/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { noop } from "src/common/utils";
import { DefaultAutocompleteOption } from "src/core/Autocomplete";
import RawComplexFilter from "src/core/ComplexFilter";

export const TestDemo = <T extends DefaultAutocompleteOption>(
  props: Args
): JSX.Element => {
  return (
    <RawComplexFilter
      label="Click Target"
      onChange={noop}
      options={AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS as T[]}
      {...props}
    />
  );
};
</file>

<file path="packages/components/src/core/ComplexFilter/__storybook__/constants.tsx">
import { noop } from "src/common/utils";

export const COMPLEX_FILTER_EXCLUDED_CONTROLS = [
  "label",
  "multiple",
  "onChange",
  "search",
  "keepSearchOnSelect",
];

export const COMPLEX_FILTER_ON_CHANGE_OPTIONS = [
  noop,
  (value: never) => {
    // eslint-disable-next-line no-console
    console.log(value);
  },
];

export const COMPLEX_FILTER_LIVE_PREVIEW_STYLES = {
  display: "grid",
  gridColumnGap: 30,
  gridTemplateColumns: "repeat(3, min-content)",
};

export const COMPLEX_FILTER_LIVE_PREVIEW_OPTIONS = [
  { name: "Filter Item 1" },
  { name: "Filter Item 2" },
  { name: "Filter Item 3" },
];
</file>

<file path="packages/components/src/core/ComplexFilter/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import {
  COMPLEX_FILTER_EXCLUDED_CONTROLS,
  COMPLEX_FILTER_ON_CHANGE_OPTIONS,
} from "./constants";
import { ComplexFilter } from "./stories/default";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    isTriggerChangeOnOptionClick: {
      control: {
        type: "boolean",
      },
    },
    label: {
      control: {
        type: "text",
      },
    },
    multiple: {
      control: {
        type: "boolean",
      },
    },
    onChange: {
      control: {
        labels: ["Noop", "console.log(value)"],
        type: "select",
      },
      mapping: COMPLEX_FILTER_ON_CHANGE_OPTIONS,
      options: Object.keys(COMPLEX_FILTER_ON_CHANGE_OPTIONS),
    },
    search: {
      control: {
        type: "boolean",
      },
    },
  },
  component: ComplexFilter,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Dropdowns/ComplexFilter",
} as Meta;

// Default

export const Default = {
  args: {
    isTriggerChangeOnOptionClick: false,
    label: "Click Target",
    multiple: true,
    onChange: COMPLEX_FILTER_ON_CHANGE_OPTIONS[1],
    search: true,
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: COMPLEX_FILTER_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} data-testid="complex-filter" />,
};
</file>

<file path="packages/components/src/core/ComplexFilter/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<ComplexFilter /> Default story renders snapshot 1`] = `
<div
  class="css-1x0reya"
>
  <button
    aria-label="Dropdown input"
    class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-1bcxl8g-MuiButtonBase-root-MuiButton-root"
    label="Click Target"
    tabindex="0"
    type="button"
  >
    <span
      class="css-ae1gg6"
    >
      <span
        class="styled-label css-1ubkbz8"
      >
        Click Target
      </span>
      <span
        class="css-1qt6g1x"
      >
        <div
          class="css-1ft6wgl"
        >
          <svg
            aria-hidden="true"
            class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
            data-file-name="IconChevronDownSmall"
            data-testid="IconChevronDownSmall"
            fillcontrast="white"
            focusable="false"
            height="16"
            viewBox="0 0 16 16"
            width="16"
          />
        </div>
      </span>
    </span>
    <div
      class="css-fty5ct"
    />
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <div
    class="css-1flrym7"
  />
</div>
`;
</file>

<file path="packages/components/src/core/ComplexFilter/__tests__/ComplexFilter.namespace-test.tsx">
import {
  ComplexFilter,
  ComplexFilterProps,
  DefaultAutocompleteOption,
} from "@czi-sds/components";
import { noop } from "src/common/utils";

const OPTIONS = [
  {
    color: "#7057ff",
    description: "Good for newcomers",
    name: "good first issue",
  },
  {
    color: "#008672",
    description: "Extra attention is needed",
    name: "help wanted",
  },
];

const ComplexFilterNameSpaceTest = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: ComplexFilterProps<T, Multiple, DisableClearable, FreeSolo>
) => {
  return (
    <ComplexFilter
      label="Click Target"
      onChange={noop}
      multiple
      search
      options={OPTIONS}
    />
  );
};
</file>

<file path="packages/components/src/core/ComplexFilter/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

const { Test } = composeStories(stories);

describe("<ComplexFilter />", () => {
  generateSnapshots(stories);

  it("renders ComplexFilter component", () => {
    render(<Test {...Test.args} />);
    const ComplexFilterElement = screen.getByTestId("complex-filter");
    expect(ComplexFilterElement).not.toBeNull();
  });
});
</file>

<file path="packages/components/src/core/ComplexFilter/components/Chips/index.tsx">
import { AutocompleteValue } from "@mui/base";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import TagFilter from "src/core/TagFilter";

interface Props<
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> {
  value: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>;
  multiple?: boolean;
  onDelete: (option: DefaultAutocompleteOption) => void;
}

const Chips = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>({
  value,
  multiple = false,
  onDelete,
}: Props<T, Multiple, DisableClearable, FreeSolo>): JSX.Element | null => {
  if (!value) return null;

  if (!multiple) {
    const { name } = value as never;

    return (
      <TagFilter
        label={name}
        onDelete={onDelete}
        onClick={() => onDelete(name)}
      />
    );
  }

  return (
    <>
      {(value as DefaultAutocompleteOption[]).map((item) => {
        const { name } = item;

        return (
          <TagFilter
            key={name}
            label={name}
            onDelete={() => onDelete(item)}
            onClick={() => onDelete(item)}
          />
        );
      })}
    </>
  );
};

export default Chips;
</file>

<file path="packages/components/src/core/ComplexFilter/index.tsx">
import {
  AutocompleteCloseReason,
  AutocompleteValue,
} from "@mui/material/useAutocomplete";
import React, { ReactNode, useEffect, useRef, useState } from "react";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import DropdownMenu from "src/core/DropdownMenu";
import { StyledPopper } from "src/core/DropdownMenu/style";
import InputDropdown, {
  InputDropdownProps as InputDropdownPropsType,
} from "src/core/InputDropdown";
import Chips from "./components/Chips";
import { StyledChipsWrapper, Wrapper } from "./style";

export {
  InputDropdown as ComplexFilterInputDropdown,
  StyledPopper as ComplexFilterPopper,
};
export interface ComplexFilterProps<
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> {
  label: ReactNode;
  options: T[];
  multiple?: Multiple;
  search?: boolean;
  onChange: (
    options: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ) => void;
  DropdownMenuProps?: Partial<typeof DropdownMenu>;
  InputDropdownProps?: Partial<InputDropdownPropsType>;
  value?: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>;
  style?: React.CSSProperties;
  className?: string;
  PopperComponent?: typeof StyledPopper;
  InputDropdownComponent?: typeof InputDropdown;
  isTriggerChangeOnOptionClick?: boolean;
}

// eslint-disable-next-line sonarjs/cognitive-complexity
const ComplexFilter = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>({
  options,
  label = "",
  multiple = false,
  search = false,
  onChange,
  DropdownMenuProps = {},
  InputDropdownProps = { sdsStyle: "minimal" },
  value: propValue,
  PopperComponent,
  InputDropdownComponent = InputDropdown,
  isTriggerChangeOnOptionClick = false,
  ...rest
}: ComplexFilterProps<
  T,
  Multiple,
  DisableClearable,
  FreeSolo
>): JSX.Element => {
  const isControlled = propValue !== undefined;

  const [open, setOpen] = useState(false);
  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);

  const [value, setValue] = useState(getInitialValue());
  const [pendingValue, setPendingValue] = useState(getInitialValue());

  const prevValueRef = useRef(value);

  useEffect(() => {
    if (prevValueRef.current === value) {
      return;
    }

    onChange(value);
    setPendingValue(value);
    prevValueRef.current = value;
  }, [onChange, value]);

  const prevPropValueRef = useRef(propValue);

  useEffect(() => {
    if (isControlled && prevPropValueRef.current !== propValue) {
      setValue(propValue);
      prevPropValueRef.current = propValue;
    }
  }, [isControlled, propValue]);

  // * (mlila): likely, this portion on ComplexFilter will need to be replaced with Dropdown (or a
  // * new DropdownFilter) component. As ComplexFilter evolves, there will be more types added,
  // * such as sliders for ranges, inline multi selects, etc.
  return (
    <>
      <Wrapper {...rest}>
        <InputDropdownComponent
          label={label}
          onClick={handleClick}
          {...InputDropdownProps}
        />

        <StyledChipsWrapper>
          <Chips<T, Multiple, DisableClearable, FreeSolo>
            value={value}
            multiple={multiple}
            onDelete={handleDelete}
          />
        </StyledChipsWrapper>
      </Wrapper>

      <DropdownMenu
        anchorEl={anchorEl}
        open={open}
        onClose={handleMenuSelectClose}
        search={search}
        multiple={multiple as Multiple}
        value={multiple ? pendingValue : value}
        onChange={handleChange}
        disableCloseOnSelect={multiple}
        options={options}
        PopperComponent={PopperComponent}
        PopperBaseProps={{ sx: { minWidth: 250 } }}
        onClickAway={handleClose}
        {...DropdownMenuProps}
        {...rest}
      />
    </>
  );

  function handleClick(event: React.MouseEvent<HTMLElement>) {
    if (open) {
      if (multiple) {
        setValue(pendingValue);
      }

      setOpen(false);

      if (anchorEl) {
        anchorEl.focus();
      }

      setAnchorEl(null);
    } else {
      if (multiple) {
        setPendingValue(value);
      }

      setAnchorEl(event.currentTarget);
      setOpen(true);
    }
  }

  function handleClose() {
    if (open) {
      setOpen(false);

      if (multiple) {
        setValue(pendingValue);
      }
    }
  }

  function handleMenuSelectClose(
    event: React.ChangeEvent<unknown>,
    reason: AutocompleteCloseReason
  ) {
    const reasons = ["escape", "select-option"];

    if (reasons.includes(reason)) {
      handleClose();
    }
  }

  function handleChange(
    event: React.SyntheticEvent,
    newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ) {
    if (multiple) {
      if (isTriggerChangeOnOptionClick) {
        setPendingValue(newValue);

        return setValue(newValue);
      }

      return setPendingValue(newValue);
    }

    setValue(newValue);

    if (!multiple) setOpen(false);
  }

  function handleDelete(option: DefaultAutocompleteOption) {
    if (!multiple) {
      return setValue(
        null as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
      );
    }

    const newValue = (value as T[])?.filter((item) => item !== option) || null;

    setValue(
      newValue as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
    );
  }

  function getInitialValue(): AutocompleteValue<
    T,
    Multiple,
    DisableClearable,
    FreeSolo
  > {
    return multiple
      ? (propValue ??
          ([] as unknown as AutocompleteValue<
            T,
            Multiple,
            DisableClearable,
            FreeSolo
          >))
      : (propValue ??
          (null as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>));
  }
};

export default ComplexFilter;
</file>

<file path="packages/components/src/core/ComplexFilter/style.ts">
import styled from "@emotion/styled";
import { CommonThemeProps, getSpaces } from "src/core/styles";

export const Wrapper = styled("div")`
  min-width: 150px;
`;

export const StyledChipsWrapper = styled("div")`
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);

    return `
      margin-top: ${spaces?.s}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/ContentCard/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import { MEDIUM_LOREM_IPSUM } from "src/common/storybook/loremIpsum";
import Button from "src/core/Button";
import RawContentCard, {
  ContentCardActions,
  ContentCardBody,
} from "src/core/ContentCard";

export const ContentCard = (props: Args): JSX.Element => {
  const { buttons, visualElementType, ...rest } = props;

  return (
    <RawContentCard visualElementType={visualElementType} {...rest}>
      <ContentCardBody>{MEDIUM_LOREM_IPSUM}</ContentCardBody>

      <ContentCardActions>
        {buttons && buttons.map((button: typeof Button) => button)}
      </ContentCardActions>
    </RawContentCard>
  );
};
</file>

<file path="packages/components/src/core/ContentCard/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import { MEDIUM_LOREM_IPSUM } from "src/common/storybook/loremIpsum";
import Button from "src/core/Button";
import ContentCard, {
  ContentCardActions,
  ContentCardBody,
} from "src/core/ContentCard";
import Icon from "src/core/Icon";

export const TestDemo = (props: Args): JSX.Element => {
  return (
    <ContentCard
      data-testid="content-card"
      visualElementType="icon"
      icon={<Icon sdsIcon="Compass" sdsSize="xl" />}
      titleText="Content Card Title"
      subtitleText="Content Card Subtitle"
      metadataText="Content Card Metadata"
      {...props}
    >
      <ContentCardBody>{MEDIUM_LOREM_IPSUM}</ContentCardBody>
      <ContentCardActions>
        <Button sdsStyle="minimal" sdsType="primary">
          Button
        </Button>
      </ContentCardActions>
    </ContentCard>
  );
};
</file>

<file path="packages/components/src/core/ContentCard/__storybook__/constants.tsx">
import { CardMedia } from "@mui/material";
import Icon from "src/core/Icon";
import Button from "src/core/Button";

export const CONTENT_CARD_EXCLUDED_CONTROLS = [
  "visualElement",
  "sdsType",
  "imagePosition",
  "imagePadding",
  "overlineText",
  "titleText",
  "subtitleText",
  "metadataText",
  "contentBlock",
  "decorativeBorder",
  "boundingBox",
  "buttons",
  "visualElementType",
  "image",
  "icon",
  "buttonsPosition",
  "clickableCard",
  "imageSize",
  "imagePadding",
  "imagePosition",
];

// Buttons

export const CONTENT_CARD_BUTTONS_LABELS = [
  "Rounded Primary",
  "Rounded Secondary",
  "Square Primary",
  "Square Secondary",
  "Minimal",
  "Minimal with Icon",
];

export const CONTENT_CARD_BUTTONS_OPTIONS = [
  // Rounded Primary
  <Button sdsStyle="rounded" sdsType="primary" key="primary">
    Primary Button
  </Button>,
  // Rounded Secondary
  <Button sdsStyle="rounded" sdsType="secondary" key="secondary">
    Secondary Button
  </Button>,
  // Square Primary
  <Button sdsStyle="square" sdsType="primary" key="square-primary">
    Primary Button
  </Button>,
  // Square Secondary
  <Button sdsStyle="square" sdsType="secondary" key="square-secondary">
    Secondary Button
  </Button>,
  // Minimal
  <Button sdsStyle="minimal" sdsType="primary" key="minimal">
    Minimal Button
  </Button>,
  // Minimal with Icon
  <Button
    sdsStyle="minimal"
    sdsType="primary"
    key="minimal-with-icon"
    endIcon={<Icon sdsIcon="ChevronRight" sdsSize="xs" />}
  >
    Minimal Button
  </Button>,
];

// Images

export const CONTENT_CARD_IMAGE_LABELS = [
  "None",
  "Placeholder ContentCard",
  "Image ContentCard",
  "Placeholder Image",
  "Image",
];

export const CONTENT_CARD_IMAGE_OPTIONS = [
  null,
  <CardMedia
    component="img"
    key="image"
    image="https://placehold.co/300?text=Content Card Media"
    alt="Placeholder Image"
  />,
  <CardMedia
    component="img"
    key="image"
    image="https://picsum.photos/1000"
    alt="Placeholder Image"
  />,
  "https://placehold.co/300?text=Placeholder Image",
  "https://picsum.photos/1000",
];

// Icons

export const CONTENT_CARD_ICON_LABELS = [
  "None",
  "Compass Icon",
  "Speech Bubbles Icon",
];

export const CONTENT_CARD_ICON_OPTIONS = [
  null,
  <Icon sdsIcon="Compass" sdsSize="xl" key="icon" />,
  <Icon sdsIcon="SpeechBubbles" sdsSize="xl" key="icon" />,
];
</file>

<file path="packages/components/src/core/ContentCard/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { ContentCard } from "./stories/default";
import {
  CONTENT_CARD_BUTTONS_LABELS,
  CONTENT_CARD_BUTTONS_OPTIONS,
  CONTENT_CARD_EXCLUDED_CONTROLS,
  CONTENT_CARD_ICON_LABELS,
  CONTENT_CARD_ICON_OPTIONS,
  CONTENT_CARD_IMAGE_LABELS,
  CONTENT_CARD_IMAGE_OPTIONS,
} from "./constants";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    boundingBox: {
      control: {
        type: "boolean",
      },
      description:
        "If true, the card will include a bounding box; otherwise, it will not.",
      table: {
        defaultValue: { summary: "true" },
      },
    },
    buttons: {
      control: {
        labels: CONTENT_CARD_BUTTONS_LABELS,
        type: "multi-select",
      },
      description:
        "Select the buttons to display. This is a multi-select field, and you can hold the Cmd (Mac) or Ctrl (Windows) key to select multiple options.",
      mapping: CONTENT_CARD_BUTTONS_OPTIONS,
      options: Object.keys(CONTENT_CARD_BUTTONS_OPTIONS),
      table: {
        type: { summary: "ReactNode" },
      },
    },
    buttonsPosition: {
      control: {
        type: "radio",
      },
      description: "Defines the position of the buttons.",
      options: ["left", "right"],
      table: {
        defaultValue: { summary: "left" },
      },
    },
    classes: {
      control: {
        type: "object",
      },
      description:
        "Defines the css classes to be applied to the card components.",
      table: {
        type: { summary: "Experimental" },
      },
    },
    clickableCard: {
      control: {
        type: "boolean",
      },
      description:
        "If set to true, the entire card becomes a clickable button. Note that enabling this prop automatically sets boundingBox to true, and only the first button in the action area will be visible.",
      table: {
        defaultValue: { summary: "false" },
      },
    },
    clickableCardProps: {
      control: {
        type: "object",
      },
      description:
        "If clickableCard is set to true, this prop accepts a ButtonProps object to be passed to the button.",
      table: {
        type: { summary: "ButtonProps" },
      },
    },
    decorativeBorder: {
      control: {
        type: "boolean",
      },
      description:
        "If true, and imagePadding is also true, the card will display a decorative border on the left for wide cards and on the top for narrow cards.",
      table: {
        defaultValue: { summary: "false" },
      },
    },
    icon: {
      control: {
        labels: CONTENT_CARD_ICON_LABELS,
        type: "select",
      },
      description:
        "If visualElementType is set to `icon`, this prop accepts an icon to be displayed in the card’s media section.",
      mapping: CONTENT_CARD_ICON_OPTIONS,
      options: Object.keys(CONTENT_CARD_ICON_OPTIONS),
      table: {
        type: { summary: "ReactNode" },
      },
    },
    image: {
      control: {
        labels: CONTENT_CARD_IMAGE_LABELS,
        type: "select",
      },
      description:
        "If visualElementType is set to `image`, this prop accepts an image to be displayed in the card’s media section.",
      mapping: CONTENT_CARD_IMAGE_OPTIONS,
      options: Object.keys(CONTENT_CARD_IMAGE_OPTIONS),
      table: {
        type: { summary: "ReactNode" },
      },
    },
    imagePadding: {
      control: {
        type: "boolean",
      },
      description:
        "If true, the card will include a padding to the image; otherwise, it will not.",
      table: {
        defaultValue: { summary: "false" },
      },
    },
    imagePosition: {
      control: {
        type: "radio",
      },
      description:
        "Defines the position of the image. If the image is not set, this prop will have no effect.",
      options: ["left", "right"],
      table: {
        defaultValue: { summary: "left" },
      },
    },
    imageSize: {
      control: {
        type: "number",
      },
      description:
        "Defines the size of the image in pixels, serving as the maximum and minimum boundary for the visual element.",
      table: {
        defaultValue: { summary: "300" },
      },
    },
    metadataText: {
      control: {
        type: "text",
      },
      description:
        "The text to display in the metadata section of the card title.",
    },
    overlineText: {
      control: {
        type: "text",
      },
      description:
        "The text to display in the overline section of the card title.",
    },
    sdsType: {
      control: {
        type: "radio",
      },
      description: "Defines the type of card to display.",
      options: ["wide", "narrow"],
      table: {
        defaultValue: { summary: "wide" },
      },
    },
    subtitleText: {
      control: {
        type: "text",
      },
      description:
        "The text to display in the subtitle section of the card title.",
    },
    titleText: {
      control: {
        type: "text",
      },
      description: "The text to display in the title section of the card.",
    },
    visualElementType: {
      control: {
        type: "select",
      },
      description: "The type of media to display in the card.",
      options: ["image", "icon", "none"],
      table: {
        defaultValue: { summary: "none" },
      },
    },
  },
  component: ContentCard,
  title: "Components/ContentCard",
} as Meta;

// Default

export const Default = {
  args: {
    boundingBox: true,
    buttons: [CONTENT_CARD_BUTTONS_OPTIONS[2], CONTENT_CARD_BUTTONS_OPTIONS[5]],
    buttonsPosition: "left",
    clickableCard: false,
    clickableCardProps: {
      component: "a",
      href: "https://chanzuckerberg.com",
    },
    decorativeBorder: false,
    icon: CONTENT_CARD_ICON_OPTIONS[1],
    image: CONTENT_CARD_IMAGE_OPTIONS[4],
    imagePadding: false,
    imagePosition: "left",
    metadataText: "Metadata Text",
    overlineText: "Overline Text",
    sdsType: "wide",
    subtitleText: "Subtitle Text",
    titleText: "Title Text",
    visualElementType: "image",
  },
  parameters: {
    controls: {
      expanded: true,
    },
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: CONTENT_CARD_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/ContentCard/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`ContentCard Default story renders snapshot 1`] = `
<div
  class="MuiPaper-root MuiPaper-elevation MuiPaper-rounded MuiPaper-elevation1 MuiCard-root css-1d1ecop-MuiPaper-root-MuiCard-root"
>
  <div
    class="css-20z69m"
  >
    <img
      alt="Content Card Media"
      class="MuiCardMedia-root MuiCardMedia-media MuiCardMedia-img css-fq4hyx-MuiCardMedia-root"
      src="https://picsum.photos/1000"
    />
  </div>
  <div
    class="css-1wmo34t"
  >
    <div>
      <div
        class="css-1jlejkr"
      >
        <p
          class="css-5sjq7l"
        >
          Overline Text
        </p>
        <p
          class="css-5sjq7l"
        >
          Title Text
        </p>
        <p
          class="css-5sjq7l"
        >
          Subtitle Text
        </p>
      </div>
      <p
        class="css-16dysem"
      >
        Metadata Text
      </p>
    </div>
    <div
      class="css-6kyaea"
    >
      <div
        class="MuiCardContent-root css-1ybx2ee-MuiCardContent-root"
      >
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere.
      </div>
      <div
        class="MuiCardActions-root MuiCardActions-spacing css-1w4zes7-MuiCardActions-root"
      >
        <button
          class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-bgxiuw-MuiButtonBase-root-MuiButton-root"
          tabindex="0"
          type="button"
        >
          Primary Button
          <span
            class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
          />
        </button>
        <button
          class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-2b16iw-MuiButtonBase-root-MuiButton-root"
          data-style="minimal"
          tabindex="0"
          type="button"
        >
          Minimal Button
          <span
            class="MuiButton-icon MuiButton-endIcon MuiButton-iconSizeMedium css-9tj150-MuiButton-endIcon"
          >
            <div
              class="css-1ft6wgl"
            >
              <svg
                aria-hidden="true"
                class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                data-file-name="IconChevronRightSmall"
                data-testid="IconChevronRightSmall"
                fillcontrast="white"
                focusable="false"
                height="16"
                viewBox="0 0 16 16"
                width="16"
              />
            </div>
          </span>
          <span
            class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
          />
        </button>
      </div>
    </div>
  </div>
</div>
`;
</file>

<file path="packages/components/src/core/ContentCard/__tests__/ContentCard.namespace-test.tsx">
import React from "react";
import {
  ContentCard,
  ContentCardActions,
  ContentCardBody,
  ContentCardProps,
} from "@czi-sds/components";
import Button from "src/core/Button";

export const ContentCardNameSpaceTest = (props: ContentCardProps) => {
  return (
    <ContentCard
      visualElementType="image"
      image="https://picsum.photos/1000"
      imagePadding={false}
      imageSize={300}
      overlineText="Overline text"
      titleText="Title"
      subtitleText="Subtitle text"
      metadataText="Metadata text"
      boundingBox
      sdsType="wide"
      clickableCard={false}
      imagePosition={"left" as ContentCardProps["imagePosition"]}
      buttonsPosition="left"
    >
      <ContentCardBody>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
        veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
        commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
        velit esse cillum dolore eu fugiat nulla pariatur.
      </ContentCardBody>

      <ContentCardActions>
        <Button sdsStyle="minimal" sdsType="primary" key="minimal">
          Minimal Button
        </Button>
      </ContentCardActions>
    </ContentCard>
  );
};
</file>

<file path="packages/components/src/core/ContentCard/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";
import Button from "src/core/Button";
import ContentCardActions from "../components/ContentCardActions";
import { ContentCardBody } from "..";

global.ResizeObserver = class {
  observe() {}

  unobserve() {}

  disconnect() {}
};

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);
const CONTENT_CARD_TEST_ID = "content-card";

describe("ContentCard", () => {
  generateSnapshots(stories);

  it("renders content card with default props", () => {
    render(<Test />);
    expect(screen.getByTestId(CONTENT_CARD_TEST_ID)).toBeInTheDocument();
  });

  it("renders content card with image", () => {
    render(
      <Test
        visualElementType="image"
        image="https://picsum.photos/1000"
        imageSize={300}
      />
    );
    const image = screen.getByRole("img");
    expect(image).toBeInTheDocument();
  });

  it("renders content card with icon", () => {
    render(
      <Test
        visualElementType="icon"
        icon={<div data-testid="test-icon">Icon</div>}
      />
    );
    expect(screen.getByTestId("test-icon")).toBeInTheDocument();
  });

  it("renders content card with text content", () => {
    render(
      <Test
        overlineText="Overline"
        titleText="Title"
        subtitleText="Subtitle"
        metadataText="Metadata"
      />
    );
    expect(screen.getByText("Overline")).toBeInTheDocument();
    expect(screen.getByText("Title")).toBeInTheDocument();
    expect(screen.getByText("Subtitle")).toBeInTheDocument();
    expect(screen.getByText("Metadata")).toBeInTheDocument();
  });

  it("renders clickable card", () => {
    const onClick = jest.fn();
    render(<Test clickableCard onClick={onClick} />);
    const card = screen.getByTestId(CONTENT_CARD_TEST_ID);
    fireEvent.click(card);
    expect(onClick).toHaveBeenCalled();
  });

  it("renders content card with buttons", () => {
    render(
      <Test>
        <ContentCardBody>
          <div>Content Card Body</div>
        </ContentCardBody>

        <ContentCardActions>
          <Button key="1" sdsStyle="minimal" sdsType="primary">
            Button
          </Button>
          <Button key="2" sdsStyle="minimal" sdsType="secondary">
            Second Button
          </Button>
        </ContentCardActions>
      </Test>
    );
    expect(screen.getByText("Button")).toBeInTheDocument();
  });

  it("renders content card with different button positions", () => {
    render(
      <Test buttonsPosition="right">
        <ContentCardBody>
          <div>Content Card Body</div>
        </ContentCardBody>

        <ContentCardActions>
          <Button key="1" sdsStyle="minimal" sdsType="primary">
            Button
          </Button>
          <Button key="2" sdsStyle="minimal" sdsType="secondary">
            Second Button
          </Button>
        </ContentCardActions>
      </Test>
    );
    const button = screen.getByText("Button");
    expect(button).toBeInTheDocument();
  });

  it("renders content card with different image positions", () => {
    render(
      <Test
        visualElementType="image"
        image="https://picsum.photos/1000"
        imagePosition="right"
      />
    );
    const image = screen.getByRole("img");
    expect(image).toBeInTheDocument();
  });

  it("renders content card with different types", () => {
    render(<Test sdsType="narrow" />);
    expect(screen.getByTestId(CONTENT_CARD_TEST_ID)).toBeInTheDocument();
  });

  it("renders content card with ReactNode as titleText", () => {
    const CustomTitle = () => (
      <span data-testid="custom-title">Custom Title</span>
    );
    render(<Test titleText={<CustomTitle />} />);
    expect(screen.getByTestId("custom-title")).toBeInTheDocument();
    expect(screen.getByText("Custom Title")).toBeInTheDocument();
  });
});
</file>

<file path="packages/components/src/core/ContentCard/components/ContentCardActions/index.tsx">
import React, { forwardRef, ReactElement, ReactNode } from "react";
import { StyledCardActions } from "./style";
import Button, { ButtonProps } from "src/core/Button";
import {
  SDSWarningTypes,
  showWarningIfFirstOccurence,
} from "src/common/warnings";
import { ContentCardProps } from "../..";
import { EMPTY_OBJECT } from "src/common/utils";

export interface ContentCardActionsProps {
  buttonsPosition?: "left" | "right";
  clickableCard?: ContentCardProps["clickableCard"];
  classes?: {
    cardActions?: string;
  };
  children:
    | React.ReactElement<ButtonProps>
    | Array<React.ReactElement<ButtonProps>>;
}

const isButtonElement = (
  child: ReactNode
): child is ReactElement<ButtonProps> => {
  if (React.isValidElement(child) && child.type === Button) {
    return true;
  } else {
    showWarningIfFirstOccurence(SDSWarningTypes.ContentCardActionsOnlyButtons);
    return false;
  }
};

/**
 * @see https://mui.com/material-ui/api/card-actions/
 */
const ContentCardActions = forwardRef<HTMLDivElement, ContentCardActionsProps>(
  function ContentCardActions(
    props: ContentCardActionsProps,
    ref
  ): JSX.Element | null {
    const {
      buttonsPosition,
      clickableCard,
      children,
      classes = EMPTY_OBJECT,
    } = props;

    const { cardActions }: ContentCardActionsProps["classes"] = classes;

    /**
     * (masoudmanson):
     * We need to ensure that only SDS buttons are used within the
     * ContentCardActions component slot. This is to prevent any potential
     * issues with using other components within the ContentCardActions component slot.
     */
    const validChildren = React.Children.toArray(
      Array.isArray(children) ? children : [children]
    ).filter(isButtonElement);

    /**
     * If the card is clickable, it acts as a `<button>` itself and cannot
     * have `<button>` elements as children. If multiple buttons are provided,
     * only the first one will be kept, and a warning will be shown.
     *
     * Any additional buttons cannot remain as `<button>` elements due to
     * DOM hierarchy constraints; they will be converted to `<a>` tags instead.
     */
    if (clickableCard) {
      if (validChildren.length > 1) {
        showWarningIfFirstOccurence(
          SDSWarningTypes.ClickableContentCardNumberOfButtons
        );
      }

      /**
       * (masoudmanson): Since a clickable card can have at most one button,
       * we select the first button from the validChildren array and ignore the rest.
       */
      const clickableCardButton = validChildren.shift();

      if (!clickableCardButton) {
        return null;
      }

      return (
        <StyledCardActions
          ref={ref}
          buttonsPosition={buttonsPosition}
          className={cardActions}
        >
          {[
            React.cloneElement(
              clickableCardButton as React.ReactElement<ButtonProps>,
              {
                component: "div",
                ...(clickableCardButton?.props as ButtonProps),
              }
            ),
          ]}
        </StyledCardActions>
      );
    }

    return (
      <StyledCardActions
        ref={ref}
        buttonsPosition={buttonsPosition}
        className={cardActions}
      >
        {validChildren}
      </StyledCardActions>
    );
  }
);

export default ContentCardActions;
</file>

<file path="packages/components/src/core/ContentCard/components/ContentCardActions/style.ts">
import styled from "@emotion/styled";
import { CardActions, CardActionsProps } from "@mui/material";
import { CommonThemeProps, getSpaces } from "../../../styles";
import { ButtonProps } from "src/core/Button";

const doNotForwardProps = ["buttonsPosition"];

export type StyledCardActionsProps = CardActionsProps &
  CommonThemeProps & {
    buttonsPosition?: "left" | "right";
    children?: Array<React.ReactElement<ButtonProps>>;
  };

export const StyledCardActions = styled(CardActions, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: StyledCardActionsProps) => {
    const { buttonsPosition = "left" } = props;

    const spaces = getSpaces(props);

    return `
      margin: 0;
      padding: ${spaces?.xl}px 0 0;
      display: flex;
      gap: ${spaces?.m}px;
      justify-content: ${buttonsPosition === "right" ? "flex-end" : "flex-start"};

      & > * {
        margin: 0 !important;
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/ContentCard/components/ContentCardImageMedia/index.tsx">
import React, { forwardRef } from "react";
import { ContentCardProps } from "../..";
import { StyledImageMediaWrapper } from "./style";
import { CardMedia, CardMediaProps } from "@mui/material";

export interface ContentCardImageMediaProps {
  imagePadding?: ContentCardProps["imagePadding"];
  imagePosition?: ContentCardProps["imagePosition"];
  boundingBox?: ContentCardProps["boundingBox"];
  sdsType: ContentCardProps["sdsType"];
  imageSize: ContentCardProps["imageSize"];
  image?: ContentCardProps["image"];
  className?: string;
}

/**
 * @see https://mui.com/material-ui/api/card-media/
 */
const ContentCardImageMedia = forwardRef<
  HTMLDivElement,
  ContentCardImageMediaProps
>(function ContentCardImageMedia(
  props: ContentCardImageMediaProps,
  ref
): JSX.Element | null {
  const { image, imageSize, sdsType, className } = props;

  /**
   * (masoudmanson): These styles makes the image responsive and
   * ensures the image is the right aspect ratio in different card sizes.
   */
  const imageMediaStyles = {
    height: "100%",
    maxHeight: sdsType === "narrow" ? imageSize : "100%",
    maxWidth: sdsType === "narrow" ? "100%" : imageSize,
    minHeight: imageSize,
    minWidth: sdsType === "narrow" ? "unset" : imageSize,
    width: "100%",
  };

  /**
   * (masoudmanson): We need to make sure the image is wrapped in a CardMedia component.
   * - If it's a string, wrap it in CardMedia with proper styles.
   * - If it's already a CardMedia component, clone it and apply the styles.
   * - If it's a valid element, clone it and apply the styles.
   * - If it's null, return null.
   */
  const imageElement =
    typeof image === "string" ? (
      <CardMedia
        component="img"
        src={image}
        alt="Content Card Media"
        sx={{ ...imageMediaStyles }}
      />
    ) : React.isValidElement(image) && image.type === CardMedia ? (
      React.cloneElement(image as React.ReactElement<CardMediaProps>, {
        component: "img",
        sx: {
          ...(image.props as CardMediaProps).sx,
          ...imageMediaStyles,
        },
      })
    ) : React.isValidElement(image) ? (
      React.cloneElement(image as React.ReactElement, {
        style: {
          ...imageMediaStyles,
          objectFit: "cover",
          objectPosition: "center",
        },
      })
    ) : null;

  return (
    <StyledImageMediaWrapper ref={ref} {...props} className={className}>
      {imageElement}
    </StyledImageMediaWrapper>
  );
});

export default ContentCardImageMedia;
</file>

<file path="packages/components/src/core/ContentCard/components/ContentCardImageMedia/style.ts">
import { CommonThemeProps, getSpaces } from "src/core/styles";
import { ContentCardProps } from "../..";
import { css, styled } from "@mui/material";

type VisualImageWrapperExtraProps = {
  imagePadding?: ContentCardProps["imagePadding"];
  boundingBox?: ContentCardProps["boundingBox"];
  sdsType?: ContentCardProps["sdsType"];
  imageSize?: ContentCardProps["imageSize"];
  image?: ContentCardProps["image"];
  imagePosition?: ContentCardProps["imagePosition"];
} & CommonThemeProps;

const doNotForwardProps = [
  "imagePadding",
  "boundingBox",
  "sdsType",
  "imageSize",
  "image",
  "imagePosition",
];

export const StyledImageMediaWrapper = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: VisualImageWrapperExtraProps) => {
    const {
      imagePadding = false,
      boundingBox = true,
      sdsType = "wide",
      imagePosition = "left",
    } = props;

    const spaces = getSpaces(props);

    return css`
      display: flex;
      align-items: start;

      ${boundingBox
        ? imagePadding
          ? css`
              padding: ${spaces?.xl}px;
              ${imagePosition === "left"
                ? `padding-right: 0;`
                : `padding-left: 0;`}
            `
          : css`
              padding: 0;
            `
        : css`
            ${imagePosition === "left"
              ? `padding-right: ${spaces?.xl}px;`
              : `padding-left: ${spaces?.xl}px;`}
          `}

      ${sdsType === "narrow" &&
      css`
        ${boundingBox
          ? imagePadding
            ? css`
                padding: ${spaces?.xl}px;
                padding-bottom: 0;
              `
            : css`
                padding: 0;
              `
          : css`
              padding-bottom: ${spaces?.xl}px;
            `}

        justify-content: center;
      `}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/ContentCard/components/ContentCardTitle/index.tsx">
import { forwardRef, ReactNode } from "react";
import {
  StyledOverlineText,
  StyledTitleText,
  StyledSubtitleText,
  StyledMetadataText,
  StyledTitleWrapper,
} from "./style";
import { EMPTY_OBJECT } from "src/common/utils";
import { BaseContentCardProps } from "../../ContentCard.types";

export interface ContentCardTitleProps
  extends Pick<
    BaseContentCardProps,
    "overlineText" | "titleText" | "subtitleText" | "metadataText"
  > {
  classes?: {
    cardHeader?: string;
    cardOverline?: string;
    cardTitle?: string;
    cardSubtitle?: string;
    cardMetadata?: string;
  };
}

interface TextComponentProps {
  text: string | ReactNode;
  className?: string;
}

type StyledTextComponentProps = {
  className?: string;
  children: ReactNode;
};

const createTextComponent = (
  StyledComponent: React.ComponentType<StyledTextComponentProps>
) => {
  return ({ text, className }: TextComponentProps) => {
    if (!text) return null;

    return typeof text === "string" ? (
      <StyledComponent className={className}>{text}</StyledComponent>
    ) : (
      text
    );
  };
};

const OverlineText = createTextComponent(StyledOverlineText);
const TitleText = createTextComponent(StyledTitleText);
const SubtitleText = createTextComponent(StyledSubtitleText);
const MetadataText = createTextComponent(StyledMetadataText);

const ContentCardTitle = forwardRef<HTMLDivElement, ContentCardTitleProps>(
  function ContentCardTitle(props: ContentCardTitleProps, ref): JSX.Element {
    const {
      overlineText,
      titleText,
      subtitleText,
      metadataText,
      classes = EMPTY_OBJECT,
    } = props;

    const {
      cardHeader,
      cardOverline,
      cardTitle,
      cardSubtitle,
      cardMetadata,
    }: ContentCardTitleProps["classes"] = classes;

    return (
      <div ref={ref}>
        <StyledTitleWrapper className={cardHeader}>
          <OverlineText text={overlineText} className={cardOverline} />
          <TitleText text={titleText} className={cardTitle} />
          <SubtitleText text={subtitleText} className={cardSubtitle} />
        </StyledTitleWrapper>
        <MetadataText text={metadataText} className={cardMetadata} />
      </div>
    );
  }
);

export default ContentCardTitle;
</file>

<file path="packages/components/src/core/ContentCard/components/ContentCardTitle/style.ts">
import { styled } from "@mui/material";
import {
  CommonThemeProps,
  fontBodyXxs,
  fontCapsXxxs,
  fontHeaderM,
  fontHeaderXl,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

const doNotForwardProps = [
  "visualElement",
  "sdsType",
  "imagePosition",
  "imagePadding",
  "overlineText",
  "titleText",
  "subtitleText",
  "metadataText",
  "contentBlock",
];

export const StyledTitleWrapper = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props) => {
    const spaces = getSpaces(props);

    return `
      display: flex;
      flex-direction: column;
      gap: ${spaces?.xxs}px;
    `;
  }}
`;

export const StyledOverlineText = styled("p", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontCapsXxxs}
  ${(props: CommonThemeProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textSecondary};
      margin: 0;
    `;
  }}
`;

export const StyledTitleText = styled("p", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontHeaderXl}
  ${(props: CommonThemeProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textPrimary};
      margin: 0;
    `;
  }}
`;

export const StyledSubtitleText = styled("p", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontHeaderM}
  ${(props: CommonThemeProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textPrimary};
      margin: 0;
    `;
  }}
`;

export const StyledMetadataText = styled("p", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontBodyXxs}
  ${(props: CommonThemeProps) => {
    const semanticColors = getSemanticColors(props);
    const spaces = getSpaces(props);

    return `
      color: ${semanticColors?.base?.textSecondary};
      margin: ${spaces?.s}px 0 0 0;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/ContentCard/ContentCard.types.ts">
import { CardProps } from "@mui/material";
import { SdsMinimalButtonProps } from "../Button";
import { ReactNode } from "react";

export interface BaseContentCardProps extends CardProps {
  sdsType?: "wide" | "narrow";
  overlineText?: ReactNode;
  titleText?: ReactNode;
  subtitleText?: ReactNode;
  metadataText?: ReactNode;
  boundingBox?: boolean;
  decorativeBorder?: boolean;
  children?: ReactNode;
  clickableCard?: boolean;
  clickableCardProps?: Partial<SdsMinimalButtonProps>;
  buttonsPosition?: "left" | "right";
  classes?: {
    cardPaper?: string;
    cardContent?: string;
    cardHeader?: string;
    cardMedia?: string;
    cardOverline?: string;
    cardTitle?: string;
    cardSubtitle?: string;
    cardMetadata?: string;
    cardActions?: string;
    clickableCardButton?: string;
  };
}

export interface ImageContentCardProps extends BaseContentCardProps {
  visualElementType: "image";
  image?: ReactNode;
  imagePosition?: "left" | "right";
  imagePadding?: boolean;
  imageSize?: number;
  icon?: never;
}

export interface IconContentCardProps extends BaseContentCardProps {
  visualElementType: "icon";
  icon?: ReactNode;
  image?: never;
  imageSize?: never;
  imagePosition?: never;
  imagePadding?: never;
}

export interface NoneContentCardProps extends BaseContentCardProps {
  visualElementType: "none";
  icon?: never;
  image?: never;
  imagePosition?: never;
  imagePadding?: never;
  imageSize?: never;
}

export type ContentCardProps =
  | ImageContentCardProps
  | IconContentCardProps
  | NoneContentCardProps;

export const CONTENT_CARD_DEFAULT_IMAGE_MEDIA_SIZE = 300;
export const CONTENT_CARD_WIDE_TYPE_MIN_WIDTH_LOW_BOUNDARY = 595;
export const CONTENT_CARD_WIDE_TYPE_MIN_WIDTH_HIGH_BOUNDARY = 605;
</file>

<file path="packages/components/src/core/ContentCard/index.tsx">
import React, { useRef, useEffect, useState } from "react";
import { CardMedia, CardMediaProps } from "@mui/material";
import {
  StyledCard,
  StyledCardActionArea,
  StyledCardContent,
  StyledCardContentAligner,
  StyledContentCardBody,
  StyledIconMediaWrapper,
} from "./style";
import ContentCardTitle, {
  ContentCardTitleProps,
} from "./components/ContentCardTitle";
import ContentCardActions, {
  ContentCardActionsProps,
} from "./components/ContentCardActions";
import { EMPTY_OBJECT, mergeRefs } from "src/common/utils";
import ContentCardImageMedia from "./components/ContentCardImageMedia";
import {
  CONTENT_CARD_DEFAULT_IMAGE_MEDIA_SIZE,
  CONTENT_CARD_WIDE_TYPE_MIN_WIDTH_HIGH_BOUNDARY,
  CONTENT_CARD_WIDE_TYPE_MIN_WIDTH_LOW_BOUNDARY,
  ContentCardProps,
} from "./ContentCard.types";
import {
  StyledTitleText,
  StyledSubtitleText,
  StyledMetadataText,
  StyledOverlineText,
} from "./components/ContentCardTitle/style";

export {
  ContentCardActions,
  StyledContentCardBody as ContentCardBody,
  CardMedia as ContentCardMedia,
  StyledTitleText as ContentCardTitle,
  StyledSubtitleText as ContentCardSubtitle,
  StyledMetadataText as ContentCardMetadata,
  StyledOverlineText as ContentCardOverline,
};

export type {
  ContentCardProps,
  CardMediaProps as ContentCardMediaProps,
  ContentCardActionsProps,
  ContentCardTitleProps,
};

const useResponsiveWidth = (initialSdsType: ContentCardProps["sdsType"]) => {
  const [isNarrow, setIsNarrow] = useState(false);

  const handleResize = (width: number) => {
    if (width < CONTENT_CARD_WIDE_TYPE_MIN_WIDTH_LOW_BOUNDARY && !isNarrow) {
      setIsNarrow(true);
    } else if (
      width > CONTENT_CARD_WIDE_TYPE_MIN_WIDTH_HIGH_BOUNDARY &&
      isNarrow
    ) {
      setIsNarrow(false);
    }
  };

  return {
    dynamicSdsType: isNarrow ? "narrow" : initialSdsType,
    handleResize,
    isNarrow,
  };
};

/**
 * (masoudmanson): This function is used to add the clickableCard and
 * buttonsPosition props to the ContentCardActions sub-component.
 */
const enhanceChildrenWithCardActionsProps = (
  children: React.ReactNode,
  clickableCard: boolean,
  buttonsPosition: ContentCardProps["buttonsPosition"],
  classes?: {
    cardActions?: string;
  }
) => {
  return React.Children.map(children, (child) => {
    if (React.isValidElement(child) && child.type === ContentCardActions) {
      return React.cloneElement(child, {
        ...child.props,
        buttonsPosition,
        classes,
        clickableCard,
      });
    }
    return child;
  });
};

/**
 * @see https://mui.com/material-ui/react-card/
 */
const ContentCard = React.forwardRef<HTMLDivElement, ContentCardProps>(
  (props, ref) => {
    const {
      visualElementType = "none",
      image,
      icon,
      imagePadding = false,
      imageSize = CONTENT_CARD_DEFAULT_IMAGE_MEDIA_SIZE,
      overlineText,
      titleText,
      subtitleText,
      metadataText,
      boundingBox: propsBoundingBox = true,
      children,
      sdsType = "wide",
      clickableCard = false,
      imagePosition = "left",
      buttonsPosition = "left",
      clickableCardProps,
      classes = EMPTY_OBJECT,
    } = props;

    const {
      cardMedia,
      cardContent,
      cardHeader,
      cardMetadata,
      cardOverline,
      cardSubtitle,
      cardTitle,
      cardActions,
      cardPaper,
      clickableCardButton,
    }: ContentCardProps["classes"] = classes;

    // Force boundingBox to be true when clickableCard is true
    const boundingBox = clickableCard ? true : propsBoundingBox;

    const cardRef = useRef<HTMLDivElement>(null);
    const { handleResize, dynamicSdsType } = useResponsiveWidth(sdsType);

    useEffect(() => {
      const element = cardRef.current;
      if (!element) return;

      const resizeObserver = new ResizeObserver((entries) => {
        for (const entry of entries) {
          handleResize(entry.contentRect.width);
        }
      });

      resizeObserver.observe(element);

      return () => {
        resizeObserver.disconnect();
      };
    }, [handleResize]);

    const visualElement =
      visualElementType === "image" && image ? (
        <ContentCardImageMedia
          imagePadding={imagePadding}
          boundingBox={boundingBox}
          sdsType={dynamicSdsType}
          imageSize={imageSize}
          image={image}
          imagePosition={imagePosition}
          className={cardMedia}
        />
      ) : visualElementType === "icon" && icon ? (
        <StyledIconMediaWrapper boundingBox={boundingBox} className={cardMedia}>
          {icon}
        </StyledIconMediaWrapper>
      ) : null;

    const cardInnerContent = (
      <>
        {visualElement}
        <StyledCardContent
          boundingBox={boundingBox}
          clickableCard={clickableCard}
          className={cardContent}
        >
          <ContentCardTitle
            overlineText={overlineText}
            titleText={titleText}
            subtitleText={subtitleText}
            metadataText={metadataText}
            classes={{
              cardHeader,
              cardMetadata,
              cardOverline,
              cardSubtitle,
              cardTitle,
            }}
          />
          <StyledCardContentAligner>
            {enhanceChildrenWithCardActionsProps(
              children,
              clickableCard,
              buttonsPosition,
              {
                cardActions: cardActions,
              }
            )}
          </StyledCardContentAligner>
        </StyledCardContent>
      </>
    );

    return (
      <StyledCard
        ref={mergeRefs([ref, cardRef])}
        {...props}
        sdsType={dynamicSdsType}
        boundingBox={boundingBox}
        className={cardPaper}
      >
        {clickableCard ? (
          <StyledCardActionArea
            {...clickableCardProps}
            // (masoudmanson): The following props are for internal use only and should not be user editable.
            // To prevent users from overriding them, we use the spread operator to pass user provided props
            // to the StyledCardActionArea component on top while hardcoding the rest after it.
            sdsStyle="minimal"
            cardSdsType={dynamicSdsType}
            visualElementType={visualElementType}
            imagePosition={imagePosition}
            className={clickableCardButton}
          >
            {cardInnerContent}
          </StyledCardActionArea>
        ) : (
          cardInnerContent
        )}
      </StyledCard>
    );
  }
);

export default ContentCard;
</file>

<file path="packages/components/src/core/ContentCard/style.ts">
import styled from "@emotion/styled";
import { Card, CardContent } from "@mui/material";
import {
  CommonThemeProps,
  fontBodyS,
  getSemanticColors,
  getShadows,
  getSpaces,
} from "../styles";
import { css } from "@emotion/react";
import { ContentCardProps } from "./index";
import Button, { SdsMinimalButtonProps } from "../Button";

type CardExtraProps = Partial<ContentCardProps> & CommonThemeProps;

const doNotForwardProps = [
  "visualElement",
  "sdsType",
  "imagePosition",
  "imagePadding",
  "overlineText",
  "titleText",
  "subtitleText",
  "metadataText",
  "contentBlock",
  "decorativeBorder",
  "boundingBox",
  "buttons",
  "visualElementType",
  "image",
  "icon",
  "buttonsPosition",
  "clickableCard",
  "imageSize",
  "clickableCardProps",
  "cardSdsType",
  "classes",
];

export const StyledCard = styled(Card, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: CardExtraProps) => {
    const {
      imagePosition = "left",
      sdsType = "wide",
      boundingBox = true,
      decorativeBorder = false,
      imagePadding = false,
      visualElementType,
    } = props;

    const semanticColors = getSemanticColors(props);

    const flexDirection =
      sdsType === "wide" && visualElementType === "image"
        ? imagePosition === "left"
          ? "row"
          : "row-reverse"
        : visualElementType === "icon"
          ? "row"
          : "column";

    const showDecorativeBorder =
      visualElementType === "image"
        ? boundingBox && decorativeBorder && imagePadding
        : boundingBox && decorativeBorder;

    return css`
      display: flex;
      background-color: transparent;
      background-image: none;
      flex-direction: ${flexDirection};
      box-shadow: none;
      overflow: visible;

      .MuiCardActionArea-focusHighlight {
        background: transparent;
      }

      ${boundingBox &&
      css`
        border: 1px solid ${semanticColors?.base?.borderSecondary};
        background-color: ${semanticColors?.base?.backgroundPrimary};
      `}

      ${sdsType === "wide" &&
      showDecorativeBorder &&
      css`
        border-left: 4px solid ${semanticColors?.accent?.border};
      `}

      ${sdsType === "narrow" &&
      showDecorativeBorder &&
      css`
        border-top: 4px solid ${semanticColors?.accent?.border};
      `}
    `;
  }}
`;

type CardActionAreaExtraProps = {
  imagePosition?: ContentCardProps["imagePosition"];
  cardSdsType?: ContentCardProps["sdsType"];
  visualElementType?: ContentCardProps["visualElementType"];
} & SdsMinimalButtonProps &
  CommonThemeProps;

export const StyledCardActionArea = styled(Button, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: CardActionAreaExtraProps) => {
    const {
      imagePosition = "left",
      cardSdsType = "wide",
      visualElementType,
    } = props;

    const semanticColors = getSemanticColors(props);
    const shadows = getShadows(props);

    const flexDirection =
      cardSdsType === "wide"
        ? imagePosition === "left"
          ? "row"
          : "row-reverse"
        : visualElementType === "image"
          ? "column"
          : "row";

    return `
      display: flex;
      flex-direction: ${flexDirection};
      align-items: unset;
      height: 100%;
      padding: 0;
      margin: 0;
      overflow: auto;
      text-align: unset;

      background-color: ${semanticColors?.base?.backgroundPrimary};

      &:hover,
      &:active {
        background-color: ${semanticColors?.base?.surface};
        box-shadow: ${shadows?.l} !important;
      }
    `;
  }}
`;

type VisualIconWrapperExtraProps = {
  boundingBox?: boolean;
  sdsType?: ContentCardProps["sdsType"];
} & CommonThemeProps;

export const StyledIconMediaWrapper = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: VisualIconWrapperExtraProps) => {
    const { boundingBox = true } = props;
    const spaces = getSpaces(props);

    return css`
      ${boundingBox
        ? css`
            padding: ${spaces?.xl}px 0 ${spaces?.xl}px ${spaces?.xl}px;
          `
        : css`
            padding-right: ${spaces?.xl}px;
          `}
    `;
  }}
`;

export const StyledCardContent = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: CardExtraProps) => {
    const { boundingBox = true } = props;

    const spaces = getSpaces(props);

    return css`
      display: flex;
      flex-direction: column;
      min-width: 100px;
      width: 100%;
      height: 100%;

      ${boundingBox &&
      css`
        padding: ${spaces?.xl}px;
      `}
    `;
  }}
`;

export const StyledContentCardBody = styled(CardContent, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontBodyS}
  ${(props: CardExtraProps) => {
    const semanticColors = getSemanticColors(props);
    const spaces = getSpaces(props);
    return `
      color: ${semanticColors?.base?.textPrimary};
      margin: ${spaces?.l}px 0 0;
      padding: 0;
    `;
  }}
`;

export const StyledCardContentAligner = styled("div")`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
`;
</file>

<file path="packages/components/src/core/Dialog/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import { useState } from "react";
import Button from "src/core/Button";
import RawDialog from "src/core/Dialog";
import DialogTitle from "src/core/Dialog/components/DialogTitle";
import DialogContent from "src/core/Dialog/components/DialogContent";
import DialogActions from "src/core/Dialog/components/DialogActions";
import { EXTRA_LONG_LOREM_IPSUM } from "src/common/storybook/loremIpsum";

export const Dialog = (props: Args): JSX.Element => {
  const {
    buttonPosition,
    longContent = false,
    isOpen: propsIsOpen = false,
    titleOnClose,
    ...rest
  } = props;

  const [isOpen, setIsOpen] = useState(propsIsOpen);

  return (
    <>
      <Button sdsStyle="minimal" sdsType="primary" onClick={handleClick}>
        Open {rest.sdsSize}
      </Button>
      <RawDialog onClose={handleClose} open={isOpen} {...rest}>
        <DialogTitle
          title="Title"
          subtitle="Optional Subtitle"
          overline="Optional Overline"
          onClose={titleOnClose ? handleClose : undefined}
          data-testid="dialog-title"
        />
        <DialogContent data-testid="dialog-content">
          {longContent ? EXTRA_LONG_LOREM_IPSUM : "Content Module"}
        </DialogContent>
        <DialogActions
          data-testid="dialog-actions"
          buttonPosition={buttonPosition}
        >
          <Buttons />
        </DialogActions>
      </RawDialog>
    </>
  );

  function Buttons(): JSX.Element {
    if (buttonPosition === "left") {
      return (
        <>
          <Button sdsStyle="square" sdsType="primary" onClick={handleClose}>
            Primary Action
          </Button>
          <Button sdsStyle="square" sdsType="secondary" onClick={handleClose}>
            Secondary Action
          </Button>
        </>
      );
    }

    return (
      <>
        <Button sdsStyle="square" sdsType="secondary" onClick={handleClose}>
          Secondary Action
        </Button>
        <Button sdsStyle="square" sdsType="primary" onClick={handleClose}>
          Primary Action
        </Button>
      </>
    );
  }

  function handleClick() {
    setIsOpen(true);
  }

  function handleClose() {
    setIsOpen(false);
  }
};
</file>

<file path="packages/components/src/core/Dialog/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import { Dialog } from "./default";

export function TestDemo(props: Args): JSX.Element {
  const defaultProps = { ...props, isOpen: true, titleOnClose: true };

  return (
    <>
      <Dialog sdsSize="xs" {...defaultProps} />
      <Dialog sdsSize="s" {...defaultProps} />
      <Dialog sdsSize="m" {...defaultProps} />
      <Dialog sdsSize="l" {...defaultProps} />
    </>
  );
}
</file>

<file path="packages/components/src/core/Dialog/__storybook__/stories/testButtonPositionLeft.tsx">
import { Args } from "@storybook/react";
import { Dialog } from "./default";

export function TestButtonPositionLeftDemo(props: Args): JSX.Element {
  return <Dialog sdsSize="xs" {...props} isOpen buttonPosition="left" />;
}
</file>

<file path="packages/components/src/core/Dialog/__storybook__/stories/testNoTitleOnClose.tsx">
import { Args } from "@storybook/react";
import { Dialog } from "./default";

export function TestNoTitleOnCloseDemo(props: Args): JSX.Element {
  return <Dialog sdsSize="xs" {...props} isOpen />;
}
</file>

<file path="packages/components/src/core/Dialog/__storybook__/constants.tsx">
export const DIALOG_EXCLUDED_CONTROLS = [
  "canClickOutsideClose",
  "buttonPosition",
  "longContent",
  "titleOnClose",
  "sdsSize",
];
</file>

<file path="packages/components/src/core/Dialog/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Dialog } from "./stories/default";
import { DIALOG_EXCLUDED_CONTROLS } from "./constants";
import { TestDemo } from "./stories/test";
import { TestNoTitleOnCloseDemo } from "./stories/testNoTitleOnClose";
import { TestButtonPositionLeftDemo } from "./stories/testButtonPositionLeft";

export default {
  argTypes: {
    buttonPosition: {
      control: {
        type: "radio",
      },
      options: ["left", "right"],
    },
    canClickOutsideClose: {
      control: {
        type: "boolean",
      },
    },
    longContent: {
      control: {
        type: "boolean",
      },
    },
    sdsSize: {
      control: {
        type: "radio",
      },
      options: ["xs", "s", "m", "l"],
    },
    titleOnClose: {
      control: {
        type: "boolean",
      },
    },
  },
  component: Dialog,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Dialog",
} as Meta;

// Default

export const Default = {
  args: {
    buttonPosition: "right",
    longContent: true,
    sdsSize: "m",
    titleOnClose: false,
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: DIALOG_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};

// Test No Title On Close

export const TestNoTitleOnClose = {
  parameters: {
    controls: {
      exclude: DIALOG_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestNoTitleOnCloseDemo {...args} />,
};

// Test Button Position Left

export const TestButtonPositionLeft = {
  parameters: {
    controls: {
      exclude: DIALOG_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestButtonPositionLeftDemo {...args} />,
};
</file>

<file path="packages/components/src/core/Dialog/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Dialog /> Default story renders snapshot 1`] = `
<button
  class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-2b16iw-MuiButtonBase-root-MuiButton-root"
  data-style="minimal"
  tabindex="0"
  type="button"
>
  Open 
  m
  <span
    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
  />
</button>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 1`] = `
<h2
  class="MuiTypography-root MuiTypography-h6 MuiDialogTitle-root css-uq0kkp-MuiTypography-root-MuiDialogTitle-root"
  data-testid="dialog-title"
  id=":r1:"
>
  <button
    aria-label="Close"
    class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-1y737h3-MuiButtonBase-root-MuiIconButton-root"
    icon="XMark"
    tabindex="0"
    type="button"
  >
    <div
      class="css-1ft6wgl"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
        data-file-name="IconXMarkSmall"
        data-testid="IconXMarkSmall"
        fillcontrast="white"
        focusable="false"
        height="16"
        viewBox="0 0 16 16"
        width="16"
      />
    </div>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <p
    class="MuiTypography-root MuiTypography-body1 css-1qnp4ei-MuiTypography-root"
  >
    Optional Overline
  </p>
  <p
    class="MuiTypography-root MuiTypography-body1 css-l7o1a2-MuiTypography-root"
  >
    Title
  </p>
  <p
    class="MuiTypography-root MuiTypography-body1 css-l7o1a2-MuiTypography-root"
  >
    Optional Subtitle
  </p>
</h2>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 2`] = `
<div
  class="MuiDialogContent-root css-loe64q-MuiDialogContent-root"
  data-testid="dialog-content"
>
  Content Module
</div>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 3`] = `
<div
  class="MuiDialogActions-root MuiDialogActions-spacing css-3tqi0u-MuiDialogActions-root"
  data-testid="dialog-actions"
>
  <button
    class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1gxyc37-MuiButtonBase-root-MuiButton-root"
    tabindex="0"
    type="button"
  >
    Secondary Action
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-bgxiuw-MuiButtonBase-root-MuiButton-root"
    tabindex="0"
    type="button"
  >
    Primary Action
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
</div>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 4`] = `
<h2
  class="MuiTypography-root MuiTypography-h6 MuiDialogTitle-root css-uq0kkp-MuiTypography-root-MuiDialogTitle-root"
  data-testid="dialog-title"
  id=":r2:"
>
  <button
    aria-label="Close"
    class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-eu9ld9-MuiButtonBase-root-MuiIconButton-root"
    icon="XMark"
    tabindex="0"
    type="button"
  >
    <div
      class="css-1ft6wgl"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
        data-file-name="IconXMarkLarge"
        data-testid="IconXMarkLarge"
        fillcontrast="white"
        focusable="false"
        height="24"
        viewBox="0 0 24 24"
        width="24"
      />
    </div>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <p
    class="MuiTypography-root MuiTypography-body1 css-1qnp4ei-MuiTypography-root"
  >
    Optional Overline
  </p>
  <p
    class="MuiTypography-root MuiTypography-body1 css-l7o1a2-MuiTypography-root"
  >
    Title
  </p>
  <p
    class="MuiTypography-root MuiTypography-body1 css-l7o1a2-MuiTypography-root"
  >
    Optional Subtitle
  </p>
</h2>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 5`] = `
<div
  class="MuiDialogContent-root css-loe64q-MuiDialogContent-root"
  data-testid="dialog-content"
>
  Content Module
</div>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 6`] = `
<div
  class="MuiDialogActions-root MuiDialogActions-spacing css-3tqi0u-MuiDialogActions-root"
  data-testid="dialog-actions"
>
  <button
    class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1gxyc37-MuiButtonBase-root-MuiButton-root"
    tabindex="0"
    type="button"
  >
    Secondary Action
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-bgxiuw-MuiButtonBase-root-MuiButton-root"
    tabindex="0"
    type="button"
  >
    Primary Action
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
</div>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 7`] = `
<h2
  class="MuiTypography-root MuiTypography-h6 MuiDialogTitle-root css-uq0kkp-MuiTypography-root-MuiDialogTitle-root"
  data-testid="dialog-title"
  id=":r3:"
>
  <button
    aria-label="Close"
    class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-48ut0w-MuiButtonBase-root-MuiIconButton-root"
    icon="XMark"
    tabindex="0"
    type="button"
  >
    <div
      class="css-1ft6wgl"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
        data-file-name="IconXMarkLarge"
        data-testid="IconXMarkLarge"
        fillcontrast="white"
        focusable="false"
        height="24"
        viewBox="0 0 24 24"
        width="24"
      />
    </div>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <p
    class="MuiTypography-root MuiTypography-body1 css-1qnp4ei-MuiTypography-root"
  >
    Optional Overline
  </p>
  <p
    class="MuiTypography-root MuiTypography-body1 css-l7o1a2-MuiTypography-root"
  >
    Title
  </p>
  <p
    class="MuiTypography-root MuiTypography-body1 css-l7o1a2-MuiTypography-root"
  >
    Optional Subtitle
  </p>
</h2>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 8`] = `
<div
  class="MuiDialogContent-root css-loe64q-MuiDialogContent-root"
  data-testid="dialog-content"
>
  Content Module
</div>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 9`] = `
<div
  class="MuiDialogActions-root MuiDialogActions-spacing css-3tqi0u-MuiDialogActions-root"
  data-testid="dialog-actions"
>
  <button
    class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1gxyc37-MuiButtonBase-root-MuiButton-root"
    tabindex="0"
    type="button"
  >
    Secondary Action
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-bgxiuw-MuiButtonBase-root-MuiButton-root"
    tabindex="0"
    type="button"
  >
    Primary Action
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
</div>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 10`] = `
<h2
  class="MuiTypography-root MuiTypography-h6 MuiDialogTitle-root css-uq0kkp-MuiTypography-root-MuiDialogTitle-root"
  data-testid="dialog-title"
  id=":r4:"
>
  <button
    aria-label="Close"
    class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-48ut0w-MuiButtonBase-root-MuiIconButton-root"
    icon="XMark"
    tabindex="0"
    type="button"
  >
    <div
      class="css-1ft6wgl"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
        data-file-name="IconXMarkLarge"
        data-testid="IconXMarkLarge"
        fillcontrast="white"
        focusable="false"
        height="24"
        viewBox="0 0 24 24"
        width="24"
      />
    </div>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <p
    class="MuiTypography-root MuiTypography-body1 css-1qnp4ei-MuiTypography-root"
  >
    Optional Overline
  </p>
  <p
    class="MuiTypography-root MuiTypography-body1 css-l7o1a2-MuiTypography-root"
  >
    Title
  </p>
  <p
    class="MuiTypography-root MuiTypography-body1 css-l7o1a2-MuiTypography-root"
  >
    Optional Subtitle
  </p>
</h2>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 11`] = `
<div
  class="MuiDialogContent-root css-loe64q-MuiDialogContent-root"
  data-testid="dialog-content"
>
  Content Module
</div>
`;

exports[`<Dialog /> Dialog all sizes match the snapshots 12`] = `
<div
  class="MuiDialogActions-root MuiDialogActions-spacing css-3tqi0u-MuiDialogActions-root"
  data-testid="dialog-actions"
>
  <button
    class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1gxyc37-MuiButtonBase-root-MuiButton-root"
    tabindex="0"
    type="button"
  >
    Secondary Action
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-bgxiuw-MuiButtonBase-root-MuiButton-root"
    tabindex="0"
    type="button"
  >
    Primary Action
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
</div>
`;

exports[`<Dialog /> renders Dialog left positioned buttons 1`] = `
<div
  class="MuiDialogActions-root MuiDialogActions-spacing css-1naj6t2-MuiDialogActions-root"
  data-testid="dialog-actions"
>
  <button
    class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-bgxiuw-MuiButtonBase-root-MuiButton-root"
    tabindex="0"
    type="button"
  >
    Primary Action
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-1gxyc37-MuiButtonBase-root-MuiButton-root"
    tabindex="0"
    type="button"
  >
    Secondary Action
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
</div>
`;

exports[`<Dialog /> renders Dialog without title X button 1`] = `
<h2
  class="MuiTypography-root MuiTypography-h6 MuiDialogTitle-root css-uq0kkp-MuiTypography-root-MuiDialogTitle-root"
  data-testid="dialog-title"
  id=":r5:"
>
  <p
    class="MuiTypography-root MuiTypography-body1 css-1qnp4ei-MuiTypography-root"
  >
    Optional Overline
  </p>
  <p
    class="MuiTypography-root MuiTypography-body1 css-l7o1a2-MuiTypography-root"
  >
    Title
  </p>
  <p
    class="MuiTypography-root MuiTypography-body1 css-l7o1a2-MuiTypography-root"
  >
    Optional Subtitle
  </p>
</h2>
`;
</file>

<file path="packages/components/src/core/Dialog/__tests__/Dialog.namespace-test.tsx">
import {
  Button,
  Dialog,
  DialogActions,
  DialogContent,
  DialogProps,
  DialogTitle,
} from "@czi-sds/components";
import React from "react";
import { noop } from "src/common/utils";

const CellBasicNameSpaceTest = (props: DialogProps) => {
  return (
    <Dialog onClose={noop} open canClickOutsideClose sdsSize="s">
      <DialogTitle
        title="Title"
        subtitle="Optional subtitle"
        onClose={noop}
        data-testid="dialog-title"
      />
      <DialogContent data-testid="dialog-content">Content Module</DialogContent>
      <DialogActions data-testid="dialog-actions" buttonPosition="left">
        <Button sdsStyle="square" sdsType="primary" onClick={noop}>
          Primary Action
        </Button>
        <Button sdsStyle="square" sdsType="secondary" onClick={noop}>
          Secondary Action
        </Button>
      </DialogActions>
    </Dialog>
  );
};
</file>

<file path="packages/components/src/core/Dialog/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

const DIALOG_TITLE_TEST_ID = "dialog-title";
const DIALOG_CONTENT_TEST_ID = "dialog-content";
const DIALOG_ACTIONS_TEST_ID = "dialog-actions";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test, TestButtonPositionLeft, TestNoTitleOnClose } =
  composeStories(stories);

describe("<Dialog />", () => {
  generateSnapshots(stories);

  test("Dialog all sizes match the snapshots", () => {
    render(<Test />);

    const titles = screen.getAllByTestId(DIALOG_TITLE_TEST_ID);
    const contents = screen.getAllByTestId(DIALOG_CONTENT_TEST_ID);
    const actions = screen.getAllByTestId(DIALOG_ACTIONS_TEST_ID);

    Array.from(Array(titles.length), (_, index) => index).forEach((index) => {
      expect(titles[index]).toMatchSnapshot();
      expect(contents[index]).toMatchSnapshot();
      expect(actions[index]).toMatchSnapshot();
    });
  });

  it("renders Dialog without title X button", () => {
    render(<TestNoTitleOnClose />);

    const title = screen.getByTestId(DIALOG_TITLE_TEST_ID);

    expect(title).toMatchSnapshot();
  });

  it("renders Dialog left positioned buttons", () => {
    render(<TestButtonPositionLeft />);

    const actions = screen.getByTestId(DIALOG_ACTIONS_TEST_ID);

    expect(actions).toMatchSnapshot();
  });
});
</file>

<file path="packages/components/src/core/Dialog/components/DialogActions/index.tsx">
import { DialogActionsProps as RawDialogActionsProps } from "@mui/material";
import { forwardRef } from "react";
import { DialogActionsExtraProps, StyledDialogActions } from "./style";

export type DialogActionsProps = DialogActionsExtraProps &
  RawDialogActionsProps;

/**
 * @see https://mui.com/material-ui/react-dialog/
 */
const DialogActions = forwardRef<HTMLDivElement, DialogActionsProps>(
  function DialogActions(props, ref) {
    return <StyledDialogActions ref={ref} {...props} />;
  }
);

export default DialogActions;
</file>

<file path="packages/components/src/core/Dialog/components/DialogActions/style.ts">
import { DialogActions, dialogActionsClasses } from "@mui/material";
import styled from "@emotion/styled";
import { CommonThemeProps, getSpaces } from "src/core/styles";

export interface DialogActionsExtraProps extends CommonThemeProps {
  buttonPosition?: "left" | "right";
}

// (thuang): Please keep this in sync with the props used in `DialogActionsExtraProps`
const doNotForwardProps = ["buttonPosition"];

export const StyledDialogActions = styled(DialogActions, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})<DialogActionsExtraProps>`
  padding: 0;

  ${(props) => {
    const spaces = getSpaces(props);
    const { buttonPosition = "right" } = props;

    return `
      justify-content: ${
        buttonPosition === "right" ? "flex-end" : "flex-start"
      };;

      margin-top: ${spaces?.xxl}px;

      &.${dialogActionsClasses.spacing} > :not(:first-of-type) {
        margin-left: ${spaces?.m}px;
      }
  `;
  }}
`;
</file>

<file path="packages/components/src/core/Dialog/components/DialogContent/index.tsx">
import { DialogContentProps as RawDialogContentProps } from "@mui/material";
import { forwardRef } from "react";
import { StyledDialogContent } from "./style";

export type DialogContentProps = RawDialogContentProps;

export default forwardRef<HTMLDivElement, DialogContentProps>(
  /**
   * @see https://mui.com/material-ui/react-dialog/
   */
  function DialogContent(props, ref) {
    return <StyledDialogContent ref={ref} {...props} />;
  }
);
</file>

<file path="packages/components/src/core/Dialog/components/DialogContent/style.ts">
import { DialogContent } from "@mui/material";
import styled from "@emotion/styled";
import { fontBodyS } from "src/core/styles";

export const StyledDialogContent = styled(DialogContent)`
  ${fontBodyS}
  padding: 0;
`;
</file>

<file path="packages/components/src/core/Dialog/components/DialogPaper/index.tsx">
import { PaperProps } from "@mui/material";
import { forwardRef } from "react";
import { DialogContext } from "../common";
import { StyledPaper } from "./style";

export type DialogPaperProps = PaperProps;

/**
 * @see https://mui.com/material-ui/react-paper/
 */
const DialogPaper = forwardRef<HTMLDivElement, DialogPaperProps>(
  function DialogPaper(props, ref): JSX.Element {
    return (
      <DialogContext.Consumer>
        {({ sdsSize }) => (
          <StyledPaper sdsSize={sdsSize} ref={ref} {...props} />
        )}
      </DialogContext.Consumer>
    );
  }
);

export default DialogPaper;
</file>

<file path="packages/components/src/core/Dialog/components/DialogPaper/style.ts">
import { Paper, PaperProps } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  getCorners,
  getSemanticColors,
  getShadows,
  getSpaces,
} from "src/core/styles";

export interface StyledPaperProps extends CommonThemeProps, PaperProps {
  sdsSize: "xs" | "s" | "m" | "l";
}

// (thuang): Please keep this in sync with the props used in `ExtraProps`
const doNotForwardProps = ["sdsSize"];

export const StyledPaper = styled(Paper, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})<StyledPaperProps>`
  & {
    ${paperDimensions}

    ${(props) => {
      const spaces = getSpaces(props);
      const corners = getCorners(props);
      const shadows = getShadows(props);
      const semanticColors = getSemanticColors(props);

      return `
        background-color: ${semanticColors?.base?.surface};
        background-image: none;
        box-shadow: ${shadows?.l};
        max-height: calc(100vh - ${2 * (spaces?.xxl || 0)}px);
        border-radius: ${corners?.m || 0}px;
        padding: ${spaces?.xxl || 0}px;
      `;
    }}
  }
`;

function paperDimensions(props: StyledPaperProps) {
  const { sdsSize } = props;

  const sizeToDimensions = {
    l: {
      minHeight: "600px",
      width: "1200px",
    },
    m: {
      minHeight: "480px",
      width: "900px",
    },
    s: {
      minHeight: "400px",
      width: "600px",
    },
    xs: {
      minHeight: "160px",
      width: "400px",
    },
  };

  const { width, minHeight } = sizeToDimensions[sdsSize];

  return `
    width: ${width};
    min-height: ${minHeight};
    max-width: revert;
    box-sizing: border-box;
  `;
}
</file>

<file path="packages/components/src/core/Dialog/components/DialogTitle/components/CloseButton/index.tsx">
import { ForwardedRef, forwardRef } from "react";
import { ButtonProps } from "src/core/Button";
import { DialogContext } from "src/core/Dialog/components/common";
import { StyledButton } from "./style";

const CloseButton = forwardRef(function CloseButton(
  props: ButtonProps,
  ref: ForwardedRef<HTMLButtonElement | null>
) {
  const SDS_SIZE_TO_COMPONENT_SIZE: {
    [key: string]: "small" | "medium" | "large";
  } = {
    l: "large",
    m: "large",
    s: "medium",
    xs: "small",
  };

  return (
    <DialogContext.Consumer>
      {({ sdsSize }) => {
        const size = SDS_SIZE_TO_COMPONENT_SIZE[sdsSize];

        return (
          <StyledButton
            aria-label="Close"
            ref={ref}
            sdsSize={size}
            {...props}
            icon="XMark"
            sdsStyle="icon"
            sdsType="tertiary"
          />
        );
      }}
    </DialogContext.Consumer>
  );
});

export default CloseButton;
</file>

<file path="packages/components/src/core/Dialog/components/DialogTitle/components/CloseButton/style.ts">
import styled from "@emotion/styled";
import Button from "src/core/Button";
import { CommonThemeProps, getSpaces } from "src/core/styles";

export const StyledButton = styled(Button)`
  position: absolute;

  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);

    return `
      right: ${spaces?.xxl}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Dialog/components/DialogTitle/index.tsx">
import { DialogTitleProps as RawDialogTitleProps } from "@mui/material";
import { forwardRef } from "react";
import CloseButton from "./components/CloseButton";
import {
  DialogTitleExtraProps,
  StyledDialogTitle,
  Subtitle,
  Title,
  Overline,
} from "./style";

export {
  Subtitle as DialogTitleSubtitle,
  Title as DialogTitleTitle,
  Overline as DialogTitleOverline,
};

export interface DialogTitleProps
  extends DialogTitleExtraProps,
    RawDialogTitleProps {
  title?: string;
  subtitle?: string;
  overline?: string;
  onClose?: () => void;
}

/**
 * @see https://mui.com/material-ui/react-dialog/
 */
const DialogTitle = forwardRef<HTMLHeadingElement, DialogTitleProps>(
  function DialogTitle(props: DialogTitleProps, ref): JSX.Element {
    const { children, title, subtitle, overline, onClose, ...rest } = props;

    return (
      <StyledDialogTitle ref={ref} {...rest}>
        {children || (
          <>
            {onClose && (
              <CloseButton sdsStyle="icon" icon="XMark" onClick={onClose} />
            )}
            <Overline>{overline}</Overline>
            <Title>{title}</Title>
            <Subtitle>{subtitle}</Subtitle>
          </>
        )}
      </StyledDialogTitle>
    );
  }
);

export default DialogTitle;
</file>

<file path="packages/components/src/core/Dialog/components/DialogTitle/style.ts">
import { DialogTitle, Typography } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps as DialogTitleExtraProps,
  fontBodyS,
  fontBodyXs,
  fontHeaderXl,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export type { DialogTitleExtraProps };

export const StyledDialogTitle = styled(DialogTitle)`
  padding: 0;
  ${(props: DialogTitleExtraProps) => {
    const spaces = getSpaces(props);

    return `
      margin-bottom: ${spaces?.xl || 0}px;
    `;
  }}
`;

export const Title = styled(Typography)`
  ${fontHeaderXl}

  ${(props) => {
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textPrimary};
    `;
  }}
`;

export const Subtitle = styled(Typography)`
  ${fontBodyXs}

  ${(props) => {
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textSecondary};
    `;
  }}
`;

export const Overline = styled(Typography)`
  ${fontBodyS}

  ${(props) => {
    const semanticColors = getSemanticColors(props);
    const spaces = getSpaces(props);

    return `
      color: ${semanticColors?.base?.textSecondary};
      padding-bottom: ${spaces?.xxxs}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Dialog/components/common.ts">
import { createContext } from "react";

type SdsSize = "xs" | "s" | "m" | "l";

export const DialogContext = createContext({ sdsSize: "m" as SdsSize });
</file>

<file path="packages/components/src/core/Dialog/index.tsx">
import {
  Dialog as RawDialog,
  DialogProps as RawDialogProps,
} from "@mui/material";
import React, { ComponentType, forwardRef, useMemo } from "react";
import DialogPaper, { DialogPaperProps } from "./components/DialogPaper";
import { DialogContext } from "./components/common";

export { DialogContext };

interface DialogExtraProps {
  canClickOutsideClose?: boolean;
  onClose?: (event: object, reason: string) => void;
  sdsSize?: "xs" | "s" | "m" | "l";
  PaperComponent?: ComponentType<DialogPaperProps>;
  DialogComponent?: ComponentType<RawDialogProps>;
}

export type DialogProps = RawDialogProps & DialogExtraProps;

/**
 * @see https://mui.com/material-ui/react-dialog/
 */
const Dialog = forwardRef<HTMLDivElement, DialogProps>(
  function Dialog(props, ref): JSX.Element {
    const {
      canClickOutsideClose = true,
      onClose,
      sdsSize = "m",
      PaperComponent = DialogPaper,
      ...rest
    } = props;

    const contextValue = useMemo(() => ({ sdsSize }), [sdsSize]);

    return (
      <DialogContext.Provider value={contextValue}>
        <RawDialog
          ref={ref}
          PaperComponent={PaperComponent}
          {...rest}
          onClose={(
            event: React.SyntheticEvent<Element, Event>,
            reason: string
          ) => {
            if (
              !canClickOutsideClose &&
              reason &&
              (reason === "backdropClick" || reason === "escapeKeyDown")
            )
              return;
            if (onClose) onClose(event, reason);
          }}
        />
      </DialogContext.Provider>
    );
  }
);

export default Dialog;
</file>

<file path="packages/components/src/core/Dropdown/__storybook__/stories/controlledDropdown.tsx">
import { AutocompleteValue } from "@mui/base";
import styled from "@emotion/styled";
import { Args } from "@storybook/react";
import { useState } from "react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { DefaultAutocompleteOption } from "src/core/Autocomplete";
import Button from "src/core/Button";
import RawDropdown from "src/core/Dropdown";

export const ControlledDropdownDemo = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  const [value, setValue] = useState<
    AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(
    [] as unknown as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  );

  const StyledButton = styled(Button)`
    &:focus {
      outline: none;
    }

    margin: 0 0 24px 8px;
  `;

  return (
    <>
      <StyledButton onClick={handleClick} sdsStyle="minimal" sdsType="primary">
        Click here to select the first three options
      </StyledButton>
      <br />
      <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
        label="Click Target"
        {...props}
        options={AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS as T[]}
        value={value}
        onChange={handleChange}
        data-testid="dropdown"
        DropdownMenuProps={{
          groupBy: (option: DefaultAutocompleteOption) =>
            option.section as string,
          title: "Github Labels",
          width: 300,
        }}
        multiple={true as Multiple}
      />
    </>
  );

  function handleClick() {
    setValue([
      ...AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS.slice(0, 3),
    ] as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>);
  }

  function handleChange(
    event: React.SyntheticEvent,
    newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ) {
    setValue(newValue);
  }
};
</file>

<file path="packages/components/src/core/Dropdown/__storybook__/stories/default.tsx">
import { AutocompleteValue } from "@mui/material";
import { Args } from "@storybook/react";
import { useState } from "react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import RawDropdown from "src/core/Dropdown";

export const Dropdown = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  const { multiple, options = AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } = props;
  const [value, setValue] = useState<
    AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(
    (multiple ? [] : null) as AutocompleteValue<
      T,
      Multiple,
      DisableClearable,
      FreeSolo
    >
  );

  return (
    <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
      label="Click Target"
      onChange={handleChange}
      value={value}
      options={options}
      search={false}
      multiple={multiple}
      DropdownMenuProps={{
        groupBy: (option: T) => option.section as string,
        width: 300,
      }}
      {...props}
    />
  );

  function handleChange(
    _event: React.SyntheticEvent,
    newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ) {
    setValue(newValue);
  }
};
</file>

<file path="packages/components/src/core/Dropdown/__storybook__/stories/insideModal.tsx">
import { Args } from "@storybook/react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { DefaultAutocompleteOption } from "src/core/Autocomplete";
import Dialog from "src/core/Dialog";
import { Dropdown } from "./default";
import { Paper, styled } from "@mui/material";

const StyledPaper = styled(Paper)`
  width: 300px;
  max-width: unset !important;
  padding: 50px;
`;

export function InsideModalDemo<
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(props: Args): JSX.Element {
  return (
    <Dialog open disableEnforceFocus PaperComponent={StyledPaper}>
      <Dropdown<T, Multiple, DisableClearable, FreeSolo>
        label="Dropdown"
        options={AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS as T[]}
        multiple
        InputDropdownProps={{ sdsStyle: "square" }}
        {...props}
      />
    </Dialog>
  );
}
</file>

<file path="packages/components/src/core/Dropdown/__storybook__/stories/popperPlacement.tsx">
import { AutocompleteValue } from "@mui/material";
import { useMemo, useState } from "react";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import RawDropdown from "src/core/Dropdown";

export const PopperPlacementDemo = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(): JSX.Element => {
  const [value, setValue] = useState<
    AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(null as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>);

  const options = useMemo(() => {
    return [
      { count: 2, name: "Item 1" },
      { count: 0, name: "Item 2" },
      { count: 12, name: "Item 3" },
    ] as T[];
  }, []);

  return (
    <>
      <div style={{ gridArea: "3 / 2 / 4 / 4" }}>
        <p>
          To adjust the placement of the popper, use the DropdownMenuProps
          property and set PopperPlacement to your desired value:
        </p>
        <pre
          style={{
            backgroundColor: "#c3c3c347",
            borderRadius: 4,
            padding: "0px 20px",
          }}
        >
          {`
<Dropdown
  DropdownMenuProps={{
    PopperPlacement: "bottom-start",
  }}
/>
          `}
        </pre>
      </div>

      <div
        style={{
          display: "grid",
          gridColumnGap: "0px",
          gridRowGap: "0px",
          gridTemplateColumns: "repeat(5, 1fr)",
          gridTemplateRows: "repeat(5, 1fr)",
          height: "500px",
          padding: "30px",
        }}
      >
        <div style={{ gridArea: "1 / 2 / 2 / 3" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Bottom Start"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "bottom-start",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "1 / 3 / 2 / 4" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Bottom"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "bottom",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "1 / 4 / 2 / 5" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Bottom End"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "bottom-end",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "2 / 1 / 3 / 2" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Right Start"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "right-start",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "3 / 1 / 4 / 2" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Right"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "right",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "4 / 1 / 5 / 2" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Right End"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "right-end",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "5 / 2 / 6 / 3" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Top Start"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "top-start",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "5 / 3 / 6 / 4" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Top"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "top",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "5 / 4 / 6 / 5" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Top End"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "top-end",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "2 / 5 / 3 / 6" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Left Start"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "left-start",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "3 / 5 / 4 / 6" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Left"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "left",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>

        <div style={{ gridArea: "4 / 5 / 5 / 6" }}>
          <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
            label="Left End"
            onChange={handleChange}
            value={value}
            options={options}
            search={false}
            DropdownMenuProps={{
              PopperPlacement: "left-end",
              groupBy: (option: T) => option.section as string,
              width: 150,
            }}
          />
        </div>
      </div>
    </>
  );

  function handleChange(
    _event: React.SyntheticEvent,
    newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ) {
    setValue(newValue);
  }
};
</file>

<file path="packages/components/src/core/Dropdown/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { noop } from "src/common/utils";
import { DefaultAutocompleteOption } from "src/core/Autocomplete";
import RawDropdown from "src/core/Dropdown";

export const TestDemo = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  return (
    <RawDropdown<T, Multiple, DisableClearable, FreeSolo>
      data-testid="dropdown"
      label="Click Target"
      onChange={noop}
      options={AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS as T[]}
      DropdownMenuProps={{
        width: 300,
      }}
      {...props}
    />
  );
};
</file>

<file path="packages/components/src/core/Dropdown/__storybook__/constants.tsx">
import { AUTOCOMPLETE_MULTI_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_MULTI_COLUMN_OPTIONS";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { noop } from "src/common/utils";

export const DROPDOWN_EXCLUDED_CONTROLS = [
  "buttonPosition",
  "label",
  "onChange",
  "DropdownMenuProps",
  "buttons",
  "closeOnBlur",
  "disabled",
  "multiple",
  "onClose",
  "options",
  "search",
  "isTriggerChangeOnOptionClick",
];

export const DROPDOWN_ON_CHANGE_OPTIONS = [
  noop,
  (value: never) => {
    // eslint-disable-next-line no-console
    console.log(value);
  },
];
export const DROPDOWN_ON_CLOSE_OPTIONS = [
  noop,
  () => {
    // eslint-disable-next-line no-console
    console.log("Closed!");
  },
];
export const DROPDOWN_BUTTON_POSITION_OPTIONS = ["left", "right"];
export const DROPDOWN_DATA_OPTIONS = [
  AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
  [AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[0], AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[1]],
  [
    AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[0],
    AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[1],
    AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[2],
  ],
];
export const DROPDOWN_LABEL = "Click Target";
</file>

<file path="packages/components/src/core/Dropdown/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import LoadingIndicator from "src/core/LoadingIndicator";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Dropdown } from "./stories/default";
import {
  DROPDOWN_BUTTON_POSITION_OPTIONS,
  DROPDOWN_DATA_OPTIONS,
  DROPDOWN_EXCLUDED_CONTROLS,
  DROPDOWN_LABEL,
  DROPDOWN_ON_CHANGE_OPTIONS,
  DROPDOWN_ON_CLOSE_OPTIONS,
} from "./constants";
import { ControlledDropdownDemo } from "./stories/controlledDropdown";
import { TestDemo } from "./stories/test";
import { InsideModalDemo } from "./stories/insideModal";
import { PopperPlacementDemo } from "./stories/popperPlacement";

export default {
  argTypes: {
    DropdownMenuProps: {
      control: {
        type: "object",
      },
    },
    buttonPosition: {
      control: {
        labels: ["left", "right"],
        type: "select",
      },
      mapping: DROPDOWN_BUTTON_POSITION_OPTIONS,
      options: Object.keys(DROPDOWN_BUTTON_POSITION_OPTIONS),
    },
    buttons: {
      control: {
        type: "boolean",
      },
    },
    closeOnBlur: {
      control: {
        type: "boolean",
      },
    },
    disabled: {
      control: {
        type: "boolean",
      },
    },
    isSearchAutoFocus: {
      control: {
        type: "boolean",
      },
      defaultValue: true,
    },
    label: {
      control: {
        type: "text",
      },
    },
    multiple: {
      control: {
        type: "boolean",
      },
    },
    onChange: {
      control: {
        labels: ["NOOP", "Log value on change"],
        type: "select",
      },
      mapping: DROPDOWN_ON_CHANGE_OPTIONS,
      options: Object.keys(DROPDOWN_ON_CHANGE_OPTIONS),
    },
    onClose: {
      control: {
        labels: ["NOOP", "console.log('Closed!')"],
        type: "select",
      },
      mapping: DROPDOWN_ON_CLOSE_OPTIONS,
      options: Object.keys(DROPDOWN_ON_CLOSE_OPTIONS),
    },
    options: {
      control: {
        labels: ["One Column", "Two Columns", "Three Columns"],
        type: "select",
      },
      mapping: DROPDOWN_DATA_OPTIONS,
      options: Object.keys(DROPDOWN_DATA_OPTIONS),
    },
    search: {
      control: {
        type: "boolean",
      },
      defaultValue: true,
    },
  },
  component: Dropdown,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Dropdowns/Dropdown",
} as Meta;

// Default

export const Default = {
  args: {
    DropdownMenuProps: {
      PopperPlacement: "bottom-start",
    },
    buttonPosition: "left",
    buttons: false,
    closeOnBlur: true,
    disabled: false,
    isSearchAutoFocus: true,
    isTriggerChangeOnOptionClick: false,
    label: DROPDOWN_LABEL,
    multiple: true,
    options: DROPDOWN_DATA_OPTIONS[0],
    search: true,
  },
};

// Multi Column

export const MultiColumnWithButtons = {
  args: {
    buttonPosition: "left",
    buttons: true,
    closeOnBlur: true,
    disabled: false,
    isTriggerChangeOnOptionClick: false,
    label: DROPDOWN_LABEL,
    multiple: true,
    options: DROPDOWN_DATA_OPTIONS[2],
    search: true,
  },
  parameters: {
    controls: {
      exclude: DROPDOWN_EXCLUDED_CONTROLS,
    },
  },
  render: (args: Args) => <Dropdown {...args} />,
};

// Loading Indicator

export const LoadingResultsIndicator = {
  args: {
    DropdownMenuProps: {
      loading: true,
      loadingText: <LoadingIndicator sdsStyle="minimal" />,
    },
    label: DROPDOWN_LABEL,
    options: [],
  },
  parameters: {
    controls: {
      exclude: DROPDOWN_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
};

// Inside Modal

export const InsideModal = {
  parameters: {
    axe: {
      disabledRules: ["aria-dialog-name"],
    },
    controls: {
      exclude: DROPDOWN_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <InsideModalDemo {...args} />,
};

// Controlled Dropdown

export const ControlledDropdown = {
  args: {
    label: DROPDOWN_LABEL,
  },
  parameters: {
    controls: {
      exclude: DROPDOWN_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ControlledDropdownDemo {...args} />,
};

// Popper Placement

export const PopperPlacement = {
  args: {
    label: DROPDOWN_LABEL,
  },
  parameters: {
    controls: {
      exclude: DROPDOWN_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <PopperPlacementDemo {...args} />,
};

// Test

export const Test = {
  args: {
    buttonPosition: "left",
    label: DROPDOWN_LABEL,
  },
  parameters: {
    controls: {
      exclude: DROPDOWN_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/Dropdown/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Dropdown /> Default story renders snapshot 1`] = `
<button
  aria-label="Dropdown input"
  class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-1bcxl8g-MuiButtonBase-root-MuiButton-root"
  label="Click Target"
  tabindex="0"
  type="button"
>
  <span
    class="css-ae1gg6"
  >
    <span
      class="styled-label css-1ubkbz8"
    >
      Click Target
    </span>
    <span
      class="css-1qt6g1x"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconChevronDownSmall"
          data-testid="IconChevronDownSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
  </span>
  <div
    class="css-fty5ct"
  />
  <span
    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
  />
</button>
`;

exports[`<Dropdown /> MultiColumnWithButtons story renders snapshot 1`] = `
<button
  aria-label="Dropdown input"
  class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-1bcxl8g-MuiButtonBase-root-MuiButton-root"
  label="Click Target"
  tabindex="0"
  type="button"
>
  <span
    class="css-ae1gg6"
  >
    <span
      class="styled-label css-1ubkbz8"
    >
      Click Target
    </span>
    <span
      class="css-1qt6g1x"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconChevronDownSmall"
          data-testid="IconChevronDownSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
  </span>
  <div
    class="css-fty5ct"
  />
  <span
    class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
  />
</button>
`;
</file>

<file path="packages/components/src/core/Dropdown/__tests__/Dropdown.namespace-test.tsx">
import {
  DefaultAutocompleteOption,
  Dropdown,
  DropdownPopper,
  DropdownProps,
} from "@czi-sds/components";
import { noop } from "src/common/utils";

const OPTIONS = [
  {
    color: "#7057ff",
    description: "Good for newcomers",
    name: "good first issue",
  },
  {
    color: "#008672",
    description: "Extra attention is needed",
    name: "help wanted",
  },
];

const DropdownNameSpaceTest = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: DropdownProps<T, Multiple, DisableClearable, FreeSolo>
) => {
  return (
    <Dropdown
      DropdownMenuProps={{ loading: true, loadingText: "Loading ..." }}
      label="Click Target"
      onChange={noop}
      options={OPTIONS}
      buttonPosition="left"
      buttons
      closeOnBlur
      multiple
      search
      onClose={noop}
      InputDropdownProps={{ sdsStyle: "square" }}
      PopperComponent={DropdownPopper}
    />
  );
};
</file>

<file path="packages/components/src/core/Dropdown/__tests__/index.test.tsx">
import { generateSnapshots, wait } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import { userEvent } from "@testing-library/user-event";
import LoadingIndicator from "../../LoadingIndicator";
import * as stories from "../__storybook__/index.stories";

const { Test } = composeStories(stories);

const STATUS_CANT_FIND_TEXT = "Status: can't reproduce";

describe("<Dropdown />", () => {
  generateSnapshots(stories);

  it("Dropdown component renders correctly", () => {
    render(<Test {...Test.args} />);
    const DropdownElement = screen.getByTestId("dropdown");
    expect(DropdownElement).not.toBeNull();
  });

  it("Upon clicking the button, the dropdown menu closes.", () => {
    const args = {
      ...Test.args,
    };

    render(<Test {...args} />);

    // Open the dropdown
    const DropdownElement = screen.getByTestId("dropdown");
    fireEvent.click(DropdownElement);

    // Click on the button again to close it
    fireEvent.click(DropdownElement);

    const menuItem = screen.queryByText(STATUS_CANT_FIND_TEXT);
    expect(menuItem).toEqual(null);
  });

  it("Prop Test (loading): Loading indicator correctly renders when loading state is true", () => {
    const args = {
      ...Test.args,
      DropdownMenuProps: {
        loading: true,
        loadingText: (
          <>
            <LoadingIndicator sdsStyle="minimal" />
          </>
        ),
      },
      multiple: true,
      options: [],
    };

    render(<Test {...args} />);

    const DropdownElement = screen.getByTestId("dropdown");
    expect(DropdownElement).not.toBeNull();

    fireEvent.click(DropdownElement);
    expect(screen.getAllByText("Loading")).not.toBeNull();
  });

  it("Prop Test (search): Dropdown component search function correctly maintains searched-for items", () => {
    const args = {
      ...Test.args,
      search: true,
    };

    render(<Test {...args} />);

    // Open the dropdown
    const DropdownElement = screen.getByTestId("dropdown");
    fireEvent.click(DropdownElement);

    // Select the search input by placeholder
    const searchInput = screen.getByPlaceholderText("Search");
    fireEvent.change(searchInput, { target: { value: "Status" } });

    // We want to test that there ARE items with "Status: *" in the dropdown menu
    // because we have searched for Status
    const statusItem = screen.queryByText("Status: confirmed");
    expect(statusItem).not.toBeNull();
  });

  it("Prop Test (search): Dropdown component search function correctly filters out Type items", () => {
    const args = {
      ...Test.args,
      search: true,
    };

    render(<Test {...args} />);

    // Open the dropdown
    const DropdownElement = screen.getByTestId("dropdown");
    fireEvent.click(DropdownElement);

    // Select the search input by placeholder
    const searchInput = screen.getByPlaceholderText("Search");
    fireEvent.change(searchInput, { target: { value: "Status" } });

    // We want to test that there are no items with "Type: *" in the dropdown menu
    // because we have searched for Status
    const typeBugItem = screen.queryByText("Type: bug");
    expect(typeBugItem).toEqual(null);
  });

  it("Prop Test (Label): Dropdown component correctly renders with a new label", () => {
    const args = {
      ...Test.args,
      label: "Test Label",
    };

    render(<Test {...args} />);
    expect(screen.getAllByText("Test Label")).not.toBeNull();
  });

  it("Prop Test (closeOnBlur): Dropdown closes when button is clicked with closeOnBlue set to true", async () => {
    const args = {
      ...Test.args,
      closeOnBlur: true,
    };

    render(<Test {...args} />);

    // Open the dropdown
    const DropdownElement = screen.getByTestId("dropdown");
    userEvent.click(DropdownElement);

    // Awaiting to find the STATUS_CANT_FIND_TEXT on the screen to
    // make sure that the dropdown is opened
    await screen.findByText(STATUS_CANT_FIND_TEXT);

    // Click on the button again to close it
    userEvent.click(DropdownElement);

    // Wait for 500ms before continuing with the test
    await wait(500);

    // Querying to find the STATUS_CANT_FIND_TEXT on the screen to
    // make sure that the dropdown is closed
    const menuItem = screen.queryByText(STATUS_CANT_FIND_TEXT);
    expect(menuItem).toBeNull();
  });

  it("Prop Test (closeOnBlur): Dropdown closes when button is clicked with closeOnBlur set to false", async () => {
    const args = {
      ...Test.args,
      closeOnBlur: false,
    };

    render(<Test {...args} />);

    // Open the dropdown
    const DropdownElement = screen.getByTestId("dropdown");
    userEvent.click(DropdownElement);

    // Awaiting to find the STATUS_CANT_FIND_TEXT on the screen to
    // make sure that the dropdown is opened
    await screen.findByText(STATUS_CANT_FIND_TEXT);

    // Click on the button again to close it
    userEvent.click(DropdownElement);

    // Wait for 500ms before continuing with the test
    await wait(500);

    // Querying to find the STATUS_CANT_FIND_TEXT on the screen to
    // make sure that the dropdown is closed
    const menuItem = screen.queryByText(STATUS_CANT_FIND_TEXT);
    expect(menuItem).toBeNull();
  });

  it("Prop Test (disabled): Dropdown component doesn't open menu upon click", () => {
    const args = {
      ...Test.args,
      disabled: true,
    };

    render(<Test {...args} />);

    // (Attempt to) open the dropdown
    const DropdownElement = screen.getByTestId("dropdown");
    fireEvent.click(DropdownElement);

    // DropdownMenu should not be found
    const DropdownMenu = screen.queryByRole("tooltip");
    expect(DropdownMenu).toBeNull();
  });

  it("Prop Test (buttons): Dropdown component renders buttons", () => {
    // The condition for the Dropdown component to show buttons is
    // buttons && !isTriggerChangeOnOptionClick && multiple
    const args = {
      ...Test.args,
      buttons: true,
      isTriggerChangeOnOptionClick: false,
      multiple: true,
    };

    render(<Test {...args} />);

    // Open the dropdown
    const DropdownElement = screen.getByTestId("dropdown");
    fireEvent.click(DropdownElement);

    // Check for the buttons by text
    const primaryButton = screen.queryByText("Apply");
    const secondaryButton = screen.queryByText("Cancel");

    expect(primaryButton && secondaryButton).not.toBeNull();
  });
});
</file>

<file path="packages/components/src/core/Dropdown/index.tsx">
import { AutocompleteProps } from "@mui/material";
import {
  AutocompleteChangeDetails,
  AutocompleteChangeReason,
  AutocompleteCloseReason,
  AutocompleteValue,
} from "@mui/material/useAutocomplete";
import React, { ReactNode, useEffect, useState } from "react";
import { EMPTY_OBJECT } from "src/common/utils";
import {
  AutocompleteMultiColumnOption,
  AutocompleteSingleColumnOption,
  DefaultAutocompleteOption,
} from "src/core/Autocomplete";
import DropdownMenu, {
  DropdownMenuProps as SdsDropdownMenuProps,
} from "src/core/DropdownMenu";
import { StyledPaper, StyledPopper } from "src/core/DropdownMenu/style";
import InputDropdown, {
  InputDropdownProps as InputDropdownPropsType,
} from "src/core/InputDropdown";
import { StyledButton, StyledButtonsWrapper } from "./style";

export {
  InputDropdown as DropdownInputDropdown,
  StyledPaper as DropdownPaper,
  StyledPopper as DropdownPopper,
};

export interface ExtraDropdownProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> {
  buttonPosition?: "left" | "right";
  buttons?: boolean;
  closeOnBlur?: boolean;
  disabled?: boolean;
  label: ReactNode;
  options:
    | AutocompleteSingleColumnOption<T>[]
    | AutocompleteMultiColumnOption<T, Multiple, DisableClearable, FreeSolo>[];
  search?: boolean;
  isSearchAutoFocus?: boolean;
  DropdownMenuProps?: Partial<
    SdsDropdownMenuProps<T, Multiple, DisableClearable, FreeSolo>
  >;
  InputDropdownProps?: Partial<InputDropdownPropsType>;
  value?: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>;
  style?: React.CSSProperties;
  className?: string;
  InputDropdownComponent?: typeof InputDropdown;
  isTriggerChangeOnOptionClick?: boolean;
}

type CustomAutocompleteProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = Omit<
  AutocompleteProps<T, Multiple, DisableClearable, FreeSolo>,
  "renderInput"
>;

export type DropdownProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = CustomAutocompleteProps<T, Multiple, DisableClearable, FreeSolo> &
  ExtraDropdownProps<T, Multiple, DisableClearable, FreeSolo>;

// eslint-disable-next-line sonarjs/cognitive-complexity
const Dropdown = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: DropdownProps<T, Multiple, DisableClearable, FreeSolo>
): JSX.Element => {
  const {
    options,
    label = "",
    multiple = false,
    search = false,
    isSearchAutoFocus = true,
    buttonPosition = "right",
    buttons = false,
    // By default, most dropdowns will close when the user clicks outside the dropdown.
    // The exception is the multiple select variant with Apply/Cancel buttons,
    // which by default will not close on blur. If closeOnBlur is enabled, clicking out
    // is equivalent to clicking the Cancel button, closing the dropdown and losing
    // unapplied changes.
    closeOnBlur = !buttons,
    onClose,
    onChange,
    DropdownMenuProps = {},
    InputDropdownProps = { sdsStyle: "minimal" },
    InputDropdownComponent = InputDropdown,
    isTriggerChangeOnOptionClick = false,
    disabled = false,
    value: propValue,
    onClick,
    ...rest
  } = props;

  if (buttons && !multiple) {
    // eslint-disable-next-line no-console
    console.warn(
      "Warning: buttons are only supported for multiple select dropdowns."
    );
  }

  const isMultiColumn = "options" in (options?.[0] || EMPTY_OBJECT);

  const isControlled = propValue !== undefined;
  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);
  const [open, setOpen] = useState(false);

  const [value, setValue] = useState(getInitialValue());
  const [pendingValue, setPendingValue] = useState(getInitialValue());

  const shouldShowButtons =
    buttons && !isTriggerChangeOnOptionClick && multiple;

  useEffect(() => {
    if (isControlled) {
      setValue(propValue);
      if (multiple) {
        setPendingValue(propValue);
      }
    }
  }, [isControlled, propValue, multiple]);

  return (
    <>
      <InputDropdownComponent
        disabled={disabled}
        label={label}
        onClick={handleClick}
        {...InputDropdownProps}
        {...rest}
      />
      <DropdownMenu<T, Multiple, DisableClearable, FreeSolo>
        anchorEl={anchorEl}
        open={open}
        search={search}
        onClose={handleClose}
        multiple={multiple as Multiple}
        disableCloseOnSelect={multiple}
        options={options}
        onClickAway={handleClickAway}
        width={250}
        onChange={handleChange}
        value={isMultiColumn ? value : multiple ? pendingValue : value}
        {...{
          isSearchAutoFocus,
          ...DropdownMenuProps,
        }}
        {...rest}
      >
        {shouldShowButtons ? (
          <StyledButtonsWrapper buttonPosition={buttonPosition}>
            {buttonPosition === "left" ? (
              <div>
                <StyledButton
                  onClick={handleButtonClose}
                  sdsStyle="square"
                  sdsType="primary"
                >
                  Apply
                </StyledButton>
                <StyledButton
                  onClick={handleCancel}
                  sdsStyle="square"
                  sdsType="secondary"
                >
                  Cancel
                </StyledButton>
              </div>
            ) : (
              <div>
                <StyledButton
                  onClick={handleCancel}
                  sdsStyle="square"
                  sdsType="secondary"
                >
                  Cancel
                </StyledButton>
                <StyledButton
                  onClick={handleButtonClose}
                  sdsStyle="square"
                  sdsType="primary"
                >
                  Apply
                </StyledButton>
              </div>
            )}
          </StyledButtonsWrapper>
        ) : null}
      </DropdownMenu>
    </>
  );

  function getInitialValue(): AutocompleteValue<
    T,
    Multiple,
    DisableClearable,
    FreeSolo
  > {
    return multiple
      ? ([] as unknown as AutocompleteValue<
          T,
          Multiple,
          DisableClearable,
          FreeSolo
        >)
      : (null as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>);
  }

  function handleChange(
    event: React.SyntheticEvent,
    newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>,
    reason: AutocompleteChangeReason,
    details?: AutocompleteChangeDetails<T>
  ) {
    if (multiple) {
      if (isTriggerChangeOnOptionClick) {
        setPendingValue(newValue);

        return setValueAndCallOnChange(event, newValue, reason, details);
      }

      return setPendingValue(newValue);
    }

    setValueAndCallOnChange(event, newValue, reason, details);

    if (!isMultiColumn) setOpen(false);
  }

  function handleClickAway() {
    if (open) {
      // (masoudmanson): We want to keep the dropdown menu open in two scenarios:
      // 1. If the dropdown has buttons,
      // 2. When there are no buttons, and the closeOnBlur property is set to false,
      // In all other cases, we close the menu.
      if (closeOnBlur && !shouldShowButtons) {
        setOpen(false);
      }

      if (multiple) {
        setValue(pendingValue);
      }
    }
  }

  function handleClick(event: React.MouseEvent<HTMLElement>) {
    onClick?.(event as React.MouseEvent<HTMLDivElement, MouseEvent>);

    if (open) {
      if (!shouldShowButtons) {
        if (multiple) {
          setValue(pendingValue);
        }

        setOpen(false);

        if (anchorEl) {
          anchorEl.focus();
        }
      }
    } else {
      if (multiple) {
        setPendingValue(value);
      }

      setAnchorEl(event.currentTarget);
      setOpen(true);
    }
  }

  function handleClose(
    event: React.SyntheticEvent,
    reason: AutocompleteCloseReason
  ) {
    // (thuang): We don't want to close the menu when the input is clicked
    if (reason === "toggleInput") {
      return;
    }

    // (masoudmanson): When the dropdown loses focus, we will not close it immediately. Instead, we will update the values and
    // only close the dropdown at the end of this block by calling setOpen(false).
    if (shouldShowButtons && reason === "blur") {
      return;
    }

    if (multiple) {
      setValue(pendingValue);
    }

    if (anchorEl) {
      anchorEl.focus();
    }

    if (closeOnBlur) onClose?.(event, reason);

    if (shouldShowButtons) {
      onClose?.(event, reason);
      setOpen(false);
    }
  }

  function handleButtonClose(
    event: React.MouseEvent<HTMLButtonElement, MouseEvent>
  ) {
    handleClose(event, "selectOption");
  }

  function handleCancel() {
    if (multiple) {
      // (masoudmanson): To undo the latest actions made on the selections,
      // we set the value of the selection to the pendingValue. This allows us to
      // cancel any recent changes and restore the previous selection state.
      setPendingValue(value);
    }

    if (anchorEl) {
      anchorEl.focus();
    }

    setOpen(false);
  }

  function setValueAndCallOnChange(
    event: React.SyntheticEvent,
    newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>,
    reason: AutocompleteChangeReason,
    details?: AutocompleteChangeDetails<T>
  ) {
    setValue(newValue);
    onChange?.(event, newValue, reason, details);
  }
};

export default Dropdown;
</file>

<file path="packages/components/src/core/Dropdown/style.ts">
import styled from "@emotion/styled";
import Button from "src/core/Button";
import { CommonThemeProps, getSpaces } from "src/core/styles";

interface StyleProps extends CommonThemeProps {
  buttonPosition: "left" | "right";
}

const doNotForwardProps = ["buttonPosition"];

export const StyledButtonsWrapper = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: StyleProps) => {
    const { buttonPosition } = props;

    return `
      display: flex;
      justify-content: ${buttonPosition === "left" ? "start" : "end"};
    `;
  }}
`;

export const StyledButton = styled(Button, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);

    return `
      margin-top: ${spaces?.l}px;
      margin-right: ${spaces?.m}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/DropdownMenu/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import React, { useEffect, useRef } from "react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import RawDropdownMenu from "src/core/DropdownMenu";
import { DROPDOWN_MENU_POPPER_POSITION } from "../constants";

export const DropdownMenu = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  const {
    label,
    multiple,
    options = AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
    search,
    title,
  } = props;
  const anchorRef = useRef(null);
  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);

  useEffect(() => {
    setTimeout(() => {
      setAnchorEl(anchorRef.current);
    }, 1);
  }, [anchorRef]);

  return (
    <div style={{ margin: "16px 0 0 24px" }} ref={anchorRef}>
      {anchorEl ? (
        <RawDropdownMenu<T, Multiple, DisableClearable, FreeSolo>
          {...props}
          label={label}
          anchorEl={anchorEl}
          disableCloseOnSelect={false}
          multiple={multiple}
          options={options}
          PopperBaseProps={{
            disablePortal: false,
            placement: DROPDOWN_MENU_POPPER_POSITION,
          }}
          search={search}
          title={title}
          getOptionDisabled={(option: T) => {
            return option.name === "Type: feature request";
          }}
        />
      ) : null}
    </div>
  );
};
</file>

<file path="packages/components/src/core/DropdownMenu/__storybook__/stories/screenshot.tsx">
import { Args } from "@storybook/react";
import Tag from "src/core/Tag";
import { DROPDOWN_MENU_LIVE_PREVIEW_LABELS } from "../constants";
import { DropdownMenu } from "./default";
import { DefaultAutocompleteOption } from "src/core/Autocomplete";

export const ScreenshotTestDemo = (props: Args): JSX.Element => {
  const TITLE_OPTIONS = [undefined, "Sample title text"];
  const SEARCH_OPTIONS = [false, true];
  const GROUP_BY_OPTIONS = [false, true];
  const SCREENSHOT_TEST_TAG_COMPONENT = {
    component: (
      <div>
        Available Labels:
        <div style={{ marginTop: 10 }}>
          <Tag
            label="bug"
            sdsStyle="rounded"
            sdsType="secondary"
            color="negative"
          />
          <Tag
            label="feature"
            sdsStyle="rounded"
            sdsType="secondary"
            color="notice"
          />
          <Tag
            label="refactor"
            sdsStyle="rounded"
            sdsType="secondary"
            color="neutral"
          />
        </div>
      </div>
    ),
    name: "custom 2",
    section: "custom component",
  };
  const SCREENSHOT_TEST_OPTIONS = DROPDOWN_MENU_LIVE_PREVIEW_LABELS.concat(
    SCREENSHOT_TEST_TAG_COMPONENT
  );

  const DISPLAY_CONTENTS: React.CSSProperties = {
    display: "contents",
  };
  const MID_LABEL: React.CSSProperties = {
    borderStyle: "solid none none none",
    gridColumn: "1 / 3",
    justifySelf: "stretch",
    paddingTop: 10,
  };

  // loop through all TITLE_OPTIONS
  return (
    <>
      {TITLE_OPTIONS.map((title, index) => {
        return <DropdownMenuTitle title={title} key={String(title) + index} />;
      })}
    </>
  );

  // loop through all SEARCH_OPTIONS + create headers for TITLE_OPTIONS
  function DropdownMenuTitle({
    title,
  }: {
    title: (typeof TITLE_OPTIONS)[number];
  }) {
    const LEVEL_STYLE: React.CSSProperties = {
      columnGap: "25px",
      display: "inline-grid",
      fontFamily: "sans-serif",
      marginLeft: "50px",
    };
    const LABEL_STYLE: React.CSSProperties = {
      fontSize: "2em",
      gridColumn: "1 / 3",
      marginBottom: 10,
    };
    return (
      <div style={LEVEL_STYLE}>
        <p style={LABEL_STYLE}>
          Title: <b>{title ? "yes" : "no"}</b>
        </p>
        {SEARCH_OPTIONS.map((search) => {
          return (
            <DropdownMenuSearch
              title={title}
              search={search}
              key={String(search)}
            />
          );
        })}
      </div>
    );
  }

  function DropdownMenuSearch({
    title,
    search,
  }: {
    title: (typeof TITLE_OPTIONS)[number];
    search: (typeof SEARCH_OPTIONS)[number];
  }) {
    const SEARCH_LABEL: React.CSSProperties = {
      ...MID_LABEL,
      borderWidth: "2px",
      fontSize: "1.17em",
      margin: 0,
    };
    const LEVEL_STYLE: React.CSSProperties = {
      margin: "0 300px 475px 0",
    };
    const GROUP_BY_LABEL: React.CSSProperties = {
      fontSize: "0.67em",
      margin: "10px 0 475px",
    };
    return (
      <div style={DISPLAY_CONTENTS}>
        <p style={SEARCH_LABEL}>
          Search: <b>{search ? "yes" : "no"}</b>
        </p>
        {GROUP_BY_OPTIONS.map((groupBy, index) => {
          const groupByFinal = groupBy
            ? (option: (typeof SCREENSHOT_TEST_OPTIONS)[number]) =>
                option.section as string
            : undefined;
          return (
            <div style={LEVEL_STYLE} key={`level-${index})}`}>
              <>
                <p style={GROUP_BY_LABEL}>
                  Grouped: <b>{groupBy ? "yes" : "no"}</b>
                </p>
                <DropdownMenu
                  {...props}
                  groupBy={groupByFinal}
                  options={
                    SCREENSHOT_TEST_OPTIONS as DefaultAutocompleteOption[]
                  }
                  title={title}
                  search={search}
                  key={String(groupBy)}
                  open
                  width={250}
                />
              </>
            </div>
          );
        })}
      </div>
    );
  }
};
</file>

<file path="packages/components/src/core/DropdownMenu/__storybook__/stories/test.tsx">
import { AutocompleteValue } from "@mui/base";
import { Args } from "@storybook/react";
import { useEffect, useRef, useState } from "react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { DefaultAutocompleteOption } from "src/core/Autocomplete";
import RawDropdownMenu from "src/core/DropdownMenu";

export const TestDemo = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  const {
    multiple,
    options = AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
    search,
  } = props;

  const anchorRef = useRef(null);
  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);

  const [value, setValue] = useState<
    AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(getInitialValue(false));

  const [pendingValue, setPendingValue] = useState<
    AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(getInitialValue(true));

  useEffect(() => {
    setAnchorEl(anchorRef.current);
  }, []);

  return (
    <div style={{ margin: "16px 0 0 24px" }} ref={anchorRef}>
      {anchorEl ? (
        <RawDropdownMenu<T, Multiple, DisableClearable, FreeSolo>
          label="Search"
          anchorEl={anchorEl}
          open
          search={search}
          multiple={multiple}
          value={multiple ? pendingValue : value}
          onChange={handleChange}
          disableCloseOnSelect={multiple}
          options={options}
          onClickAway={handleClickAway}
          groupBy={(option: T) => option.section as string}
          width={300}
          {...props}
        />
      ) : null}
    </div>
  );

  function handleClickAway() {
    return multiple && setValue(pendingValue);
  }

  function handleChange(
    _: React.ChangeEvent<unknown>,
    newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ) {
    if (!multiple) {
      setValue(
        newValue as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
      );
    }

    return setPendingValue(
      newValue as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
    );
  }

  // eslint-disable-next-line sonarjs/no-identical-functions
  function getInitialValue(
    isMultiple: boolean
  ): AutocompleteValue<T, Multiple, DisableClearable, FreeSolo> {
    return isMultiple
      ? ([] as unknown as AutocompleteValue<
          T,
          Multiple,
          DisableClearable,
          FreeSolo
        >)
      : (null as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>);
  }
};
</file>

<file path="packages/components/src/core/DropdownMenu/__storybook__/stories/withHeaderComponent.tsx">
import { AutocompleteValue } from "@mui/base";
import { Args } from "@storybook/react";
import { useEffect, useRef, useState } from "react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { DefaultAutocompleteOption } from "src/core/Autocomplete";
import Button from "src/core/Button";
import RawDropdownMenu from "src/core/DropdownMenu";

export const WithHeaderComponentDemo = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  const {
    multiple,
    options = AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
    search = false,
  } = props;

  const anchorRef = useRef(null);
  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);

  const [value, setValue] = useState<
    AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(getInitialValue(false));

  const [pendingValue, setPendingValue] = useState<
    AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(getInitialValue(true));

  useEffect(() => {
    setAnchorEl(anchorRef.current);
  }, []);

  const CustomHeaderComponent = () => (
    <Button sdsStyle="minimal" sdsType="primary">
      Click Me!
    </Button>
  );

  return (
    <div style={{ margin: "16px 0 0 24px" }} ref={anchorRef}>
      {anchorEl ? (
        <RawDropdownMenu<T, Multiple, DisableClearable, FreeSolo>
          {...props}
          label="Search"
          anchorEl={anchorEl}
          open
          search={search}
          multiple={multiple}
          headerComponentSlot={CustomHeaderComponent()}
          value={multiple ? pendingValue : value}
          onChange={handleChange}
          disableCloseOnSelect={multiple}
          options={options}
          onClickAway={handleClickAway}
          groupBy={(option: T) => option.section as string}
          width={300}
        />
      ) : null}
    </div>
  );

  function handleClickAway() {
    return multiple && setValue(pendingValue);
  }

  function handleChange(
    _: React.ChangeEvent<unknown>,
    newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ) {
    if (!multiple) {
      setValue(
        newValue as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
      );
    }

    return setPendingValue(
      newValue as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
    );
  }

  // eslint-disable-next-line sonarjs/no-identical-functions
  function getInitialValue(
    isMultiple: boolean
  ): AutocompleteValue<T, Multiple, DisableClearable, FreeSolo> {
    return isMultiple
      ? ([] as unknown as AutocompleteValue<
          T,
          Multiple,
          DisableClearable,
          FreeSolo
        >)
      : (null as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>);
  }
};
</file>

<file path="packages/components/src/core/DropdownMenu/__storybook__/constants.tsx">
import { AUTOCOMPLETE_MULTI_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_MULTI_COLUMN_OPTIONS";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "src/common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import { DefaultAutocompleteOption } from "src/core/Autocomplete";

export const DROPDOWN_MENU_EXCLUDED_CONTROLS = [
  "keepSearchOnSelect",
  "ClickAwayListenerProps",
  "search",
  "multiple",
  "label",
  "groupBy",
  "open",
  "options",
  "title",
  "width",
];

export const DROPDOWN_MENU_LABEL = "Github Labels";

export const DROPDOWN_MENU_POPPER_POSITION = "bottom-start";

export const DROPDOWN_MENU_POPPER_WIDTH = 160;

export const DROPDOWN_MENU_GROUP_BY_OPTIONS = [
  undefined,
  (option: DefaultAutocompleteOption) => option.section as string,
];

export const DROPDOWN_MENU_DATA_OPTIONS = [
  AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
  [AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[0], AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[1]],
  [
    AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[0],
    AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[1],
    AUTOCOMPLETE_MULTI_COLUMN_OPTIONS[2],
  ],
];

export const DROPDOWN_MENU_LIVE_PREVIEW_ROW_STYLES = {
  display: "grid",
  gridColumnGap: 24,
  gridRowGap: 8,
  gridTemplateColumns: "repeat(4, 160px)",
  gridTemplateRows: "repeat(2, auto)",
};

export const DROPDOWN_MENU_LIVE_PREVIEW_LABELS = [
  {
    name: "Menu Item 1",
    section: "Section 1",
  },
  {
    name: "Menu Item 2",
    section: "Section 1",
  },
  {
    name: "Menu Item 3",
    section: "Section 1",
  },
  {
    name: "Menu Item 4",
    section: "Section 2",
  },
  {
    name: "Menu Item 5",
    section: "Section 2",
  },
  {
    name: "Menu Item 6",
    section: "Section 2",
  },
];
</file>

<file path="packages/components/src/core/DropdownMenu/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import {
  DROPDOWN_MENU_DATA_OPTIONS,
  DROPDOWN_MENU_EXCLUDED_CONTROLS,
  DROPDOWN_MENU_GROUP_BY_OPTIONS,
  DROPDOWN_MENU_LABEL,
} from "./constants";
import { DropdownMenu } from "./stories/default";
import { ScreenshotTestDemo } from "./stories/screenshot";
import { TestDemo } from "./stories/test";
import { WithHeaderComponentDemo } from "./stories/withHeaderComponent";

export default {
  argTypes: {
    ClickAwayListenerProps: {
      control: { type: "object" },
    },
    groupBy: {
      control: {
        labels: ["No group by", "Group by section names"],
        type: "select",
      },
      mapping: DROPDOWN_MENU_GROUP_BY_OPTIONS,
      options: Object.keys(DROPDOWN_MENU_GROUP_BY_OPTIONS),
    },
    keepSearchOnSelect: {
      control: { type: "boolean" },
    },
    label: {
      control: { type: "text" },
      require: true,
    },
    multiple: {
      control: { type: "boolean" },
    },
    open: {
      control: {
        type: "boolean",
      },
    },
    options: {
      control: {
        labels: ["One Column", "Two Columns", "Three Columns"],
        type: "select",
      },
      mapping: DROPDOWN_MENU_DATA_OPTIONS,
      options: Object.keys(DROPDOWN_MENU_DATA_OPTIONS),
    },
    search: {
      control: { type: "boolean" },
    },
    title: {
      control: { type: "text" },
    },
    width: {
      control: { type: "text" },
    },
  },
  component: DropdownMenu,
  // (masoudmanson) For the purpose of storybook, the button is removed
  // from the dropdown menu component which may cause some accessibility
  // violations related to ARIA roles and attributes. However, this
  // should not be a concern as the component is always used with a button
  // in real applications. To avoid false positive test failures, the following
  // accessibility rules have been temporarily disabled in the tests
  parameters: {
    axe: {
      disabledRules: [
        "aria-input-field-name",
        "aria-required-children",
        "aria-required-parent",
        "button-name",
        "list",
        "listitem",
      ],
    },
    badges: [BADGE.STABLE],
  },
  title: "Components/Dropdowns/DropdownMenu",
} as Meta;

// Default

export const Default = {
  args: {
    groupBy: DROPDOWN_MENU_GROUP_BY_OPTIONS[1],
    keepSearchOnSelect: true,
    multiple: true,
    open: true,
    options: DROPDOWN_MENU_DATA_OPTIONS[0],
    search: true,
    title: DROPDOWN_MENU_LABEL,
    width: 300,
  },
};

// Multi Column

export const MultiColumn = {
  args: {
    groupBy: DROPDOWN_MENU_GROUP_BY_OPTIONS[1],
    keepSearchOnSelect: true,
    multiple: true,
    open: true,
    options: DROPDOWN_MENU_DATA_OPTIONS[2],
    search: true,
    title: DROPDOWN_MENU_LABEL,
  },
  parameters: {
    controls: {
      exclude: DROPDOWN_MENU_EXCLUDED_CONTROLS,
    },
  },
  render: (args: Args) => <DropdownMenu {...args} />,
};

// Screenshot test

export const ScreenshotTest = {
  parameters: {
    axe: {
      timeout: 10 * 1000,
    },
    controls: {
      exclude: DROPDOWN_MENU_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ScreenshotTestDemo {...args} />,
};

// Test

export const Test = {
  args: {
    keepSearchOnSelect: false,
    multiple: true,
    search: true,
    title: DROPDOWN_MENU_LABEL,
  },
  parameters: {
    controls: {
      exclude: DROPDOWN_MENU_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo data-testid="dropdown-menu" {...args} />,
};

// With a minimal button at the headerComponentSlot

export const WithHeaderComponent = {
  args: {
    keepSearchOnSelect: false,
    multiple: true,
    search: true,
    title: DROPDOWN_MENU_LABEL,
  },
  parameters: {
    controls: {
      exclude: DROPDOWN_MENU_EXCLUDED_CONTROLS.filter(
        (control) => control !== "search" && control !== "title"
      ),
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <WithHeaderComponentDemo {...args} />,
};
</file>

<file path="packages/components/src/core/DropdownMenu/__storybook__/style.ts">
import styled from "@emotion/styled";
import InputDropdown from "src/core/InputDropdown";

export const StyledInputDropdownLive1 = styled(InputDropdown)`
  position: relative !important;
  min-width: unset;
  &.MuiButtonBase-root {
    margin: 0 !important;

    & > span {
      font-size: 13px;
    }
  }
`;

export const StyledInputDropdownLive3 = styled(InputDropdown)`
  position: relative !important;
  min-width: 160px;
  &.MuiButtonBase-root {
    margin: 0 !important;

    & > span {
      font-size: 13px;
    }
  }
`;
</file>

<file path="packages/components/src/core/DropdownMenu/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<DropdownMenu /> Default story renders snapshot 1`] = `
<div
  style="margin: 16px 0px 0px 24px;"
/>
`;

exports[`<DropdownMenu /> MultiColumn story renders snapshot 1`] = `
<div
  style="margin: 16px 0px 0px 24px;"
/>
`;
</file>

<file path="packages/components/src/core/DropdownMenu/__tests__/DropdownMenu.namespace-test.tsx">
import {
  DefaultAutocompleteOption,
  DropdownMenu,
  DropdownMenuProps,
} from "@czi-sds/components";
import { noop } from "src/common/utils";

const OPTIONS = [
  {
    color: "#7057ff",
    description: "Good for newcomers",
    name: "good first issue",
  },
  {
    color: "#008672",
    description: "Extra attention is needed",
    name: "help wanted",
  },
];

const DropdownMenuNameSpaceTest = (
  props: DropdownMenuProps<
    DefaultAutocompleteOption,
    true,
    undefined,
    undefined
  >
) => {
  return (
    <DropdownMenu
      anchorEl={null}
      disableCloseOnSelect={false}
      id="1"
      multiple
      onChange={noop}
      open
      options={OPTIONS}
      PopperBaseProps={{ sx: { width: 300 } }}
      search
      title="Dropdown Menu Title"
      onClickAway={noop}
      ClickAwayListenerProps={{ mouseEvent: false }}
    />
  );
};
</file>

<file path="packages/components/src/core/DropdownMenu/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

const { Test } = composeStories(stories);

describe("<DropdownMenu />", () => {
  generateSnapshots(stories);

  it("renders DropdownMenu component", () => {
    render(<Test {...Test.args} />);
    const DropdownMenuElement = screen.getByTestId("dropdown-menu");
    expect(DropdownMenuElement).not.toBeNull();
  });
});
</file>

<file path="packages/components/src/core/DropdownMenu/index.tsx">
import {
  AutocompleteInputChangeReason,
  AutocompleteRenderInputParams,
  ClickAwayListener,
  ClickAwayListenerProps as MUIClickAwayListenerProps,
  PaperProps,
  PopperProps,
  useTheme,
} from "@mui/material";
import React, { SyntheticEvent, useMemo, CSSProperties } from "react";
import { EMPTY_OBJECT, noop } from "src/common/utils";
import Autocomplete, { AutocompleteProps } from "src/core/Autocomplete";
import { DefaultAutocompleteOption } from "src/core/Autocomplete/components/AutocompleteBase";
import { InputSearchProps } from "src/core/InputSearch";
import { SDSTheme } from "src/core/styles";
import {
  StyleProps,
  StyledDropdownMenuAutocompleteWrapper,
  StyledDropdownMenuHeader,
  StyledHeaderTitle,
  StyledPaper,
  StyledPopper,
} from "./style";

/**
 * @deprecated
 * (masoudmanson): We've replaced DefaultDropdownMenuOption with DefaultAutocompleteOption
 * as the preferred choice. However, for backward compatibility, we've exported this line to
 * prevent potential TypeScript type issues for product teams using previous versions.
 */
export type DefaultDropdownMenuOption = DefaultAutocompleteOption;

// (masoudmanson): Represents the minimum width defined by design specifications
// for the dropdownMenu's popper component
export const MINIMUM_DROPDOWN_MENU_POPPER_WIDTH = 160;

interface ExtraDropdownMenuProps extends StyleProps {
  keepSearchOnSelect?: boolean;
  renderInput?: (params: AutocompleteRenderInputParams) => React.ReactNode;
  onInputChange?: (
    event: SyntheticEvent<Element, Event>,
    value: string,
    reason: AutocompleteInputChangeReason
  ) => void;
  InputBaseProps?: Partial<InputSearchProps>;
  PopperBaseProps?: Partial<PopperProps>;
  title?: string;
  headerComponentSlot?: JSX.Element;
  label?: string;
  anchorEl: HTMLElement | null;
  PopperComponent?: React.JSXElementConstructor<PopperProps>;
  PaperComponent?: React.JSXElementConstructor<PaperProps>;
  PopperPlacement?:
    | "auto-end"
    | "auto-start"
    | "auto"
    | "bottom-end"
    | "bottom-start"
    | "bottom"
    | "left-end"
    | "left-start"
    | "left"
    | "right-end"
    | "right-start"
    | "right"
    | "top-end"
    | "top-start"
    | "top";
  children?: JSX.Element | null;
  onClickAway?: (event: MouseEvent | TouchEvent) => void;
  ClickAwayListenerProps?: Partial<MUIClickAwayListenerProps>;
  width?: number | CSSProperties["width"];
}

type CustomAutocompleteProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = Omit<
  AutocompleteProps<T, Multiple, DisableClearable, FreeSolo>,
  "renderInput"
>;

export type DropdownMenuProps<
  T,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
> = CustomAutocompleteProps<T, Multiple, DisableClearable, FreeSolo> &
  ExtraDropdownMenuProps;

const DEFAULT_POPPER_BASE_PROPS: Partial<PopperProps> = {
  disablePortal: true,
};

const DropdownMenu = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
  DisableClearable extends boolean | undefined,
  FreeSolo extends boolean | undefined,
>(
  props: DropdownMenuProps<T, Multiple, DisableClearable, FreeSolo>
): JSX.Element => {
  const theme: SDSTheme = useTheme();

  const {
    anchorEl,
    id,
    InputBaseProps,
    open = false,
    PopperComponent = StyledPopper,
    PaperComponent = StyledPaper,
    PopperPlacement = "bottom-start",
    PopperBaseProps = {},
    isSearchAutoFocus = true,
    search = false,
    title,
    headerComponentSlot,
    label = "Search",
    children,
    options,
    onClickAway = noop,
    ClickAwayListenerProps,
    width = MINIMUM_DROPDOWN_MENU_POPPER_WIDTH,
    ...rest
  } = props;

  const isMultiColumn = "options" in (options?.[0] || EMPTY_OBJECT);

  // (masoudmanson): The DropdownMenu's Popper component should have a minimum
  // width of MINIMUM_DROPDOWN_MENU_POPPER_WIDTH pixels if the DropdownMenu is
  // a single column dropdown.However, for larger multi-column autocompletes,
  // the width should be set to 'auto' to accommodate the expanded layout.
  const dropdownMenuPopperSx = useMemo(() => {
    return {
      minWidth: MINIMUM_DROPDOWN_MENU_POPPER_WIDTH,
      width: isMultiColumn ? "auto" : width,
      ...PopperBaseProps?.sx,
    };
  }, [PopperBaseProps?.sx, isMultiColumn, width]);

  const DefaultInputBaseProps = useMemo(() => {
    return {
      ...InputBaseProps,
      autoFocus: isSearchAutoFocus,
      onClick: noop,
    };
  }, [InputBaseProps, isSearchAutoFocus]);

  return (
    <PopperComponent
      id={id}
      modifiers={[
        {
          name: "offset",
          options: {
            offset: [0, theme?.app?.spacing?.s],
          },
        },
      ]}
      open={open}
      anchorEl={anchorEl}
      placement={PopperPlacement}
      {...PopperBaseProps}
      // (masoudmanson): To override the width of the Popper,
      // the sx prop's value must be set after spreading the PopperBaseProps.
      sx={dropdownMenuPopperSx}
    >
      <PaperComponent>
        <ClickAwayListener
          onClickAway={onClickAway}
          {...ClickAwayListenerProps}
        >
          <StyledDropdownMenuAutocompleteWrapper>
            {(title || headerComponentSlot) && (
              <StyledDropdownMenuHeader search={search}>
                {title && <StyledHeaderTitle>{title}</StyledHeaderTitle>}
                {headerComponentSlot && <>{headerComponentSlot}</>}
              </StyledDropdownMenuHeader>
            )}
            {anchorEl && (
              <Autocomplete
                label={label}
                search={search}
                title={title}
                open={open}
                options={options}
                PopperBaseProps={DEFAULT_POPPER_BASE_PROPS}
                disablePortal
                onClickAway={noop}
                onClick={noop}
                {...rest}
                InputBaseProps={DefaultInputBaseProps}
              />
            )}
            {children}
          </StyledDropdownMenuAutocompleteWrapper>
        </ClickAwayListener>
      </PaperComponent>
    </PopperComponent>
  );
};

export default DropdownMenu;
</file>

<file path="packages/components/src/core/DropdownMenu/style.ts">
import { autocompleteClasses, Paper, Popper } from "@mui/material";
import styled from "@emotion/styled";
import { ReactElement } from "react";
import {
  CommonThemeProps,
  fontHeaderXs,
  getBorders,
  getCorners,
  getSemanticColors,
  getShadows,
  getSpaces,
} from "src/core/styles";

export interface StyleProps extends CommonThemeProps {
  count?: number;
  icon?: ReactElement;
  search?: boolean;
  isSearchAutoFocus?: boolean;
  title?: string;
  isMultiColumn?: boolean;
}

const doNotForwardProps = [
  "anchorEl",
  "count",
  "keepSearchOnSelect",
  "search",
  "InputBaseProps",
  "title",
  "PopperBaseProps",
  "onClickAway",
  "ClickAwayListenerProps",
  "forceOpen",
  "isMultiColumn",
];

export const StyledHeaderTitle = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontHeaderXs}

  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textPrimary};
      padding-right: ${spaces?.m}px;
    `;
  }}
`;

export const StyledDropdownMenuAutocompleteWrapper = styled("div")`
  & .${autocompleteClasses.popper}, & .MuiPopper-root,
  .base-Popper-root {
    position: relative !important;
    transform: none !important;
    width: 100% !important;
    box-shadow: none;
    padding: 0;
    border: none;

    .${autocompleteClasses.paper}, .MuiPaper-root {
      box-shadow: none !important;
      border: none !important;
      border-radius: 0;
      margin: 0;
      padding: 0;
    }
  }
`;

export const StyledPopper = styled(Popper, {
  shouldForwardProp: (prop: string) =>
    !doNotForwardProps.includes(prop) || prop === "anchorEl",
})`
  ${(props: CommonThemeProps) => {
    const borders = getBorders(props);
    const corners = getCorners(props);
    const shadows = getShadows(props);
    const semanticColors = getSemanticColors(props);

    return `
      background-color: ${semanticColors?.base?.surface};
      background-image: none;
      border: ${borders?.none};
      border-radius: ${corners?.m}px;
      box-shadow: ${shadows?.m};
      box-sizing: border-box;
      z-index: 1400;
    `;
  }}
`;

export const StyledPaper = styled(Paper, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: StyleProps) => {
    const spaces = getSpaces(props);
    const borders = getBorders(props);
    const shadows = getShadows(props);
    const semanticColors = getSemanticColors(props);

    return `
      box-shadow: ${shadows?.none} !important;
      border: ${borders?.none};
      background-color: ${semanticColors?.base?.surface};
      background-image: none;
      margin: 0;
      padding: ${spaces?.l}px ${spaces?.xxs}px ${spaces?.l}px ${spaces?.l}px;

      .MuiAutocomplete-root,
      .MuiFormControl-root.MuiTextField-root {
        margin-bottom: ${spaces?.m}px;
        margin-right: ${spaces?.m}px;
      }

      // (masoudmanson): Remove margin-right and margin-bottom for the single column autocomplete
      // as it has been added to the parent container
      .MuiAutocomplete-root .MuiFormControl-root.MuiTextField-root {
        margin-right: 0;
        margin-bottom: 0;
      }
    `;
  }}
`;

interface StyledDropdownMenuHeaderProps extends CommonThemeProps {
  search: boolean;
}

export const StyledDropdownMenuHeader = styled("div")`
  ${(props: StyledDropdownMenuHeaderProps) => {
    const { search } = props;
    const spaces = getSpaces(props);

    return `
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-right: ${spaces?.m}px;
      margin-bottom: ${search ? spaces?.s : spaces?.m}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Icon/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawIcon from "src/core/Icon";

export const Icon = (props: Args): JSX.Element => {
  const { sdsIcon, sdsSize, ...rest } = props;

  return <RawIcon sdsIcon={sdsIcon} sdsSize={sdsSize} {...rest} />;
};
</file>

<file path="packages/components/src/core/Icon/__storybook__/stories/iconBank.tsx">
import styled from "@emotion/styled";
import { Args } from "@storybook/react";
import { FC, useState } from "react";
import Callout from "src/core/Callout";
import RawIcon, { IconNameToSizes, SdsIconWithColor } from "src/core/Icon";
import {
  CommonThemeProps,
  fontBodyXs,
  getColors,
  getMode,
  getSemanticColors,
  getSpaces,
  getTypography,
} from "src/core/styles";
import { iconMap } from "src/core/Icon/map";
import InputSearch from "src/core/InputSearch";

const IconBankWrapper = styled("div")`
  ${(props: CommonThemeProps) => {
    const typography = getTypography(props);
    const spaces = getSpaces(props);

    return `
      font-family: ${typography?.fontFamily};
      display: grid;
      grid-gap: ${spaces?.s}px;
      margin: 0 auto;
      grid-template-columns: repeat(auto-fit, 210px);
      margin-top: ${spaces?.m}px;
    `;
  }}
`;

const IconWrapper = styled("div")`
  ${fontBodyXs}

  ${(props: CommonThemeProps & SdsIconWithColor) => {
    const colors = getColors(props);
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);
    const mode = getMode(props);

    const { color = "blue", shade = mode === "dark" ? 600 : 500 } = props;

    return `
      align-items: center;
      border-radius: 4px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 8px;
      position: relative;
      cursor: pointer;
      transition: all .2s;

      p {
        margin: ${spaces?.m}px 0 0 0;
        text-align: center;
        font-size: 13px;
        background-color: transparent;
      }

      span {
        color: ${semanticColors?.base?.textPrimary};
        font-size: 11px;
      }

      span.size-tag {
        background-color: ${mode === "light" ? "rgba(0, 0, 0, 0.1)" : "rgba(255, 255, 255, 0.1)"};
        font-size: 10px;
        padding: 0 4px;
        margin: 0 2px;
        border-radius: 2px;
      }

      &:hover {
        border-radius: 4px;
        background-color: ${colors?.[color]?.[shade]};
        border-color: ${colors?.[color]?.[shade]};
        color: ${semanticColors?.base?.textPrimaryInverse};

        p {
          color: ${semanticColors?.base?.textPrimaryInverse};
        }

        span {
          color: ${semanticColors?.base?.textPrimaryInverse};
        }

        span.size-tag {
          background-color: ${mode === "dark" ? "rgba(0, 0, 0, 0.2)" : "rgba(255, 255, 255, 0.2)"};
        }

        svg {
          fill: ${semanticColors?.base?.ornamentPrimaryInverse};
        }

        div.notification {
          display: flex;
        }
      }

      div.icon {
        min-height: 22px;
        display: flex;
        align-items: center;
      }

      div.notification {
        flex-direction: column;
        border-radius: 2px;
        display: none;
        position: absolute;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(3px);
        color: white;
        align-items: center;
        justify-content: center;
      }
    `;
  }}
`;

type IconItemProps = {
  sdsIcon: string;
  innerIcon: [string, FC<CustomSVGProps> | null];
} & SdsIconWithColor;

const IconItem = (props: IconItemProps) => {
  const { sdsIcon, innerIcon, color } = props;

  const [copied, setCopied] = useState(false);

  if (!innerIcon[1]) return null;

  const sdsSize = innerIcon[0] === "smallIcon" ? "s" : "l";

  const copyIconNameHandler = (iconName: string) => {
    navigator.clipboard.writeText(iconName);
    setCopied(true);

    setTimeout(() => {
      setCopied(false);
    }, 1500);
  };

  return (
    <IconWrapper
      color={color}
      key={sdsIcon + sdsSize}
      onClick={() => copyIconNameHandler(sdsIcon)}
    >
      <div className="icon">
        <RawIcon
          color={color}
          sdsSize={sdsSize}
          sdsIcon={sdsIcon as keyof IconNameToSizes}
        />
      </div>
      <p>{sdsIcon}</p>
      <span>
        Available sizes{" "}
        {sdsSize === "s" ? (
          <>
            <span className="size-tag">xs</span>
            <span className="size-tag">s</span>
          </>
        ) : (
          <>
            <span className="size-tag">l</span>
            <span className="size-tag">xl</span>
          </>
        )}
      </span>
      {copied && (
        <div className="notification">
          <RawIcon
            color={color}
            sdsSize={sdsSize}
            sdsIcon={sdsIcon as keyof IconNameToSizes}
          />
          <p>Copied!</p>
          <span>
            <RawIcon color={color} sdsSize="xs" sdsIcon="Check" />
          </span>
        </div>
      )}
    </IconWrapper>
  );
};

export const IconBankDemo = (props: Args): JSX.Element => {
  const { color } = props;

  const initialIcons = Object.entries(iconMap);

  const [icons, setIcons] = useState(initialIcons);

  const searchIconHandler = (e: React.ChangeEvent<HTMLInputElement>) => {
    const query = e.target.value;
    const regex = new RegExp(query, "gi");
    const newIcons = initialIcons.filter((icon) => {
      return icon[0].match(regex);
    });
    setIcons(newIcons);
  };

  return (
    <>
      <InputSearch
        id="squareSearchPreview"
        label="Search"
        sdsStyle="square"
        placeholder="Search icons"
        name="square-input-search"
        onChange={searchIconHandler}
        sx={{ width: "210px" }}
      />
      {icons.length ? (
        <IconBankWrapper>
          {icons.map(([sdsIcon, icon]) => {
            return Object.entries(icon).map((innerIcon) => (
              <IconItem
                color={color}
                key={sdsIcon + innerIcon[0]}
                innerIcon={innerIcon}
                sdsIcon={sdsIcon}
              />
            ));
          })}
        </IconBankWrapper>
      ) : (
        <Callout
          intent="notice"
          icon={<RawIcon sdsSize="l" sdsIcon="InfoSpeechBubble" />}
        >
          Sorry, there are no matches for your search!
        </Callout>
      )}
    </>
  );
};
</file>

<file path="packages/components/src/core/Icon/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import RawIcon from "src/core/Icon";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Icon } from "./stories/default";
import { IconBankDemo } from "./stories/iconBank";

export default {
  argTypes: {
    color: {
      control: {
        type: "select",
      },
      options: ["blue", "gray", "green", "purple", "red", "yellow"],
    },
    sdsIcon: {
      control: {
        type: "select",
      },
      options: [
        "CheckCircle",
        "Copy",
        "Edit",
        "LightBulb",
        "LinesHorizontal",
        "Loading",
        "XMark",
      ],
    },
    sdsSize: {
      control: { type: "select" },
      options: ["xs", "s", "l", "xl"],
    },
    shade: {
      control: {
        type: "select",
      },
      options: [100, 200, 300, 400, 500, 600, 700, 800],
    },
  },
  component: Icon,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Icon",
} as Meta;

// Default

export const Default = {
  args: {
    color: "blue",
    sdsIcon: "CheckCircle",
    sdsSize: "xl",
  },
};

// Icon Bank

export const IconBank = {
  args: {
    color: "blue",
  },
  parameters: {
    controls: {
      exclude: ["sdsIcon", "sdsSize", "shade"],
    },
  },
  render: (args: Args) => <IconBankDemo {...args} />,
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: ["color", "sdsIcon", "sdsSize", "shade"],
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => (
    <RawIcon
      sdsIcon="CheckCircle"
      sdsSize="l"
      color="blue"
      data-testid="icon"
      {...args}
    />
  ),
};
</file>

<file path="packages/components/src/core/Icon/__tests__/Icon.namespace-test.tsx">
import { Icon } from "@czi-sds/components";
import React from "react";

const IconNameSpaceTest = () => {
  return <Icon color="blue" sdsIcon="Bacteria" sdsSize="xl" />;
};
</file>

<file path="packages/components/src/core/Icon/index.tsx">
import { ForwardedRef, forwardRef } from "react";
import { IconNameToSizes, iconMap } from "./map";
import {
  IconExtraProps,
  SdsIconColorType,
  StyledIcon,
  StyledSvgIcon,
} from "./style";

export type { IconNameToSizes };

export interface SdsIconWithColor {
  color?: SdsIconColorType;
  shade?: 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800;
}

export type IconProps<IconName extends keyof IconNameToSizes> =
  IconExtraProps<IconName> & SdsIconWithColor;

/**
 * @see https://mui.com/material-ui/icons/#icons
 */
const Icon = forwardRef(function Icon<IconName extends keyof IconNameToSizes>(
  { className, color, shade, sdsIcon, sdsSize }: IconProps<IconName>,
  ref: ForwardedRef<HTMLDivElement | null>
): JSX.Element | null {
  const icon = iconMap[sdsIcon] ?? {};
  const { largeIcon, smallIcon } = icon;

  if ((sdsSize === "xs" || sdsSize === "s") && smallIcon) {
    return (
      <StyledIcon ref={ref}>
        <StyledSvgIcon
          iconColor={color}
          shade={shade}
          className={className}
          fillcontrast="white"
          viewBox="0 0 16 16"
          width={16}
          height={16}
          component={smallIcon}
          sdsSize={sdsSize}
          sdsIcon={sdsIcon}
        />
      </StyledIcon>
    );
  }
  if ((sdsSize === "l" || sdsSize === "xl") && largeIcon) {
    return (
      <StyledIcon ref={ref}>
        <StyledSvgIcon
          iconColor={color}
          shade={shade}
          className={className}
          fillcontrast="white"
          viewBox="0 0 24 24"
          width={24}
          height={24}
          component={largeIcon}
          sdsSize={sdsSize}
          sdsIcon={sdsIcon}
        />
      </StyledIcon>
    );
  }

  // eslint-disable-next-line no-console
  console.error(
    `Error: Icon ${sdsIcon} not found for size ${sdsSize}. This is a @czi-sds/components problem.`
  );

  return null;
});

export default Icon;
</file>

<file path="packages/components/src/core/Icon/map.ts">
import { FC } from "react";
import { ReactComponent as IconBacteriaLarge } from "../../common/svgs/IconBacteriaLarge.svg";
import { ReactComponent as IconBacteriaSmall } from "../../common/svgs/IconBacteriaSmall.svg";
import { ReactComponent as IconBarChartHorizontal3Small } from "../../common/svgs/IconBarChartHorizontal3Small.svg";
import { ReactComponent as IconBarChartVertical3Small } from "../../common/svgs/IconBarChartVertical3Small.svg";
import { ReactComponent as IconBarChartVertical4Small } from "../../common/svgs/IconBarChartVertical4Small.svg";
import { ReactComponent as IconBookLarge } from "../../common/svgs/IconBookLarge.svg";
import { ReactComponent as IconBookSmall } from "../../common/svgs/IconBookSmall.svg";
import { ReactComponent as IconCheckCircleLarge } from "../../common/svgs/IconCheckCircleLarge.svg";
import { ReactComponent as IconCheckCircleSmall } from "../../common/svgs/IconCheckCircleSmall.svg";
import { ReactComponent as IconCheckSmall } from "../../common/svgs/IconCheckSmall.svg";
import { ReactComponent as IconChevronDownLarge } from "../../common/svgs/IconChevronDownLarge.svg";
import { ReactComponent as IconChevronDownSmall } from "../../common/svgs/IconChevronDownSmall.svg";
import { ReactComponent as IconChevronDown2Small } from "../../common/svgs/IconChevronDown2Small.svg";
import { ReactComponent as IconChevronLeft2Small } from "../../common/svgs/IconChevronLeft2Small.svg";
import { ReactComponent as IconChevronLeftLarge } from "../../common/svgs/IconChevronLeftLarge.svg";
import { ReactComponent as IconChevronLeftSmall } from "../../common/svgs/IconChevronLeftSmall.svg";
import { ReactComponent as IconChevronRight2Small } from "../../common/svgs/IconChevronRight2Small.svg";
import { ReactComponent as IconChevronRightLarge } from "../../common/svgs/IconChevronRightLarge.svg";
import { ReactComponent as IconChevronRightSmall } from "../../common/svgs/IconChevronRightSmall.svg";
import { ReactComponent as IconChevronUpLarge } from "../../common/svgs/IconChevronUpLarge.svg";
import { ReactComponent as IconChevronUpSmall } from "../../common/svgs/IconChevronUpSmall.svg";
import { ReactComponent as IconChevronUp2Small } from "../../common/svgs/IconChevronUp2Small.svg";
import { ReactComponent as IconCirclesOverlap2Large } from "../../common/svgs/IconCirclesOverlap2Large.svg";
import { ReactComponent as IconCirclesOverlap2Small } from "../../common/svgs/IconCirclesOverlap2Small.svg";
import { ReactComponent as IconCodeLarge } from "../../common/svgs/IconCodeLarge.svg";
import { ReactComponent as IconCodeSmall } from "../../common/svgs/IconCodeSmall.svg";
import { ReactComponent as IconCompassLarge } from "../../common/svgs/IconCompassLarge.svg";
import { ReactComponent as IconCopyLarge } from "../../common/svgs/IconCopyLarge.svg";
import { ReactComponent as IconCopySmall } from "../../common/svgs/IconCopySmall.svg";
import { ReactComponent as IconCubeLarge } from "../../common/svgs/IconCubeLarge.svg";
import { ReactComponent as IconCubeSmall } from "../../common/svgs/IconCubeSmall.svg";
import { ReactComponent as IconDNALarge } from "../../common/svgs/IconDNALarge.svg";
import { ReactComponent as IconDocumentSmall } from "../../common/svgs/IconDocumentSmall.svg";
import { ReactComponent as IconDotsHorizontal3Large } from "../../common/svgs/IconDotsHorizontal3Large.svg";
import { ReactComponent as IconDotsHorizontal3Small } from "../../common/svgs/IconDotsHorizontal3Small.svg";
import { ReactComponent as IconDownloadLarge } from "../../common/svgs/IconDownloadLarge.svg";
import { ReactComponent as IconDownloadSmall } from "../../common/svgs/IconDownloadSmall.svg";
import { ReactComponent as IconEditLarge } from "../../common/svgs/IconEditLarge.svg";
import { ReactComponent as IconEditSmall } from "../../common/svgs/IconEditSmall.svg";
import { ReactComponent as IconEnvelopeSmall } from "../../common/svgs/IconEnvelopeSmall.svg";
import { ReactComponent as IconExclamationMarkCircleLarge } from "../../common/svgs/IconExclamationMarkCircleLarge.svg";
import { ReactComponent as IconExclamationMarkCircleSmall } from "../../common/svgs/IconExclamationMarkCircleSmall.svg";
import { ReactComponent as IconExclamationMarkSpeechBubbleLarge } from "../../common/svgs/IconExclamationMarkSpeechBubbleLarge.svg";
import { ReactComponent as IconEyeClosedSmall } from "../../common/svgs/IconEyeClosedSmall.svg";
import { ReactComponent as IconEyeOpenSmall } from "../../common/svgs/IconEyeOpenSmall.svg";
import { ReactComponent as IconFilterSmall } from "../../common/svgs/IconFilterSmall.svg";
import { ReactComponent as IconFlagCheckSmall } from "../../common/svgs/IconFlagCheckSmall.svg";
import { ReactComponent as IconFlagOutlineSmall } from "../../common/svgs/IconFlagOutlineSmall.svg";
import { ReactComponent as IconFlagQuestionMarkSmall } from "../../common/svgs/IconFlagQuestionMarkSmall.svg";
import { ReactComponent as IconFlagXMarkSmall } from "../../common/svgs/IconFlagXMarkSmall.svg";
import { ReactComponent as IconFlaskLarge } from "../../common/svgs/IconFlaskLarge.svg";
import { ReactComponent as IconFlaskPrivateLarge } from "../../common/svgs/IconFlaskPrivateLarge.svg";
import { ReactComponent as IconFlaskPublicLarge } from "../../common/svgs/IconFlaskPublicLarge.svg";
import { ReactComponent as IconGearSmall } from "../../common/svgs/IconGearSmall.svg";
import { ReactComponent as IconGithubSmall } from "../../common/svgs/IconGithubSmall.svg";
import { ReactComponent as IconGlobeBasicLarge } from "../../common/svgs/IconGlobeBasicLarge.svg";
import { ReactComponent as IconGlobeSmall } from "../../common/svgs/IconGlobeSmall.svg";
import { ReactComponent as IconGridLarge } from "../../common/svgs/IconGridLarge.svg";
import { ReactComponent as IconGridPrivateLarge } from "../../common/svgs/IconGridPrivateLarge.svg";
import { ReactComponent as IconGridPublicLarge } from "../../common/svgs/IconGridPublicLarge.svg";
import { ReactComponent as IconGridDots3Large } from "../../common/svgs/IconGridDots3Large.svg";
import { ReactComponent as IconHouseSmall } from "../../common/svgs/IconHouseSmall.svg";
import { ReactComponent as IconInfoCircleLarge } from "../../common/svgs/IconInfoCircleLarge.svg";
import { ReactComponent as IconInfoCircleSmall } from "../../common/svgs/IconInfoCircleSmall.svg";
import { ReactComponent as IconInfoSpeechBubbleLarge } from "../../common/svgs/IconInfoSpeechBubbleLarge.svg";
import { ReactComponent as IconLifeRingSmall } from "../../common/svgs/IconLifeRingSmall.svg";
import { ReactComponent as IconLightBulbLarge } from "../../common/svgs/IconLightBulbLarge.svg";
import { ReactComponent as IconLightBulbSmall } from "../../common/svgs/IconLightBulbSmall.svg";
import { ReactComponent as IconLinesDashed3Solid1Small } from "../../common/svgs/IconLinesDashed3Solid1Small.svg";
import { ReactComponent as IconLinesHorizontal3Large } from "../../common/svgs/IconLinesHorizontal3Large.svg";
import { ReactComponent as IconLinesHorizontal3Small } from "../../common/svgs/IconLinesHorizontal3Small.svg";
import { ReactComponent as IconLinkSmall } from "../../common/svgs/IconLinkSmall.svg";
import { ReactComponent as IconListSmall } from "../../common/svgs/IconListSmall.svg";
import { ReactComponent as IconLoadingLarge } from "../../common/svgs/IconLoadingLarge.svg";
import { ReactComponent as IconLoadingSmall } from "../../common/svgs/IconLoadingSmall.svg";
import { ReactComponent as IconLockCircleSmall } from "../../common/svgs/IconLockCircleSmall.svg";
import { ReactComponent as IconLockLarge } from "../../common/svgs/IconLockLarge.svg";
import { ReactComponent as IconLockSmall } from "../../common/svgs/IconLockSmall.svg";
import { ReactComponent as IconMinusSmall } from "../../common/svgs/IconMinusSmall.svg";
import { ReactComponent as IconOpenSmall } from "../../common/svgs/IconOpenSmall.svg";
import { ReactComponent as IconPauseLarge } from "../../common/svgs/IconPauseLarge.svg";
import { ReactComponent as IconPeopleLarge } from "../../common/svgs/IconPeopleLarge.svg";
import { ReactComponent as IconPeopleSmall } from "../../common/svgs/IconPeopleSmall.svg";
import { ReactComponent as IconPercentageSmall } from "../../common/svgs/IconPercentageSmall.svg";
import { ReactComponent as IconPersonLarge } from "../../common/svgs/IconPersonLarge.svg";
import { ReactComponent as IconPersonSmall } from "../../common/svgs/IconPersonSmall.svg";
import { ReactComponent as IconPinLocationSmall } from "../../common/svgs/IconPinLocationSmall.svg";
import { ReactComponent as IconPinSmall } from "../../common/svgs/IconPinSmall.svg";
import { ReactComponent as IconPlayLarge } from "../../common/svgs/IconPlayLarge.svg";
import { ReactComponent as IconPlusCircleSmall } from "../../common/svgs/IconPlusCircleSmall.svg";
import { ReactComponent as IconPlusSmall } from "../../common/svgs/IconPlusSmall.svg";
import { ReactComponent as IconProjectPrivateLarge } from "../../common/svgs/IconProjectPrivateLarge.svg";
import { ReactComponent as IconProjectPublicLarge } from "../../common/svgs/IconProjectPublicLarge.svg";
import { ReactComponent as IconPuzzlePieceSmall } from "../../common/svgs/IconPuzzlePieceSmall.svg";
import { ReactComponent as IconQuestionMarkLarge } from "../../common/svgs/IconQuestionMarkLarge.svg";
import { ReactComponent as IconQuestionMarkCircleSmall } from "../../common/svgs/IconQuestionMarkCircleSmall.svg";
import { ReactComponent as IconQuoteLarge } from "../../common/svgs/IconQuoteLarge.svg";
import { ReactComponent as IconReadLarge } from "../../common/svgs/IconReadLarge.svg";
import { ReactComponent as IconRefreshLarge } from "../../common/svgs/IconRefreshLarge.svg";
import { ReactComponent as IconRefreshSmall } from "../../common/svgs/IconRefreshSmall.svg";
import { ReactComponent as IconReportLarge } from "../../common/svgs/IconReportLarge.svg";
import { ReactComponent as IconRocketLarge } from "../../common/svgs/IconRocketLarge.svg";
import { ReactComponent as IconRotateLeftSmall } from "../../common/svgs/IconRotateLeftSmall.svg";
import { ReactComponent as IconRotateRightSmall } from "../../common/svgs/IconRotateRightSmall.svg";
import { ReactComponent as IconSaveLarge } from "../../common/svgs/IconSaveLarge.svg";
import { ReactComponent as IconScaleSmall } from "../../common/svgs/IconScaleSmall.svg";
import { ReactComponent as IconScatterPlotSmall } from "../../common/svgs/IconScatterPlotSmall.svg";
import { ReactComponent as IconSearchLarge } from "../../common/svgs/IconSearchLarge.svg";
import { ReactComponent as IconSearchLinesHorizontal3Large } from "../../common/svgs/IconSearchLinesHorizontal3Large.svg";
import { ReactComponent as IconSearchLinesHorizontal3Small } from "../../common/svgs/IconSearchLinesHorizontal3Small.svg";
import { ReactComponent as IconSearchSmall } from "../../common/svgs/IconSearchSmall.svg";
import { ReactComponent as IconSendLarge } from "../../common/svgs/IconSendLarge.svg";
import { ReactComponent as IconShareLarge } from "../../common/svgs/IconShareLarge.svg";
import { ReactComponent as IconSlidersHorizontalLarge } from "../../common/svgs/IconSlidersHorizontalLarge.svg";
import { ReactComponent as IconSpeechBubblesLarge } from "../../common/svgs/IconSpeechBubblesLarge.svg";
import { ReactComponent as IconSquareOnDashedSquareLarge } from "../../common/svgs/IconSquareOnDashedSquareLarge.svg";
import { ReactComponent as IconStarburstSmall } from "../../common/svgs/IconStarburstSmall.svg";
import { ReactComponent as IconStarLarge } from "../../common/svgs/IconStarLarge.svg";
import { ReactComponent as IconTableSmall } from "../../common/svgs/IconTableSmall.svg";
import { ReactComponent as IconThumbsDownSmall } from "../../common/svgs/IconThumbsDownSmall.svg";
import { ReactComponent as IconThumbsUpSmall } from "../../common/svgs/IconThumbsUpSmall.svg";
import { ReactComponent as IconTrashCanLarge } from "../../common/svgs/IconTrashCanLarge.svg";
import { ReactComponent as IconTrashCanSmall } from "../../common/svgs/IconTrashCanSmall.svg";
import { ReactComponent as IconTreeDendogramLarge } from "../../common/svgs/IconTreeDendogramLarge.svg";
import { ReactComponent as IconTreeHorizontalLarge } from "../../common/svgs/IconTreeHorizontalLarge.svg";
import { ReactComponent as IconTreeHorizontalPrivateLarge } from "../../common/svgs/IconTreeHorizontalPrivateLarge.svg";
import { ReactComponent as IconTreeHorizontalPublicLarge } from "../../common/svgs/IconTreeHorizontalPublicLarge.svg";
import { ReactComponent as IconTreeHorizontalSmall } from "../../common/svgs/IconTreeHorizontalSmall.svg";
import { ReactComponent as IconTreeHorizontalTopRightFilledLarge } from "../../common/svgs/IconTreeHorizontalTopRightFilledLarge.svg";
import { ReactComponent as IconTreeVerticalSmall } from "../../common/svgs/IconTreeVerticalSmall.svg";
import { ReactComponent as IconTriangleDownSmall } from "../../common/svgs/IconTriangleDownSmall.svg";
import { ReactComponent as IconTriangleLeftSmall } from "../../common/svgs/IconTriangleLeftSmall.svg";
import { ReactComponent as IconTriangleRightSmall } from "../../common/svgs/IconTriangleRightSmall.svg";
import { ReactComponent as IconTriangleUpSmall } from "../../common/svgs/IconTriangleUpSmall.svg";
import { ReactComponent as IconUpdateLarge } from "../../common/svgs/IconUpdateLarge.svg";
import { ReactComponent as IconUploadLarge } from "../../common/svgs/IconUploadLarge.svg";
import { ReactComponent as IconUploadSmall } from "../../common/svgs/IconUploadSmall.svg";
import { ReactComponent as IconVirusCircleSLarge } from "../../common/svgs/IconVirusCircleSLarge.svg";
import { ReactComponent as IconVirusLarge } from "../../common/svgs/IconVirusLarge.svg";
import { ReactComponent as IconWidgetLarge } from "../../common/svgs/IconWidgetLarge.svg";
import { ReactComponent as IconXMarkCircleSmall } from "../../common/svgs/IconXMarkCircleSmall.svg";
import { ReactComponent as IconXMarkLarge } from "../../common/svgs/IconXMarkLarge.svg";
import { ReactComponent as IconXMarkSmall } from "../../common/svgs/IconXMarkSmall.svg";

export interface IconNameToSizes {
  Bacteria: "xs" | "s" | "l" | "xl";
  BarChartHorizontal3: "xs" | "s";
  BarChartVertical3: "xs" | "s";
  BarChartVertical4: "xs" | "s";
  Book: "xs" | "s" | "l" | "xl";
  Check: "xs" | "s";
  CheckCircle: "xs" | "s" | "l" | "xl";
  ChevronDown: "xs" | "s" | "l" | "xl";
  ChevronDown2: "xs" | "s";
  ChevronLeft2: "xs" | "s";
  ChevronLeft: "xs" | "s" | "l" | "xl";
  ChevronRight2: "xs" | "s";
  ChevronRight: "xs" | "s" | "l" | "xl";
  ChevronUp: "xs" | "s" | "l" | "xl";
  ChevronUp2: "xs" | "s";
  CirclesOverlap2: "xs" | "s" | "l" | "xl";
  Code: "xs" | "s" | "l" | "xl";
  Compass: "l" | "xl";
  Copy: "xs" | "s" | "l" | "xl";
  Cube: "xs" | "s" | "l" | "xl";
  DNA: "l" | "xl";
  Document: "xs" | "s";
  DotsHorizontal: "xs" | "s" | "l" | "xl";
  Download: "xs" | "s" | "l" | "xl";
  Edit: "xs" | "s" | "l" | "xl";
  Envelope: "xs" | "s";
  ExclamationMarkCircle: "xs" | "s" | "l" | "xl";
  ExclamationMarkSpeechBubble: "l" | "xl";
  EyeClosed: "xs" | "s";
  EyeOpen: "xs" | "s";
  Filter: "xs" | "s";
  FlagCheck: "xs" | "s";
  FlagOutline: "xs" | "s";
  FlagQuestionMark: "xs" | "s";
  FlagXMark: "xs" | "s";
  Flask: "l" | "xl";
  FlaskPrivate: "l" | "xl";
  FlaskPublic: "l" | "xl";
  Gear: "xs" | "s";
  Github: "xs" | "s";
  Globe: "xs" | "s";
  GlobeBasic: "l" | "xl";
  Grid: "l" | "xl";
  GridDots3: "l" | "xl";
  GridPrivate: "l" | "xl";
  GridPublic: "l" | "xl";
  House: "xs" | "s";
  InfoCircle: "xs" | "s" | "l" | "xl";
  InfoSpeechBubble: "l" | "xl";
  LifeRing: "xs" | "s";
  LightBulb: "xs" | "s" | "l" | "xl";
  LinesDashed3Solid1: "xs" | "s";
  LinesHorizontal3: "xs" | "s" | "l" | "xl";
  Link: "xs" | "s";
  List: "xs" | "s";
  Loading: "xs" | "s" | "l" | "xl";
  Lock: "xs" | "s" | "l" | "xl";
  LockCircle: "xs" | "s";
  Minus: "xs" | "s";
  Open: "xs" | "s";
  Pause: "l" | "xl";
  People: "xs" | "s" | "l" | "xl";
  Percentage: "xs" | "s";
  Person: "xs" | "s" | "l" | "xl";
  Pin: "xs" | "s";
  PinLocation: "xs" | "s";
  Play: "l" | "xl";
  Plus: "xs" | "s";
  PlusCircle: "xs" | "s";
  ProjectPrivate: "l" | "xl";
  ProjectPublic: "l" | "xl";
  PuzzlePiece: "xs" | "s";
  QuestionMark: "l" | "xl";
  QuestionMarkCircle: "xs" | "s";
  Quote: "l" | "xl";
  Read: "l" | "xl";
  Refresh: "xs" | "s" | "l" | "xl";
  Report: "l" | "xl";
  Rocket: "l" | "xl";
  RotateLeft: "xs" | "s";
  RotateRight: "xs" | "s";
  Save: "l" | "xl";
  Scale: "xs" | "s";
  ScatterPlot: "xs" | "s";
  Search: "xs" | "s" | "l" | "xl";
  SearchLinesHorizontal3: "xs" | "s" | "l" | "xl";
  Send: "l" | "xl";
  Share: "l" | "xl";
  SlidersHorizontal: "l" | "xl";
  SpeechBubbles: "l" | "xl";
  SquareOnDashedSquare: "l" | "xl";
  Starburst: "xs" | "s";
  Star: "l" | "xl";
  Table: "xs" | "s";
  ThumbsDown: "xs" | "s";
  ThumbsUp: "xs" | "s";
  TrashCan: "xs" | "s" | "l" | "xl";
  TreeDendogram: "l" | "xl";
  TreeHorizontal: "xs" | "s" | "l" | "xl";
  TreeHorizontalPrivate: "l" | "xl";
  TreeHorizontalPublic: "l" | "xl";
  TreeHorizontalTopRightFilled: "l" | "xl";
  TreeVertical: "xs" | "s";
  TriangleDown: "xs" | "s";
  TriangleLeft: "xs" | "s";
  TriangleRight: "xs" | "s";
  TriangleUp: "xs" | "s";
  Update: "l" | "xl";
  Upload: "l" | "xl";
  Virus: "l" | "xl";
  VirusCircleS: "l" | "xl";
  Widget: "l" | "xl";
  XMark: "xs" | "s" | "l" | "xl";
  XMarkCircle: "xs" | "s";
}

type Props = Record<
  keyof IconNameToSizes,
  {
    largeIcon: FC<CustomSVGProps> | null;
    smallIcon: FC<CustomSVGProps> | null;
  }
>;

export const iconMap: Props = {
  Bacteria: {
    largeIcon: IconBacteriaLarge,
    smallIcon: IconBacteriaSmall,
  },
  BarChartHorizontal3: {
    largeIcon: null,
    smallIcon: IconBarChartHorizontal3Small,
  },
  BarChartVertical3: {
    largeIcon: null,
    smallIcon: IconBarChartVertical3Small,
  },
  BarChartVertical4: {
    largeIcon: null,
    smallIcon: IconBarChartVertical4Small,
  },
  Book: {
    largeIcon: IconBookLarge,
    smallIcon: IconBookSmall,
  },
  Check: {
    largeIcon: null,
    smallIcon: IconCheckSmall,
  },
  CheckCircle: {
    largeIcon: IconCheckCircleLarge,
    smallIcon: IconCheckCircleSmall,
  },
  ChevronDown: {
    largeIcon: IconChevronDownLarge,
    smallIcon: IconChevronDownSmall,
  },
  ChevronDown2: {
    largeIcon: null,
    smallIcon: IconChevronDown2Small,
  },
  ChevronLeft: {
    largeIcon: IconChevronLeftLarge,
    smallIcon: IconChevronLeftSmall,
  },
  ChevronLeft2: {
    largeIcon: null,
    smallIcon: IconChevronLeft2Small,
  },
  ChevronRight: {
    largeIcon: IconChevronRightLarge,
    smallIcon: IconChevronRightSmall,
  },
  ChevronRight2: {
    largeIcon: null,
    smallIcon: IconChevronRight2Small,
  },
  ChevronUp: {
    largeIcon: IconChevronUpLarge,
    smallIcon: IconChevronUpSmall,
  },
  ChevronUp2: {
    largeIcon: null,
    smallIcon: IconChevronUp2Small,
  },
  CirclesOverlap2: {
    largeIcon: IconCirclesOverlap2Large,
    smallIcon: IconCirclesOverlap2Small,
  },
  Code: {
    largeIcon: IconCodeLarge,
    smallIcon: IconCodeSmall,
  },
  Compass: {
    largeIcon: IconCompassLarge,
    smallIcon: null,
  },
  Copy: {
    largeIcon: IconCopyLarge,
    smallIcon: IconCopySmall,
  },
  Cube: {
    largeIcon: IconCubeLarge,
    smallIcon: IconCubeSmall,
  },
  DNA: {
    largeIcon: IconDNALarge,
    smallIcon: null,
  },
  Document: {
    largeIcon: null,
    smallIcon: IconDocumentSmall,
  },
  DotsHorizontal: {
    largeIcon: IconDotsHorizontal3Large,
    smallIcon: IconDotsHorizontal3Small,
  },
  Download: {
    largeIcon: IconDownloadLarge,
    smallIcon: IconDownloadSmall,
  },
  Edit: {
    largeIcon: IconEditLarge,
    smallIcon: IconEditSmall,
  },
  Envelope: {
    largeIcon: null,
    smallIcon: IconEnvelopeSmall,
  },
  ExclamationMarkCircle: {
    largeIcon: IconExclamationMarkCircleLarge,
    smallIcon: IconExclamationMarkCircleSmall,
  },
  ExclamationMarkSpeechBubble: {
    largeIcon: IconExclamationMarkSpeechBubbleLarge,
    smallIcon: null,
  },
  EyeClosed: {
    largeIcon: null,
    smallIcon: IconEyeClosedSmall,
  },
  EyeOpen: {
    largeIcon: null,
    smallIcon: IconEyeOpenSmall,
  },
  Filter: {
    largeIcon: null,
    smallIcon: IconFilterSmall,
  },
  FlagCheck: {
    largeIcon: null,
    smallIcon: IconFlagCheckSmall,
  },
  FlagOutline: {
    largeIcon: null,
    smallIcon: IconFlagOutlineSmall,
  },
  FlagQuestionMark: {
    largeIcon: null,
    smallIcon: IconFlagQuestionMarkSmall,
  },
  FlagXMark: {
    largeIcon: null,
    smallIcon: IconFlagXMarkSmall,
  },
  Flask: {
    largeIcon: IconFlaskLarge,
    smallIcon: null,
  },
  FlaskPrivate: {
    largeIcon: IconFlaskPrivateLarge,
    smallIcon: null,
  },
  FlaskPublic: {
    largeIcon: IconFlaskPublicLarge,
    smallIcon: null,
  },
  Gear: {
    largeIcon: null,
    smallIcon: IconGearSmall,
  },
  Github: {
    largeIcon: null,
    smallIcon: IconGithubSmall,
  },
  Globe: {
    largeIcon: null,
    smallIcon: IconGlobeSmall,
  },
  GlobeBasic: {
    largeIcon: IconGlobeBasicLarge,
    smallIcon: null,
  },
  Grid: {
    largeIcon: IconGridLarge,
    smallIcon: null,
  },
  GridDots3: {
    largeIcon: IconGridDots3Large,
    smallIcon: null,
  },
  GridPrivate: {
    largeIcon: IconGridPrivateLarge,
    smallIcon: null,
  },
  GridPublic: {
    largeIcon: IconGridPublicLarge,
    smallIcon: null,
  },
  House: {
    largeIcon: null,
    smallIcon: IconHouseSmall,
  },
  InfoCircle: {
    largeIcon: IconInfoCircleLarge,
    smallIcon: IconInfoCircleSmall,
  },
  InfoSpeechBubble: {
    largeIcon: IconInfoSpeechBubbleLarge,
    smallIcon: null,
  },
  LifeRing: {
    largeIcon: null,
    smallIcon: IconLifeRingSmall,
  },
  LightBulb: {
    largeIcon: IconLightBulbLarge,
    smallIcon: IconLightBulbSmall,
  },
  LinesDashed3Solid1: {
    largeIcon: null,
    smallIcon: IconLinesDashed3Solid1Small,
  },
  LinesHorizontal3: {
    largeIcon: IconLinesHorizontal3Large,
    smallIcon: IconLinesHorizontal3Small,
  },
  Link: {
    largeIcon: null,
    smallIcon: IconLinkSmall,
  },
  List: {
    largeIcon: null,
    smallIcon: IconListSmall,
  },
  Loading: {
    largeIcon: IconLoadingLarge,
    smallIcon: IconLoadingSmall,
  },
  Lock: {
    largeIcon: IconLockLarge,
    smallIcon: IconLockSmall,
  },
  LockCircle: {
    largeIcon: null,
    smallIcon: IconLockCircleSmall,
  },
  Minus: {
    largeIcon: null,
    smallIcon: IconMinusSmall,
  },
  Open: {
    largeIcon: null,
    smallIcon: IconOpenSmall,
  },
  Pause: {
    largeIcon: IconPauseLarge,
    smallIcon: null,
  },
  People: {
    largeIcon: IconPeopleLarge,
    smallIcon: IconPeopleSmall,
  },
  Percentage: {
    largeIcon: null,
    smallIcon: IconPercentageSmall,
  },
  Person: {
    largeIcon: IconPersonLarge,
    smallIcon: IconPersonSmall,
  },
  Pin: {
    largeIcon: null,
    smallIcon: IconPinSmall,
  },
  PinLocation: {
    largeIcon: null,
    smallIcon: IconPinLocationSmall,
  },
  Play: {
    largeIcon: IconPlayLarge,
    smallIcon: null,
  },
  Plus: {
    largeIcon: null,
    smallIcon: IconPlusSmall,
  },
  PlusCircle: {
    largeIcon: null,
    smallIcon: IconPlusCircleSmall,
  },
  ProjectPrivate: {
    largeIcon: IconProjectPrivateLarge,
    smallIcon: null,
  },
  ProjectPublic: {
    largeIcon: IconProjectPublicLarge,
    smallIcon: null,
  },
  PuzzlePiece: {
    largeIcon: null,
    smallIcon: IconPuzzlePieceSmall,
  },
  QuestionMark: {
    largeIcon: IconQuestionMarkLarge,
    smallIcon: null,
  },
  QuestionMarkCircle: {
    largeIcon: null,
    smallIcon: IconQuestionMarkCircleSmall,
  },
  Quote: {
    largeIcon: IconQuoteLarge,
    smallIcon: null,
  },
  Read: {
    largeIcon: IconReadLarge,
    smallIcon: null,
  },
  Refresh: {
    largeIcon: IconRefreshLarge,
    smallIcon: IconRefreshSmall,
  },
  Report: {
    largeIcon: IconReportLarge,
    smallIcon: null,
  },
  Rocket: {
    largeIcon: IconRocketLarge,
    smallIcon: null,
  },
  RotateLeft: {
    largeIcon: null,
    smallIcon: IconRotateLeftSmall,
  },
  RotateRight: {
    largeIcon: null,
    smallIcon: IconRotateRightSmall,
  },
  Save: {
    largeIcon: IconSaveLarge,
    smallIcon: null,
  },
  Scale: {
    largeIcon: null,
    smallIcon: IconScaleSmall,
  },
  ScatterPlot: {
    largeIcon: null,
    smallIcon: IconScatterPlotSmall,
  },
  Search: {
    largeIcon: IconSearchLarge,
    smallIcon: IconSearchSmall,
  },
  SearchLinesHorizontal3: {
    largeIcon: IconSearchLinesHorizontal3Large,
    smallIcon: IconSearchLinesHorizontal3Small,
  },
  Send: {
    largeIcon: IconSendLarge,
    smallIcon: null,
  },
  Share: {
    largeIcon: IconShareLarge,
    smallIcon: null,
  },
  SlidersHorizontal: {
    largeIcon: IconSlidersHorizontalLarge,
    smallIcon: null,
  },
  SpeechBubbles: {
    largeIcon: IconSpeechBubblesLarge,
    smallIcon: null,
  },
  SquareOnDashedSquare: {
    largeIcon: IconSquareOnDashedSquareLarge,
    smallIcon: null,
  },
  Star: {
    largeIcon: IconStarLarge,
    smallIcon: null,
  },
  Starburst: {
    largeIcon: null,
    smallIcon: IconStarburstSmall,
  },
  Table: {
    largeIcon: null,
    smallIcon: IconTableSmall,
  },
  ThumbsDown: {
    largeIcon: null,
    smallIcon: IconThumbsDownSmall,
  },
  ThumbsUp: {
    largeIcon: null,
    smallIcon: IconThumbsUpSmall,
  },
  TrashCan: {
    largeIcon: IconTrashCanLarge,
    smallIcon: IconTrashCanSmall,
  },
  TreeDendogram: {
    largeIcon: IconTreeDendogramLarge,
    smallIcon: null,
  },
  TreeHorizontal: {
    largeIcon: IconTreeHorizontalLarge,
    smallIcon: IconTreeHorizontalSmall,
  },
  TreeHorizontalPrivate: {
    largeIcon: IconTreeHorizontalPrivateLarge,
    smallIcon: null,
  },
  TreeHorizontalPublic: {
    largeIcon: IconTreeHorizontalPublicLarge,
    smallIcon: null,
  },
  TreeHorizontalTopRightFilled: {
    largeIcon: IconTreeHorizontalTopRightFilledLarge,
    smallIcon: null,
  },
  TreeVertical: {
    largeIcon: null,
    smallIcon: IconTreeVerticalSmall,
  },
  TriangleDown: {
    largeIcon: null,
    smallIcon: IconTriangleDownSmall,
  },
  TriangleLeft: {
    largeIcon: null,
    smallIcon: IconTriangleLeftSmall,
  },
  TriangleRight: {
    largeIcon: null,
    smallIcon: IconTriangleRightSmall,
  },
  TriangleUp: {
    largeIcon: null,
    smallIcon: IconTriangleUpSmall,
  },
  Update: {
    largeIcon: IconUpdateLarge,
    smallIcon: null,
  },
  Upload: {
    largeIcon: IconUploadLarge,
    smallIcon: IconUploadSmall,
  },
  Virus: {
    largeIcon: IconVirusLarge,
    smallIcon: null,
  },
  VirusCircleS: {
    largeIcon: IconVirusCircleSLarge,
    smallIcon: null,
  },
  Widget: {
    largeIcon: IconWidgetLarge,
    smallIcon: null,
  },
  XMark: {
    largeIcon: IconXMarkLarge,
    smallIcon: IconXMarkSmall,
  },
  XMarkCircle: {
    largeIcon: null,
    smallIcon: IconXMarkCircleSmall,
  },
};
</file>

<file path="packages/components/src/core/Icon/style.ts">
import { css } from "@emotion/react";
import { SvgIcon, SvgIconProps } from "@mui/material";
import styled from "@emotion/styled";
import { FC } from "react";
import {
  CommonThemeProps,
  getColors,
  getIconSizes,
  getMode,
} from "src/core/styles";
import { IconNameToSizes } from "./map";

export interface IconExtraProps<IconName extends keyof IconNameToSizes>
  extends CommonThemeProps {
  className?: string;
  sdsIcon: IconName;
  sdsSize: IconNameToSizes[IconName];
}

export type SdsIconColorType =
  | "blue"
  | "gray"
  | "green"
  | "purple"
  | "red"
  | "yellow";

interface SdsIconWithColor {
  iconColor?: SdsIconColorType;
  shade?: 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800;
}

export type StyledSvgIconProps<IconName extends keyof IconNameToSizes> =
  IconExtraProps<IconName> &
    CustomSVGProps &
    SvgIconProps<"svg", { component: FC<CustomSVGProps> }> &
    SdsIconWithColor;

const doNotForwardProps = ["sdsIcon", "sdsSize", "iconColor"];

/**
 * @see https://mui.com/material-ui/icons/#svgicon
 */

export const StyledSvgIcon = styled(SvgIcon, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${<IconName extends keyof IconNameToSizes>(
    props: StyledSvgIconProps<IconName>
  ) => {
    const mode = getMode(props);

    const {
      iconColor = "blue",
      shade = mode === "dark" ? 600 : 500,
      sdsSize,
    } = props;

    const iconSizes = getIconSizes(props);
    const colors = getColors(props);

    return css`
      color: ${colors?.[iconColor]?.[shade]};
      height: ${iconSizes?.[sdsSize]?.height}px;
      width: ${iconSizes?.[sdsSize]?.width}px;
    `;
  }}
`;

export const StyledIcon = styled("div")`
  /* display: contents causes an element's children to appear as if they were direct children of the element's parent, ignoring the element itself. This can be useful when a wrapper element should be ignored when using CSS grid or similar layout techniques. */
  display: contents;
`;
</file>

<file path="packages/components/src/core/InputCheckbox/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import { useState } from "react";
import RawInputCheckbox from "src/core/InputCheckbox";

export const InputCheckbox = (props: Args): JSX.Element => {
  const { disabled } = props;
  const [checked, setChecked] = useState(true);

  const handleChange = () => setChecked((prevState) => !prevState);

  return (
    <RawInputCheckbox
      disabled={disabled}
      onChange={handleChange}
      stage={checked ? "unchecked" : "checked"}
      {...props}
    />
  );
};
</file>

<file path="packages/components/src/core/InputCheckbox/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import { INPUT_CHECKBOX_TEST_STYLES } from "../constants";
import { InputCheckbox } from "./default";
import RawInputCheckbox from "src/core/InputCheckbox";

const CheckboxLabelDemo = (props: Args): JSX.Element => {
  const { caption, label, disabled } = props;
  return (
    <div>
      <RawInputCheckbox
        caption={caption}
        label={label}
        disabled={disabled}
        value="Demo"
        {...props}
      />
    </div>
  );
};

export const TestDemo = (): JSX.Element => {
  return (
    <div style={INPUT_CHECKBOX_TEST_STYLES as React.CSSProperties}>
      <div>
        <CheckboxLabelDemo
          caption="Caption"
          label="Label A"
          disabled={false}
          data-testid="labelCheckbox"
        />
      </div>
      <div>
        <InputCheckbox data-testid="checkbox" label="Label" />
      </div>
    </div>
  );
};
</file>

<file path="packages/components/src/core/InputCheckbox/__storybook__/constants.ts">
export const INPUT_CHECKBOX_EXCLUDED_CONTROLS = [
  "caption",
  "label",
  "stage",
  "disabled",
  "intent",
  "id",
];

export const INPUT_CHECKBOX_TEST_ID = "test-story";

export const INPUT_CHECKBOX_LIVE_PREVIEW_STYLES = {
  display: "grid",
  gridColumnGap: "24px",
  gridRowGap: "50px",
  gridTemplateColumns: "repeat(4, 180px)",
};

export const INPUT_CHECKBOX_TEST_STYLES = {
  display: "grid",
  gridColumnGap: "10px",
  gridRowGap: "0px",
  gridTemplateColumns: "repeat(2, 100px)",
  gridTemplateRows: "1fr",
};
</file>

<file path="packages/components/src/core/InputCheckbox/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { InputCheckbox } from "./stories/default";
import {
  INPUT_CHECKBOX_EXCLUDED_CONTROLS,
  INPUT_CHECKBOX_TEST_ID,
} from "./constants";
import { TestDemo } from "./stories/test";
import { BADGE } from "src/common/storybook/storybookBadges";

export default {
  argTypes: {
    caption: {
      control: { type: "text" },
    },
    disabled: {
      control: { type: "boolean" },
    },
    intent: {
      control: { type: "radio" },
      options: ["default", "negative", "notice", "positive"],
    },
    label: {
      control: { type: "text" },
    },
    stage: {
      control: {
        type: "radio",
      },
      options: ["checked", "unchecked", "indeterminate"],
    },
  },
  component: InputCheckbox,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Inputs/InputCheckbox",
} as Meta;

// Default

export const Default = {
  args: {
    caption: "Caption",
    intent: "default",
    label: "Label",
  },
};

// Test

export const Test = {
  args: {
    id: INPUT_CHECKBOX_TEST_ID,
  },
  parameters: {
    controls: {
      exclude: INPUT_CHECKBOX_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} data-testid="input-checkbox" />,
};
</file>

<file path="packages/components/src/core/InputCheckbox/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<InputCheckbox /> Default story renders snapshot 1`] = `
<label
  class="MuiFormControlLabel-root MuiFormControlLabel-labelPlacementEnd css-175tvrr-MuiFormControlLabel-root"
>
  <span
    class="MuiButtonBase-root MuiCheckbox-root MuiCheckbox-colorDefault MuiCheckbox-sizeMedium PrivateSwitchBase-root MuiCheckbox-root MuiCheckbox-colorDefault MuiCheckbox-sizeMedium MuiCheckbox-root MuiCheckbox-colorDefault MuiCheckbox-sizeMedium css-5zzv6g-MuiButtonBase-root-MuiCheckbox-root"
    intent="default"
  >
    <input
      class="PrivateSwitchBase-input css-1m9pwf3"
      data-indeterminate="false"
      type="checkbox"
    />
    <span
      class="css-b0i02f"
      font-size="medium"
    />
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </span>
  <span
    class="MuiTypography-root MuiTypography-body1 MuiFormControlLabel-label css-ahj2mt-MuiTypography-root"
  >
    <span
      class="css-1ddu512"
    >
      <span
        class="css-1dr5e88"
      >
        Label
      </span>
      <span
        class="css-1mg4zid"
      >
        Caption
      </span>
    </span>
  </span>
</label>
`;
</file>

<file path="packages/components/src/core/InputCheckbox/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<InputCheckbox />", () => {
  generateSnapshots(stories);

  it("renders checkbox component", () => {
    render(<Test {...Test.args} />);
    const checkboxElement = screen.getByTestId("checkbox");
    expect(checkboxElement).not.toBeNull();
  });

  it("renders checkbox with label component", () => {
    render(<Test {...Test.args} />);
    const checkboxElement = screen.getByTestId("labelCheckbox");
    expect(checkboxElement).not.toBeNull();
  });

  it("renders checkbox with caption", () => {
    render(<Test {...Test.args} />);
    const captionElement = screen.findAllByText("Caption");
    expect(captionElement).not.toBeNull();
  });
});
</file>

<file path="packages/components/src/core/InputCheckbox/__tests__/InputCheckbox.namespace-test.tsx">
import { CheckboxProps, InputCheckbox } from "@czi-sds/components";
import { FormControlLabel } from "@mui/material";
import React from "react";
import { noop } from "src/common/utils";

const InputCheckboxNameSpaceTest = (props: CheckboxProps) => {
  return (
    <FormControlLabel
      control={
        <InputCheckbox
          data-testid="checkbox"
          disabled={false}
          onChange={noop}
          stage="unchecked"
        />
      }
      label="Label"
    />
  );
};
</file>

<file path="packages/components/src/core/InputCheckbox/index.tsx">
import { CheckboxProps as MUICheckboxProps } from "@mui/material";
import {
  CheckboxExtraProps,
  StyledCheckbox,
  StyledCheckboxCaption,
  StyledCheckboxCheckedIcon,
  StyledCheckboxDefaultIcon,
  StyledCheckboxLabel,
  StyledFormControlLabel,
  StyledIcon,
  StyledLabelContainer,
} from "./styles";

interface CheckboxContentProps
  extends Omit<MUICheckboxProps, "color" | "defaultChecked" | "indeterminate"> {
  caption?: string;
  checkboxProps?: Partial<MUICheckboxProps>;
  intent?: "default" | "negative" | "notice" | "positive";
  label?: React.ReactNode;
  stage?: "checked" | "unchecked" | "indeterminate";
}

export type CheckboxProps = CheckboxContentProps & CheckboxExtraProps;

/**
 * @see https://mui.com/material-ui/react-checkbox/
 */
const InputCheckbox = (props: CheckboxProps): JSX.Element => {
  const {
    caption,
    checkboxProps,
    disabled,
    intent = "default",
    label,
    stage,
    value,
    ...rest
  } = props;

  let newProps: MUICheckboxProps;
  switch (stage) {
    case "checked":
      newProps = {
        ...rest,
        checked: true,
        color: "primary",
      };
      break;
    case "unchecked":
      newProps = {
        ...rest,
        checked: false,
        color: "default",
      };
      break;
    case "indeterminate":
      newProps = {
        ...rest,
        checked: true,
        color: "primary",
        indeterminate: true,
      };
      break;
    default:
      newProps = rest;
  }

  const finalLabel = caption ? (
    <StyledLabelContainer>
      <StyledCheckboxLabel>{label}</StyledCheckboxLabel>
      <StyledCheckboxCaption>{caption}</StyledCheckboxCaption>
    </StyledLabelContainer>
  ) : (
    <StyledLabelContainer>
      <StyledCheckboxLabel>{label}</StyledCheckboxLabel>
    </StyledLabelContainer>
  );

  return (
    <StyledFormControlLabel
      control={
        <StyledCheckbox
          // disabled={disabled}
          checkedIcon={
            <StyledCheckboxCheckedIcon>
              <StyledIcon sdsIcon="Check" sdsSize="xs" />
            </StyledCheckboxCheckedIcon>
          }
          icon={<StyledCheckboxDefaultIcon intent={intent} />}
          indeterminateIcon={
            <StyledCheckboxCheckedIcon>
              <StyledIcon sdsIcon="Minus" sdsSize="xs" />
            </StyledCheckboxCheckedIcon>
          }
          intent={intent}
          {...checkboxProps}
          {...newProps}
        />
      }
      disabled={disabled}
      label={finalLabel}
      value={value}
    />
  );
};

export default InputCheckbox;
</file>

<file path="packages/components/src/core/InputCheckbox/styles.ts">
import {
  FormControlLabel,
  Checkbox as RawCheckbox,
  checkboxClasses,
} from "@mui/material";
import styled from "@emotion/styled";
import { focusVisibleA11yStyle } from "src/core/styles/common/mixins/a11y";
import {
  CommonThemeProps,
  getBorders,
  getIconSizes,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";
import { SDSPalette, fontBodyXs, fontBodyXxs } from "../styles";
import Icon from "../Icon";

export interface CheckboxExtraProps extends CommonThemeProps {
  intent?: "default" | "negative" | "notice" | "positive";
  disabled?: boolean;
}

const intentToColor = {
  default: "base",
  negative: "negative",
  notice: "notice",
  positive: "positive",
};

export const StyledIcon = styled(Icon)`
  ${(props: CheckboxExtraProps) => {
    const iconSizes = getIconSizes(props);

    return `
      height: ${iconSizes?.xs.height}px;
      width: ${iconSizes?.xs.width}px;
    `;
  }}
`;

export const StyledCheckboxDefaultIcon = styled("span")`
  ${(props: CheckboxExtraProps) => {
    const { intent = "default" } = props;

    const iconSizes = getIconSizes(props);
    const borders = getBorders(props);

    const borderColor = intentToColor[intent] as keyof SDSPalette;

    return `
      height: ${iconSizes?.s.height}px;
      width: ${iconSizes?.s.width}px;
      border: ${borders?.[borderColor]?.default};
      border-radius: 2px;
    `;
  }}
`;

export const StyledCheckboxCheckedIcon = styled("div")`
  ${(props: CheckboxExtraProps) => {
    const iconSizes = getIconSizes(props);
    const semanticColors = getSemanticColors(props);

    return `
      display: flex;
      align-items: center;
      justify-content: center;
      height: ${iconSizes?.s.height}px;
      width: ${iconSizes?.s.width}px;
      border-radius: 2px;
      background-color: ${semanticColors?.accent?.ornament};

      ${StyledIcon} {
        fill: ${semanticColors?.base?.ornamentPrimaryInverse};
      }

      &:hover {
        background-color: red;
      }
    `;
  }}
`;

export const StyledCheckbox = styled(RawCheckbox)`
  ${(props: CheckboxExtraProps) => {
    const spaces = getSpaces(props);

    return `
      &.${checkboxClasses.root} {
        ${focusVisibleA11yStyle(props)}
        
        padding: 0;
        margin-right: ${spaces?.s}px;
        border-radius: 0;

        &:hover {
          background-color: transparent;
        }
      }
    `;
  }}
`;

export const StyledLabelContainer = styled("span")`
  display: flex;
  justify-content: start;
  flex-direction: column;
`;

export const StyledCheckboxLabel = styled("span")`
  ${fontBodyXs}

  ${(props: CheckboxExtraProps) => {
    const spaces = getSpaces(props);

    return `
      margin-top: -${spaces?.xxxs}px !important;
    `;
  }}
`;

export const StyledCheckboxCaption = styled("span")`
  ${fontBodyXxs}

  ${(props: CheckboxExtraProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textSecondary};
    `;
  }}
`;

const disabledStyles = (props: CheckboxExtraProps) => {
  const semanticColors = getSemanticColors(props);
  const borders = getBorders(props);

  return `
    user-select: none;

    ${StyledCheckboxDefaultIcon} {
      border: ${borders?.base?.disabled};
    }

    ${StyledCheckboxCheckedIcon} {
      background-color: ${semanticColors?.base?.ornamentDisabled};
    }

    ${StyledCheckboxCaption} {
      color: ${semanticColors?.base?.textDisabled};
    }

    &:hover, &:active {
      ${StyledCheckboxDefaultIcon} {
        border: ${borders?.base?.disabled};
      }

      ${StyledCheckboxCheckedIcon} {
        background-color: ${semanticColors?.base?.ornamentDisabled};
      }
    }
  `;
};

export const StyledFormControlLabel = styled(FormControlLabel)`
  ${(props: CheckboxExtraProps) => {
    const { disabled } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);
    const borders = getBorders(props);

    return `
      align-items: start;
      margin-bottom: ${spaces?.l}px;
      margin-left: 0;
      margin-right: 0;
      width: fit-content;

      &:hover {
        ${StyledCheckboxDefaultIcon} {
          border: ${borders?.base?.hover};
        }

        ${StyledCheckboxCheckedIcon} {
          background-color: ${semanticColors?.accent?.fillHover};
        }
      }

      &:active {
        ${StyledCheckboxDefaultIcon} {
          border: ${borders?.base?.pressed};
        }

        ${StyledCheckboxCheckedIcon} {
          background-color: ${semanticColors?.accent?.fillPressed};
        }
      }

      ${disabled && disabledStyles(props)}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/InputDropdown/__storybook__/stories/default.tsx">
import { AutocompleteValue } from "@mui/base";
import { Args } from "@storybook/react";
import { useEffect, useState } from "react";
import { DefaultAutocompleteOption } from "src/core/Autocomplete";
import Callout from "src/core/Callout";
import DropdownMenu from "src/core/DropdownMenu";
import RawInputDropdown from "src/core/InputDropdown";

type DisableClearable = false;
type FreeSolo = false;

export const InputDropdown = <
  T extends DefaultAutocompleteOption,
  Multiple extends boolean | undefined,
>(
  props: Args
): JSX.Element => {
  const {
    disabled,
    label,
    sdsStyle,
    multiple,
    value: propValue,
    sdsType,
    ...rest
  } = props;

  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);
  const [open, setOpen] = useState(false);
  const [counter, setCounter] = useState<string>();
  const [inputDropdownValue, setInputDropdownValue] = useState<string>();
  const [inputDropdownDetails, setInputDropdownDetails] = useState<string>();
  const [invalid, setInvalid] = useState(false);
  const [storybookLabel, setStorybookLabel] = useState("Label");

  const [value, setValue] = useState<
    AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  >(null as AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>);

  const isControlled = propValue !== undefined;

  useEffect(() => {
    if (isControlled) {
      setValue(propValue);
    }
  }, [propValue, isControlled]);

  useEffect(() => {
    if (sdsType === "value" && multiple) {
      setInvalid(true);
    } else {
      setInvalid(false);
    }
  }, [multiple, sdsType]);

  useEffect(() => {
    if (sdsType === "value") {
      setStorybookLabel("Value");
    } else {
      setStorybookLabel(label);
    }
  }, [label, sdsType]);

  const handleClick = (event: React.MouseEvent<HTMLElement>) => {
    if (open) {
      setOpen(false);

      if (anchorEl) {
        anchorEl.focus();
      }

      setAnchorEl(null);
    } else {
      setAnchorEl(event.currentTarget);
      setOpen(true);
    }
  };

  const handleChange = (
    _: React.SyntheticEvent<Element, Event>,
    newValue: AutocompleteValue<T, Multiple, DisableClearable, FreeSolo>
  ) => {
    if (!multiple) {
      setOpen(false);
      setValue(newValue);
      setCounter(undefined);

      if (newValue && !Array.isArray(newValue)) {
        setInputDropdownValue(newValue.name);
        if (newValue?.details) setInputDropdownDetails(newValue.details);
        else setInputDropdownDetails(undefined);
      } else {
        setInputDropdownValue(undefined);
        setInputDropdownDetails(undefined);
      }
    } else {
      setValue(newValue);
      setCounter((newValue as T[])?.length.toString());
    }
  };

  const handleClose = () => {};

  const handleClickAway = () => {
    if (open) {
      setOpen(false);
    }
  };

  const options = [
    {
      details: "Details",
      name: "Menu Item 1",
    },
    {
      details: "A very long Details for the second Menu Item",
      name: "Menu Item 2",
    },
    {
      name: "Menu Item 3",
    },
  ];

  return (
    <div>
      {invalid ? (
        <Callout
          autoDismiss={false}
          intent="negative"
          title="Invalid props!"
          body='When using the InputDropdown component, please note that the combination of setting the sdsType prop to "value" and the multiple prop to "true" is not allowed.'
        />
      ) : (
        <RawInputDropdown
          disabled={disabled}
          label={storybookLabel}
          onClick={handleClick}
          state={open ? "open" : "default"}
          sdsStyle={sdsStyle}
          sdsType={sdsType}
          multiple={multiple}
          details={inputDropdownDetails}
          value={inputDropdownValue}
          counter={counter}
          data-testid="InputDropdown"
          {...rest}
        />
      )}

      <DropdownMenu
        open={open}
        anchorEl={anchorEl}
        onClose={handleClose}
        onChange={handleChange}
        search={false}
        multiple={multiple}
        disableCloseOnSelect={multiple}
        options={options as T[]}
        value={value}
        onClickAway={handleClickAway}
        width={300}
      />
    </div>
  );
};
</file>

<file path="packages/components/src/core/InputDropdown/__storybook__/constants.ts">
export const INPUT_DROPDOWN_EXCLUDED_CONTROLS = [
  "fullWidth",
  "counter",
  "disabled",
  "intent",
  "label",
  "multiple",
  "sdsStyle",
  "sdsType",
  "shouldPutAColonAfterLabel",
  "shouldTruncateMinimalDetails",
  "width",
];

export const INPUT_DROPDOWN_LIVE_PREVIEW_ROW_STYLES = {
  // lprins: This prevents InputDropdown component from stretching height in grid
  alignItems: "start",
  display: "flex",
};
</file>

<file path="packages/components/src/core/InputDropdown/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { InputDropdown } from "./stories/default";
import { INPUT_DROPDOWN_EXCLUDED_CONTROLS } from "./constants";

export default {
  argTypes: {
    counter: {
      control: {
        type: "number",
      },
    },
    disabled: {
      control: {
        type: "boolean",
      },
    },
    intent: {
      control: {
        type: "radio",
      },
      options: ["default", "negative", "notice", "positive"],
    },
    label: {
      control: {
        type: "text",
      },
    },
    multiple: {
      control: {
        type: "boolean",
      },
    },
    sdsStyle: {
      control: {
        type: "select",
      },
      options: ["square", "rounded", "minimal"],
    },
    sdsType: {
      control: {
        type: "radio",
      },
      options: ["label", "value"],
    },
    shouldPutAColonAfterLabel: {
      control: {
        type: "boolean",
      },
    },
    shouldTruncateMinimalDetails: {
      control: {
        type: "boolean",
      },
    },
    style: {
      control: {
        type: "object",
      },
    },
    width: {
      control: {
        type: "number",
      },
    },
  },
  component: InputDropdown,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Inputs/InputDropdown",
} as Meta;

// Default

export const Default = {
  args: {
    disabled: false,
    label: "Label",
    sdsStyle: "square",
  },
};

// Test

export const Test = {
  args: {
    disabled: false,
    label: "Label",
    multiple: false,
    sdsStyle: "square",
  },
  parameters: {
    controls: {
      exclude: INPUT_DROPDOWN_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <InputDropdown {...args} />,
};
</file>

<file path="packages/components/src/core/InputDropdown/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<InputDropdown /> Default story renders snapshot 1`] = `
<div>
  <button
    aria-label="Dropdown input"
    class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-1p7a1s5-MuiButtonBase-root-MuiButton-root"
    data-testid="InputDropdown"
    label="Label"
    tabindex="0"
    type="button"
  >
    <span
      class="css-18dv0oe"
    >
      <span
        class="styled-label css-1ubkbz8"
      >
        Label
      </span>
      <span
        class="css-1qt6g1x"
      >
        <div
          class="css-1ft6wgl"
        >
          <svg
            aria-hidden="true"
            class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
            data-file-name="IconChevronDownSmall"
            data-testid="IconChevronDownSmall"
            fillcontrast="white"
            focusable="false"
            height="16"
            viewBox="0 0 16 16"
            width="16"
          />
        </div>
      </span>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
</div>
`;
</file>

<file path="packages/components/src/core/InputDropdown/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<InputDropdown />", () => {
  generateSnapshots(stories);

  it("renders InputDropdown component", () => {
    render(<Test {...Test.args} />);
    const InputDropdownElement = screen.getByTestId("InputDropdown");
    expect(InputDropdownElement).not.toBeNull();
  });

  it("opens the menu on click", () => {
    render(<Test {...Test.args} />);
    const InputDropdownElement = screen.getByTestId("InputDropdown");
    fireEvent.click(InputDropdownElement);
    expect(screen.getAllByText("Menu Item 1")).not.toBeNull();
  });
});
</file>

<file path="packages/components/src/core/InputDropdown/__tests__/InputDropdown.namespace-test.tsx">
import { InputDropdown, InputDropdownProps } from "@czi-sds/components";
import { noop } from "src/common/utils";

const InputDropdownNameSpaceTest = (props: InputDropdownProps) => {
  return (
    <InputDropdown
      disabled={false}
      label="Label"
      onClick={noop}
      sdsStyle="minimal"
      multiple={false}
      sdsType="label"
      counter="2"
      details="Details"
      intent="notice"
      shouldPutAColonAfterLabel
    />
  );
};
</file>

<file path="packages/components/src/core/InputDropdown/index.tsx">
import Icon from "src/core/Icon";
import {
  IconWrapper,
  LabelWrapper,
  MinimalDetails,
  InputDropdownProps as SdsInputDropdownProps,
  StyledCounter,
  StyledDetail,
  StyledInputDropdown,
  StyledLabel,
} from "./style";

export type InputDropdownProps = SdsInputDropdownProps;

/**
 * @see https://mui.com/material-ui/react-button/
 */
const InputDropdown = (props: InputDropdownProps): JSX.Element => {
  const {
    label,
    multiple = false,
    sdsStyle,
    sdsType = "label",
    details,
    counter,
    shouldTruncateMinimalDetails,
    shouldPutAColonAfterLabel = true,
    value,
  } = props;

  const isMinimal = sdsStyle === "minimal";

  const shouldRenderDetails = !multiple && (details || value) && !isMinimal;
  const shouldRenderInlineMinimalDetails =
    isMinimal && sdsType === "value" && !multiple;
  const shouldRenderMinimalDetails = isMinimal && sdsType === "label";
  const shouldRenderCounter =
    multiple && counter !== undefined && counter !== "0" && !isMinimal;

  return (
    <StyledInputDropdown {...props} aria-label="Dropdown input">
      <LabelWrapper isMinimal={isMinimal}>
        <StyledLabel
          className="styled-label"
          details={details}
          counter={counter}
          sdsType={sdsType}
        >
          {renderLabelText({
            counter,
            details,
            isMinimal,
            label,
            multiple,
            sdsType,
            shouldPutAColonAfterLabel,
            value,
          })}
        </StyledLabel>
        {shouldRenderDetails && (
          <StyledDetail>
            {renderDetailsText({ details, sdsType, value })}
          </StyledDetail>
        )}
        {shouldRenderInlineMinimalDetails && (
          <StyledDetail>
            {renderDetailsText({ details, sdsType, value })}
          </StyledDetail>
        )}
        {shouldRenderCounter && <StyledCounter>{counter}</StyledCounter>}
        <IconWrapper>
          <Icon sdsIcon="ChevronDown" sdsSize="xs" />
        </IconWrapper>
      </LabelWrapper>

      {shouldRenderMinimalDetails && (
        <MinimalDetails
          shouldTruncateMinimalDetails={shouldTruncateMinimalDetails}
        >
          {renderDetailsText({ details, sdsType, value })}
        </MinimalDetails>
      )}
    </StyledInputDropdown>
  );
};

interface RenderLabelTextProps {
  counter: InputDropdownProps["counter"];
  details: InputDropdownProps["details"];
  isMinimal: boolean;
  label: InputDropdownProps["label"];
  multiple: InputDropdownProps["multiple"];
  shouldPutAColonAfterLabel: InputDropdownProps["shouldPutAColonAfterLabel"];
  sdsType: InputDropdownProps["sdsType"];
  value: InputDropdownProps["value"];
}

function renderLabelText(props: RenderLabelTextProps) {
  const { sdsType } = props;

  if (sdsType === "label") {
    return renderLabelTypeLabelText(props);
  }

  if (sdsType === "value") {
    return renderValueTypeLabelText(props);
  }

  return null;
}

function renderLabelTypeLabelText({
  isMinimal,
  label,
  counter,
  value,
  shouldPutAColonAfterLabel,
}: RenderLabelTextProps) {
  if (isMinimal) return label;

  return (counter || value) && shouldPutAColonAfterLabel ? `${label}:` : label;
}

function renderValueTypeLabelText({
  value,
  multiple,
  isMinimal,
  label,
  counter,
  details,
  shouldPutAColonAfterLabel,
}: RenderLabelTextProps) {
  if (!value || multiple) {
    if (isMinimal) return label;

    return counter && shouldPutAColonAfterLabel ? `${label}:` : label;
  }

  if (isMinimal) return value;

  return (counter || details) && shouldPutAColonAfterLabel
    ? `${value}:`
    : value;
}

function renderDetailsText({
  details,
  sdsType,
  value,
}: {
  details: InputDropdownProps["details"];
  sdsType: InputDropdownProps["sdsType"];
  value: InputDropdownProps["value"];
}) {
  if (sdsType === "label" && value) {
    return value;
  } else if (sdsType === "value") {
    return details;
  }
}

export default InputDropdown;
</file>

<file path="packages/components/src/core/InputDropdown/style.ts">
import { css, SerializedStyles } from "@emotion/react";
import { ButtonProps } from "@mui/material";
import styled from "@emotion/styled";
import { ReactNode } from "react";
import Button from "src/core/Button";
import {
  CommonThemeProps,
  focusVisibleA11yStyle,
  fontBody,
  getBorders,
  getCorners,
  getFontWeights,
  getSemanticColors,
  getSpaces,
  SDSPalette,
} from "src/core/styles";

const doNotForwardProps = [
  "intent",
  "state",
  "sdsType",
  "isMinimal",
  "shouldTruncateMinimalDetails",
  "shouldPutAColonAfterLabel",
  "value",
  "sdsStyle",
];

type IntentType = "negative" | "notice" | "positive";

const intentToColor = {
  default: "accent",
  negative: "negative",
  notice: "notice",
  positive: "positive",
};

export interface InputDropdownProps
  extends CommonThemeProps,
    Omit<ButtonProps, (typeof doNotForwardProps)[number]> {
  children?: ReactNode;
  disabled?: boolean;
  intent?: "default" | IntentType;
  label: ReactNode;
  onClick: (event: React.MouseEvent<HTMLElement>) => void;
  state?: "default" | "open";
  sdsStyle?: "minimal" | "square" | "rounded";
  sdsType?: "label" | "value";
  multiple?: boolean;
  details?: ReactNode;
  counter?: ReactNode;
  value?: ReactNode;
  shouldTruncateMinimalDetails?: boolean;
  shouldPutAColonAfterLabel?: boolean;
  width?: number;
  className?: string;
  // (masoudmanson): This is a temporary fix for the issue where the style prop
  // is not correctly passed to the underlying Button component when asserting as
  // a React.ComponentType<InputDropdownProps>. This is a workaround until a more
  // permanent solution is implemented.
  style?: React.CSSProperties;
}

const labelFontBodyS = fontBody("s", "regular");
const labelFontBodyXs = fontBody("xs", "regular");

const inputDropdownStyles = (props: InputDropdownProps): SerializedStyles => {
  const { width = "auto" } = props;

  const spaces = getSpaces(props);
  const borders = getBorders(props);
  const semanticColors = getSemanticColors(props);

  /**
   * (masoudmanson)
   * The top/bottom padding is set to 1px less than the actual value to account for the border.
   */
  const padding = `${(spaces?.xs ?? 6) - 1}px ${spaces?.xs}px`;

  return css`
    ${labelStyle(props)}

    border: ${borders?.base?.default};
    box-shadow: none !important;
    cursor: pointer;
    padding: ${padding};
    justify-content: start;
    width: ${width}px;

    &.MuiButton-text {
      &:hover {
        color: ${semanticColors?.base?.textPrimary};
      }

      .styled-label {
        margin-left: ${spaces?.s}px;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
      }

      svg {
        margin-right: ${spaces?.s}px;
        margin-left: ${spaces?.l}px;
      }
    }

    path {
      fill: ${semanticColors?.base?.ornamentSecondary};
    }

    &:hover {
      background-color: transparent;
      border: ${borders?.base?.hover};
      color: ${semanticColors?.base?.textPrimary};

      path {
        fill: ${semanticColors?.base?.ornamentSecondaryHover};
      }

      .styled-label {
        color: ${semanticColors?.base?.textPrimary};
      }
    }

    &:active {
      background-color: transparent;
      border: ${borders?.base?.pressed};
      color: ${semanticColors?.base?.textPrimary};

      path {
        fill: ${semanticColors?.base?.ornamentSecondaryPressed};
      }
    }

    &:focus {
      background-color: transparent;
      outline-offset: -1px;
    }
  `;
};

const minimal = (props: InputDropdownProps): SerializedStyles => {
  const spaces = getSpaces(props);
  const semanticColors = getSemanticColors(props);

  return css`
    ${labelStyle(props)}
    ${focusVisibleA11yStyle(props)}

    /* this is needed to left align the label text */
    align-items: flex-start;
    border: none !important;
    flex-direction: column;
    padding: ${spaces?.xs}px ${spaces?.s}px;
    background-color: transparent;
    min-width: auto;
    /* Nesting to increase CSS specificity for style override */
    &.MuiButton-text {
      .styled-label {
        margin: 0;
      }
    }

    span {
      color: ${semanticColors?.base?.textSecondary};
    }

    path {
      fill: ${semanticColors?.base?.ornamentSecondary};
    }

    &:hover {
      background-color: ${semanticColors?.base?.fillHover};
      border: none;
      color: ${semanticColors?.base?.textPrimary};

      path {
        fill: ${semanticColors?.base?.ornamentSecondaryHover};
      }

      .styled-label {
        color: ${semanticColors?.base?.textPrimary};
      }
    }

    &:active {
      background-color: ${semanticColors?.base?.fillHover};
      border: none;
    }

    &.MuiButton-root.MuiButton-text > span {
      ${labelFontBodyS(props)}
      margin-left: 0;
    }

    &.MuiButton-root.MuiButton-text svg {
      margin-left: ${spaces?.xs}px;
      margin-right: 0;
    }
  `;
};

const square = (props: InputDropdownProps): SerializedStyles => {
  const corners = getCorners(props);

  return css`
    border-radius: ${corners?.m}px;
    min-width: auto;
    background-color: transparent;
  `;
};

const rounded = (props: InputDropdownProps): SerializedStyles => {
  const corners = getCorners(props);

  return css`
    border-radius: ${corners?.l}px;
    min-width: auto;
    background-color: transparent;
  `;
};

const userInput = (props: InputDropdownProps): SerializedStyles => {
  const { sdsStyle } = props;
  const semanticColors = getSemanticColors(props);

  return css`
    & .styled-label {
      color: ${semanticColors?.base?.textPrimary};
    }

    &.MuiButton-text {
      .styled-label {
        color: ${semanticColors?.base?.textPrimary};
      }
    }

    ${sdsStyle === "minimal"
      ? `
        border: none;
        color: ${semanticColors?.base?.textPrimary};

        .styled-label {
          color: ${semanticColors?.base?.textPrimary};
        }
      `
      : ""}
  `;
};

const isOpen = (props: InputDropdownProps): SerializedStyles => {
  const { sdsStyle, intent = "default" } = props;

  const borders = getBorders(props);
  const semanticColors = getSemanticColors(props);

  const inputColor = intentToColor[intent] as keyof Pick<
    SDSPalette,
    "negative" | "notice" | "positive" | "accent"
  >;

  return css`
    &.MuiButton-text {
      .styled-label {
        color: ${semanticColors?.base?.textPrimary};
      }
    }

    ${sdsStyle === "minimal"
      ? `
        & > span, 
        &:hover > span { 
          color: ${semanticColors?.base?.textPrimary}; 
        }

        color: ${semanticColors?.base?.textPrimary}; 
      `
      : ""}

    path {
      fill: ${inputColor === "accent"
        ? semanticColors?.accent?.ornamentOpen
        : semanticColors?.[inputColor]?.ornament};
    }

    border: ${sdsStyle === "minimal"
      ? borders?.none
      : borders?.[inputColor]?.open};

    background-color: ${sdsStyle === "minimal"
      ? semanticColors?.base?.fillOpen
      : "transparent"};

    &:hover {
      path {
        fill: ${semanticColors?.base?.ornamentSecondaryHover};
      }

      border-color: ${semanticColors?.base?.borderPrimaryHover};
    }
  `;
};

const applyIntentColor = (
  props: InputDropdownProps,
  intent: IntentType
): SerializedStyles => {
  const borders = getBorders(props);

  return css`
    border: ${borders?.[intent]?.default};

    &:hover {
      border: ${borders?.base?.hover};
    }

    &:active {
      border: ${borders?.base?.pressed};
    }
  `;
};

const isDisabled = (props: InputDropdownProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    cursor: default;
    border-color: ${semanticColors?.base?.borderPrimaryDisabled};

    span {
      color: ${semanticColors?.base?.textDisabled};
    }

    &.MuiButton-text {
      .styled-label {
        color: ${semanticColors?.base?.textDisabled};
      }
    }

    path {
      fill: ${semanticColors?.base?.ornamentDisabled};
    }
  `;
};

/**
 * (masoudmanson): `Button as React.ComponentType<InputDropdownProps>` is a
 * temporary fix for the issue where the props are not correctly passed to
 * the underlying Button component. This is a workaround until a more permanent
 * solution is implemented. As a result of this fix, the style prop is not
 * passed to the underlying Button component. So we have added the style prop
 * to the InputDropdownProps interface.
 */
export const StyledInputDropdown = styled(
  Button as React.ComponentType<InputDropdownProps>,
  {
    shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
  }
)`
  ${labelFontBodyXs}
  ${focusVisibleA11yStyle}
  outline-offset: 1px !important;

  /* (thuang): in Minimal it's a different value */
  align-items: center;
  /* (thuang): in Minimal it's a different value */
  flex-direction: row;

  justify-content: space-between;

  ${(props: InputDropdownProps) => {
    const { disabled, intent, state, value, sdsStyle } = props;

    return css`
      ${inputDropdownStyles(props)}
      ${sdsStyle === "minimal" && minimal(props)}
      ${sdsStyle === "square" && square(props)}
      ${sdsStyle === "rounded" && rounded(props)}
      ${value && userInput(props)}
      ${intent === "notice" &&
      sdsStyle !== "minimal" &&
      applyIntentColor(props, "notice")}
      ${intent === "negative" &&
      sdsStyle !== "minimal" &&
      applyIntentColor(props, "negative")}
      ${intent === "positive" &&
      sdsStyle !== "minimal" &&
      applyIntentColor(props, "positive")}
      ${state === "open" && isOpen(props)}
      ${disabled && isDisabled(props)}
    `;
  }}
`;

export const StyledDetail = styled("span", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textSecondary};
      margin-left: ${spaces?.xs}px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
    `;
  }}
`;

interface DetailsAndCounter extends CommonThemeProps {
  details?: InputDropdownProps["details"];
  counter?: InputDropdownProps["counter"];
  sdsType: InputDropdownProps["sdsType"];
}

export const StyledLabel = styled("span", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: DetailsAndCounter) => {
    const { details, counter, sdsType } = props;

    const fontWeights = getFontWeights(props);
    const semanticColors = getSemanticColors(props);

    const labelColor =
      details || counter !== undefined
        ? semanticColors?.base?.textPrimary
        : semanticColors?.base?.textSecondary;

    return `
      color: ${labelColor};

      font-weight: ${
        sdsType === "label" ? fontWeights?.semibold : fontWeights?.regular
      };
    `;
  }}
`;

export const StyledCounter = styled("span", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: CommonThemeProps) => {
    const corners = getCorners(props);
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      background-color: ${semanticColors?.base?.backgroundTertiary};
      color: ${semanticColors?.accent?.textAction};
      border-radius: ${corners?.l}px;
      padding: 0 ${spaces?.xs}px;
      margin-left: ${spaces?.xs}px;
    `;
  }}
`;

interface MinimalDetailsProps extends CommonThemeProps {
  shouldTruncateMinimalDetails: InputDropdownProps["shouldTruncateMinimalDetails"];
}

export const MinimalDetails = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${labelFontBodyS}
  text-align: left;
  width: 100%;

  ${(props: MinimalDetailsProps) => {
    const { shouldTruncateMinimalDetails } = props;
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textSecondary};

      ${
        shouldTruncateMinimalDetails &&
        `overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;`
      }
    `;
  }}
`;

export const LabelWrapper = styled("span", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${({ isMinimal }: { isMinimal: boolean }) => {
    return `
      align-items: ${isMinimal ? "center" : undefined};
      display: ${isMinimal ? "inline-flex" : "contents"};
      justify-content: ${isMinimal ? "space-between" : undefined};
      width: 100%;
    `;
  }}
`;

export const IconWrapper = styled("span", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  margin-left: auto;
  display: flex;
  align-items: center;
`;

function labelStyle(props: InputDropdownProps): SerializedStyles {
  const semanticColors = getSemanticColors(props);
  const labelColor =
    props.sdsType === "value"
      ? semanticColors?.base?.textPrimary
      : semanticColors?.base?.textSecondary;

  return css`
    &.MuiButton-text {
      .styled-label {
        color: ${labelColor};
      }
    }
  `;
}
</file>

<file path="packages/components/src/core/InputRadio/__storybook__/stories/default.tsx">
import { RadioGroup } from "@mui/material";
import { Args } from "@storybook/react";
import RawInputRadio from "src/core/InputRadio";

export const InputRadio = (props: Args): JSX.Element => {
  const { caption, label, ...rest } = props;

  return (
    <RadioGroup
      aria-labelledby="demo-radio-buttons-group-label"
      name="radio-buttons-group"
    >
      <RawInputRadio caption={caption} label={label} value="demo" {...rest} />
    </RadioGroup>
  );
};
</file>

<file path="packages/components/src/core/InputRadio/__storybook__/stories/test.tsx">
import { FormControl, FormLabel, RadioGroup } from "@mui/material";
import RawInputRadio from "src/core/InputRadio";

export const TestDemo = (): JSX.Element => {
  return (
    <FormControl>
      <FormLabel id="demo-radio-buttons-group-label" style={{ color: "black" }}>
        Ticket Status
      </FormLabel>
      <RadioGroup
        aria-labelledby="demo-radio-buttons-group-label"
        defaultValue="demo1"
        name="input-radio-group"
        data-testid="radioButtonGroup"
        sx={{ mt: 5 }}
      >
        <RawInputRadio data-testid="inputRadio" label="Blocked" value="demo1" />
        <RawInputRadio
          caption="Caption"
          data-testid="inputRadio"
          label="In Progress"
          value="demo2"
        />
        <RawInputRadio
          caption="Caption"
          data-testid="inputRadio"
          label="Completed"
          value="demo3"
        />
      </RadioGroup>
    </FormControl>
  );
};
</file>

<file path="packages/components/src/core/InputRadio/__storybook__/constants.ts">
export const INPUT_RADIO_EXCLUDED_CONTROLS = [
  "label",
  "caption",
  "disabled",
  "intent",
  "stage",
];

export const INPUT_RADIO_LIVE_PREVIEW_STYLES = {
  display: "grid",
  gridColumnGap: "24px",
  gridRowGap: "50px",
  gridTemplateColumns: "repeat(3, 180px)",
};
</file>

<file path="packages/components/src/core/InputRadio/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { InputRadio } from "./stories/default";
import { TestDemo } from "./stories/test";
import { INPUT_RADIO_EXCLUDED_CONTROLS } from "./constants";
import { BADGE } from "src/common/storybook/storybookBadges";

export default {
  argTypes: {
    caption: {
      control: { type: "text" },
    },
    disabled: {
      control: { type: "boolean" },
    },
    intent: {
      control: { type: "radio" },
      options: ["default", "negative", "notice", "positive"],
    },
    label: {
      control: { type: "text" },
    },
    stage: {
      control: {
        type: "radio",
      },
      options: ["checked", "unchecked"],
    },
  },
  component: InputRadio,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Inputs/InputRadio",
} as Meta;

// Default

export const Default = {
  args: {
    caption: "Caption",
    disabled: false,
    intent: "default",
    label: "Label",
  },
};

// Test

export const Test = {
  args: {
    label: "Test Label",
  },
  parameters: {
    controls: {
      exclude: INPUT_RADIO_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/InputRadio/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<InputRadio /> Default story renders snapshot 1`] = `
<div
  aria-labelledby="demo-radio-buttons-group-label"
  class="MuiFormGroup-root MuiRadioGroup-root css-dmmspl-MuiFormGroup-root"
  role="radiogroup"
>
  <label
    class="MuiFormControlLabel-root MuiFormControlLabel-labelPlacementEnd css-1ajqy5l-MuiFormControlLabel-root"
  >
    <span
      caption="Caption"
      class="MuiButtonBase-root MuiRadio-root MuiRadio-colorPrimary PrivateSwitchBase-root MuiRadio-root MuiRadio-colorPrimary MuiRadio-root MuiRadio-colorPrimary css-1h62c7l-MuiButtonBase-root-MuiRadio-root"
      intent="default"
    >
      <input
        class="PrivateSwitchBase-input css-1m9pwf3"
        name="radio-buttons-group"
        type="radio"
        value="demo"
      />
      <span
        class="css-16izi73"
        font-size="medium"
      />
      <span
        class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
      />
    </span>
    <span
      class="MuiTypography-root MuiTypography-body1 MuiFormControlLabel-label css-ahj2mt-MuiTypography-root"
    >
      <span
        class="css-1ddu512"
      >
        <span
          class="css-1dr5e88"
          id="demo-label"
        >
          Label
        </span>
        <span
          class="css-1mg4zid"
          id="demo-caption"
        >
          Caption
        </span>
      </span>
    </span>
  </label>
</div>
`;
</file>

<file path="packages/components/src/core/InputRadio/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<InputRadio />", () => {
  generateSnapshots(stories);

  it("renders 3 radio buttons", async () => {
    render(<Test {...Test.args} />);
    const radio = screen.getAllByTestId("inputRadio");
    expect(radio).toHaveLength(3);
  });
});
</file>

<file path="packages/components/src/core/InputRadio/__tests__/InputRadio.namespace-test.tsx">
import { InputRadio, RadioProps } from "@czi-sds/components";
import { RadioGroup } from "@mui/material";
import React from "react";

const InputRadioNameSpaceTest = (props: RadioProps) => {
  return (
    <RadioGroup
      aria-labelledby="demo-radio-buttons-group-label"
      defaultValue="demo"
      name="radio-buttons-group"
    >
      <InputRadio label="Label" value="demo" />
    </RadioGroup>
  );
};
</file>

<file path="packages/components/src/core/InputRadio/index.tsx">
import { RadioProps as MUIRadioProps } from "@mui/material";
import {
  RadioExtraProps,
  StyledFormControlLabel,
  StyledLabelContainer,
  StyledRadioButton,
  StyledRadioCaption,
  StyledRadioCheckedIcon,
  StyledRadioDefaultIcon,
  StyledRadioDot,
  StyledRadioLabel,
} from "./style";
import React from "react";

export interface RadioContentProps
  extends Omit<MUIRadioProps, "color" | "defaultChecked"> {
  caption?: string;
  intent?: "default" | "negative" | "notice" | "positive";
  label?: React.ReactNode;
  radioProps?: Partial<MUIRadioProps>;
  stage?: "checked" | "unchecked";
  value?: string;
}

export type RadioProps = RadioContentProps & RadioExtraProps;

/**
 * @see https://mui.com/material-ui/react-radio-button/
 */
const InputRadio = (props: RadioProps): JSX.Element => {
  const {
    caption,
    disabled,
    intent = "default",
    radioProps,
    stage,
    value,
  } = props;

  // (masoudmanson): We don't need to pass the label prop to the radio component
  // so we are destructuring it here.
  const { label, ...restProps } = props;

  let newProps: MUIRadioProps;
  switch (stage) {
    case "checked":
      newProps = {
        ...restProps,
        checked: true,
        color: "primary",
      };
      break;
    case "unchecked":
      newProps = {
        ...restProps,
        checked: false,
        color: "default",
      };
      break;
    default:
      newProps = restProps;
  }

  // (masoudmanson): The id for the label and caption is required for accessibility.
  // Otherwise, the screen reader will read the label twice!
  const labelId = `${value}-label`;
  const captionId = caption ? `${value}-caption` : undefined;

  const finalLabel = caption ? (
    <StyledLabelContainer>
      <StyledRadioLabel id={labelId}>{label}</StyledRadioLabel>
      <StyledRadioCaption id={captionId}>{caption}</StyledRadioCaption>
    </StyledLabelContainer>
  ) : (
    <StyledLabelContainer>
      <StyledRadioLabel id={labelId}>{label}</StyledRadioLabel>
    </StyledLabelContainer>
  );

  return (
    <StyledFormControlLabel
      control={
        <StyledRadioButton
          checkedIcon={
            <StyledRadioCheckedIcon>
              <StyledRadioDot />
            </StyledRadioCheckedIcon>
          }
          icon={<StyledRadioDefaultIcon intent={intent} />}
          intent={intent}
          {...radioProps}
          {...newProps}
        />
      }
      disabled={disabled}
      label={finalLabel}
      value={value}
    />
  );
};

export default InputRadio;
</file>

<file path="packages/components/src/core/InputRadio/style.ts">
import {
  FormControlLabel,
  Radio as RawRadio,
  radioClasses,
} from "@mui/material";
import styled from "@emotion/styled";
import { focusVisibleA11yStyle } from "src/core/styles/common/mixins/a11y";
import {
  CommonThemeProps,
  SDSPalette,
  fontBodyXs,
  fontBodyXxs,
  getBorders,
  getIconSizes,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export interface RadioExtraProps extends CommonThemeProps {
  intent?: "default" | "negative" | "notice" | "positive";
  disabled?: boolean;
}

const intentToColor = {
  default: "base",
  negative: "negative",
  notice: "notice",
  positive: "positive",
};

export const StyledRadioDot = styled("span")`
  ${(props: RadioExtraProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      height: 6px;
      width: 6px;
      border-radius: 50%;
      background-color: ${semanticColors?.base?.ornamentPrimaryInverse};
    `;
  }}
`;

export const StyledRadioDefaultIcon = styled("span")`
  ${(props: RadioExtraProps) => {
    const { intent = "default" } = props;

    const iconSizes = getIconSizes(props);
    const borders = getBorders(props);

    const borderColor = intentToColor[intent] as keyof SDSPalette;

    return `
      height: ${iconSizes?.s.height}px;
      width: ${iconSizes?.s.width}px;
      border: ${borders?.[borderColor]?.default};
      border-radius: 50%;
    `;
  }}
`;

export const StyledRadioCheckedIcon = styled("div")`
  ${(props: RadioExtraProps) => {
    const iconSizes = getIconSizes(props);
    const semanticColors = getSemanticColors(props);

    return `
      display: flex;
      align-items: center;
      justify-content: center;
      height: ${iconSizes?.s.height}px;
      width: ${iconSizes?.s.width}px;
      border-radius: 50%;
      background-color: ${semanticColors?.accent?.fillPrimary};
    `;
  }}
`;

export const StyledRadioButton = styled(RawRadio)`
  ${(props: RadioExtraProps) => {
    const spaces = getSpaces(props);

    return `
      &.${radioClasses.root} {
        ${focusVisibleA11yStyle(props)}
        margin: 0 ${spaces?.s}px 0 0;
        padding: 0;
      }
    `;
  }}
`;

export const StyledLabelContainer = styled("span")`
  display: flex;
  justify-content: start;
  flex-direction: column;
`;

export const StyledRadioLabel = styled("span")`
  ${fontBodyXs}

  ${(props: RadioExtraProps) => {
    const spaces = getSpaces(props);

    return `
      margin-top: -${spaces?.xxxs}px !important;
    `;
  }}
`;

export const StyledRadioCaption = styled("span")`
  ${fontBodyXxs}

  ${(props: RadioExtraProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textSecondary};
    `;
  }}
`;

const disabledStyles = (props: RadioExtraProps) => {
  const semanticColors = getSemanticColors(props);

  return `
    user-select: none;

    ${StyledRadioCaption} {
      color: ${semanticColors?.base?.textDisabled};
    }

    ${StyledRadioDefaultIcon} {
      border: 1px solid ${semanticColors?.base?.borderPrimaryDisabled};
    }

    ${StyledRadioCheckedIcon} {
      background-color: ${semanticColors?.base?.ornamentDisabled};
    }

    &:hover, &:active {
      ${StyledRadioDefaultIcon} {
        border: 1px solid ${semanticColors?.base?.borderPrimaryDisabled};
      }

      ${StyledRadioCheckedIcon} {
        background-color: ${semanticColors?.base?.ornamentDisabled};
      }
    }
  `;
};

export const StyledFormControlLabel = styled(FormControlLabel)`
  ${(props: RadioExtraProps) => {
    const { disabled } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      align-items: start;
      margin-bottom: ${spaces?.l}px;
      margin-left: 0;
      margin-right: 0;
      width: fit-content;

      &:hover {
        ${StyledRadioDefaultIcon} {
          border: 1px solid ${semanticColors?.base?.borderPrimaryHover};
        }

        ${StyledRadioCheckedIcon} {
          background-color: ${semanticColors?.accent?.fillHover};
        }
      }

      &:active {
        ${StyledRadioDefaultIcon} {
          border: 1px solid ${semanticColors?.base?.borderPrimaryPressed};
        }

        ${StyledRadioCheckedIcon} {
          background-color: ${semanticColors?.accent?.fillPressed};
        }
      }

      ${disabled && disabledStyles(props)}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/InputSearch/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawInputSearch from "src/core/InputSearch";

export const InputSearch = (props: Args): JSX.Element => {
  const { id, placeholder, label, disabled, sdsStyle, intent } = props;
  const handleSubmit = (value: string) => {
    // eslint-disable-next-line no-console
    console.log(value);
  };
  return (
    <RawInputSearch
      id={id}
      placeholder={placeholder}
      label={label}
      disabled={disabled}
      sdsStyle={sdsStyle}
      intent={intent}
      handleSubmit={handleSubmit}
      name="input-search-name"
      sx={{ width: "200px" }}
    />
  );
};
</file>

<file path="packages/components/src/core/InputSearch/__storybook__/stories/test.tsx">
import { action } from "@storybook/addon-actions";
import { Args } from "@storybook/react";
import RawInputSearch from "src/core/InputSearch";

export const TestDemo = (props: Args): JSX.Element => {
  return (
    <>
      <RawInputSearch
        id="test-round"
        sdsStyle="rounded"
        label="Round Search"
        placeholder="Search"
        data-testid="inputSearchRound"
        handleSubmit={action("onSubmit")}
        name="round-search"
        sx={{ width: "200px" }}
        {...props}
      />
      <RawInputSearch
        id="test-square"
        sdsStyle="square"
        label="Square Search"
        placeholder="Search"
        data-testid="inputSearchSquare"
        handleSubmit={action("onSubmit")}
        name="square-search"
        sx={{ width: "200px" }}
        {...props}
      />
      {/* @ts-expect-error testing fail state */}
      <RawInputSearch
        sdsStyle="square"
        placeholder="Search"
        data-testid="inputSearchFail"
        handleSubmit={action("onSubmit")}
        name="with-error"
      />
    </>
  );
};
</file>

<file path="packages/components/src/core/InputSearch/__storybook__/constants.ts">
export const INPUT_SEARCH_EXCLUDED_CONTROLS = [
  "disabled",
  "id",
  "intent",
  "label",
  "placeholder",
  "sdsStyle",
];
</file>

<file path="packages/components/src/core/InputSearch/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { INPUT_SEARCH_EXCLUDED_CONTROLS } from "./constants";
import { InputSearch } from "./stories/default";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    disabled: {
      control: { type: "boolean" },
    },
    id: {
      control: { type: "text" },
      required: true,
    },
    intent: {
      control: { type: "radio" },
      options: ["default", "negative", "notice", "positive"],
    },
    label: {
      control: { type: "text" },
      required: true,
    },
    placeholder: {
      control: { type: "text" },
    },
    sdsStyle: {
      control: { type: "radio" },
      options: ["rounded", "square"],
    },
  },
  component: InputSearch,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Inputs/InputSearch",
} as Meta;

// Default

export const Default = {
  args: {
    disabled: false,
    id: "Test",
    label: "Search",
    placeholder: "Search",
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: INPUT_SEARCH_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/InputSearch/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<InputSearch /> Default story renders snapshot 1`] = `
<label
  class="css-l5xdrx"
  for="Test"
>
  Search
</label>
`;
</file>

<file path="packages/components/src/core/InputSearch/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<InputSearch />", () => {
  generateSnapshots(stories);

  it("renders inputSearch component", () => {
    render(<Test {...Test.args} />);
    const inputSearchRoundElement = screen.getByTestId("inputSearchRound");
    expect(inputSearchRoundElement).not.toBeNull();
    const inputSearchSquareElement = screen.getByTestId("inputSearchSquare");
    expect(inputSearchSquareElement).not.toBeNull();
  });

  it("component fails if missing id or label prop", () => {
    render(<Test />);
    const inputTextElement = screen.queryByTestId("inputSearchFail");
    expect(inputTextElement).toBeNull();
  });

  it("no label is rendered, but component is still accessible", () => {
    render(<Test />);
    const inputSearchElement = screen.getByLabelText("Round Search");
    expect(inputSearchElement).not.toBeNull();
  });

  it("input value updates on change", () => {
    render(<Test />);
    const input = screen.getByLabelText("Round Search") as HTMLInputElement;
    fireEvent.change(input, { target: { value: "apple" } });
    expect(input.value).toBe("apple");
  });
});
</file>

<file path="packages/components/src/core/InputSearch/__tests__/InputSearch.namespace-test.tsx">
import { InputSearch, InputSearchProps } from "@czi-sds/components";
import React from "react";
import { noop } from "src/common/utils";

const InputSearchNameSpaceTest = (props: InputSearchProps) => {
  return (
    <InputSearch
      id="2"
      placeholder="Search ..."
      label="Search Label"
      disabled={false}
      sdsStyle="rounded"
      intent="default"
      handleSubmit={noop}
      name="input-search-name"
    />
  );
};
</file>

<file path="packages/components/src/core/InputSearch/index.tsx">
import { TextFieldProps as RawTextFieldSearchProps } from "@mui/material";
import React, { forwardRef, useRef, useState } from "react";
import Button from "src/core/Button";
import {
  InputSearchExtraProps,
  StyledInputAdornment,
  StyledLabel,
  StyledSearchBase,
} from "./style";
import useDetectUserTabbing from "src/common/helpers/userTabbing";

export interface AccessibleInputSearchProps {
  label: string;
  placeholder?: string;
  id: string;
  handleSubmit?: (value: string) => void;
  onChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;
  customTheme?: "light" | "dark" | "auto";
}

export type InputSearchProps = RawTextFieldSearchProps &
  AccessibleInputSearchProps &
  InputSearchExtraProps;

/**
 * @see https://mui.com/material-ui/react-text-field/
 */
const InputSearch = forwardRef<HTMLDivElement, InputSearchProps>(
  function InputSearch(props, ref): JSX.Element {
    const {
      label,
      id,
      placeholder,
      sdsStyle = "square",
      intent = "default",
      handleSubmit,
      onChange,
      disabled,
      ...rest
    } = props;

    /**
     * (masoudmanson): In case that the ref is not provided, we will create a new one.
     */
    const inputRef = useRef(null);

    /**
     * (masoudmanson): This is a custom hook that listens for keyboard and mouse events
     * and adds a 'user-is-tabbing' class to the body element when the user starts
     * navigating with the keyboard. Unlike button elements which have both :focus
     * and :focus-visible states available to style separately, input elements have
     * identical styles for :focus and :focus-visible states. By detecting when the
     * user is tabbing, we can apply different styles for :focus and :focus-visible states.
     */
    useDetectUserTabbing(
      (ref ? ref : inputRef) as React.RefObject<HTMLElement>
    );

    const [value, setValue] = useState<string>("");

    const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {
      setValue(event.target.value);
      if (onChange) onChange(event);
    };

    const clearInput = () => {
      setValue("");

      if (handleSubmit) handleSubmit("");

      /**
       * (masoudmanson): Because we are manually firing this event,
       * we must build a onChange event to transmit the updated value to onChange listeners.
       */
      if (onChange) {
        onChange({
          target: { value: "" },
        } as React.ChangeEvent<HTMLInputElement>);
      }
    };

    const localHandleSubmit = () => {
      if (handleSubmit) handleSubmit(value);
    };

    const handleKeyPress = (event: React.KeyboardEvent) => {
      if (event.key === "Enter") {
        event.preventDefault();
        if (handleSubmit) handleSubmit(value);
      }
    };

    if (!id || !label) {
      // eslint-disable-next-line no-console
      console.error(
        `Error: @czi-sds/components component InputText requires id and label props for accessibility.`
      );
      return <></>;
    }

    return (
      <>
        <StyledLabel htmlFor={id}>{label}</StyledLabel>
        <StyledSearchBase
          id={id}
          ref={ref ? ref : inputRef}
          // passed to mui Input
          InputProps={{
            endAdornment: value ? (
              <StyledInputAdornment position="end">
                <Button
                  aria-label="clear-button"
                  className="input-search-clear-icon"
                  onClick={clearInput}
                  sdsType="tertiary"
                  sdsSize="small"
                  sdsStyle="icon"
                  disabled={disabled}
                  icon="XMarkCircle"
                />
              </StyledInputAdornment>
            ) : null,
            startAdornment: (
              <StyledInputAdornment position="start">
                <Button
                  aria-label="search-button"
                  onClick={localHandleSubmit}
                  sdsType="tertiary"
                  sdsSize="small"
                  sdsStyle="icon"
                  disabled={disabled}
                  icon="Search"
                />
              </StyledInputAdornment>
            ),
          }}
          type="search"
          variant="outlined"
          size="small"
          placeholder={placeholder}
          value={value}
          sdsStyle={sdsStyle}
          onChange={handleChange}
          onKeyDown={handleKeyPress}
          intent={intent}
          disabled={disabled}
          /**
           * (masoudmanson): This prevents the browser's default auto completion
           * menu from being displayed for the InputSearch.
           */
          autoComplete="one-time-code"
          {...rest}
        />
      </>
    );
  }
);

export default InputSearch;
</file>

<file path="packages/components/src/core/InputSearch/style.ts">
import { css, SerializedStyles } from "@emotion/react";
import {
  buttonBaseClasses,
  InputAdornment,
  inputAdornmentClasses,
  inputBaseClasses,
  outlinedInputClasses,
  TextField,
} from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBodyM,
  fontBodyXs,
  getBorders,
  getCorners,
  getIconSizes,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

type IntentType = "negative" | "notice" | "positive";
export interface InputSearchExtraProps extends CommonThemeProps {
  disabled?: boolean;
  intent?: IntentType | "default";
  sdsStyle?: "rounded" | "square";
  value?: string;
}

const doNotForwardProps = [
  "sdsStyle",
  "intent",
  "handleSubmit",
  "customTheme",
  "hasInvertedStyle",
];

const rounded = (props: InputSearchExtraProps): SerializedStyles => {
  const corners = getCorners(props);
  const semanticColors = getSemanticColors(props);

  return css`
    .${outlinedInputClasses.root} {
      border-radius: ${corners?.l}px;

      .${outlinedInputClasses.notchedOutline} {
        border-radius: ${corners?.l}px;
        border: 1px solid ${semanticColors?.base?.borderPrimary};
      }
    }
  `;
};

const applyIntentColor = (
  props: InputSearchExtraProps,
  intent: IntentType
): SerializedStyles => {
  const semanticColors = getSemanticColors(props);
  const borders = getBorders(props);

  return css`
    .${outlinedInputClasses.root} .${outlinedInputClasses.notchedOutline} {
      border: ${borders?.[intent]?.default};
    }

    .${outlinedInputClasses.root}:hover
      .${outlinedInputClasses.notchedOutline} {
      border: ${borders?.base?.hover};
    }

    .${outlinedInputClasses.root}.${outlinedInputClasses.focused} {
      .${outlinedInputClasses.notchedOutline} {
        border: ${borders?.[intent]?.default};
      }

      .${inputAdornmentClasses.root} .${buttonBaseClasses.root}:last-of-type {
        cursor: default;
        svg {
          color: ${semanticColors?.[intent]?.ornament};
        }
      }
    }
  `;
};

const disabledStyled = (props: InputSearchExtraProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    .${outlinedInputClasses.disabled} {
      .${outlinedInputClasses.notchedOutline} {
        border: 1px solid ${semanticColors?.base?.borderPrimaryDisabled} !important;
      }

      .${inputAdornmentClasses.root} svg {
        color: ${semanticColors?.base?.ornamentDisabled};
      }

      &:hover {
        .${outlinedInputClasses.notchedOutline} {
          border: 1px solid ${semanticColors?.base?.borderPrimaryDisabled};
        }

        .${inputAdornmentClasses.root} svg {
          color: ${semanticColors?.base?.ornamentDisabled} !important;
        }
      }

      &::placeholder {
        color: ${semanticColors?.base?.textDisabled};
        opacity: 1;
      }
    }
  `;
};

export const StyledLabel = styled("label")`
  ${fontBodyM}
  ${(props) => {
    const spaces = getSpaces(props);

    return `
      margin-bottom: ${spaces?.xxs}px;
      position: absolute;
      overflow: hidden;
      clip: rect(0 0 0 0);
      height: 1px;
      width: 1px;
      margin: -1px; 
      padding: 0; 
      border: 0;
    `;
  }}
`;

export const StyledSearchBase = styled(TextField, {
  shouldForwardProp: (prop) => {
    return !doNotForwardProps.includes(prop.toString());
  },
})`
  ${(props: InputSearchExtraProps) => {
    const { intent, disabled, sdsStyle } = props;

    const spaces = getSpaces(props);
    const iconSizes = getIconSizes(props);
    const semanticColors = getSemanticColors(props);

    return css`
      margin-top: ${spaces?.m}px;
      margin-bottom: ${spaces?.m}px;
      margin-right: ${spaces?.xl}px;
      min-width: 120px;
      display: block;

      [type="search"]::-webkit-search-cancel-button {
        -webkit-appearance: none;
        appearance: none;
      }

      & .input-search-clear-icon {
        cursor: pointer;

        svg {
          height: ${iconSizes?.xs?.height}px;
          width: ${iconSizes?.xs?.width}px;
        }
      }

      .${outlinedInputClasses.root} {
        padding: 0 ${spaces?.m}px;
        width: 100%;

        .${outlinedInputClasses.input} {
          padding-right: ${spaces?.l}px;

          &::placeholder {
            color: ${semanticColors?.base?.textTertiary};
            opacity: 1;
          }
        }

        .MuiInputAdornment-positionEnd {
          position: absolute;
          right: ${spaces?.m}px;
        }

        .${outlinedInputClasses.notchedOutline} {
          border: 1px solid ${semanticColors?.base?.borderPrimary};
        }

        &:hover .input-search-clear-icon,
        &:focus-within .input-search-clear-icon {
          svg {
            color: ${semanticColors?.base?.ornamentSecondary} !important;
          }

          &:hover {
            svg {
              color: ${semanticColors?.base?.ornamentSecondaryHover} !important;
            }
          }

          &:active {
            svg {
              color: ${semanticColors?.accent?.fillPressed} !important;
            }
          }
        }
      }

      .${inputBaseClasses.inputSizeSmall} {
        ${fontBodyXs(props)}
        padding: ${spaces?.xs}px ${spaces?.s}px;
        height: unset;
        box-sizing: border-box;
      }

      .${outlinedInputClasses.root}:hover {
        & .${buttonBaseClasses.root}:last-of-type {
          svg {
            color: ${semanticColors?.base?.ornamentSecondaryHover};
          }
        }
        .${outlinedInputClasses.notchedOutline} {
          border: 1px solid ${semanticColors?.base?.borderPrimaryHover};
        }
      }

      .${outlinedInputClasses.root}.${outlinedInputClasses.focused} {
        outline: none;

        .${outlinedInputClasses.notchedOutline} {
          border: 1px solid ${semanticColors?.accent?.border};
        }

        .${inputAdornmentClasses.root} .${buttonBaseClasses.root}:last-of-type {
          cursor: default;
          svg {
            color: ${semanticColors?.accent?.ornamentFocus};
          }
        }
      }

      &.user-is-tabbing .${outlinedInputClasses.root}:focus-within {
        outline: 2px solid ${semanticColors?.base?.borderPrimaryHover};
        outline-offset: 1px;
      }

      ${sdsStyle === "rounded" && rounded(props)}
      ${intent === "negative" && applyIntentColor(props, "negative")}
      ${intent === "notice" && applyIntentColor(props, "notice")}
      ${intent === "positive" && applyIntentColor(props, "positive")}
      ${disabled && disabledStyled(props)}
    `;
  }}
`;

export const StyledInputAdornment = styled(InputAdornment)`
  position: relative;
  height: unset;
  margin: 0;
`;
</file>

<file path="packages/components/src/core/InputSlider/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawInputSlider from "src/core/InputSlider";
import {
  INPUT_SLIDER_DEMO_WRAPPER_STYLES,
  INPUT_SLIDER_GENERATE_CUSTOM_MARKS,
} from "../constants";

export const InputSlider = (props: Args): JSX.Element => {
  const { marks, max, min } = props;

  const customMarks = INPUT_SLIDER_GENERATE_CUSTOM_MARKS(min, max);

  return (
    <div style={INPUT_SLIDER_DEMO_WRAPPER_STYLES as React.CSSProperties}>
      <RawInputSlider
        {...props}
        marks={marks ? customMarks : false}
        aria-label="Input slider demo"
      />
    </div>
  );
};
</file>

<file path="packages/components/src/core/InputSlider/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import RawInputSlider from "src/core/InputSlider";
import {
  INPUT_SLIDER_GENERATE_CUSTOM_MARKS,
  INPUT_SLIDER_LIVE_PREVIEW_ROW_STYLES,
} from "../constants";

export const TestDemo = (props: Args): JSX.Element => {
  const { marks, max, min } = props;

  const customMarks = INPUT_SLIDER_GENERATE_CUSTOM_MARKS(min, max);

  return (
    <div style={INPUT_SLIDER_LIVE_PREVIEW_ROW_STYLES as React.CSSProperties}>
      <RawInputSlider
        {...props}
        data-testid="test-input-slider"
        marks={marks ? customMarks : false}
      />
    </div>
  );
};
</file>

<file path="packages/components/src/core/InputSlider/__storybook__/constants.tsx">
export const INPUT_SLIDER_EXCLUDED_CONTROLS = [
  "defaultValue",
  "disabled",
  "marks",
  "max",
  "min",
  "step",
  "valueLabelDisplay",
];

export const INPUT_SLIDER_GENERATE_CUSTOM_MARKS = (
  min: number,
  max: number
) => {
  return [
    {
      label: min,
      value: min,
    },
    {
      label: ((max - min) / 2 + min).toFixed(0),
      value: (max - min) / 2 + min,
    },
    {
      label: max,
      value: max,
    },
  ];
};

export const INPUT_SLIDER_DEMO_WRAPPER_STYLES = {
  height: 180,
  marginLeft: 20,
  marginTop: 15,
  width: 180,
};

export const INPUT_SLIDER_LIVE_PREVIEW_ROW_STYLES = {
  display: "grid",
  gridColumnGap: 40,
  gridTemplateColumns: "repeat(2, 180px)",
  margin: "15px 0 0 20px",
};
</file>

<file path="packages/components/src/core/InputSlider/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { InputSlider } from "./stories/default";
import { TestDemo } from "./stories/test";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { INPUT_SLIDER_EXCLUDED_CONTROLS } from "./constants";

export default {
  argTypes: {
    defaultValue: {
      control: {
        type: "number",
      },
    },
    disabled: {
      control: { type: "boolean" },
    },
    marks: {
      control: {
        type: "boolean",
      },
    },
    max: {
      control: {
        type: "number",
      },
    },
    min: {
      control: {
        type: "number",
      },
    },
    step: {
      control: {
        type: "number",
      },
    },
    valueLabelDisplay: {
      control: {
        labels: ["auto", "off", "on"],
        type: "select",
      },
      options: ["auto", "off", "on"],
    },
  },
  component: InputSlider,
  parameters: {
    axe: {
      disabledRules: [
        // FIXME - inputs should have labels
        "label",
      ],
    },
    badges: [BADGE.STABLE],
  },
  title: "Components/Inputs/InputSlider",
} as Meta;

// Default

export const Default = {
  args: {
    defaultValue: [15, 85],
    disabled: false,
    marks: true,
    max: 100,
    min: 0,
    step: 5,
    valueLabelDisplay: "on",
  },
};

// Test

export const Test = {
  args: {
    defaultValue: 15,
    max: 100,
    min: 0,
  },
  parameters: {
    controls: {
      exclude: INPUT_SLIDER_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} data-testid="input-slider" />,
};
</file>

<file path="packages/components/src/core/InputSlider/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<InputSlider /> Default story renders snapshot 1`] = `
<div
  style="height: 180px; margin-left: 20px; margin-top: 15px; width: 180px;"
>
  <span
    class="MuiSlider-root MuiSlider-marked MuiSlider-colorPrimary MuiSlider-sizeMedium css-1luz55c-MuiSlider-root"
  >
    <span
      class="MuiSlider-rail css-7o8aqz-MuiSlider-rail"
    />
    <span
      class="MuiSlider-track css-ttgsjq-MuiSlider-track"
      style="left: 15%; width: 70%;"
    />
    <span
      class="MuiSlider-mark css-hzp7sc-MuiSlider-mark"
      data-index="0"
      style="left: 0%;"
    />
    <span
      aria-hidden="true"
      class="MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"
      data-index="0"
      style="left: 0%;"
    >
      0
    </span>
    <span
      class="MuiSlider-mark MuiSlider-markActive css-z5sdnj-MuiSlider-mark"
      data-index="1"
      style="left: 50%;"
    />
    <span
      aria-hidden="true"
      class="MuiSlider-markLabel MuiSlider-markLabel MuiSlider-markLabelActive css-1ucwjgd-MuiSlider-markLabel"
      data-index="1"
      style="left: 50%;"
    >
      50
    </span>
    <span
      class="MuiSlider-mark css-hzp7sc-MuiSlider-mark"
      data-index="2"
      style="left: 100%;"
    />
    <span
      aria-hidden="true"
      class="MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"
      data-index="2"
      style="left: 100%;"
    >
      100
    </span>
    <span
      class="MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary css-cp2j25-MuiSlider-thumb"
      data-index="0"
      style="left: 15%;"
    >
      <input
        aria-label="Slider - min 0 to max 100"
        aria-orientation="horizontal"
        aria-valuemax="100"
        aria-valuemin="0"
        aria-valuenow="15"
        data-index="0"
        max="100"
        min="0"
        step="5"
        style="border: 0px; height: 100%; margin: -1px; overflow: hidden; padding: 0px; position: absolute; white-space: nowrap; width: 100%; direction: ltr;"
        type="range"
        value="15"
      />
      <span
        aria-hidden="true"
        class="MuiSlider-valueLabelOpen MuiSlider-valueLabel css-14gyywz-MuiSlider-valueLabel"
      >
        <span
          class="MuiSlider-valueLabelCircle"
        >
          <span
            class="MuiSlider-valueLabelLabel"
          >
            15
          </span>
        </span>
      </span>
    </span>
    <span
      class="MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary css-cp2j25-MuiSlider-thumb"
      data-index="1"
      style="left: 85%;"
    >
      <input
        aria-label="Slider - min 0 to max 100"
        aria-orientation="horizontal"
        aria-valuemax="100"
        aria-valuemin="0"
        aria-valuenow="85"
        data-index="1"
        max="100"
        min="0"
        step="5"
        style="border: 0px; height: 100%; margin: -1px; overflow: hidden; padding: 0px; position: absolute; white-space: nowrap; width: 100%; direction: ltr;"
        type="range"
        value="85"
      />
      <span
        aria-hidden="true"
        class="MuiSlider-valueLabelOpen MuiSlider-valueLabel css-14gyywz-MuiSlider-valueLabel"
      >
        <span
          class="MuiSlider-valueLabelCircle"
        >
          <span
            class="MuiSlider-valueLabelLabel"
          >
            85
          </span>
        </span>
      </span>
    </span>
  </span>
</div>
`;
</file>

<file path="packages/components/src/core/InputSlider/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<InputSlider />", () => {
  generateSnapshots(stories);

  it("renders InputSlider component", () => {
    render(<Test {...Test.args} />);
    const InputSliderElement = screen.getByTestId("test-input-slider");
    expect(InputSliderElement).not.toBeNull();
  });
});
</file>

<file path="packages/components/src/core/InputSlider/__tests__/InputSlider.namespace-test.tsx">
import { InputSlider, InputSliderProps } from "@czi-sds/components";
import React from "react";

const InputSearchNameSpaceTest = (props: InputSliderProps) => {
  return (
    <InputSlider
      defaultValue={10}
      disabled={false}
      marks={false}
      max={100}
      min={0}
      orientation="horizontal"
      step={1}
      valueLabelDisplay="auto"
    />
  );
};
</file>

<file path="packages/components/src/core/InputSlider/index.tsx">
import { forwardRef } from "react";
import { InputSliderExtraProps, StyledSlider } from "./style";

export type InputSliderProps = InputSliderExtraProps;

/**
 * @see https://mui.com/material-ui/react-slider/
 */
const InputSlider = forwardRef<HTMLSpanElement, InputSliderExtraProps>(
  (props, ref) => {
    const { min, max, ...rest } = props;
    return (
      <StyledSlider
        ref={ref}
        min={min}
        max={max}
        {...rest}
        orientation="horizontal"
        aria-label={`Slider - min ${min} to max ${max}`}
      />
    );
  }
);

export default InputSlider;
</file>

<file path="packages/components/src/core/InputSlider/style.ts">
import { Slider, SliderProps, sliderClasses } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  focusVisibleA11yStyle,
  fontBodyXxs,
  fontBodyXxxs,
  getCorners,
  getSemanticColors,
  getShadows,
} from "src/core/styles";

export interface InputSliderExtraProps extends SliderProps, CommonThemeProps {}

const inputSlider = (props: InputSliderExtraProps) => {
  const corners = getCorners(props);
  const shadows = getShadows(props);
  const semanticColors = getSemanticColors(props);

  return `
    position: relative;

    .${sliderClasses.rail},
    .${sliderClasses.track} {
      border-radius: 2px;
    }

    .${sliderClasses.rail} {
      background-color: ${semanticColors?.base?.divider};
      opacity:1;
    }
    
    .${sliderClasses.track} {
      background-color: ${semanticColors?.accent?.fillPrimary};
    }

    .${sliderClasses.thumb} {
      ${focusVisibleA11yStyle(props)}
      height: 14px;
      width: 14px;
      background-color: ${semanticColors?.accent?.fillPrimary};

      &.${sliderClasses.focusVisible}, &:hover, &:focus, &:active {
        box-shadow: ${shadows?.none};
      }
    }

    .${sliderClasses.thumb}::before {
      display: none;
    }

    .${sliderClasses.thumb}::after {
      background-color: ${semanticColors?.base?.backgroundPrimary} !important;
      height: 6px !important;
      width: 6px !important;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .${sliderClasses.valueLabel} {
      padding: 2px 4px;
      color: ${semanticColors?.base?.textPrimary};
      background-color: ${semanticColors?.accent?.surfaceSecondary};
      border-radius: ${corners?.m}px;
      left: unset; 
      top: -3px;

      &::before {
        display: none;
      }

      & * {
        background: transparent;
        color: ${semanticColors?.base?.textPrimary};
        transform: none;
        width: unset;
        height: unset;
      }
    }

    .${sliderClasses.mark} {
      // (masoudmanson): Although the mark is not a icon, but since we don't have 
      // a specific color for the mark, we use the ornamentDisabled color for it.
      background-color: ${semanticColors?.base?.ornamentDisabled};
      opacity: 1;
    }

    .${sliderClasses.mark}.${sliderClasses.markActive} {
      background-color: ${semanticColors?.base?.backgroundPrimary};
    }

    .${sliderClasses.markLabel} {
      ${fontBodyXxxs(props)?.styles}
      color: ${semanticColors?.base?.textSecondary};
    }

    .${sliderClasses.markLabelActive} {
      color: ${semanticColors?.base?.textPrimary};
    }
  `;
};

const horizontal = (props: InputSliderExtraProps) => {
  const { marks } = props;
  const lastMarkIndex = Array.isArray(marks) ? marks.length - 1 : null;

  return `
    .${sliderClasses.rail},
    .${sliderClasses.track} {
      border: none;
      height: 4px;
    }

    // Adjust the position of the first mark by moving it 2px to the right to fit it inside the track
    span[data-index="0"].${sliderClasses.mark} {
      left: 2px !important;
    }

    // Adjust the position of the last mark by moving it 2px to the left to fit it inside the track
    span[data-index="${lastMarkIndex}"].${sliderClasses.mark} {
      left: calc(100% - 2px) !important;
    }
    
    .${sliderClasses.markLabel} {
      top: 26px;
    }

    .${sliderClasses.disabled} .${sliderClasses.track} {
      border: none;
    }
  `;
};

const disabledSlider = (props: InputSliderExtraProps) => {
  const semanticColors = getSemanticColors(props);

  return `
    .${sliderClasses.track} {
      background-color: ${semanticColors?.base?.fillDisabled};
    }

    .${sliderClasses.thumb}.${sliderClasses.disabled} {
      background-color: ${semanticColors?.base?.fillDisabled};
    }

    .${sliderClasses.valueLabel} {
      color: ${semanticColors?.base?.textDisabled};
      background-color: ${semanticColors?.base?.backgroundSecondary};
      
      & * {
        color: ${semanticColors?.base?.textDisabled};
      }
    }

    .${sliderClasses.markLabel} {
      color: ${semanticColors?.base?.textDisabled}
    }

    .${sliderClasses.mark} {
      background-color: ${semanticColors?.base?.fillPrimary};
    }
  `;
};

export const StyledSlider = styled(Slider)`
  ${fontBodyXxs}

  ${(props: InputSliderExtraProps) => {
    const { disabled } = props;

    return `
      ${inputSlider(props)}
      ${horizontal(props)}
      ${disabled ? disabledSlider(props) : ""}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/InputText/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawInputText from "src/core/InputText";

export const InputText = (props: Args): JSX.Element => {
  const { id, intent, disabled, hideLabel, placeholder, label, sdsType } =
    props;
  return (
    <RawInputText
      id={id}
      sdsType={sdsType}
      label={label}
      placeholder={placeholder}
      intent={intent}
      hideLabel={hideLabel}
      disabled={disabled}
      name="input-text-name"
      autoComplete="off"
      sx={{ width: "200px" }}
    />
  );
};
</file>

<file path="packages/components/src/core/InputText/__storybook__/stories/test.tsx">
import { FormControl } from "@mui/material";
import { Args } from "@storybook/react";
import RawInputText from "src/core/InputText";

export const TestDemo = (props: Args): JSX.Element => {
  return (
    <FormControl>
      <RawInputText
        {...props}
        id="test-textField"
        sdsType="textField"
        label="Label"
        hideLabel={false}
        placeholder="Value"
        data-testid="inputTextBase"
      />

      {/* @ts-expect-error testing fail state */}
      <RawInputText
        sdsType="textField"
        hideLabel={false}
        data-testid="inputTextFail"
      />

      <RawInputText
        id="test-hide-label"
        sdsType="textField"
        label="Hidden Label"
        hideLabel
        data-testid="inputTextHideLabel"
      />

      <RawInputText
        id="test-textArea"
        sdsType="textArea"
        label="Label"
        hideLabel={false}
        placeholder="Value"
        data-testid="inputTextArea"
      />
    </FormControl>
  );
};
</file>

<file path="packages/components/src/core/InputText/__storybook__/constants.ts">
export const INPUT_TEXT_EXCLUDED_CONTROLS = [
  "disabled",
  "hideLabel",
  "id",
  "intent",
  "label",
  "placeholder",
  "sdsType",
];

export const INPUT_TEXT_LIVE_PREVIEW_ROW_STYLES = {
  alignItems: "flex-start",
  display: "flex",
  flexDirection: "row",
  gap: "24px",
};
</file>

<file path="packages/components/src/core/InputText/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { InputText } from "./stories/default";
import { INPUT_TEXT_EXCLUDED_CONTROLS } from "./constants";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    disabled: {
      control: { type: "boolean" },
    },
    hideLabel: {
      control: { type: "boolean" },
    },
    id: {
      control: { type: "text" },
      required: true,
    },
    intent: {
      control: { type: "radio" },
      options: ["default", "negative", "notice", "positive"],
    },
    label: {
      control: { type: "text" },
    },
    placeholder: {
      control: { type: "text" },
    },
    sdsType: {
      control: { type: "radio" },
      options: ["textField", "textArea"],
    },
  },
  component: InputText,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Inputs/InputText",
} as Meta;

// Default

export const Default = {
  args: {
    disabled: false,
    hideLabel: false,
    id: "Test",
    label: "Label",
    placeholder: "Value",
    sdsType: "textField",
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: INPUT_TEXT_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/InputText/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<InputText /> Default story renders snapshot 1`] = `
<label
  class="css-1n9rsuo"
  for="Test"
>
  Label
</label>
`;
</file>

<file path="packages/components/src/core/InputText/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<InputText />", () => {
  generateSnapshots(stories);

  it("renders inputText component", () => {
    render(<Test {...Test.args} />);
    const inputTextElement = screen.getByTestId("inputTextBase");
    expect(inputTextElement).not.toBeNull();
  });

  it("component fails if missing id or label prop", () => {
    render(<Test />);
    const inputTextElement = screen.queryByTestId("inputTextFail");
    expect(inputTextElement).toBeNull();
  });

  it("hides label is hideLabel is true, but aria-label is still set", () => {
    render(<Test />);
    const inputTextElement = screen.getByLabelText("Hidden Label");
    expect(inputTextElement).not.toBeNull();
  });

  it("renders text area if sdsType is set to 'textArea'", () => {
    render(<Test />);
    const inputTextAreaElement = screen.getByTestId("inputTextArea");
    expect(inputTextAreaElement).not.toBeNull();
  });
});
</file>

<file path="packages/components/src/core/InputText/__tests__/InputText.namespace-test.tsx">
import { InputText, InputTextProps } from "@czi-sds/components";
import React from "react";

const InputSearchNameSpaceTest = (props: InputTextProps) => {
  return (
    <InputText
      id="1"
      sdsType="textArea"
      label="Label"
      placeholder="Placeholder"
      intent="default"
      hideLabel={false}
      disabled={false}
      name="input-text-name"
    />
  );
};
</file>

<file path="packages/components/src/core/InputText/index.tsx">
import { TextFieldProps as RawTextFieldProps } from "@mui/material";
import { forwardRef, useRef } from "react";
import { InputTextExtraProps, StyledInputBase, StyledLabel } from "./style";
import useDetectUserTabbing from "src/common/helpers/userTabbing";

interface AccessibleInputTextProps {
  label: React.ReactNode;
  placeholder?: string;
  id: string;
}

export type InputTextProps = RawTextFieldProps &
  InputTextExtraProps &
  AccessibleInputTextProps;

/**
 * @see https://mui.com/material-ui/react-text-field/
 */
const InputText = forwardRef<HTMLInputElement, InputTextProps>(
  function InputText(props, ref): JSX.Element {
    const {
      id,
      intent = "default",
      label,
      placeholder,
      sdsType,
      hideLabel,
      ...rest
    } = props;

    /**
     * (masoudmanson): In case that the ref is not provided, we will create a new one.
     */
    const inputRef = useRef(null);

    /**
     * (masoudmanson): This is a custom hook that listens for keyboard and mouse events
     * and adds a 'user-is-tabbing' class to the body element when the user starts
     * navigating with the keyboard. Unlike button elements which have both :focus
     * and :focus-visible states available to style separately, input elements have
     * identical styles for :focus and :focus-visible states. By detecting when the
     * user is tabbing, we can apply different styles for :focus and :focus-visible states.
     */
    useDetectUserTabbing(
      (ref ? ref : inputRef) as React.RefObject<HTMLElement>
    );

    const inputProps = {
      "aria-label": `${label}`,
    };

    if (!id || !label) {
      // eslint-disable-next-line no-console
      console.error(
        `Error: @czi-sds/components component InputText requires id and label props for accessibility.`
      );
      return <></>;
    }

    const finalLabel =
      typeof label === "string" ? (
        <StyledLabel htmlFor={id}>{label}</StyledLabel>
      ) : (
        label
      );

    return (
      <>
        {!hideLabel && finalLabel}
        <StyledInputBase
          ref={ref ? ref : inputRef}
          inputProps={inputProps}
          type="text"
          multiline={sdsType === "textArea"}
          minRows={sdsType === "textArea" ? 4 : 2}
          id={id}
          intent={intent}
          variant="outlined"
          size="small"
          placeholder={placeholder}
          sdsType={sdsType}
          {...rest}
        />
      </>
    );
  }
);

export default InputText;
</file>

<file path="packages/components/src/core/InputText/style.ts">
import { css, SerializedStyles } from "@emotion/react";
import {
  buttonBaseClasses,
  inputAdornmentClasses,
  outlinedInputClasses,
  TextField,
} from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBodyS,
  fontBodyXs,
  getBorders,
  getCorners,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";
import { focusVisibleA11yStyle } from "src/core/styles/common/mixins/a11y";

type IntentType = "negative" | "notice" | "positive";
export interface InputTextExtraProps extends CommonThemeProps {
  disabled?: boolean;
  intent?: "default" | IntentType;
  sdsType?: "textField" | "textArea";
  hideLabel?: boolean;
}

const sdsPropNames = ["sdsStyle", "sdsType", "intent", "hideLabel"];

const applyIntentColor = (
  props: InputTextExtraProps,
  intent: IntentType
): SerializedStyles => {
  const borders = getBorders(props);
  const semanticColors = getSemanticColors(props);

  return css`
    .${outlinedInputClasses.root} .${outlinedInputClasses.notchedOutline} {
      border: ${borders?.[intent]?.default};
    }

    .${outlinedInputClasses.root}:hover
      .${outlinedInputClasses.notchedOutline} {
      border: ${borders?.base?.hover};
    }

    .${outlinedInputClasses.root}.${outlinedInputClasses.focused} {
      .${outlinedInputClasses.notchedOutline} {
        border: ${borders?.[intent]?.default};
      }

      .${inputAdornmentClasses.root} .${buttonBaseClasses.root}:last-of-type {
        cursor: default;
        svg {
          color: ${semanticColors?.[intent]?.ornament};
        }
      }
    }
  `;
};

const disabledStyled = (props: InputTextExtraProps): SerializedStyles => {
  const borders = getBorders(props);
  const semanticColors = getSemanticColors(props);

  return css`
    .${outlinedInputClasses.disabled} {
      .${outlinedInputClasses.notchedOutline} {
        border: ${borders?.base?.disabled};
        opacity: 1;
      }

      &:hover .${outlinedInputClasses.notchedOutline} {
        border: ${borders?.base?.disabled};
        opacity: 1;
      }

      &::placeholder {
        color: ${semanticColors?.base?.textDisabled};
        opacity: 1;
      }
    }
  `;
};

const textArea = (props: InputTextExtraProps): SerializedStyles => {
  const spaces = getSpaces(props);

  return css`
    .${outlinedInputClasses.multiline} {
      padding: ${spaces?.xxs}px;

      > .${outlinedInputClasses.inputMultiline} {
        padding: ${spaces?.xxs}px ${spaces?.m}px ${spaces?.m}px;
        resize: both;
      }
    }
  `;
};

export const StyledLabel = styled("label")`
  display: block;
  ${fontBodyS}

  ${(props) => {
    const spaces = getSpaces(props);

    return `
      margin-bottom: ${spaces?.xxs}px;
    `;
  }}
`;

export const StyledInputBase = styled(TextField, {
  shouldForwardProp: (prop) => {
    return !sdsPropNames.includes(prop.toString());
  },
})`
  ${(props: InputTextExtraProps) => {
    const { intent, sdsType, disabled } = props;

    const spaces = getSpaces(props);
    const borders = getBorders(props);
    const corners = getCorners(props);
    const semanticColors = getSemanticColors(props);
    return css`
      margin-bottom: ${spaces?.l}px;
      margin-right: ${spaces?.m}px;
      display: block;

      .${outlinedInputClasses.root} {
        width: 100%;
      }

      .${outlinedInputClasses.inputSizeSmall} {
        ${fontBodyXs(props)}
        padding: ${spaces?.xs}px ${spaces?.m}px;
        height: unset;
        box-sizing: border-box;
      }

      .${outlinedInputClasses.notchedOutline} {
        border-radius: ${corners?.m}px;
        border: ${borders?.base?.default};
      }

      .${outlinedInputClasses.input} {
        outline: none;
        border-radius: 4px;
        width: 100%;

        &::placeholder {
          color: ${semanticColors?.base?.textTertiary};
          opacity: 1;
        }
      }

      &.user-is-tabbing .${outlinedInputClasses.input} {
        ${focusVisibleA11yStyle(props)}
      }

      .${outlinedInputClasses.root}:hover
        .${outlinedInputClasses.notchedOutline} {
        border: ${borders?.base?.hover};
      }

      .${outlinedInputClasses.root}.${outlinedInputClasses.focused}
        .${outlinedInputClasses.notchedOutline} {
        border: ${borders?.accent?.default};
      }

      ${sdsType === "textArea" && textArea(props)}
      ${intent === "negative" && applyIntentColor(props, "negative")}
      ${intent === "notice" && applyIntentColor(props, "notice")}
      ${intent === "positive" && applyIntentColor(props, "positive")}
      ${disabled && disabledStyled(props)}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/InputToggle/__storybook__/stories/controlled.tsx">
import { Args } from "@storybook/react";
import { useState } from "react";
import RawInputToggle from "src/core/InputToggle";

export const ControlledDemo = (props: Args): JSX.Element => {
  const [isChecked, setIsChecked] = useState(true);

  function handleChange() {
    setIsChecked((currentChecked) => !currentChecked);
  }

  return (
    <RawInputToggle {...props} checked={isChecked} onChange={handleChange} />
  );
};
</file>

<file path="packages/components/src/core/InputToggle/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawInputToggle from "src/core/InputToggle";

export const InputToggle = (props: Args): JSX.Element => {
  return (
    <RawInputToggle {...props} inputProps={{ "aria-label": "Input Toggle" }} />
  );
};
</file>

<file path="packages/components/src/core/InputToggle/__storybook__/constants.ts">
export const INPUT_TOGGLE_EXCLUDED_CONTROLS = ["disabled"];
</file>

<file path="packages/components/src/core/InputToggle/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import RawInputToggle from "../index";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { InputToggle } from "./stories/default";
import { INPUT_TOGGLE_EXCLUDED_CONTROLS } from "./constants";
import { ControlledDemo } from "./stories/controlled";

export default {
  argTypes: {
    disabled: {
      control: { type: "boolean" },
    },
    offLabel: {
      control: { type: "text" },
      defaultValue: "Off",
    },
    onLabel: {
      control: { type: "text" },
      defaultValue: "On",
    },
    width: {
      control: { type: "number" },
      defaultValue: 62,
    },
  },
  component: InputToggle,
  parameters: {
    axe: {
      disabledRules: [
        // Unfortunately the MUI Switch component renders an input field without a label, which
        // fails an axe check.
        "label",
      ],
    },
    badges: [BADGE.STABLE],
  },
  title: "Components/Inputs/InputToggle",
} as Meta;

// Default

export const Default = {
  args: {
    disabled: false,
    width: 62,
  },
};

// Controlled

export const Controlled = {
  parameters: {
    controls: {
      exclude: INPUT_TOGGLE_EXCLUDED_CONTROLS,
    },
    snapshot: {
      /**
       * (thuang): Take snapshot to ensure the controlled demo is working as expected.
       */
      skip: false,
    },
  },
  render: (args: Args) => <ControlledDemo {...args} />,
};

// Test

export const Test = {
  args: {
    disabled: false,
  },
  parameters: {
    controls: {
      exclude: INPUT_TOGGLE_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => (
    <RawInputToggle {...args} data-testid="test-toggle" />
  ),
};
</file>

<file path="packages/components/src/core/InputToggle/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<InputToggle /> Controlled story renders snapshot 1`] = `
<span
  class="MuiSwitch-root MuiSwitch-sizeMedium css-fml3vw-MuiSwitch-root"
>
  <span
    class="MuiButtonBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary Mui-checked PrivateSwitchBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary Mui-checked Mui-checked css-byenzh-MuiButtonBase-root-MuiSwitch-switchBase"
  >
    <input
      checked=""
      class="PrivateSwitchBase-input MuiSwitch-input css-1m9pwf3"
      type="checkbox"
      value="On"
    />
    <span
      class="MuiSwitch-thumb css-jsexje-MuiSwitch-thumb"
    />
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </span>
  <span
    class="MuiSwitch-track css-1yjjitx-MuiSwitch-track"
  />
</span>
`;

exports[`<InputToggle /> Default story renders snapshot 1`] = `
<span
  class="MuiSwitch-root MuiSwitch-sizeMedium css-hcrspq-MuiSwitch-root"
>
  <span
    class="MuiButtonBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary PrivateSwitchBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary css-byenzh-MuiButtonBase-root-MuiSwitch-switchBase"
    width="62"
  >
    <input
      aria-label="Input Toggle"
      class="PrivateSwitchBase-input MuiSwitch-input css-1m9pwf3"
      type="checkbox"
      value="Off"
    />
    <span
      class="MuiSwitch-thumb css-jsexje-MuiSwitch-thumb"
    />
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </span>
  <span
    class="MuiSwitch-track css-1yjjitx-MuiSwitch-track"
  />
</span>
`;
</file>

<file path="packages/components/src/core/InputToggle/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<InputToggle />", () => {
  generateSnapshots(stories);

  it("renders", () => {
    render(<Test {...Test.args} />);
    const InputToggleElement = screen.getByTestId("test-toggle");
    expect(InputToggleElement).not.toBeNull();
  });
});
</file>

<file path="packages/components/src/core/InputToggle/__tests__/InputToggle.namespace-test.tsx">
import { InputToggle, InputToggleProps } from "@czi-sds/components";
import React from "react";

const InputToggleNameSpaceTest = (props: InputToggleProps) => {
  return <InputToggle disabled={false} />;
};
</file>

<file path="packages/components/src/core/InputToggle/index.tsx">
import React, { useState } from "react";
import { InputToggleExtraProps, Toggle } from "./style";

/**
 * @see https://mui.com/material-ui/react-switch/
 */
const InputToggle = (props: InputToggleExtraProps) => {
  const isControlled = props.checked !== undefined;

  const [checked, setChecked] = useState<boolean>(false);

  const finalChecked = isControlled ? props.checked : checked;

  const { offLabel = "Off", onChange, onLabel = "On", ...rest } = props;

  const labelValue = finalChecked ? onLabel : offLabel;

  const handleChange = (e: React.ChangeEvent) => {
    setChecked((currentChecked) => !currentChecked);

    onChange?.(e);
  };

  return (
    <Toggle
      checked={finalChecked}
      color="primary"
      onChange={handleChange}
      value={labelValue}
      {...rest}
    />
  );
};

export type { InputToggleExtraProps as InputToggleProps };

export default InputToggle;
</file>

<file path="packages/components/src/core/InputToggle/style.ts">
import { Switch, SwitchProps, switchClasses } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  focusVisibleA11yStyle,
  fontBodyXs,
  getBorders,
  getCorners,
  getIconSizes,
  getSemanticColors,
  getShadows,
  getSpaces,
} from "src/core/styles";

export interface InputToggleExtraProps extends SwitchProps, CommonThemeProps {
  offLabel?: string;
  onChange?(e: React.ChangeEvent): void;
  onLabel?: string;
  width?: number;
}

const toggle = (props: InputToggleExtraProps) => {
  const { disabled, width = 62 } = props;
  const corners = getCorners(props);
  const shadows = getShadows(props);
  const iconSizes = getIconSizes(props);
  const semanticColors = getSemanticColors(props);

  return `
    cursor: ${disabled ? "default" : "pointer"};
    border-radius: ${corners?.l}px;
    height: 24px;
    width: ${width}px;
    line-height: 18px;
    padding: 0;
    overflow: visible;

    .${switchClasses.switchBase} {
      ${focusVisibleA11yStyle(props)}
      outline-offset: 2px !important;
      width: 100%;
      height: 100%;
      border-radius: ${corners?.l}px;
      font: inherit;
      transform: unset;
      justify-content: space-between;

      .${switchClasses.input} {
        width: 100%;
        height: 100%;
        left: 0;
      }

      &.${switchClasses.checked} {
        transform: unset;
      }

      &:hover {
        background-color: transparent;
      }
    }

    .${switchClasses.thumb} {
      height: ${iconSizes?.s?.height}px;
      width: ${iconSizes?.s?.width}px;
      min-width: ${iconSizes?.s?.width}px;
      box-shadow: ${shadows?.none};
    }

    .${switchClasses.track} {
      // background-color: ${semanticColors?.base?.backgroundPrimary};
      opacity: 1;
      border-radius: ${corners?.l}px;
    }
  `;
};

const toggleOn = (props: InputToggleExtraProps) => {
  const { disabled, value } = props;
  const borders = getBorders(props);
  const spaces = getSpaces(props);
  const semanticColors = getSemanticColors(props);

  return `
    & {
      outline: ${disabled ? borders?.base?.disabled : borders?.accent?.default};
    }

    .${switchClasses.thumb} {
      color: ${disabled ? semanticColors?.base?.ornamentDisabled : semanticColors?.accent?.ornament};
      margin-left: ${spaces?.m}px;
    }

    .${switchClasses.switchBase} {
      left: unset;
      right: 0;
      transform: unset;
      padding: 0 ${spaces?.xxs}px 0 ${spaces?.xs}px;

      .MuiIconButton-label {
        margin-left: ${spaces?.s}px;
      }

      &:before {
        color: ${disabled ? semanticColors?.base?.textDisabled : semanticColors?.base?.textPrimary};
        content: "${value}";
      }
    }

    .${switchClasses.track} {
      background-color: transparent !important;
      opacity: 1 !important;
    }

    ${
      !disabled &&
      `&:hover {
        outline: ${borders?.accent?.hover};

        .${switchClasses.thumb} {
          color: ${semanticColors?.accent?.ornamentHover};
        }
      }`
    }
  `;
};

const toggleOff = (props: InputToggleExtraProps) => {
  const { disabled, value } = props;
  const borders = getBorders(props);
  const spaces = getSpaces(props);
  const semanticColors = getSemanticColors(props);

  return `
    & {
      outline: ${disabled ? borders?.base?.disabled : borders?.base?.default};
    }

    .${switchClasses.thumb} {
      color: ${
        disabled
          ? semanticColors?.base?.ornamentDisabled
          : semanticColors?.base?.ornamentSecondary
      };
      margin-right: ${spaces?.m}px;
    }

    .${switchClasses.switchBase} {
      right: unset;
      left: 0;
      transform: unset;
      padding: 0 ${spaces?.xs}px 0 ${spaces?.xxs}px;

      .MuiIconButton-label {
        margin-right: ${spaces?.s}px;
      }

      &:after {
        color: ${disabled ? semanticColors?.base?.textDisabled : semanticColors?.base?.textSecondary};
        content: "${value}";
      }
    }

    &:hover {
      .${switchClasses.switchBase} {
        &:after {
          color: ${disabled ? semanticColors?.base?.textDisabled : semanticColors?.base?.textPrimary};
        }
      }
    }

    .${switchClasses.track} {
      background-color: transparent !important;
      opacity: 1 !important;
    }

    ${
      !disabled &&
      `&:hover {
        outline: ${borders?.base?.hover};

        .${switchClasses.thumb} {
          color: ${semanticColors?.base?.ornamentSecondaryHover};
        }
      }`
    }
  `;
};

export const Toggle = styled(Switch)`
  ${fontBodyXs}
  ${(props: InputToggleExtraProps) => {
    const { checked } = props;

    return `
      ${toggle(props)}
      ${checked ? toggleOn(props) : toggleOff(props)}
    `;
  }}
` as typeof Switch;
</file>

<file path="packages/components/src/core/Link/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawLink from "src/core/Link";

export const Link = (props: Args): JSX.Element => {
  const { sdsStyle } = props;
  return (
    <RawLink href="/" sdsStyle={sdsStyle} {...props}>
      Test Link
    </RawLink>
  );
};
</file>

<file path="packages/components/src/core/Link/__storybook__/stories/longText.tsx">
import { Typography } from "@mui/material";
import { LONG_LOREM_IPSUM } from "src/common/storybook/loremIpsum";
import RawLink from "src/core/Link";

export const LongerTextDemo = (): JSX.Element => {
  return (
    <>
      <Typography variant="h4" sx={{ mb: 2 }}>
        Default Link with Long Text
      </Typography>
      <RawLink href="#" sdsStyle="default">
        {LONG_LOREM_IPSUM}
      </RawLink>

      <Typography variant="h4" sx={{ mb: 2, mt: 6 }}>
        Dashed Link with Long Text
      </Typography>
      <RawLink href="#" sdsStyle="dashed">
        {LONG_LOREM_IPSUM}
      </RawLink>
    </>
  );
};
</file>

<file path="packages/components/src/core/Link/__storybook__/stories/screenshot.tsx">
import RawLink from "src/core/Link";

export const ScreenshotTestDemo = (): JSX.Element => {
  const FONT_WEIGHTS = ["normal", "bold"];
  const SDS_SIZES = ["xs", "s"];
  const SDS_STYLES = ["default", "dashed"];
  const PSEUDO_STATES = ["default", "hover", "active", "focus"];

  // loop through all SDS_SIZES
  return (
    <>
      {SDS_SIZES.map((sdsSize) => {
        return <LinkSize sdsSize={sdsSize} key={sdsSize} />;
      })}
    </>
  );

  function LinkSize({ sdsSize }: { sdsSize: (typeof SDS_SIZES)[number] }) {
    const STYLE_LEVEL: React.CSSProperties = {
      fontFamily: "sans-serif",
      marginRight: 50,
    };
    const STYLE_LABEL: React.CSSProperties = {
      borderWidth: 2,
      fontSize: "2em",
      marginBottom: 0,
    };
    return (
      <div style={STYLE_LEVEL}>
        <p style={STYLE_LABEL}>
          Size: <b>{sdsSize}</b>
        </p>
        {FONT_WEIGHTS.map((fontWeight) => {
          return (
            <LinkWeight
              fontWeight={fontWeight}
              key={fontWeight}
              sdsSize={sdsSize}
            />
          );
        })}
      </div>
    );
  }

  function LinkWeight({
    fontWeight,
    sdsSize,
  }: {
    fontWeight: (typeof FONT_WEIGHTS)[number];
    sdsSize: (typeof SDS_SIZES)[number];
  }) {
    const STYLE_LEVEL: React.CSSProperties = {
      width: "fit-content",
    };
    const STYLE_LABEL: React.CSSProperties = {
      borderStyle: "solid none none none",
      borderWidth: 2,
      fontSize: "1.17em",
      margin: "20px 0 5px 0",
      paddingTop: "10px",
    };
    return (
      <div style={STYLE_LEVEL}>
        <p style={STYLE_LABEL}>
          Font Weight: <b>{fontWeight}</b>
        </p>
        {SDS_STYLES.map((sdsStyle) => {
          return (
            <LinkStyle
              sdsStyle={sdsStyle}
              sdsSize={sdsSize}
              fontWeight={fontWeight}
              key={sdsStyle}
            />
          );
        })}
      </div>
    );
  }

  // loop through all PSEUDO_STATES + create headers for SDS_STYLES, PSEUDO_STATES
  function LinkStyle({
    fontWeight,
    sdsStyle,
    sdsSize,
  }: {
    fontWeight: (typeof FONT_WEIGHTS)[number];
    sdsStyle: (typeof SDS_STYLES)[number];
    sdsSize: (typeof SDS_SIZES)[number];
  }) {
    const STYLE_LEVEL: React.CSSProperties = {
      columnGap: "20px",
      display: "grid",
      width: "fit-content",
    };
    const STYLE_LABEL: React.CSSProperties = {
      borderStyle: "solid none none none",
      borderWidth: 1,
      fontSize: "0.83em",
      gridColumn: "1 / 5",
      margin: "10px 0 5px 0",
      paddingTop: "10px",
    };
    const PSEUDO_STATE_LABEL: React.CSSProperties = {
      fontSize: "0.67em",
      marginBottom: 15,
    };
    return (
      <div style={STYLE_LEVEL}>
        <p style={STYLE_LABEL}>
          Style: <b>{sdsStyle}</b>
        </p>
        {PSEUDO_STATES.map((state) => {
          return (
            <div key={`div-${state}`}>
              <p style={PSEUDO_STATE_LABEL}>
                State: <b>{state}</b>
              </p>
              <RawLink
                href="/"
                sdsStyle={sdsStyle}
                sdsSize={sdsSize}
                fontWeight={fontWeight}
                className={`pseudo-${state}`}
                key={state}
              >
                Link
              </RawLink>
            </div>
          );
        })}
      </div>
    );
  }
};
</file>

<file path="packages/components/src/core/Link/__storybook__/constants.ts">
export const LINK_EXCLUDED_CONTROLS = ["sdsSize", "sdsStyle", "fontWeight"];
</file>

<file path="packages/components/src/core/Link/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Link } from "./stories/default";
import { LINK_EXCLUDED_CONTROLS } from "./constants";
import { ScreenshotTestDemo } from "./stories/screenshot";
import { LongerTextDemo } from "./stories/longText";

export default {
  argTypes: {
    fontWeight: {
      control: {
        type: "radio",
      },
      options: ["normal", "bold"],
    },
    sdsSize: {
      control: { type: "select" },
      options: ["s", "xs"],
    },
    sdsStyle: {
      control: { type: "select" },
      options: ["default", "dashed"],
    },
  },
  component: Link,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Link",
} as Meta;

// Default

export const Default = {
  args: {
    fontWeight: "normal",
    sdsSize: "s",
    sdsStyle: "default",
  },
};

// Longer Text

export const LongerText = {
  render: () => LongerTextDemo(),
};

// Screenshot test

export const ScreenshotTest = {
  parameters: {
    controls: {
      exclude: LINK_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ScreenshotTestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/Link/__storybook__/style.ts">
import styled from "@emotion/styled";
import { fontBodyS } from "src/core/styles";

export const StyledWrapper = styled("div")`
  ${fontBodyS}

  display: grid;
  grid-column-gap: 24px;
  grid-template-columns: repeat(3, 250px);
`;
</file>

<file path="packages/components/src/core/Link/__tests__/Link.namespace-test.tsx">
import { Link, LinkProps } from "@czi-sds/components";
import React from "react";

const LinkNameSpaceTest = (props: LinkProps) => {
  return (
    <Link href="/" sdsStyle="default">
      Test Link
    </Link>
  );
};
</file>

<file path="packages/components/src/core/Link/index.tsx">
import React, { ForwardedRef, forwardRef } from "react";
import { LinkProps as RawLinkProps, StyledLink } from "./style";

export type LinkProps<C extends React.ElementType = "a"> = RawLinkProps<C> & {
  fontWeight?: "normal" | "bold";
  sdsSize?: "xs" | "s";
};

/**
 * @see https://mui.com/material-ui/react-link/
 */
const Link = forwardRef(
  <C extends React.ElementType>(
    props: LinkProps<C>,
    ref: ForwardedRef<HTMLAnchorElement>
  ) => {
    const { sdsStyle } = props;
    let underline: LinkProps["underline"];

    if (sdsStyle === "default") {
      underline = "none";
    }

    return <StyledLink {...props} underline={underline} ref={ref} />;
  }
);

export default Link;
</file>

<file path="packages/components/src/core/Link/style.ts">
import { css } from "@emotion/react";
import { Link, LinkProps as RawLinkProps } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps as StyleProps,
  focusVisibleA11yStyle,
  fontBodyS,
  fontBodyXs,
  getSemanticColors,
} from "src/core/styles";

// (thuang): Support `component` prop
// https://stackoverflow.com/a/66123108
export type LinkProps<C extends React.ElementType = "a"> = RawLinkProps<
  C,
  { component?: C }
> &
  StyleProps & {
    fontWeight?: "normal" | "bold";
    sdsStyle?: "default" | "dashed";
    sdsSize?: "xs" | "s";
  };

const doNotForwardProps = ["sdsStyle", "sdsSize", "fontWeight"];

const defaultStyle = (props: LinkProps) => {
  const semanticColors = getSemanticColors(props);

  return css`
    color: ${semanticColors?.accent?.textAction};
    position: relative;
    text-decoration: none;
    text-underline-offset: 2.5px;

    &:hover {
      color: ${semanticColors?.accent?.textActionHover};
      text-decoration: underline;
    }

    &:focus {
      color: ${semanticColors?.accent?.textActionHover};
      text-decoration: underline;
    }

    &:active {
      color: ${semanticColors?.accent?.textActionPressed};
      text-decoration: underline;
    }
  `;
};

const dashedStyle = () => {
  return css`
    color: inherit;
    position: relative;
    text-decoration: underline dashed;
    text-underline-offset: 2.5px;

    &:hover,
    &:focus,
    &:active,
    &:focus-visible {
      text-decoration-style: solid;
    }
  `;
};

const smallStyle = (props: LinkProps) => {
  return fontBodyS(props);
};

const extraSmallStyle = (props: LinkProps) => {
  return fontBodyXs(props);
};

export const StyledLink = styled(Link, {
  shouldForwardProp: (prop) => {
    return !doNotForwardProps.includes(prop.toString());
  },
})`
  all: unset;

  ${focusVisibleA11yStyle}

  ${(props: LinkProps) => {
    const { fontWeight = "normal", sdsStyle, sdsSize = "s" } = props;

    return css`
      ${sdsStyle === "default" && defaultStyle(props)}
      ${sdsStyle === "dashed" && dashedStyle()}
      ${sdsSize === "s" && smallStyle(props)}
      ${sdsSize === "xs" && extraSmallStyle(props)}

      font-weight: ${fontWeight === "normal" ? "400" : "600"};
      display: inline-block;
      cursor: pointer;
    `;
  }}
` as typeof Link;
</file>

<file path="packages/components/src/core/List/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawList from "src/core/List";
import ListSubheader from "src/core/List/components/ListSubheader";
import ListItem from "src/core/List/components/ListItem";

export const List = (props: Args): JSX.Element => {
  return (
    <div>
      <RawList
        subheader={
          <ListSubheader disableSticky>
            Font sizes and spacing for an unordered list
          </ListSubheader>
        }
        {...props}
      >
        <ListItem fontSize="l" marginBottom="s">
          fontSize=l marginBottom=s
        </ListItem>
        <ListItem fontSize="m" marginBottom="s">
          fontSize=m marginBottom=s
        </ListItem>
        <ListItem fontSize="s" marginBottom="xs">
          fontSize=s marginBottom=xs
        </ListItem>
        <ListItem fontSize="xs" marginBottom="xs">
          fontSize=xs marginBottom=xs
        </ListItem>
        <ListItem fontSize="xxs" marginBottom="xs">
          fontSize=xxs marginBottom=xs
        </ListItem>
        <ListItem fontSize="xxxs" marginBottom="xxs">
          fontSize=xxxs marginBottom=xxs
        </ListItem>
        <ListItem fontSize="m">
          <div style={{ width: "200px" }}>
            Really long list item here to make it wrap, so we can see if the
            bullet is top aligned
          </div>
        </ListItem>
      </RawList>
      <br />
      <br />
      <RawList
        ordered
        subheader={
          <ListSubheader disableSticky>
            Font sizes and spacing for a nested ordered list
          </ListSubheader>
        }
        {...props}
      >
        <ListItem ordered>
          <span>
            Nested List 1
            <RawList ordered>
              <ListItem ordered fontSize="l" marginBottom="s">
                fontSize=l marginBottom=s
              </ListItem>
              <ListItem ordered fontSize="m" marginBottom="s">
                fontSize=m marginBottom=s
              </ListItem>
              <ListItem ordered fontSize="s" marginBottom="xs">
                fontSize=s marginBottom=xs
              </ListItem>
            </RawList>
          </span>
        </ListItem>
        <ListItem ordered>
          <span>
            Nested List 2
            <RawList ordered>
              <ListItem ordered fontSize="l">
                <span>
                  Nested List 2
                  <RawList ordered>
                    <ListItem ordered fontSize="l" marginBottom="s">
                      fontSize=l marginBottom=s
                    </ListItem>
                    <ListItem ordered fontSize="m" marginBottom="s">
                      fontSize=m marginBottom=s
                    </ListItem>
                    <ListItem ordered fontSize="s" marginBottom="xs">
                      fontSize=s marginBottom=xs
                    </ListItem>
                  </RawList>
                </span>
              </ListItem>
              <ListItem ordered fontSize="m" marginBottom="s">
                fontSize=m marginBottom=s
              </ListItem>
              <ListItem ordered fontSize="s" marginBottom="xs">
                fontSize=s marginBottom=xs
              </ListItem>
            </RawList>
          </span>
        </ListItem>
        <ListItem ordered>
          <span>
            Nested List 3
            <RawList ordered>
              <ListItem ordered fontSize="l" marginBottom="s">
                fontSize=l marginBottom=s
              </ListItem>
              <ListItem ordered fontSize="m" marginBottom="s">
                fontSize=m marginBottom=s
              </ListItem>
              <ListItem ordered fontSize="s" marginBottom="xs">
                fontSize=s marginBottom=xs
              </ListItem>
            </RawList>
          </span>
        </ListItem>
      </RawList>
      <br />
      <br />
      <RawList
        ordered
        subheader={
          <ListSubheader disableSticky>This is an ordered list</ListSubheader>
        }
        {...props}
      >
        <ListItem ordered>This is an ordered list item 1.</ListItem>
        <ListItem ordered>This is an ordered list item 2.</ListItem>
        <ListItem ordered>This is an ordered list item 3.</ListItem>
        <ListItem ordered>This is an ordered list item 4.</ListItem>
        <ListItem ordered>This is an ordered list item 5.</ListItem>
        <ListItem ordered>This is an ordered list item 6.</ListItem>
        <ListItem ordered>This is an ordered list item 7.</ListItem>
        <ListItem ordered>This is an ordered list item 8.</ListItem>
        <ListItem ordered>This is an ordered list item 9.</ListItem>
        <ListItem ordered>This is an ordered list item 10.</ListItem>
        <ListItem ordered>This is an ordered list item 11.</ListItem>
      </RawList>
      <br />
      <br />
      <RawList
        ordered
        subheader={
          <ListSubheader disableSticky>This is an unordered list</ListSubheader>
        }
        {...props}
      >
        <ListItem>This is an unordered list item 1.</ListItem>
        <ListItem>This is an unordered list item 2.</ListItem>
        <ListItem>This is an unordered list item 3.</ListItem>
        <ListItem>This is an unordered list item 4.</ListItem>
        <ListItem>This is an unordered list item 5.</ListItem>
        <ListItem>This is an unordered list item 6.</ListItem>
        <ListItem>This is an unordered list item 7.</ListItem>
        <ListItem>This is an unordered list item 8.</ListItem>
        <ListItem>This is an unordered list item 9.</ListItem>
        <ListItem>This is an unordered list item 10.</ListItem>
        <ListItem>This is an unordered list item 11.</ListItem>
      </RawList>
      <RawList
        ordered
        subheader={
          <ListSubheader disableSticky>
            Font sizes and spacing for a nested ordered list
          </ListSubheader>
        }
        {...props}
      >
        <ListItem ordered>
          <span>
            Nested List 1
            <RawList ordered>
              <ListItem ordered>Nested List item</ListItem>
              <ListItem ordered>Nested List item</ListItem>
              <ListItem ordered>Nested List item</ListItem>
            </RawList>
          </span>
        </ListItem>
        <ListItem ordered>
          <span>
            Nested List 2
            <RawList ordered>
              <ListItem ordered>
                <span>
                  Nested List 2
                  <RawList ordered>
                    <ListItem ordered>Nested List item</ListItem>
                    <ListItem ordered>Nested List item</ListItem>
                    <ListItem ordered>Nested List item</ListItem>
                    <ListItem ordered>Nested List item</ListItem>
                    <ListItem ordered>Nested List item</ListItem>
                    <ListItem ordered>Nested List item</ListItem>
                    <ListItem ordered>Nested List item</ListItem>
                    <ListItem ordered>Nested List item</ListItem>
                    <ListItem ordered>Nested List item</ListItem>
                    <ListItem ordered>Nested List item</ListItem>
                    <ListItem ordered>Nested List item</ListItem>
                  </RawList>
                </span>
              </ListItem>
              <ListItem ordered>Nested List item</ListItem>
              <ListItem ordered>Nested List item</ListItem>
            </RawList>
          </span>
        </ListItem>
        <ListItem ordered>
          <span>
            Nested List 3
            <RawList ordered>
              <ListItem ordered>Nested List item</ListItem>
              <ListItem ordered>Nested List item</ListItem>
              <ListItem ordered>Nested List item</ListItem>
            </RawList>
          </span>
        </ListItem>
      </RawList>
    </div>
  );
};
</file>

<file path="packages/components/src/core/List/__storybook__/index.stories.tsx">
import { Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { List } from "./stories/default";

export default {
  component: List,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/List",
} as Meta;

// Default

export const Default = {};
</file>

<file path="packages/components/src/core/List/__tests__/List.namespace-test.tsx">
import { List, ListItem, ListProps, ListSubheader } from "@czi-sds/components";
import React from "react";

const ListSpaceTest = (props: ListProps) => {
  return (
    <List
      subheader={
        <ListSubheader disableSticky>
          Font sizes and spacing for an unordered list
        </ListSubheader>
      }
    >
      <ListItem fontSize="l" marginBottom="s">
        fontSize=l marginBottom=s
      </ListItem>
    </List>
  );
};
</file>

<file path="packages/components/src/core/List/components/ListItem/__tests__/ListItem.namespace-test.tsx">
import { ListItem, ListItemProps } from "@czi-sds/components";
import React from "react";

const ListItemSpaceTest = (props: ListItemProps) => {
  return (
    <ListItem fontSize="l" marginBottom="s">
      fontSize=l marginBottom=s
    </ListItem>
  );
};
</file>

<file path="packages/components/src/core/List/components/ListItem/index.tsx">
import { ListItemProps as RawListItemProps } from "@mui/material";
import { ListItemExtraProps, ListItemLabel, StyledListItem } from "./style";

export { ListItemLabel };

export type ListItemProps = RawListItemProps & ListItemExtraProps;

/**
 * @see https://mui.com/material-ui/react-list/
 */
const ListItem = (props: ListItemProps): JSX.Element => {
  return <StyledListItem disableGutters {...props} />;
};

export default ListItem;
</file>

<file path="packages/components/src/core/List/components/ListItem/style.ts">
import { SerializedStyles } from "@emotion/react";
import { ListItem } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBody,
  getFontWeights,
  getSpaces,
} from "src/core/styles";

const fontBodyL = fontBody("l");
const fontBodyM = fontBody("m");
const fontBodyS = fontBody("s");
const fontBodyXs = fontBody("xs");
const fontBodyXxs = fontBody("xxs");
const fontBodyXxxs = fontBody("xxxs");

export interface ListItemExtraProps extends CommonThemeProps {
  marginBottom?: "s" | "xs" | "xxs";
  fontSize?: "xxxs" | "xxs" | "xs" | "s" | "m" | "l";
  ordered?: boolean;
}

// (thuang): Please keep this in sync with the props used in `ListItemExtraProps`
const doNotForwardProps = ["marginBottom", "fontSize", "ordered"];

export const StyledListItem = styled(ListItem, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${propsToMarginBottom}
  ${propsToFontBody}

  padding: 0;

  ${(props) => {
    const { ordered } = props;

    return `
      align-items: flex-start;
      ${ordered ? "counter-increment: section;" : ""}
    `;
  }}

  &:before {
    display: inline-block;

    ${(props) => {
      const spaces = getSpaces(props);
      const fontWeights = getFontWeights(props);
      const { ordered } = props;

      return `        
        font-weight: ${fontWeights?.semibold};
        content: ${ordered ? `counters(section, ".")"."` : `"•"`};
        margin-right: ${ordered ? spaces?.xs : spaces?.s}px;
      `;
    }}
  }
`;

function propsToFontBody(props: ListItemExtraProps) {
  const propsToFontBodyMap: Record<
    NonNullable<ListItemExtraProps["fontSize"]>,
    (props: CommonThemeProps) => SerializedStyles | null
  > = {
    l: fontBodyL,
    m: fontBodyM,
    s: fontBodyS,
    xs: fontBodyXs,
    xxs: fontBodyXxs,
    xxxs: fontBodyXxxs,
  };

  const { fontSize } = props;

  return propsToFontBodyMap[fontSize || "s"];
}

function propsToMarginBottom(props: ListItemExtraProps) {
  const spaces = getSpaces(props);

  const propsToMarginBottomMap: Record<
    NonNullable<ListItemExtraProps["marginBottom"]>,
    number | undefined
  > = {
    s: spaces?.s,
    xs: spaces?.xs,
    xxs: spaces?.xxs,
  };

  const { marginBottom } = props;

  return `
    margin-bottom: ${propsToMarginBottomMap[marginBottom || "xs"]}px;
  `;
}

export const ListItemLabel = styled("span")`
  margin-right: 5px;

  ${(props: CommonThemeProps) => {
    const fontWeights = getFontWeights(props);

    return `
      font-weight: ${fontWeights?.semibold};
    `;
  }}
`;
</file>

<file path="packages/components/src/core/List/components/ListSubheader/__tests__/ListSubheader.namespace-test.tsx">
import { ListSubheader, ListSubheaderProps } from "@czi-sds/components";
import React from "react";

const ListSubheaderNameSpaceTest = (props: ListSubheaderProps) => {
  return (
    <ListSubheader disableSticky>
      Font sizes and spacing for an unordered list
    </ListSubheader>
  );
};
</file>

<file path="packages/components/src/core/List/components/ListSubheader/index.tsx">
import { ListSubheaderProps as RawListSubheaderProps } from "@mui/material";
import { StyledListSubheader } from "./style";

export type ListSubheaderProps = RawListSubheaderProps;

/**
 * @see https://mui.com/material-ui/react-list/
 */
const ListSubheader = (props: ListSubheaderProps): JSX.Element => {
  return <StyledListSubheader disableGutters {...props} />;
};

export default ListSubheader;
</file>

<file path="packages/components/src/core/List/components/ListSubheader/style.ts">
import { ListSubheader } from "@mui/material";
import styled from "@emotion/styled";
import { fontHeader, getSpaces } from "src/core/styles";

const fontHeaderM = fontHeader("m");

export const StyledListSubheader = styled(ListSubheader)`
  &.MuiListSubheader-root {
    ${fontHeaderM}

    line-height: unset;
    color: unset;

    ${(props) => {
      const spaces = getSpaces(props);

      return `
        margin-bottom: ${spaces?.l}px;
      `;
    }}
  }
`;
</file>

<file path="packages/components/src/core/List/index.tsx">
import { ListProps as RawListProps } from "@mui/material";
import { ListExtraProps, StyledList } from "./style";

export type ListProps = ListExtraProps & RawListProps;

/**
 * @see https://mui.com/material-ui/react-list/
 */
const List = (props: ListProps): JSX.Element => {
  const { ordered } = props;

  return (
    <StyledList component={ordered ? "ol" : "ul"} disablePadding {...props} />
  );
};

export default List;
</file>

<file path="packages/components/src/core/List/style.ts">
import { List } from "@mui/material";
import styled from "@emotion/styled";
import { CommonThemeProps, getSpaces } from "src/core/styles";

export interface ListExtraProps extends CommonThemeProps {
  component?: unknown;
  marginBottom?: "xxxs" | "xxs" | "xs" | "s" | "m" | "l";
  ordered?: boolean;
}

// (thuang): Please keep this in sync with the props used in `ListExtraProps`
const doNotForwardProps = ["marginBottom", "ordered"];

export const StyledList = styled(List, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  .MuiListSubheader-root {
    ${propsToMarginBottom}
  }

  ${(props: ListExtraProps) => {
    if (!props.ordered) return "";

    return `
      counter-reset: section;
    `;
  }}
`;

function propsToMarginBottom(props: ListExtraProps) {
  const spaces = getSpaces(props);

  const propsToMarginBottomMap: Record<
    NonNullable<ListExtraProps["marginBottom"]>,
    number | undefined
  > = {
    l: spaces?.l,
    m: spaces?.l,
    s: spaces?.m,
    xs: spaces?.m,
    xxs: spaces?.m,
    xxxs: spaces?.s,
  };

  const { marginBottom } = props;

  return `
    margin-bottom: ${propsToMarginBottomMap[marginBottom || "s"]}px;
  `;
}
</file>

<file path="packages/components/src/core/LoadingIndicator/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawLoadingIndicator from "src/core/LoadingIndicator";

export const LoadingIndicator = (props: Args): JSX.Element => {
  const { sdsStyle } = props;
  return <RawLoadingIndicator sdsStyle={sdsStyle} {...props} />;
};
</file>

<file path="packages/components/src/core/LoadingIndicator/__storybook__/stories/livePreview.tsx">
import { Args } from "@storybook/react";
import { LIST_LIVE_PREVIEW_STYLES } from "../constants";
import RawLoadingIndicator from "src/core/LoadingIndicator";
import { useTheme } from "@mui/material";
import { getSpaces } from "src/core/styles";

export const LivePreviewDemo = (props: Args): JSX.Element => {
  const theme = useTheme();
  const spaces = getSpaces({ theme });

  return (
    <div style={LIST_LIVE_PREVIEW_STYLES as React.CSSProperties}>
      <div
        style={{
          marginBottom: spaces?.l,
          marginRight: spaces?.l,
          marginTop: spaces?.l,
        }}
      >
        <RawLoadingIndicator sdsStyle="minimal" {...props} />
      </div>
      <div
        style={{
          marginBottom: spaces?.l,
          marginRight: spaces?.l,
          marginTop: spaces?.l,
        }}
      >
        <RawLoadingIndicator sdsStyle="tag" {...props} />
      </div>
    </div>
  );
};
</file>

<file path="packages/components/src/core/LoadingIndicator/__storybook__/stories/screenReader.tsx">
import { FormControlLabel } from "@mui/material";
import { useState } from "react";
import InputToggle from "src/core/InputToggle";
import RawLoadingIndicator from "src/core/LoadingIndicator";

export const ScreenReaderDemo = (): JSX.Element => {
  const [loading, setLoading] = useState(true);

  const handleChange = () => {
    setLoading((prev) => !prev);
  };

  return (
    <>
      <FormControlLabel
        control={<InputToggle checked={loading} onChange={handleChange} />}
        label="Toggle Loading"
        sx={{
          "& .MuiSwitch-root": {
            mr: "12px",
          },
          margin: "0 0 16px 0",
        }}
      />
      <fieldset>
        <legend>aria-live region</legend>
        <div role="region" id="loading-indicator" aria-live="polite">
          {loading ? (
            <>
              <p>The content is being loaded!</p>
              <RawLoadingIndicator sdsStyle="tag" />
            </>
          ) : (
            <>
              <p>Loading has finished!</p>
            </>
          )}
        </div>
      </fieldset>
    </>
  );
};
</file>

<file path="packages/components/src/core/LoadingIndicator/__storybook__/constants.ts">
export const LIST_EXCLUDED_CONTROLS = ["sdsStyle"];

export const LIST_LIVE_PREVIEW_STYLES = {
  display: "grid",
  gridColumnGap: "24px",
  gridRowGap: "0px",
  gridTemplateColumns: "repeat(2, 70px)",
  gridTemplateRows: "1fr",
};
</file>

<file path="packages/components/src/core/LoadingIndicator/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { LoadingIndicator } from "./stories/default";
import { LIST_EXCLUDED_CONTROLS } from "./constants";
import { LivePreviewDemo } from "./stories/livePreview";
import { ScreenReaderDemo } from "./stories/screenReader";

export default {
  argTypes: {
    sdsStyle: {
      control: { type: "select" },
      options: ["minimal", "tag"],
    },
  },
  component: LoadingIndicator,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/LoadingIndicator",
} as Meta;

// Default

export const Default = {
  args: {
    sdsStyle: "minimal",
  },
};

// Custom Aria Label

export const CustomAriaLabel = {
  args: {
    "aria-label": "Loading cats list...",
    sdsStyle: "minimal",
  },
  parameters: {
    controls: {
      exclude: LIST_EXCLUDED_CONTROLS,
    },
  },
};

// Screen Reader Demo

export const ScreenReaderTest = {
  parameters: {
    controls: {
      exclude: LIST_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ScreenReaderDemo {...args} />,
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: LIST_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <LivePreviewDemo {...args} />,
};
</file>

<file path="packages/components/src/core/LoadingIndicator/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<LoadingIndicator /> CustomAriaLabel story renders snapshot 1`] = `
<div
  aria-label="Loading"
  class="css-1o5w4es"
>
  <div
    class="css-1ft6wgl"
  >
    <svg
      aria-hidden="true"
      class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
      data-file-name="IconLoadingLarge"
      data-testid="IconLoadingLarge"
      fillcontrast="white"
      focusable="false"
      height="24"
      viewBox="0 0 24 24"
      width="24"
    />
  </div>
  <span
    aria-label="Loading cats list..."
    aria-live="polite"
    class="css-q6tdx9"
    role="status"
  >
    Loading
  </span>
</div>
`;

exports[`<LoadingIndicator /> Default story renders snapshot 1`] = `
<div
  aria-label="Loading"
  class="css-1o5w4es"
>
  <div
    class="css-1ft6wgl"
  >
    <svg
      aria-hidden="true"
      class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
      data-file-name="IconLoadingLarge"
      data-testid="IconLoadingLarge"
      fillcontrast="white"
      focusable="false"
      height="24"
      viewBox="0 0 24 24"
      width="24"
    />
  </div>
  <span
    aria-live="polite"
    class="css-q6tdx9"
    role="status"
  >
    Loading
  </span>
</div>
`;
</file>

<file path="packages/components/src/core/LoadingIndicator/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<LoadingIndicator />", () => {
  generateSnapshots(stories);

  it("renders loading indicator component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("IconLoadingLarge");
    expect(elements).toHaveLength(2);
  });
});
</file>

<file path="packages/components/src/core/LoadingIndicator/__tests__/LoadingIndicator.namespace-test.tsx">
import { LoadingIndicator, LoadingIndicatorProps } from "@czi-sds/components";
import React from "react";

const LoadingIndicatorNameSpaceTest = (props: LoadingIndicatorProps) => {
  return <LoadingIndicator sdsStyle="minimal" />;
};
</file>

<file path="packages/components/src/core/LoadingIndicator/index.tsx">
import Icon from "src/core/Icon";
import {
  LoadingIndicatorProps as RawLoadingIndicatorProps,
  StyledLoadingIndicator,
  StyledText,
} from "./style";

export type LoadingIndicatorProps = RawLoadingIndicatorProps & {
  "aria-label"?: string;
};

const LoadingIndicator = ({
  "aria-label": ariaLabel,
  sdsStyle,
}: LoadingIndicatorProps): JSX.Element => {
  return (
    <StyledLoadingIndicator sdsStyle={sdsStyle} aria-label="Loading">
      <Icon sdsIcon="Loading" sdsSize="l" />
      <StyledText aria-label={ariaLabel} aria-live="polite" role="status">
        Loading
      </StyledText>
    </StyledLoadingIndicator>
  );
};

export default LoadingIndicator;
</file>

<file path="packages/components/src/core/LoadingIndicator/style.ts">
import { css, SerializedStyles } from "@emotion/react";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBodyS,
  fontCapsXxxxs,
  getCorners,
  getIconSizes,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export interface LoadingIndicatorProps extends CommonThemeProps {
  sdsStyle: "minimal" | "tag";
}

export const StyledText = styled("span")`
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);

    return `
      margin: 0 ${spaces?.xs}px;
    `;
  }}
`;

const minimal = (props: CommonThemeProps): SerializedStyles => {
  const iconSizes = getIconSizes(props);
  const semanticColors = getSemanticColors(props);

  return css`
    ${fontBodyS(props)}

    color: ${semanticColors?.base?.textSecondary};

    svg {
      height: ${iconSizes?.s.height}px;
      width: ${iconSizes?.s.width}px;

      path {
        fill: ${semanticColors?.base?.ornamentSecondary};
      }
    }
  `;
};

const tag = (props: CommonThemeProps): SerializedStyles => {
  const corners = getCorners(props);
  const semanticColors = getSemanticColors(props);

  return css`
    ${fontCapsXxxxs(props)}

    background-color: ${semanticColors?.info?.surfaceSecondary};
    border-radius: ${corners?.l}px;
    color: ${semanticColors?.info?.text};

    svg {
      path {
        fill: ${semanticColors?.info?.ornament};
      }
    }
  `;
};

const doNotForwardProps = ["sdsStyle"];

export const StyledLoadingIndicator = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: LoadingIndicatorProps) => {
    const { sdsStyle } = props;
    const spaces = getSpaces(props);

    const style = css`
      display: inline-flex;
      align-items: center;
      padding: ${spaces?.xxs}px;
    `;

    return css`
      ${style}
      ${sdsStyle === "minimal" && minimal(props)}
      ${sdsStyle === "tag" && tag(props)}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Menu/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import React from "react";
import Button from "src/core/Button";
import MenuItem from "src/core/MenuItem";
import RawMenu from "src/core/Menu";

export const Menu = (props: Args): JSX.Element => {
  const [anchorEl, setAnchorEl] = React.useState<Element | null>(null);
  const open = Boolean(anchorEl);
  const handleClick: React.MouseEventHandler<HTMLButtonElement> = (event) => {
    setAnchorEl(event.currentTarget);
  };

  const handleClose = () => {
    setAnchorEl(null);
  };

  return (
    <div>
      <Button
        id="basic-button"
        sdsStyle="minimal"
        sdsType="secondary"
        onClick={handleClick}
        aria-controls={open ? "basic-menu" : undefined}
        aria-haspopup="true"
        aria-expanded={open ? true : undefined}
      >
        Click me!
      </Button>
      <RawMenu
        id="basic-menu"
        anchorEl={anchorEl}
        keepMounted
        open={open}
        onClose={handleClose}
        MenuListProps={{
          "aria-labelledby": "basic-button",
        }}
        role="listbox"
        {...props}
      >
        <MenuItem onClick={handleClose}>Contact us</MenuItem>
        <MenuItem onClick={handleClose}>Terms of Use</MenuItem>
        <MenuItem onClick={handleClose}>Privacy Policy</MenuItem>
        <MenuItem onClick={handleClose}>Logout</MenuItem>
      </RawMenu>
    </div>
  );
};
</file>

<file path="packages/components/src/core/Menu/__storybook__/index.stories.tsx">
import { Meta } from "@storybook/react";
import { Menu } from "./stories/default";
import { BADGE } from "@geometricpanda/storybook-addon-badges";

export default {
  component: Menu,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Dropdowns/Menu",
} as Meta;

// Default

export const Default = {};

// Custom Placement

export const CustomPlacement = {
  args: {
    anchorOrigin: {
      horizontal: "right",
      vertical: "bottom",
    },
    column: "column value",
    transformOrigin: {
      horizontal: "right",
      vertical: "top",
    },
  },
};
</file>

<file path="packages/components/src/core/Menu/__tests__/Menu.namespace-test.tsx">
import { Menu, MenuItem, MenuProps } from "@czi-sds/components";
import React from "react";
import { noop } from "src/common/utils";

const MenuNameSpaceTest = (props: MenuProps) => {
  return (
    <Menu anchorEl={null} keepMounted open onClose={noop}>
      <MenuItem onClick={noop}>Contact us</MenuItem>
    </Menu>
  );
};
</file>

<file path="packages/components/src/core/Menu/index.tsx">
import { PopoverOrigin, MenuProps as RawMenuProps } from "@mui/material";
import { StyledMenu } from "./style";

const ANCHOR_ORIGIN: PopoverOrigin = {
  horizontal: "center",
  vertical: "bottom",
};

const TRANSFORM_ORIGIN: PopoverOrigin = {
  horizontal: "center",
  vertical: "top",
};

export type MenuProps = RawMenuProps;

/**
 * @see https://mui.com/material-ui/react-menu/
 */
const Menu = (props: MenuProps): JSX.Element => {
  return (
    <StyledMenu
      anchorOrigin={ANCHOR_ORIGIN}
      transformOrigin={TRANSFORM_ORIGIN}
      {...props}
    />
  );
};

export default Menu;
</file>

<file path="packages/components/src/core/Menu/style.ts">
import { Menu, menuClasses } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export const StyledMenu = styled(Menu)`
  & {
    .${menuClasses.paper} {
      ${(props: CommonThemeProps) => {
        const spaces = getSpaces(props);
        const semanticColors = getSemanticColors(props);

        return `
          background-color: ${semanticColors?.base?.surface};
          background-image: none;
          padding: ${spaces?.xs}px;
        `;
      }}
    }

    .MuiList-padding {
      padding: 0;
    }
  }
`;
</file>

<file path="packages/components/src/core/MenuItem/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawMenuItem from "src/core/MenuItem";
import { DemoWrapper } from "../style";

export const MenuItem = (props: Args): JSX.Element => {
  const { name } = props;
  return (
    <DemoWrapper>
      <RawMenuItem data-testid="MenuItem" {...props}>
        {name}
      </RawMenuItem>
    </DemoWrapper>
  );
};
</file>

<file path="packages/components/src/core/MenuItem/__storybook__/stories/screenshot.tsx">
import { Args } from "@storybook/react";
import {
  MENU_ITEM_COLUMN_OPTIONS,
  MENU_ITEM_DISABLED_OPTIONS,
  MENU_ITEM_MULTI_SELECT_OPTIONS,
  MENU_ITEM_PSEUDO_STATES,
  MENU_ITEM_SCREENSHOT_ICON_OPTIONS,
  MENU_ITEM_SDS_STYLE_OPTIONS,
  MENU_ITEM_SELECTED_OPTIONS,
} from "../constants";
import RawMenuItem, { MenuItemProps } from "src/core/MenuItem";

export const ScreenshotTestDemo = (props: Args): JSX.Element => {
  const DISPLAY_CONTENTS: React.CSSProperties = {
    display: "contents",
  };
  const MID_LABEL: React.CSSProperties = {
    borderStyle: "solid none none none",
    gridColumn: "1 / 6",
    justifySelf: "stretch",
    paddingTop: 10,
  };

  // loop through all MULTI_SELECT_OPTIONS
  return (
    <>
      {MENU_ITEM_MULTI_SELECT_OPTIONS.map((isMultiSelect) => {
        return (
          <MenuItemMultiSelect
            isMultiSelect={isMultiSelect}
            key={String(isMultiSelect)}
          />
        );
      })}
    </>
  );

  // loop through all COLUMN_OPTIONS + create headers for MULTI_SELECT_OPTIONS
  function MenuItemMultiSelect({
    isMultiSelect,
  }: {
    isMultiSelect: (typeof MENU_ITEM_MULTI_SELECT_OPTIONS)[number];
  }) {
    const LEVEL_STYLE: React.CSSProperties = {
      columnGap: "20px",
      display: "inline-grid",
      fontFamily: "sans-serif",
      marginRight: "50px",
    };
    const LABEL_STYLE: React.CSSProperties = {
      fontSize: "2em",
      gridColumn: "1 / 6",
      marginBottom: 10,
    };

    return (
      <div style={LEVEL_STYLE}>
        <p style={LABEL_STYLE}>
          Multi-select: <b>{isMultiSelect ? "yes" : "no"}</b>
        </p>
        {MENU_ITEM_COLUMN_OPTIONS.map((column) => {
          return (
            <MenuItemColumn
              isMultiSelect={isMultiSelect}
              column={column}
              key={String(column)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all ICON_OPTIONS + create headers for COLUMN_OPTIONS
  function MenuItemColumn({
    isMultiSelect,
    column,
  }: {
    isMultiSelect: (typeof MENU_ITEM_MULTI_SELECT_OPTIONS)[number];
    column: (typeof MENU_ITEM_COLUMN_OPTIONS)[number];
  }) {
    const LABEL_STYLE: React.CSSProperties = {
      ...MID_LABEL,
      alignSelf: "end",
      borderWidth: "3px",
      fontSize: "1.17em",
      margin: "0 0 15px 0",
    };
    return (
      <div style={DISPLAY_CONTENTS}>
        <p style={LABEL_STYLE}>
          Column: <b>{column ? "yes" : "no"}</b>
        </p>
        {MENU_ITEM_SCREENSHOT_ICON_OPTIONS.map((sdsIcon) => {
          return (
            <MenuItemIcon
              isMultiSelect={isMultiSelect}
              column={column}
              sdsIcon={sdsIcon}
              key={String(sdsIcon)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all SELECTED_OPTIONS + create headers for ICON_OPTIONS
  function MenuItemIcon({
    isMultiSelect,
    column,
    sdsIcon,
  }: {
    isMultiSelect: (typeof MENU_ITEM_MULTI_SELECT_OPTIONS)[number];
    column: (typeof MENU_ITEM_COLUMN_OPTIONS)[number];
    sdsIcon: (typeof MENU_ITEM_SCREENSHOT_ICON_OPTIONS)[number];
  }) {
    const LABEL_STYLE: React.CSSProperties = {
      ...MID_LABEL,
      alignSelf: "end",
      borderWidth: "2px",
      fontSize: "1em",
      margin: "0 0 15px 0",
    };
    return (
      <div style={DISPLAY_CONTENTS}>
        <p style={LABEL_STYLE}>
          Icon: <b>{sdsIcon ? "yes" : "no"}</b>
        </p>
        {MENU_ITEM_SELECTED_OPTIONS.map((selected) => {
          return (
            <MenuItemSelected
              isMultiSelect={isMultiSelect}
              column={column}
              sdsIcon={sdsIcon}
              selected={selected}
              key={String(selected)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all DISABLED_OPTIONS + create headers for SELECTED_OPTIONS
  function MenuItemSelected({
    isMultiSelect,
    column,
    sdsIcon,
    selected,
  }: {
    isMultiSelect: (typeof MENU_ITEM_MULTI_SELECT_OPTIONS)[number];
    column: (typeof MENU_ITEM_COLUMN_OPTIONS)[number];
    sdsIcon: (typeof MENU_ITEM_SCREENSHOT_ICON_OPTIONS)[number];
    selected: (typeof MENU_ITEM_SELECTED_OPTIONS)[number];
  }) {
    const LABEL_STYLE: React.CSSProperties = {
      ...MID_LABEL,
      alignSelf: "end",
      borderWidth: "1px",
      fontSize: "0.83em",
      margin: "0 0 10px 0",
    };
    return (
      <div style={DISPLAY_CONTENTS}>
        <p style={LABEL_STYLE}>
          Selected: <b>{selected ? "true" : "false"}</b>
        </p>
        {MENU_ITEM_SDS_STYLE_OPTIONS.map((sdsStyle) => {
          return (
            <MenuItemStyles
              isMultiSelect={isMultiSelect}
              column={column}
              sdsIcon={sdsIcon}
              selected={selected}
              sdsStyle={sdsStyle}
              key={String(sdsStyle)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all SDS_STYLE_OPTIONS + create headers for DETERMINISTIC_OPTIONS
  function MenuItemStyles({
    isMultiSelect,
    column,
    sdsIcon,
    selected,
    sdsStyle,
  }: {
    isMultiSelect: (typeof MENU_ITEM_MULTI_SELECT_OPTIONS)[number];
    column: (typeof MENU_ITEM_COLUMN_OPTIONS)[number];
    sdsIcon: (typeof MENU_ITEM_SCREENSHOT_ICON_OPTIONS)[number];
    selected: (typeof MENU_ITEM_SELECTED_OPTIONS)[number];
    sdsStyle: (typeof MENU_ITEM_SDS_STYLE_OPTIONS)[number];
  }) {
    const LABEL_STYLE: React.CSSProperties = {
      ...MID_LABEL,
      alignSelf: "end",
      borderWidth: "1px",
      fontSize: "0.83em",
      margin: "0 0 10px 0",
    };
    return (
      <div style={DISPLAY_CONTENTS}>
        <p style={LABEL_STYLE}>
          SdsStyle: <b>{sdsStyle}</b>
        </p>
        {MENU_ITEM_DISABLED_OPTIONS.map((disabled) => {
          return (
            <MenuItemDisabled
              isMultiSelect={isMultiSelect}
              column={column}
              sdsIcon={sdsIcon}
              selected={selected}
              sdsStyle={sdsStyle as MenuItemProps<"Gear">["sdsStyle"]}
              disabled={disabled}
              key={String(disabled)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all PSEUDO_STATES + create headers for DISABLED_OPTIONS, PSEUDO_STATES
  function MenuItemDisabled({
    isMultiSelect,
    column,
    sdsIcon,
    selected,
    sdsStyle,
    disabled,
  }: {
    isMultiSelect: (typeof MENU_ITEM_MULTI_SELECT_OPTIONS)[number];
    column: (typeof MENU_ITEM_COLUMN_OPTIONS)[number];
    sdsIcon: (typeof MENU_ITEM_SCREENSHOT_ICON_OPTIONS)[number];
    selected: (typeof MENU_ITEM_SELECTED_OPTIONS)[number];
    sdsStyle: MenuItemProps<"Gear">["sdsStyle"];
    disabled: (typeof MENU_ITEM_DISABLED_OPTIONS)[number];
  }) {
    const LEVEL_STYLE: React.CSSProperties = {
      marginBottom: 20,
    };
    const LABEL_STYLE: React.CSSProperties = {
      fontSize: "0.67em",
      margin: "10px 0 20px 0",
    };
    return (
      <div style={DISPLAY_CONTENTS}>
        {MENU_ITEM_PSEUDO_STATES.map((state) => {
          return (
            // to pass a11y, this container div must have role of "menu" since it contains components with roles of "menuitem"
            <div role="menu" style={LEVEL_STYLE} key={state}>
              {/* removes irrelevant disabled iterations: when combined with all pseudo-states except default, `disabled=false` is impossible */}
              {(disabled === false ||
                (disabled === true && state === "default")) && (
                <>
                  <p style={LABEL_STYLE}>
                    {disabled ? "Disabled: " : "State: "}
                    <b>{disabled ? "true" : state}</b>
                  </p>
                  <RawMenuItem
                    {...props}
                    data-testid="menu-item"
                    isMultiSelect={isMultiSelect}
                    column={column}
                    icon={sdsIcon}
                    selected={selected}
                    sdsStyle={sdsStyle}
                    disabled={disabled}
                    className={`pseudo-${state}`}
                    key={state}
                  >
                    Name
                  </RawMenuItem>
                </>
              )}
            </div>
          );
        })}
      </div>
    );
  }
};
</file>

<file path="packages/components/src/core/MenuItem/__storybook__/constants.tsx">
import CustomSdsIcon from "src/common/storybook/customSdsIcon";
import CustomSvgIcon from "src/common/storybook/customSvgIcon";

export const MENU_ITEM_EXCLUDED_CONTROLS = [
  "name",
  "column",
  "disabled",
  "isMultiSelect",
  "icon",
  "sdsIconProps",
  "sdsStyle",
  "selected",
];

export const MENU_ITEM_ICON_OPTIONS = [
  "Gear",
  <CustomSdsIcon key="customSdsIcon" sdsSize="s" />,
  <CustomSvgIcon key="customSvgIcon" sx={{ height: 14, width: 14 }} />,
];

export const MENU_ITEM_MULTI_SELECT_OPTIONS = [false, true];
export const MENU_ITEM_SDS_STYLE_OPTIONS = ["determinate", "indeterminate"];
export const MENU_ITEM_COLUMN_OPTIONS = [undefined, "123"];
/**
 * (thuang): Add `as const` to make sure the type is not widened to `string`
 * and cause type error in <RawMenuItem />
 */
export const MENU_ITEM_SCREENSHOT_ICON_OPTIONS = [undefined, "Gear"] as const;
export const MENU_ITEM_SELECTED_OPTIONS = [false, true];
export const MENU_ITEM_DISABLED_OPTIONS = [false, true];
export const MENU_ITEM_PSEUDO_STATES = ["default", "hover", "active", "focus"];
</file>

<file path="packages/components/src/core/MenuItem/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import {
  MENU_ITEM_EXCLUDED_CONTROLS,
  MENU_ITEM_ICON_OPTIONS,
} from "./constants";
import { MenuItem } from "./stories/default";
import { ScreenshotTestDemo } from "./stories/screenshot";

export default {
  argTypes: {
    column: {
      control: { type: "text" },
    },
    disabled: {
      control: { type: "boolean" },
    },
    icon: {
      control: {
        labels: ["SDS Icon: Gear", "Custom SDS Icon", "Custom SVG Icon"],
        type: "select",
      },
      mapping: MENU_ITEM_ICON_OPTIONS,
      options: Object.keys(MENU_ITEM_ICON_OPTIONS),
    },
    isMultiSelect: {
      control: { type: "boolean" },
    },
    sdsIconProps: {
      control: {
        type: "object",
      },
    },
    sdsStyle: {
      control: {
        type: "radio",
      },
      options: ["determinate", "indeterminate"],
    },
    selected: {
      control: { type: "boolean" },
    },
  },
  component: MenuItem,
  parameters: {
    axe: {
      disabledRules: ["aria-required-parent"],
    },
    badges: [BADGE.STABLE],
  },
  title: "Components/Dropdowns/MenuItem",
} as Meta;

// Default

export const Default = {
  args: {
    column: "123,456",
    disabled: false,
    isMultiSelect: false,
    name: "Text here",
    sdsIconProps: {
      color: "blue",
    },
    sdsStyle: "determinate",
    selected: false,
  },
};

// Screenshot test

export const ScreenshotTest = {
  args: {
    name: "Text here",
  },
  parameters: {
    axe: {
      timeout: 10 * 1000,
    },
    controls: {
      exclude: MENU_ITEM_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ScreenshotTestDemo {...args} />,
};

// Test

export const Test = {
  args: {
    column: "123",
    name: "Test text",
  },
  parameters: {
    controls: {
      exclude: MENU_ITEM_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <MenuItem {...args} />,
};
</file>

<file path="packages/components/src/core/MenuItem/__storybook__/style.ts">
import styled from "@emotion/styled";

export const DemoWrapper = styled("div")`
  width: 250px;
`;
</file>

<file path="packages/components/src/core/MenuItem/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<MenuItem /> Default story renders snapshot 1`] = `
<div
  class="css-1m75yyh"
>
  <li
    class="MuiButtonBase-root MuiMenuItem-root MuiMenuItem-gutters MuiMenuItem-root MuiMenuItem-gutters css-ugxpj7-MuiButtonBase-root-MuiMenuItem-root"
    data-testid="MenuItem"
    name="Text here"
    role="menuitem"
    tabindex="-1"
  >
    <span
      class="css-bv5fko"
    >
      <span
        class="primary-text css-1k1xg99"
      >
        Text here
      </span>
      <span
        class="css-1o15svb"
      >
        123,456
      </span>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </li>
</div>
`;
</file>

<file path="packages/components/src/core/MenuItem/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<MenuItem />", () => {
  generateSnapshots(stories);

  it("renders menu item component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("MenuItem");
    expect(elements).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/MenuItem/__tests__/MenuItem.namespace-test.tsx">
import {
  IconNameToSmallSizes,
  MenuItem,
  MenuItemProps,
} from "@czi-sds/components";
import { noop } from "src/common/utils";

const MenuNameSpaceTest = (
  props: MenuItemProps<keyof IconNameToSmallSizes>
) => {
  return (
    <MenuItem
      onClick={noop}
      column="Text"
      icon="Gear"
      sdsIconProps={{}}
      isMultiSelect
      disabled={false}
      selected
      sdsStyle="determinate"
    >
      Contact us
    </MenuItem>
  );
};
</file>

<file path="packages/components/src/core/MenuItem/index.tsx">
import { MenuItemProps as RawMenuItemProps } from "@mui/material";
import React, { ForwardedRef, forwardRef } from "react";
import Icon, { IconNameToSizes, IconProps } from "src/core/Icon";
import {
  ColumnWrapper,
  ContentWrapper,
  StyledCheck,
  StyledIconWrapper,
  StyledMenuItem,
  StyledMenuItemIcon,
  StyledMinus,
  TextWrapper,
} from "./style";

/* 
  The final goal is to create a typescript interface which only accepts the 
  icons with "xs" or "s" size. At first we create a new TypeScript interface 
  that modifies the IconNameToSizes interface to change the values of icons 
  with 'xs' | 's' | 'l' | 'xl' sizes to 'xs' | 's', allowing for easy 
  filtering of items with 'l' | 'xl' sizes only later on
 */
type ModifiedIconNameToSizes = {
  [K in keyof IconNameToSizes]: IconNameToSizes[K] extends
    | "xs"
    | "s"
    | "l"
    | "xl"
    ? IconNameToSizes[K] extends "l" | "xl"
      ? "l" | "xl"
      : "xs" | "s"
    : IconNameToSizes[K];
};

/* 
  In the second step we create a TypeScript interface that is a subset of 
  the IconNameToSizes interface, containing only those icons that can be "xs" or "s" in size.

  As a result, the MenuItem component accepts a bacteria icon with a 
  size value of "xs" | "s" | "l" | "xl" or a check icon with a size value of "xs" | "s", 
  but not a book icon since it has a size value of "l" | "xl".
 */
export type IconNameToSmallSizes = {
  [K in keyof ModifiedIconNameToSizes as ModifiedIconNameToSizes[K] extends
    | "xs"
    | "s"
    ? K
    : never]: IconNameToSizes[K];
};

export interface MenuItemExtraProps<
  IconName extends keyof IconNameToSmallSizes,
> {
  column?: React.ReactNode;
  isMultiSelect?: boolean;
  icon?: IconName | React.ReactElement<CustomSVGProps>;
  /**
   * @deprecated Use `icon` instead.
   * (masoudmanson): This prop is deprecated and will be removed in the next major version.
   * Please replace instances of `sdsIcon` with `icon`.
   */
  sdsIcon?: IconName | React.ReactElement<CustomSVGProps>;
  sdsIconProps?: Partial<IconProps<IconName>>;
  sdsStyle?: "determinate" | "indeterminate";
}

export type MenuItemProps<IconName extends keyof IconNameToSmallSizes> =
  MenuItemExtraProps<IconName> & RawMenuItemProps;

/**
 * @see https://mui.com/material-ui/react-menu/
 */
const MenuItem = forwardRef(function MenuItem<
  IconName extends keyof IconNameToSmallSizes,
>(props: MenuItemProps<IconName>, ref: ForwardedRef<HTMLLIElement | null>) {
  const {
    children,
    column = null,
    disabled,
    isMultiSelect = false,
    /**
     * After deprecating the `sdsIcon` prop, the `icon` prop will be the only prop
     * utilized for the icon, and there will be no need to alias it as `newIcon`.
     */
    icon: newIcon,
    /**
     * Following the deprecation of the `sdsIcon` prop, it should be excluded from the props object.
     */
    sdsIcon,
    sdsIconProps,
    sdsStyle = "determinate",
    ...originalMenuItemProps
  } = props;
  const { selected = false } = originalMenuItemProps as MenuItemProps<IconName>;

  const selectionIcon = () => {
    if (sdsStyle === "determinate") {
      return (
        <StyledIconWrapper>
          <StyledCheck
            className="check-icon"
            selected={selected}
            color="primary"
            disabled={disabled}
          />
        </StyledIconWrapper>
      );
    }
    return (
      <StyledIconWrapper>
        <StyledMinus
          className="check-icon"
          selected={selected}
          color="primary"
          disabled={disabled}
        />
      </StyledIconWrapper>
    );
  };

  /**
   * Following the deprecation of the `sdsIcon` prop, the `icon` prop will serve as
   * the exclusive property for representing the icon, making this line unnecessary.
   */
  const icon = newIcon || sdsIcon;

  const iconItem = () => {
    if (icon) {
      if (typeof icon !== "string") {
        return (
          <StyledMenuItemIcon disabled={disabled}>{icon}</StyledMenuItemIcon>
        );
      } else {
        return (
          <StyledMenuItemIcon disabled={disabled}>
            <Icon color="blue" {...sdsIconProps} sdsIcon={icon} sdsSize="s" />
          </StyledMenuItemIcon>
        );
      }
    }
  };

  return (
    <StyledMenuItem {...originalMenuItemProps} disabled={disabled} ref={ref}>
      {isMultiSelect && selectionIcon()}

      <ContentWrapper>
        <TextWrapper
          selected={selected}
          className="primary-text"
          disabled={disabled}
        >
          {iconItem()}
          {children}
        </TextWrapper>

        {column && <ColumnWrapper disabled={disabled}>{column}</ColumnWrapper>}
      </ContentWrapper>
    </StyledMenuItem>
  );
});

export default MenuItem;
</file>

<file path="packages/components/src/core/MenuItem/style.ts">
import { Check, Remove } from "@mui/icons-material";
import { MenuItem, menuItemClasses, MenuItemProps } from "@mui/material";
import styled from "@emotion/styled";
import { fontBodyXs } from "src/core/styles/common/mixins/fonts";
import {
  CommonThemeProps,
  getFontWeights,
  getIconSizes,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export interface MenuItemExtraProps extends CommonThemeProps, MenuItemProps {}

export const StyledMenuItem = styled(MenuItem)`
  ${(props: MenuItemExtraProps) => {
    const { selected } = props;
    const fontWeights = getFontWeights(props);
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      padding: ${spaces?.xs}px ${spaces?.s}px !important;
      min-height: unset;
      opacity: 1;

      &.MuiAutocomplete-option {
        min-height: unset;
      }
      
      .primary-text {
        font-weight: ${selected ? fontWeights?.semibold : fontWeights?.regular};
      }

      &.MuiButtonBase-root {
        background-color: transparent;
        opacity: 1;

        &:hover, &.${menuItemClasses.focusVisible} {
          background-color: ${semanticColors?.base?.fillHover};

          &[aria-selected="true"] {
            background-color: ${semanticColors?.base?.fillHover};
          }
        }
      }

      &.${menuItemClasses.root} .MuiSvgIcon-root {
        align-self: flex-start;
      }

      &.${menuItemClasses.root} .${menuItemClasses.disabled} {
        opacity: 1 !important;
      }

      &.MuiAutocomplete-option[aria-selected="true"] {
        &:hover {
          background-color: ${semanticColors?.base?.fillHover} !important;
        }

        svg.check-icon {
          color: ${selected ? semanticColors?.accent?.ornamentSelected : semanticColors?.base?.ornamentSecondary};
        }
      }

      &.MuiAutocomplete-option[aria-disabled="true"] {
        opacity: 1;
      }

      &:hover {
        background-color: ${semanticColors?.base?.fillHover};
        svg.check-icon {
          color: ${selected ? semanticColors?.accent?.ornamentHover : semanticColors?.base?.ornamentSecondary};
        }
      }

      &.Mui-selected.MuiListItem-root.MuiListItem-button {
        background-color: ${semanticColors?.base?.surface};
        &:hover {
          background-color: ${semanticColors?.base?.fillHover};
        }
        .primary-text {
          font-weight: ${fontWeights?.semibold};
        }
      }

      &:active {
        svg.check-icon {
          color: ${semanticColors?.accent?.ornamentPressed};
        }

        &:active {
          svg.check-icon {
            color: ${semanticColors?.accent?.ornamentPressed};
          }

          .primary-text {
            font-weight: ${fontWeights?.semibold};
          }
        }
      }
    `;
  }}
`;

export const ContentWrapper = styled("span")`
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  width: 100%;
`;

interface DisabledType extends CommonThemeProps {
  disabled?: boolean;
}

const disabledStyles = (props: DisabledType) => {
  const { disabled } = props;
  if (!disabled) return ``;

  const semanticColors = getSemanticColors(props);

  return `
    color: ${semanticColors?.base?.textDisabled};
    cursor: default;
  `;
};

interface TextWrapperProps extends CommonThemeProps {
  disabled?: boolean;
  selected: boolean;
}

export const TextWrapper = styled("span")`
  ${fontBodyXs}

  ${(props: TextWrapperProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textPrimary};
      display: flex;
      white-space: pre-wrap;
    `;
  }}

  ${disabledStyles}
`;

interface MenuItemIconProps extends CommonThemeProps {
  disabled?: boolean;
}

export const StyledMenuItemIcon = styled("span")`
  ${(props: MenuItemIconProps) => {
    const { disabled } = props;
    const spaces = getSpaces(props);
    const iconSizes = getIconSizes(props);
    const semanticColors = getSemanticColors(props);

    return `
      margin-right: ${spaces?.xs}px;
      margin-top: ${spaces?.xxxs}px;
      height: ${iconSizes?.s.height}px;

      .MuiSvgIcon-root {
        ${disabled ? `color: ${semanticColors?.base?.ornamentDisabled};` : null};
      }
    `;
  }}
`;

interface ColumnWrapperProps extends CommonThemeProps {
  disabled?: boolean;
}

export const ColumnWrapper = styled("span")`
  ${fontBodyXs}

  ${(props: ColumnWrapperProps) => {
    const semanticColors = getSemanticColors(props);
    const spaces = getSpaces(props);

    return `
      text-align: right;
      color: ${semanticColors?.base?.textPrimary};
      margin-left: ${spaces?.m}px;
    `;
  }}

  ${disabledStyles}
`;

interface StyledIconType extends CommonThemeProps {
  selected?: boolean;
  disabled?: boolean;
}

export const StyledIconWrapper = styled("span")`
  ${(props: StyledIconType) => {
    const spaces = getSpaces(props);
    const iconSizes = getIconSizes(props);

    return `
      display: flex;
      align-self: start;
      margin-right: ${spaces?.m}px;
      margin-top: ${spaces?.xxxs}px;
      height: ${iconSizes?.s.height}px;
    `;
  }}
`;

export const StyledCheck = styled(Check, {
  shouldForwardProp: (prop) => prop !== "selected",
})<StyledIconType>`
  ${(props) => {
    const { selected, disabled } = props;

    const iconSizes = getIconSizes(props);
    const semanticColors = getSemanticColors(props);

    const selectedColor = disabled
      ? semanticColors?.base?.ornamentDisabled
      : semanticColors?.accent?.ornamentSelected;

    return `
      color: ${selected ? selectedColor : "transparent"};
      padding: 0;
      height: ${iconSizes?.s.height}px;
      width: ${iconSizes?.s.width}px;

      &.MuiCheckbox-colorPrimary.Mui-checked:hover {
        background-color: transparent;
      }
    `;
  }}
`;

export const StyledMinus = styled(Remove, {
  shouldForwardProp: (prop) => prop !== "selected",
})<StyledIconType>`
  ${(props) => {
    const { selected, disabled } = props;

    const semanticColors = getSemanticColors(props);
    const iconSizes = getIconSizes(props);

    const selectedColor = disabled
      ? semanticColors?.base?.ornamentDisabled
      : semanticColors?.accent?.ornamentSelected;

    return `
      color: ${selected ? selectedColor : "transparent"};
      padding: 0;
      height: ${iconSizes?.s.height}px;
      width: ${iconSizes?.s.width}px;

      &.MuiCheckbox-colorPrimary.Mui-checked:hover {
        background-color: transparent;
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/MenuSelect/__storybook__/index.stories.tsx">
import ExpandMoreIcon from "@mui/icons-material/ExpandMore";
import { ButtonBase, Popper } from "@mui/material";
import styled from "@emotion/styled";
import {
  AutocompleteCloseReason,
  AutocompleteInputChangeReason,
} from "@mui/material/useAutocomplete";
import { Args, Meta } from "@storybook/react";
import React, { SyntheticEvent, useState } from "react";
import { AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS } from "../../../common/storybook/AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS";
import TagFilter from "../../TagFilter";
import {
  CommonThemeProps,
  getColors,
  getCorners,
  getShadows,
} from "../../styles";
import RawMenuSelect, { DefaultMenuSelectOption } from "../index";
import { BADGE } from "../../../common/storybook/storybookBadges";
import Callout from "src/core/Callout";
import Icon from "src/core/Icon";

const StyledPopper = styled(Popper)`
  ${(props: CommonThemeProps) => {
    const colors = getColors(props);
    const shadows = getShadows(props);
    const corners = getCorners(props);

    return `
      & .MuiInputBase-root {
        padding: 0 6px;
      }

      & .MuiAutocomplete-option[aria-selected='true'],
      & .MuiAutocomplete-option[data-focus='true'] {
        background-color: transparent,
      }

      & .MuiAutocomplete-popper.MuiAutocomplete-popperDisablePortal {
        position: relative !important;
        transform: none !important;
        width: 100% !important;
      }

      .MuiAutocomplete-paper {
        box-shadow: none;
        margin: 0;

        .MuiAutocomplete-listbox {
          padding: 8px;
        }
      }

      background-color: white;
      border: 1px solid ${colors?.gray[100]};
      border-radius: ${corners?.m}px;
      box-shadow: ${shadows?.m};
      color: #586069;
      font-size: 13px;
      width: 300px;
      z-index: 1;
    `;
  }}
`;

const StyledButton = styled(ButtonBase)`
  & span {
    width: 100%;
  }

  & svg {
    height: 16px;
    width: 16px;
  }

  &:hover,
  &:focus {
    color: #0366d6;
  }

  color: #586069;
  font-size: 13px;
  font-weight: 600;
  padding-bottom: 8px;
  text-align: left;
  width: 100%;
`;

// eslint-disable-next-line sonarjs/cognitive-complexity -- Demo code
const MenuSelect = (props: Args): JSX.Element => {
  // eslint-disable-next-line react/prop-types -- Demo code
  const {
    multiple,
    options = AUTOCOMPLETE_SINGLE_COLUMN_OPTIONS,
    search,
  } = props;

  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);

  const [value, setValue] = useState<
    null | DefaultMenuSelectOption | DefaultMenuSelectOption[]
  >(multiple ? [] : null);

  const [pendingValue, setPendingValue] = useState<DefaultMenuSelectOption[]>(
    []
  );

  const open = Boolean(anchorEl);

  const id = open ? "github-label" : undefined;

  const inputChangeHandler = (
    _: SyntheticEvent<Element, Event>,
    val: string,
    __: AutocompleteInputChangeReason
  ) => {
    if (val) {
      // eslint-disable-next-line no-console
      console.log("input value: ", val);
    }
  };

  return (
    <>
      <Callout
        intent="negative"
        title="Deprecated!"
        sdsStyle="persistent"
        icon={<Icon sdsIcon="ExclamationMarkCircle" sdsSize="l" />}
        body={
          <>
            The <strong>MenuSelect</strong> component is deprecated!
            <br />
            Please use <strong>Dropdown</strong> or{" "}
            <strong>Autocomplete</strong> component instead.
          </>
        }
      >
        The <strong>Alert</strong> component is deprecated!
      </Callout>
      <div
        style={{
          width: 221,
        }}
      >
        <StyledButton disableRipple aria-describedby={id} onClick={handleClick}>
          <span>Click Target</span>
          <ExpandMoreIcon />
        </StyledButton>
        <StyledPopper
          disablePortal
          id={id}
          open={open}
          anchorEl={anchorEl}
          placement="bottom-start"
          modifiers={[
            {
              name: "offset",
              options: {
                offset: [0, 8],
              },
            },
          ]}
        >
          <RawMenuSelect
            open
            search={search}
            onClose={handleClose}
            multiple={multiple}
            value={multiple ? pendingValue : value}
            onChange={handleChange}
            disableCloseOnSelect={multiple}
            options={options}
            onInputChange={inputChangeHandler}
            {...props}
          />
        </StyledPopper>

        <div style={{ marginTop: 4 }}>
          <Chips value={value} multiple={multiple} onDelete={handleDelete} />
        </div>
      </div>
    </>
  );

  function handleClick(event: React.MouseEvent<HTMLElement>) {
    if (multiple) {
      setPendingValue(value as DefaultMenuSelectOption[]);
    }

    setAnchorEl(event.currentTarget);
  }

  function handleClose(
    _: React.ChangeEvent<unknown>,
    reason: AutocompleteCloseReason
  ) {
    if (multiple) {
      if (reason === "toggleInput") {
        return;
      }

      setValue(pendingValue);
    }

    if (anchorEl) {
      anchorEl.focus();
    }

    setAnchorEl(null);
  }

  function handleChange(
    _: React.ChangeEvent<unknown>,
    newValue: DefaultMenuSelectOption | DefaultMenuSelectOption[] | null
  ) {
    if (multiple) {
      return setPendingValue(newValue as DefaultMenuSelectOption[]);
    }

    setValue(newValue as DefaultMenuSelectOption);
  }

  function handleDelete(option: DefaultMenuSelectOption) {
    if (!multiple) {
      return setValue(null);
    }

    const newValue = (value as DefaultMenuSelectOption[]).filter(
      (item) => item !== option
    );

    setValue(newValue);
  }
};

interface ChipsProps {
  value: DefaultMenuSelectOption | DefaultMenuSelectOption[] | null;
  multiple: boolean;
  onDelete: (option: DefaultMenuSelectOption) => void;
}

function Chips({ value, multiple, onDelete }: ChipsProps): JSX.Element | null {
  if (!value) return null;

  if (!multiple) {
    const { name } = value as never;

    return (
      <TagFilter label={name} onDelete={onDelete} style={{ marginTop: 4 }} />
    );
  }

  return (
    <>
      {(value as DefaultMenuSelectOption[]).map((item) => {
        const { name } = item;

        return (
          <TagFilter
            key={name}
            label={name}
            onDelete={() => onDelete(item)}
            style={{ marginTop: 4 }}
          />
        );
      })}
    </>
  );
}

export default {
  argTypes: {
    keepSearchOnSelect: {
      control: { type: "boolean" },
    },
    multiple: {
      control: { type: "boolean" },
    },
    search: {
      control: { type: "boolean" },
    },
  },
  component: MenuSelect,
  parameters: {
    badges: [BADGE.DEPRECATED],
  },
  title: "Deprecated/MenuSelect [deprecated]",
} as Meta;

// Default

export const Default = {
  args: {
    keepSearchOnSelect: false,
    multiple: false,
    search: false,
  },
};

export const SingleSelectWithSearch = {
  args: {
    keepSearchOnSelect: false,
    multiple: false,
    search: true,
  },
};

export const MultiSelect = {
  args: {
    keepSearchOnSelect: false,
    multiple: true,
    search: false,
  },
};

export const MultiSelectWithSearch = {
  args: {
    InputBaseProps: { placeholder: "Custom placeholder..." },
    keepSearchOnSelect: true,
    multiple: true,
    search: true,
  },
};
</file>

<file path="packages/components/src/core/MenuSelect/index.tsx">
import {
  AutocompleteFreeSoloValueMapping,
  AutocompleteInputChangeReason,
  AutocompleteProps,
  AutocompleteRenderInputParams,
  AutocompleteRenderOptionState,
  InputAdornment,
} from "@mui/material";
import React, { useState } from "react";
import { noop } from "src/common/utils";
import {
  SDSWarningTypes,
  showWarningIfFirstOccurence,
} from "src/common/warnings";
import Button from "src/core/Button";
import { InputSearchProps } from "src/core/InputSearch";
import {
  InputBaseWrapper,
  StyleProps,
  StyledAutocomplete,
  StyledMenuInputSearch,
  StyledMenuItem,
} from "./style";
// (thuang): This requires option to have a `name` property.
export interface DefaultMenuSelectOption {
  name: string;
}

interface MenuSelectExtraProps extends StyleProps {
  keepSearchOnSelect?: boolean;
  renderInput?: (params: AutocompleteRenderInputParams) => React.ReactNode;
  InputBaseProps?: Partial<InputSearchProps>;
}

type CustomAutocompleteProps<
  T,
  Multiple extends boolean | undefined = undefined,
  DisableClearable extends boolean | undefined = undefined,
  FreeSolo extends boolean | undefined = undefined,
> = Omit<
  AutocompleteProps<T, Multiple, DisableClearable, FreeSolo>,
  "renderInput"
>;

export type MenuSelectProps<
  T,
  Multiple extends boolean | undefined = undefined,
  DisableClearable extends boolean | undefined = undefined,
  FreeSolo extends boolean | undefined = undefined,
> = CustomAutocompleteProps<T, Multiple, DisableClearable, FreeSolo> &
  MenuSelectExtraProps;

/**
 * @see https://mui.com/material-ui/react-autocomplete/
 *
 * @deprecated
 * This component is deprecated and will be removed in the next major version.
 * Please use `Autocomplete` or `Dropdown` instead.
 */
const MenuSelect = <
  T extends DefaultMenuSelectOption,
  Multiple extends boolean | undefined = undefined,
  DisableClearable extends boolean | undefined = undefined,
  FreeSolo extends boolean | undefined = undefined,
>(
  props: MenuSelectProps<T, Multiple, DisableClearable, FreeSolo>
): JSX.Element => {
  const {
    keepSearchOnSelect = true,
    multiple = false,
    getOptionLabel = defaultGetOptionLabel,
    renderTags = defaultRenderTags,
    renderOption = defaultRenderOption,
    disableCloseOnSelect = multiple,
    noOptionsText = "No options",
    search = false,
    InputBaseProps = {},
    onInputChange = noop,
  } = props;

  const [inputValue, setInputValue] = useState("");

  showWarningIfFirstOccurence(SDSWarningTypes.MenuSelectDeprecated);

  return (
    <StyledAutocomplete
      clearOnBlur={false}
      open
      disableCloseOnSelect={disableCloseOnSelect}
      disablePortal
      renderTags={renderTags}
      noOptionsText={noOptionsText}
      renderOption={renderOption}
      getOptionLabel={getOptionLabel}
      inputValue={inputValue}
      renderInput={(params: AutocompleteRenderInputParams) => (
        <InputBaseWrapper search={search}>
          <StyledMenuInputSearch
            id="location-search"
            label="Search for a location"
            placeholder="Search"
            ref={params.InputProps.ref}
            search={search}
            // eslint-disable-next-line jsx-a11y/no-autofocus
            autoFocus
            // (masoudmanson): This prevents Backspace from deselecting selected dropdown options.
            onKeyDown={(event) => {
              if (event.key === "Backspace") {
                event.stopPropagation();
              }
            }}
            InputProps={{
              /**
               * (thuang): Works with css caret-color: "transparent" to hide
               * mobile keyboard
               */
              inputMode: search ? "text" : "none",
              /**
               * (mmoore): passing only the ref along to InputProps to prevent
               * default MUI arrow from rendering in search input.
               * renderInput strips InputProps, so we explicitly pass end adornment here
               */
              ...params.InputProps.ref,
              endAdornment: (
                <InputAdornment position="end">
                  <Button
                    sdsType="tertiary"
                    sdsSize="small"
                    sdsStyle="icon"
                    icon="Search"
                  />
                </InputAdornment>
              ),
              inputProps: params.inputProps,
            }}
            {...InputBaseProps}
          />
        </InputBaseWrapper>
      )}
      {...props}
      onInputChange={(
        event: React.SyntheticEvent<Element, Event>,
        value: string,
        reason: AutocompleteInputChangeReason
      ) => {
        if (event && event.type === "blur") {
          setInputValue("");
        } else if (
          reason !== "reset" ||
          (reason === "reset" && !keepSearchOnSelect)
        ) {
          setInputValue(value);
        }
        if (onInputChange) onInputChange(event, value, reason);
      }}
    />
  );

  function defaultGetOptionLabel(
    option: T | AutocompleteFreeSoloValueMapping<FreeSolo>
  ): string {
    if (typeof option === "object" && "name" in option) return option.name;
    return option.toString();
  }

  function defaultRenderTags() {
    return null;
  }

  function defaultRenderOption(
    optionProps: React.HTMLAttributes<HTMLLIElement>,
    option: T,
    { selected }: AutocompleteRenderOptionState
  ) {
    return (
      <StyledMenuItem
        {...{ component: "li" }}
        isMultiSelect={multiple}
        selected={selected}
        {...optionProps}
      >
        {option.name}
      </StyledMenuItem>
    );
  }
};

export default MenuSelect;
</file>

<file path="packages/components/src/core/MenuSelect/style.ts">
import { Autocomplete, inputBaseClasses } from "@mui/material";
import styled from "@emotion/styled";
import InputSearch from "src/core/InputSearch";
import MenuItem from "src/core/MenuItem";
import { CommonThemeProps, getSpaces } from "src/core/styles";

export const StyledMenuItem = styled(MenuItem)`
  width: 100%;
`;

export interface StyleProps extends CommonThemeProps {
  search?: boolean;
}

const doNotForwardProps = ["search", "InputBaseProps", "keepSearchOnSelect"];

// (thuang): Casting the type to `Autocomplete`
//  per https://github.com/mui-org/material-ui/issues/21727#issuecomment-880263271
export const StyledAutocomplete = styled(Autocomplete, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${({ search }: StyleProps) => !search && "height: 0; margin: 0 !important;"}
  width: 100%;
` as typeof Autocomplete;

export const InputBaseWrapper = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: StyleProps) => {
    const { search } = props;

    if (!search) {
      // (thuang): We cannot use `display: none;` here, since
      // the component needs to be in the DOM to handle backdrop
      // click to close the menu
      return `
        border: 0;
        padding: 0;

        white-space: nowrap;

        clip-path: inset(100%);
        clip: rect(0 0 0 0);
        overflow: hidden;
        margin: 0;
      `;
    }

    const spaces = getSpaces(props);

    return `
      margin: ${spaces?.s}px;
    `;
  }}
`;

export const StyledMenuInputSearch = styled(InputSearch, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})<{ search: boolean }>`
  && {
    margin: 0;

    .${inputBaseClasses.root} {
      width: 100%;
      padding: 0;
      padding-right: 14px !important;
    }

    /* (thuang): Works with attribute inputMode: "none" to hide mobile keyboard */
    caret-color: ${({ search }) => (search ? "auto" : "transparent")};
  }
`;
</file>

<file path="packages/components/src/core/NavigationFooter/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawNavigationFooter from "../../index";

export const NavigationFooter = (props: Args): JSX.Element => {
  return <RawNavigationFooter {...props} title={props.title} />;
};
</file>

<file path="packages/components/src/core/NavigationFooter/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import RawNavigationFooter from "../../index";

export const TestDemo = (props: Args): JSX.Element => {
  return (
    <RawNavigationFooter
      data-testid="navigation-footer"
      title="Test Title"
      {...props}
    />
  );
};
</file>

<file path="packages/components/src/core/NavigationFooter/__storybook__/constants.tsx">
import { ReactNode } from "react";
import { getSemanticColors } from "../../styles";
import { useTheme } from "@mui/material";

export function ExampleLogo({
  children,
  height,
  width,
}: {
  children?: ReactNode;
  height: number;
  width: number;
}) {
  const theme = useTheme();
  const colors = getSemanticColors({ theme });

  return (
    <div
      style={{
        alignItems: "center",
        border: `1px dashed ${colors?.base.borderPrimary}`,
        color: colors?.base.textSecondary,
        display: "flex",
        fontSize: 10,
        fontWeight: "normal",
        height,
        justifyContent: "center",
        whiteSpace: "nowrap",
        width,
      }}
    >
      {children}
    </div>
  );
}

export const NAVIGATION_FOOTER_LOGO_OPTIONS = [
  <ExampleLogo key="logo" width={50} height={24}>
    Logo Slot
  </ExampleLogo>,
  null,
];

export const NAVIGATION_FOOTER_EXCLUDED_CONTROLS = [
  "hasInvertedStyle",
  "images",
  "logo",
  "logoUrl",
  "navItems",
  "navLinks",
  "tag",
  "tagColor",
  "title",
];
</file>

<file path="packages/components/src/core/NavigationFooter/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { NavigationFooter } from "./stories/default";
import {
  ExampleLogo,
  NAVIGATION_FOOTER_EXCLUDED_CONTROLS,
  NAVIGATION_FOOTER_LOGO_OPTIONS,
} from "./constants";
import { TestDemo } from "./stories/test";
import { TAG_PANEL_COLORS } from "src/core/Tag/__storybook__/constants";
import { NavigationFooterNavItem } from "../NavigationFooter.types";

export default {
  argTypes: {
    hasInvertedStyle: {
      control: { type: "boolean" },
    },
    images: {
      control: { type: "object" },
    },
    logo: {
      control: {
        labels: ["Logo Placeholder", "None"],
        type: "select",
      },
      mapping: NAVIGATION_FOOTER_LOGO_OPTIONS,
      options: Object.keys(NAVIGATION_FOOTER_LOGO_OPTIONS),
    },
    logoUrl: {
      control: { type: "text" },
    },
    navItems: {
      control: { type: "object" },
    },
    navLinks: {
      control: { type: "object" },
    },
    tag: {
      control: { type: "text" },
    },
    tagColor: {
      control: {
        labels: [
          "info",
          "positive",
          "notice",
          "negative",
          "beta",
          "Custom colors for Label, Background, Icon",
        ],
        type: "select",
      },
      mapping: TAG_PANEL_COLORS,
      options: Object.keys(TAG_PANEL_COLORS),
    },
    title: {
      control: { type: "text" },
    },
  },
  component: NavigationFooter,
  title: "Components/NavigationFooter",
} as Meta;

export const Default = {
  args: {
    hasInvertedStyle: false,
    images: [
      {
        image: (
          <ExampleLogo width={100} height={40}>
            Image Slot
          </ExampleLogo>
        ),
        url: "https://example.com/1",
      },
      {
        image: (
          <ExampleLogo width={100} height={40}>
            Image Slot
          </ExampleLogo>
        ),
        url: "https://example.com/2",
      },
    ],
    logo: NAVIGATION_FOOTER_LOGO_OPTIONS[0],
    logoUrl: "https://example.com",
    navItems: Array.from(Array(5)).map<NavigationFooterNavItem>((_, idx) => ({
      component: "a",
      label: `Nav Item ${idx + 1}`,
      linkProps: {
        target: "_blank",
      },
      url: `https://example.com/nav/${idx + 1}`,
    })),
    navLinks: Array.from(Array(5)).map<NavigationFooterNavItem>((_, idx) => ({
      label: `Link Item ${idx + 1}`,
      url: `https://example.com/nav/${idx + 1}`,
    })),
    tag: "Beta",
    tagColor: "beta",
    title: "Logo Name",
  },
  parameters: { layout: "fullscreen" },
};

// Test
export const Test = {
  parameters: {
    controls: {
      exclude: NAVIGATION_FOOTER_EXCLUDED_CONTROLS,
    },
    layout: "fullscreen",
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/NavigationFooter/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<NavigationFooter /> Default story renders snapshot 1`] = `
<footer
  class="css-1rfq6nv"
>
  <div
    class="css-qqwobx"
  >
    <a
      class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1a9ay29-MuiTypography-root-MuiLink-root"
      href="https://example.com"
    >
      <div
        class="css-1fuvbwj"
      >
        <div
          style="align-items: center; display: flex; font-size: 10px; font-weight: normal; height: 24px; justify-content: center; white-space: nowrap; width: 50px;"
        >
          Logo Slot
        </div>
        <p>
          Logo Name
        </p>
        <div
          class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-cjtsse-MuiChip-root"
        >
          <span
            class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
          >
            Beta
          </span>
        </div>
      </div>
    </a>
    <div
      class="css-1rtl18d"
    >
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-txpzrq-MuiTypography-root-MuiLink-root"
        href="https://example.com/nav/1"
        target="_blank"
      >
        Nav Item 1
      </a>
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-txpzrq-MuiTypography-root-MuiLink-root"
        href="https://example.com/nav/2"
        target="_blank"
      >
        Nav Item 2
      </a>
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-txpzrq-MuiTypography-root-MuiLink-root"
        href="https://example.com/nav/3"
        target="_blank"
      >
        Nav Item 3
      </a>
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-txpzrq-MuiTypography-root-MuiLink-root"
        href="https://example.com/nav/4"
        target="_blank"
      >
        Nav Item 4
      </a>
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-txpzrq-MuiTypography-root-MuiLink-root"
        href="https://example.com/nav/5"
        target="_blank"
      >
        Nav Item 5
      </a>
    </div>
  </div>
  <hr
    class="MuiDivider-root MuiDivider-fullWidth css-1ttjpcz-MuiDivider-root"
  />
  <div
    class="css-1ne7zra"
  >
    <div
      class="css-11c0vhu"
    >
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-131g49u-MuiTypography-root-MuiLink-root"
        href="https://example.com/nav/1"
      >
        Link Item 1
      </a>
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-131g49u-MuiTypography-root-MuiLink-root"
        href="https://example.com/nav/2"
      >
        Link Item 2
      </a>
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-131g49u-MuiTypography-root-MuiLink-root"
        href="https://example.com/nav/3"
      >
        Link Item 3
      </a>
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-131g49u-MuiTypography-root-MuiLink-root"
        href="https://example.com/nav/4"
      >
        Link Item 4
      </a>
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1553ej2-MuiTypography-root-MuiLink-root"
        href="https://example.com/nav/5"
      >
        Link Item 5
      </a>
    </div>
    <div
      class="css-11xb7p7"
    >
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1a9ay29-MuiTypography-root-MuiLink-root"
        href="https://example.com/1"
      >
        <div
          style="align-items: center; display: flex; font-size: 10px; font-weight: normal; height: 40px; justify-content: center; white-space: nowrap; width: 100px;"
        >
          Image Slot
        </div>
      </a>
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1a9ay29-MuiTypography-root-MuiLink-root"
        href="https://example.com/2"
      >
        <div
          style="align-items: center; display: flex; font-size: 10px; font-weight: normal; height: 40px; justify-content: center; white-space: nowrap; width: 100px;"
        >
          Image Slot
        </div>
      </a>
    </div>
  </div>
</footer>
`;

exports[`<NavigationFooter /> matches the snapshot 1`] = `
<DocumentFragment>
  <footer
    class="css-1rfq6nv"
  >
    <div
      class="css-qqwobx"
    >
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1a9ay29-MuiTypography-root-MuiLink-root"
        href="https://example.com"
      >
        <div
          class="css-1fuvbwj"
        >
          <div
            style="align-items: center; display: flex; font-size: 10px; font-weight: normal; height: 24px; justify-content: center; white-space: nowrap; width: 50px;"
          >
            Logo Slot
          </div>
          <p>
            Logo Name
          </p>
          <div
            class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-cjtsse-MuiChip-root"
          >
            <span
              class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
            >
              Beta
            </span>
          </div>
        </div>
      </a>
      <div
        class="css-1rtl18d"
      >
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-txpzrq-MuiTypography-root-MuiLink-root"
          href="https://example.com/nav/1"
          target="_blank"
        >
          Nav Item 1
        </a>
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-txpzrq-MuiTypography-root-MuiLink-root"
          href="https://example.com/nav/2"
          target="_blank"
        >
          Nav Item 2
        </a>
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-txpzrq-MuiTypography-root-MuiLink-root"
          href="https://example.com/nav/3"
          target="_blank"
        >
          Nav Item 3
        </a>
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-txpzrq-MuiTypography-root-MuiLink-root"
          href="https://example.com/nav/4"
          target="_blank"
        >
          Nav Item 4
        </a>
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-txpzrq-MuiTypography-root-MuiLink-root"
          href="https://example.com/nav/5"
          target="_blank"
        >
          Nav Item 5
        </a>
      </div>
    </div>
    <hr
      class="MuiDivider-root MuiDivider-fullWidth css-1ttjpcz-MuiDivider-root"
    />
    <div
      class="css-1ne7zra"
    >
      <div
        class="css-11c0vhu"
      >
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-131g49u-MuiTypography-root-MuiLink-root"
          href="https://example.com/nav/1"
        >
          Link Item 1
        </a>
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-131g49u-MuiTypography-root-MuiLink-root"
          href="https://example.com/nav/2"
        >
          Link Item 2
        </a>
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-131g49u-MuiTypography-root-MuiLink-root"
          href="https://example.com/nav/3"
        >
          Link Item 3
        </a>
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-131g49u-MuiTypography-root-MuiLink-root"
          href="https://example.com/nav/4"
        >
          Link Item 4
        </a>
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1553ej2-MuiTypography-root-MuiLink-root"
          href="https://example.com/nav/5"
        >
          Link Item 5
        </a>
      </div>
      <div
        class="css-11xb7p7"
      >
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1a9ay29-MuiTypography-root-MuiLink-root"
          href="https://example.com/1"
        >
          <div
            style="align-items: center; display: flex; font-size: 10px; font-weight: normal; height: 40px; justify-content: center; white-space: nowrap; width: 100px;"
          >
            Image Slot
          </div>
        </a>
        <a
          class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1a9ay29-MuiTypography-root-MuiLink-root"
          href="https://example.com/2"
        >
          <div
            style="align-items: center; display: flex; font-size: 10px; font-weight: normal; height: 40px; justify-content: center; white-space: nowrap; width: 100px;"
          >
            Image Slot
          </div>
        </a>
      </div>
    </div>
  </footer>
</DocumentFragment>
`;
</file>

<file path="packages/components/src/core/NavigationFooter/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Mock ResizeObserver
class ResizeObserverMock {
  observe() {}

  unobserve() {}

  disconnect() {}
}

global.ResizeObserver = ResizeObserverMock;

const LINK_URL = "https://example.com";

// Returns a component that already contains all decorators from story level, meta level and global level.
const { Test, Default } = composeStories(stories);

describe("<NavigationFooter />", () => {
  beforeEach(() => {
    // Clear any previous renders
    jest.clearAllMocks();
  });

  generateSnapshots(stories);

  it("renders navigation footer component", () => {
    render(<Test />);

    const footerElement = screen.getByTestId("navigation-footer");
    expect(footerElement).not.toBeNull();
  });

  it("displays the logo and title correctly", () => {
    render(
      <Test
        logo={<img src="logo.png" alt="Company Logo" />}
        title="Test Title"
      />
    );

    expect(screen.getAllByAltText("Company Logo").length).toBeGreaterThan(0);
    expect(screen.getAllByText("Test Title").length).toBeGreaterThan(0);
  });

  it("renders the logo link if logoUrl is provided", () => {
    render(
      <Test
        logo={<img src="logo.png" alt="Company Logo" />}
        logoUrl={LINK_URL}
      />
    );

    const logoLink = screen.getByRole("link", { name: /Company Logo/i });
    expect(logoLink).toHaveAttribute("href", LINK_URL);
  });

  it("displays navigation items with correct links", () => {
    const navItems = [
      { label: "Nav Item 1", url: LINK_URL },
      { label: "Nav Item 2", url: `${LINK_URL}/2` },
    ];

    render(<Test navItems={navItems} />);

    const links = screen.getAllByRole("link");
    const navLinks = links.filter(
      (link) =>
        link.textContent === "Nav Item 1" || link.textContent === "Nav Item 2"
    );

    expect(navLinks[0]).toHaveAttribute("href", LINK_URL);
    expect(navLinks[1]).toHaveAttribute("href", `${LINK_URL}/2`);
  });

  it("displays footer links with correct urls", () => {
    const navLinks = [
      { label: "Link 1", url: LINK_URL },
      { label: "Link 2", url: `${LINK_URL}/2` },
    ];

    render(<Test navLinks={navLinks} />);

    const links = screen.getAllByRole("link");
    const footerLinks = links.filter(
      (link) => link.textContent === "Link 1" || link.textContent === "Link 2"
    );

    expect(footerLinks[0]).toHaveAttribute("href", LINK_URL);
    expect(footerLinks[1]).toHaveAttribute("href", `${LINK_URL}/2`);
  });

  it("displays images with correct links", () => {
    const images = [
      {
        image: <img src="image1.png" alt="First" />,
        url: LINK_URL,
      },
      {
        image: <img src="image2.png" alt="Second" />,
        url: `${LINK_URL}/2`,
      },
    ];

    render(<Test images={images} />);

    const imageLinks = screen.getAllByRole("link");
    const filteredImageLinks = imageLinks.filter(
      (link) =>
        link.querySelector('img[alt="First"]') ||
        link.querySelector('img[alt="Second"]')
    );

    expect(filteredImageLinks[0]).toHaveAttribute("href", LINK_URL);
    expect(filteredImageLinks[1]).toHaveAttribute("href", `${LINK_URL}/2`);
  });

  it("displays tag with correct color when provided", () => {
    render(<Test tag="Beta" tagColor="beta" />);
    const tag = screen.getByText("Beta");
    expect(tag).toBeInTheDocument();
  });

  it("matches the snapshot", () => {
    const { asFragment } = render(<Default />);
    expect(asFragment()).toMatchSnapshot();
  });
});
</file>

<file path="packages/components/src/core/NavigationFooter/__tests__/NavigationFooter.namespace-test.tsx">
import { NavigationFooterProps, NavigationFooter } from "@czi-sds/components";

const LINK_URL = "https://example.com";

const NavigationFooterNameSpaceTest = (props: NavigationFooterProps) => {
  return (
    <NavigationFooter
      title="Title"
      hasInvertedStyle={false}
      logo={<div>Logo</div>}
      logoUrl={LINK_URL}
      navItems={[
        {
          label: "Nav Item 1",
          url: LINK_URL,
        },
        {
          label: "Nav Item 2",
          url: LINK_URL,
        },
      ]}
      navLinks={[
        {
          label: "Link 1",
          url: LINK_URL,
        },
        {
          label: "Link 2",
          url: LINK_URL,
        },
      ]}
      images={[
        {
          image: <img src="image1.png" alt="alt text" />,
          url: LINK_URL,
        },
        {
          image: <img src="image2.png" alt="alt text" />,
          url: LINK_URL,
        },
      ]}
      tag="Beta"
      tagColor="beta"
    />
  );
};

export default NavigationFooterNameSpaceTest;
</file>

<file path="packages/components/src/core/NavigationFooter/components/FooterLink/index.tsx">
import { forwardRef, memo } from "react";
import { FooterLinkProps } from "../../NavigationFooter.types";
import { StyledLinkItemLink } from "./style";

const FooterLink = memo(
  forwardRef<HTMLAnchorElement, FooterLinkProps>(
    ({ link, showDivider, hasInvertedStyle }, ref) => (
      <>
        <StyledLinkItemLink
          ref={ref}
          key={link.label}
          href={link.url}
          hasInvertedStyle={hasInvertedStyle}
          component={link.component}
          showDivider={showDivider}
          {...link.linkProps}
        >
          {link.label}
        </StyledLinkItemLink>
      </>
    )
  )
);

FooterLink.displayName = "FooterLink";

export default FooterLink;
</file>

<file path="packages/components/src/core/NavigationFooter/components/FooterLink/style.ts">
import styled from "@emotion/styled";
import Link from "../../../Link";
import { css, Divider } from "@mui/material";
import {
  CommonThemeProps,
  fontBody,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

interface FooterLinkStyleProps extends CommonThemeProps {
  hasInvertedStyle?: boolean;
  showDivider?: boolean;
}

const doNotForwardProps = ["hasInvertedStyle", "showDivider"];

export const StyledLinkItemLink = styled(Link, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontBody("xxs", "regular")}

  ${(props: FooterLinkStyleProps) => {
    const { showDivider, hasInvertedStyle } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return css`
      color: ${hasInvertedStyle
        ? semanticColors?.base.textSecondaryInverse
        : semanticColors?.base.textSecondary};
      white-space: nowrap;
      position: relative;

      &:hover {
        color: ${hasInvertedStyle
          ? semanticColors?.base.textPrimaryInverse
          : semanticColors?.base.textPrimary};
        text-decoration: none;
      }

      ${showDivider &&
      css`
        &:after {
          content: "";
          position: absolute;
          top: 0;
          right: -${spaces?.s}px;
          display: block;
          height: 100%;
          width: 1px;
          margin-left: ${spaces?.s}px;
          background-color: ${hasInvertedStyle
            ? semanticColors?.base.dividerInverse
            : semanticColors?.base.divider};
        }
      `}
    `;
  }}
`;

export const StyledDivider = styled(Divider, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: FooterLinkStyleProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      border-color: ${
        props.hasInvertedStyle
          ? semanticColors?.base.dividerInverse
          : semanticColors?.base.divider
      };
    `;
  }}
`;
</file>

<file path="packages/components/src/core/NavigationFooter/components/MobileLinkRow/index.tsx">
import { memo, useRef } from "react";
import { StyledMobileLinkRow } from "../../style";
import FooterLink from "../FooterLink";
import { NavigationFooterNavItem } from "../../NavigationFooter.types";
import { useLastInRow } from "src/common/helpers/useLastInRow";

interface MobileLinkRowProps {
  links: NavigationFooterNavItem[];
  hasInvertedStyle?: boolean;
}

const MobileLinkRow = memo(
  ({ links, hasInvertedStyle }: MobileLinkRowProps) => {
    const containerRef = useRef<HTMLDivElement>(null);
    const itemRefs = useRef<(HTMLAnchorElement | null)[]>([]);
    const noDividerIndices = useLastInRow(containerRef, itemRefs);

    return (
      <StyledMobileLinkRow ref={containerRef}>
        {links.map((link, index) => (
          <FooterLink
            key={link.label}
            link={link}
            showDivider={!noDividerIndices.has(index)}
            hasInvertedStyle={hasInvertedStyle}
            ref={(el) => {
              itemRefs.current[index] = el;
            }}
          />
        ))}
      </StyledMobileLinkRow>
    );
  }
);

MobileLinkRow.displayName = "MobileLinkRow";

export default MobileLinkRow;
</file>

<file path="packages/components/src/core/NavigationFooter/components/NavItem/index.tsx">
import { memo } from "react";
import { NavItemProps } from "../../NavigationFooter.types";
import { StyledNavItemLink } from "./style";

const NavItem = memo(({ item, hasInvertedStyle, isNarrow }: NavItemProps) => (
  <StyledNavItemLink
    key={item.label}
    href={item.url}
    hasInvertedStyle={hasInvertedStyle}
    isNarrow={isNarrow}
    component={item.component}
    {...item.linkProps}
  >
    {item.label}
  </StyledNavItemLink>
));

NavItem.displayName = "NavItem";

export default NavItem;
</file>

<file path="packages/components/src/core/NavigationFooter/components/NavItem/style.ts">
import { SerializedStyles } from "@emotion/react";
import styled from "@emotion/styled";
import { css } from "@mui/material";
import Link from "src/core/Link";
import {
  CommonThemeProps,
  fontBody,
  fontHeader,
  getSemanticColors,
} from "src/core/styles";

interface NavItemStyleProps extends CommonThemeProps {
  hasInvertedStyle?: boolean;
  isNarrow?: boolean;
}

const doNotForwardProps = ["hasInvertedStyle", "isNarrow"];

const NarrowNavItemLinkStyles = (
  props: NavItemStyleProps
): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    min-height: 48px;
    text-align: center;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;

    &:hover {
      color: ${props.hasInvertedStyle
        ? semanticColors?.base.textPrimaryInverse
        : semanticColors?.base.textPrimary};
      background: ${props.hasInvertedStyle
        ? semanticColors?.base.backgroundSecondaryInverse
        : semanticColors?.base.backgroundSecondary};
    }
  `;
};

export const StyledNavItemLink = styled(Link, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontHeader("m")}
  ${fontBody("s", "regular", /* isNarrow */ true)}

  ${(props: NavItemStyleProps) => {
    const { isNarrow } = props;

    const semanticColors = getSemanticColors(props);

    return css`
      color: ${props.hasInvertedStyle
        ? semanticColors?.base.textSecondaryInverse
        : semanticColors?.base.textSecondary};
      white-space: nowrap;

      &:hover {
        color: ${props.hasInvertedStyle
          ? semanticColors?.base.textPrimaryInverse
          : semanticColors?.base.textPrimary};
        text-decoration: none;
        font-weight: 600;
      }

      ${isNarrow && NarrowNavItemLinkStyles(props)}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/NavigationFooter/index.tsx">
import { useCallback, useEffect, useRef, useState, useMemo, memo } from "react";
import Tag from "../Tag";
import {
  StyledBottomSection,
  StyledFooter,
  StyledLinkSection,
  StyledImageSection,
  StyledLogoWrapper,
  StyledNavSection,
  StyledTopSection,
  StyledMobileImageRow,
} from "./style";
import { useMediaQuery } from "@mui/material";
import { useTheme } from "@mui/material/styles";
import Link from "../Link";
import NavItem from "./components/NavItem";
import FooterLink from "./components/FooterLink";
import MobileLinkRow from "./components/MobileLinkRow";
import { NavigationFooterProps } from "./NavigationFooter.types";
import { StyledDivider } from "./components/FooterLink/style";

const MemoizedStyledDivider = memo(StyledDivider);

function NavigationFooter({
  hasInvertedStyle,
  images,
  logo,
  logoUrl,
  logoComponent,
  logoLinkProps,
  navItems,
  navLinks,
  tag,
  tagColor,
  title,
  ...rest
}: NavigationFooterProps) {
  const footerRef = useRef<HTMLDivElement>(null);
  const theme = useTheme();
  const isMdScreen = useMediaQuery(theme.breakpoints.down("md"));

  const [dimensions, setDimensions] = useState({
    breakpoint: 0,
    isNarrow: isMdScreen,
  });

  useEffect(() => {
    setDimensions((prev) => ({ ...prev, isNarrow: isMdScreen }));
  }, [isMdScreen]);

  const checkScrollable = useCallback(() => {
    if (!footerRef.current) return;

    const clientWidth = footerRef.current.clientWidth;
    const scrollWidth = footerRef.current.scrollWidth;
    const needsScroll = scrollWidth > clientWidth;

    setDimensions((prev) => {
      const newBreakpoint = needsScroll
        ? prev.breakpoint > scrollWidth
          ? prev.breakpoint
          : scrollWidth
        : prev.breakpoint;

      const newIsNarrow = prev.isNarrow
        ? clientWidth < newBreakpoint
          ? true
          : false
        : needsScroll;

      return {
        breakpoint: newBreakpoint,
        isNarrow: newIsNarrow,
      };
    });
  }, []);

  useEffect(() => {
    checkScrollable();
    const resizeObserver = new ResizeObserver(checkScrollable);

    if (footerRef.current) {
      resizeObserver.observe(footerRef.current);
    }

    return () => resizeObserver.disconnect();
  }, [checkScrollable]);

  const renderImages = useCallback(() => {
    if (!images?.length) return null;

    const imageElements = images.map(({ image, url, component, linkProps }) => (
      <Link key={url} href={url} component={component} {...linkProps}>
        {image}
      </Link>
    ));

    return dimensions.isNarrow ? (
      <StyledMobileImageRow>{imageElements}</StyledMobileImageRow>
    ) : (
      imageElements
    );
  }, [images, dimensions.isNarrow]);

  const renderLinks = useCallback(() => {
    if (!navLinks?.length) return null;

    if (!dimensions.isNarrow) {
      return navLinks.map((link, index) => (
        <FooterLink
          key={link.label}
          link={link}
          showDivider={index < navLinks.length - 1}
          hasInvertedStyle={hasInvertedStyle}
        />
      ));
    }

    return (
      <MobileLinkRow links={navLinks} hasInvertedStyle={hasInvertedStyle} />
    );
  }, [navLinks, dimensions.isNarrow, hasInvertedStyle]);

  const logoNode = useMemo(() => {
    const node = (
      <StyledLogoWrapper
        isNarrow={dimensions.isNarrow}
        hasInvertedStyle={hasInvertedStyle}
      >
        {logo}
        <p>{title}</p>
        {tag && <Tag tagColor={tagColor} label={tag} hover={false} />}
      </StyledLogoWrapper>
    );

    return logoUrl ? (
      <Link href={logoUrl} component={logoComponent} {...logoLinkProps}>
        {node}
      </Link>
    ) : (
      node
    );
  }, [
    dimensions.isNarrow,
    hasInvertedStyle,
    logo,
    title,
    tag,
    tagColor,
    logoUrl,
    logoComponent,
    logoLinkProps,
  ]);

  const navItemsSection = useMemo(() => {
    if (!navItems?.length) return null;

    return (
      <StyledNavSection isNarrow={dimensions.isNarrow}>
        {navItems.map((item) => (
          <NavItem
            key={item.label}
            item={item}
            hasInvertedStyle={hasInvertedStyle}
            isNarrow={dimensions.isNarrow}
          />
        ))}
      </StyledNavSection>
    );
  }, [navItems, hasInvertedStyle, dimensions.isNarrow]);

  return (
    <StyledFooter
      ref={footerRef}
      hasInvertedStyle={hasInvertedStyle}
      isNarrow={dimensions.isNarrow}
      {...rest}
    >
      <StyledTopSection
        isNarrow={dimensions.isNarrow}
        hasInvertedStyle={hasInvertedStyle}
      >
        {logoNode}
        {navItemsSection}
      </StyledTopSection>

      <MemoizedStyledDivider hasInvertedStyle={hasInvertedStyle} />

      <StyledBottomSection isNarrow={dimensions.isNarrow}>
        <StyledLinkSection isNarrow={dimensions.isNarrow}>
          {renderLinks()}
        </StyledLinkSection>
        <StyledImageSection isNarrow={dimensions.isNarrow}>
          {renderImages()}
        </StyledImageSection>
      </StyledBottomSection>
    </StyledFooter>
  );
}

export * from "./NavigationFooter.types";

export default NavigationFooter;
</file>

<file path="packages/components/src/core/NavigationFooter/NavigationFooter.types.ts">
import { ReactNode, ElementType } from "react";
import { TagProps } from "../Tag";

export interface NavigationFooterNavItem {
  label: string;
  url?: string;
  component?: ElementType;
  linkProps?: Record<string, unknown>;
}

export interface FooterImage {
  image: ReactNode;
  url?: string;
  component?: ElementType;
  linkProps?: Record<string, unknown>;
}

export interface NavigationFooterProps {
  hasInvertedStyle?: boolean;
  images?: FooterImage[];
  logo?: ReactNode;
  logoUrl?: string;
  logoComponent?: ElementType;
  logoLinkProps?: Record<string, unknown>;
  navItems?: NavigationFooterNavItem[];
  navLinks?: NavigationFooterNavItem[];
  tag?: string;
  tagColor?: TagProps["tagColor"];
  title: string;
}

export interface NavItemProps {
  item: NavigationFooterNavItem;
  hasInvertedStyle?: boolean;
  isNarrow?: boolean;
}

export interface FooterLinkProps {
  link: NavigationFooterNavItem;
  showDivider: boolean;
  hasInvertedStyle?: boolean;
}
</file>

<file path="packages/components/src/core/NavigationFooter/style.ts">
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontHeader,
  getSemanticColors,
  getSpaces,
} from "../styles";
import { css } from "@mui/material";

interface ExtraFooterProps extends CommonThemeProps {
  hasInvertedStyle?: boolean;
  isNarrow?: boolean;
}

const doNotForwardProps = ["hasInvertedStyle", "isNarrow"];

export const StyledFooter = styled("footer", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: ExtraFooterProps) => {
    const { isNarrow } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return css`
      background: ${props.hasInvertedStyle
        ? semanticColors?.base.backgroundPrimaryInverse
        : semanticColors?.base.backgroundPrimary};
      padding: ${spaces?.xxl}px ${spaces?.xxl}px ${spaces?.xl}px
        ${spaces?.xxl}px;

      ${isNarrow &&
      css`
        border-top: 1px solid
          ${props.hasInvertedStyle
            ? semanticColors?.base.dividerInverse
            : semanticColors?.base.divider};
        padding: ${spaces?.xl}px ${spaces?.xl}px ${spaces?.l}px ${spaces?.xl}px;
      `}
    `;
  }}
`;

export const StyledLogoWrapper = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: ExtraFooterProps) => {
    const spaces = getSpaces(props);

    return css`
      display: flex;
      align-items: center;
      gap: ${spaces?.s}px;

      a {
        text-decoration: none;
      }

      .MuiChip-root {
        margin: 0;
      }
    `;
  }}

  p {
    ${fontHeader("l")}
    ${fontHeader("l", /* isNarrow */ true)}

    ${(props: ExtraFooterProps) => {
      const semanticColors = getSemanticColors(props);

      return css`
        color: ${props.hasInvertedStyle
          ? semanticColors?.base.textPrimaryInverse
          : semanticColors?.base.textPrimary};
        white-space: nowrap;
      `;
    }}
  }
`;

export const StyledNavSection = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: ExtraFooterProps) => {
    const { isNarrow } = props;

    const spaces = getSpaces(props);

    return css`
      display: flex;
      align-items: center;
      padding-left: ${spaces?.l}px;
      gap: ${spaces?.xxl}px;

      ${isNarrow &&
      css`
        flex-direction: column;
        gap: 0;
        margin-top: ${spaces?.xl}px;
        width: 100%;
        padding-left: 0;
      `}
    `;
  }}
`;

export const StyledTopSection = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: ExtraFooterProps) => {
    const { isNarrow } = props;

    const semanticColors = getSemanticColors(props);
    const spaces = getSpaces(props);

    return css`
      align-items: center;
      display: flex;
      justify-content: space-between;
      margin-bottom: ${spaces?.xl}px;

      a:hover {
        text-decoration: none;
      }

      color: ${props.hasInvertedStyle
        ? semanticColors?.base.textSecondaryInverse
        : semanticColors?.base.textSecondary};

      &:hover {
        color: ${props.hasInvertedStyle
          ? semanticColors?.base.textPrimaryInverse
          : semanticColors?.base.textPrimary};
        text-decoration: none;
      }

      ${isNarrow &&
      css`
        flex-direction: column;
        margin-bottom: ${spaces?.xl}px;
      `}
    `;
  }}
`;

export const StyledLinkSection = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  align-items: center;
  display: flex;

  .MuiDivider-root {
    height: 18px;
  }

  ${(props: ExtraFooterProps) => {
    const { isNarrow } = props;

    const spaces = getSpaces(props);

    return css`
      gap: ${spaces?.l}px;

      ${isNarrow &&
      css`
        margin-top: ${spaces?.xl}px;
        flex-direction: column;
      `}
    `;
  }}
`;

export const StyledMobileLinkRow = styled.div`
  align-items: center;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;

  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);

    return `
      gap: ${spaces?.l}px;
    `;
  }}
`;

export const StyledImageSection = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  align-items: center;
  display: flex;

  ${(props: ExtraFooterProps) => {
    const { isNarrow } = props;

    const spaces = getSpaces(props);

    return css`
      padding-left: ${spaces?.l}px;
      gap: ${spaces?.xxl}px;

      ${isNarrow &&
      css`
        padding-left: 0;
        gap: ${spaces?.xl}px;
        flex-direction: column;
        justify-content: center;
      `}
    `;
  }}
`;

export const StyledMobileImageRow = styled.div`
  align-items: center;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;

  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);

    return `
      gap: ${spaces?.xl}px;
    `;
  }}
`;

export const StyledBottomSection = styled("div", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  align-items: center;
  display: flex;
  justify-content: space-between;

  a:hover {
    text-decoration: none;
  }

  ${(props: ExtraFooterProps) => {
    const { isNarrow } = props;

    const spaces = getSpaces(props);

    return css`
      margin-top: ${spaces?.l}px;

      ${isNarrow &&
      css`
        flex-direction: column-reverse;
        margin-top: ${spaces?.xl}px;
      `}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/NavigationHeader/__storybook__/stories/default.tsx">
import { Box, Container, useTheme } from "@mui/material";
import { Args } from "@storybook/react";
import { useState } from "react";
import { getSemanticColors } from "src/core/styles";
import RawNavigationHeader from "src/core/NavigationHeader";
import { EXTRA_LONG_LOREM_IPSUM } from "src/common/storybook/loremIpsum";

export const CustomNavigationLogo = (): JSX.Element => {
  const theme = useTheme();
  const colors = getSemanticColors({ theme });

  return (
    <div
      style={{
        alignItems: "center",
        border: `1px dashed ${colors?.base.borderPrimary}`,
        display: "flex",
        fontSize: 10,
        fontWeight: "normal",
        height: 24,
        justifyContent: "center",
        width: 50,
      }}
    >
      Logo slot
    </div>
  );
};

export const NavigationHeader = (props: Args): JSX.Element => {
  const { title, ...rest } = props;
  const [activePrimaryNavKey, setActivePrimaryNavKey] = useState("");

  return (
    <>
      <RawNavigationHeader
        {...rest}
        title={title}
        activePrimaryNavKey={activePrimaryNavKey}
        setActivePrimaryNavKey={setActivePrimaryNavKey}
      />
      <Container>
        <Box>
          {[...new Array(10)].map((_, idx) => (
            <p key={idx}>{EXTRA_LONG_LOREM_IPSUM}</p>
          ))}
        </Box>
      </Container>
    </>
  );
};
</file>

<file path="packages/components/src/core/NavigationHeader/__storybook__/stories/test.tsx">
import { Args } from "@storybook/types";
import { useState } from "react";
import RawNavigationHeader from "src/core/NavigationHeader";

export const TestDemo = (props: Args): JSX.Element => {
  const [activePrimaryNavKey, setActivePrimaryNavKey] = useState("1");

  return (
    <RawNavigationHeader
      data-testid="navigation-header"
      title="Title"
      activePrimaryNavKey={activePrimaryNavKey}
      setActivePrimaryNavKey={setActivePrimaryNavKey}
      showSearch={false}
      {...props}
    />
  );
};
</file>

<file path="packages/components/src/core/NavigationHeader/__storybook__/constants.tsx">
import { CustomNavigationLogo } from "./stories/default";

export const NAVIGATION_HEADER_LOGO_OPTIONS = [
  <CustomNavigationLogo key="logo" />,
  null,
];

export const NAVIGATION_HEADER_EXCLUDED_CONTROLS = [];
</file>

<file path="packages/components/src/core/NavigationHeader/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { NavigationHeader } from "./stories/default";
import { TAG_PANEL_COLORS } from "src/core/Tag/__storybook__/constants";
import {
  NAVIGATION_HEADER_EXCLUDED_CONTROLS,
  NAVIGATION_HEADER_LOGO_OPTIONS,
} from "./constants";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    buttons: {
      control: { type: "object" },
      description: "List of buttons to display in the navigation header.",
      table: {
        defaultValue: {
          summary: "-",
        },
      },
    },
    hasInvertedStyle: {
      control: { type: "boolean" },
      description: "Invert the colors of the navigation header.",
      table: {
        defaultValue: {
          summary: "false",
        },
      },
    },
    logo: {
      control: {
        labels: ["Logo Placeholder", "Empty"],
        type: "select",
      },
      description: "The logo to display in the navigation header.",
      mapping: NAVIGATION_HEADER_LOGO_OPTIONS,
      options: Object.keys(NAVIGATION_HEADER_LOGO_OPTIONS),
      table: {
        defaultValue: {
          summary: "-",
        },
      },
    },
    logoLinkComponent: {
      control: {
        type: "text",
      },
      description: "The link component to display in the navigation header.",
      table: {
        defaultValue: {
          summary: "a",
        },
      },
    },
    logoUrl: {
      control: { type: "text" },
      description: "The URL of the logo.",
      table: {
        defaultValue: {
          summary: "-",
        },
      },
    },
    position: {
      control: { type: "select" },
      description: "Position of the navigation header.",
      options: ["absolute", "fixed", "relative", "static", "sticky"],
      table: {
        defaultValue: {
          summary: "sticky",
        },
      },
    },
    primaryNavItems: {
      control: { type: "object" },
      description:
        "List of primary navigation items to display in the navigation header.",
      table: {
        defaultValue: {
          summary: "-",
        },
      },
    },
    primaryNavPosition: {
      control: { type: "radio" },
      description: "Position of the primary navigation items.",
      options: ["left", "right"],
      table: {
        defaultValue: {
          summary: "left",
        },
      },
    },
    scrollElevation: {
      control: { type: "boolean" },
      description: "Elevate the navigation header when the user scrolls.",
      table: {
        defaultValue: { summary: "true" },
      },
    },
    searchProps: {
      control: { type: "object" },
      description: "Search props for the navigation header.",
      table: {
        defaultValue: {
          summary: "-",
        },
      },
    },
    secondaryNavItems: {
      control: { type: "object" },
      description:
        "List of secondary navigation items to display in the navigation header.",
      table: {
        defaultValue: {
          summary: "-",
        },
      },
    },
    showSearch: {
      control: { type: "boolean" },
      description: "Show the search input in the navigation header.",
      table: {
        defaultValue: {
          summary: "true",
        },
      },
    },
    tag: {
      control: { type: "text" },
      description:
        "The tag to display in the navigation header next to the logo.",
      table: {
        defaultValue: {
          summary: "-",
        },
      },
    },
    tagColor: {
      control: {
        labels: [
          "info",
          "positive",
          "notice",
          "negative",
          "beta",
          "Custom colors for Label, Background, Icon",
        ],
        type: "select",
      },
      description: "Color of the tag.",
      mapping: TAG_PANEL_COLORS,
      options: Object.keys(TAG_PANEL_COLORS),
      table: {
        defaultValue: {
          summary: "-",
        },
      },
    },
    title: {
      control: { type: "text" },
      description: "Title to display in the navigation header.",
      table: {
        defaultValue: {
          summary: "-",
        },
      },
    },
  },
  component: NavigationHeader,
  title: "Components/NavigationHeader",
} as Meta;

export const Default = {
  args: {
    buttons: [
      { children: "Primary", sdsType: "primary" },
      {
        children: "Secondary",
        sdsType: "secondary",
      },
      {
        children: "My Profile",
        icon: "Person",
        onClick: () => alert("clicked on my profile"),
      },
    ],
    hasInvertedStyle: false,
    logo: NAVIGATION_HEADER_LOGO_OPTIONS[0],
    logoUrl: "https://chanzuckerberg.com",
    position: "sticky",
    primaryNavItems: [
      {
        component: "a",
        key: "1",
        label: "Primary",
      },
      {
        key: "2",
        label: "Primary",
        tag: "Beta",
        tagColor: "beta",
      },
      {
        itemType: "dropdown",
        items: [
          {
            component: "a",
            href: "https://www.chanzuckerberg.com",
            label: "Go to CZI home page",
          },
          {
            label: "Show an Alert!",
            onClick: () => alert("You clicked on a dropdown item!"),
          },
        ],
        key: "3",
        label: "Primary",
      },
    ],
    scrollElevation: true,
    secondaryNavItems: [
      {
        itemType: "dropdown",
        items: [
          {
            component: "a",
            href: "https://www.chanzuckerberg.com",
            label: "Go to CZI home page",
            target: "_blank",
          },
          {
            label: "Show an Alert!",
            onClick: () => alert("You clicked on a dropdown item!"),
          },
        ],
        label: "Secondary",
      },
      {
        itemType: "text",
        label: "Secondary",
        onClick: () => alert("clicked on secondary"),
      },
    ],
    showSearch: true,
    tag: "Beta",
    tagColor: "beta",
  },
  parameters: {
    controls: {
      expanded: true,
    },
    layout: "fullscreen",
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: NAVIGATION_HEADER_EXCLUDED_CONTROLS,
    },
    layout: "fullscreen",
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/NavigationHeader/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<NavigationHeder /> Default story renders snapshot 1`] = `
<header
  aria-label="Main navigation"
  class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation0 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionSticky css-1kawunn-MuiPaper-root-MuiAppBar-root"
  tabindex="0"
>
  <div
    class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-xwmz02-MuiToolbar-root"
  >
    <a
      class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1187q18-MuiTypography-root-MuiLink-root"
      href="https://chanzuckerberg.com"
    >
      <div
        class="css-iiwtu0"
      >
        <div
          class="css-1sg2lsz"
        >
          <div
            style="align-items: center; display: flex; font-size: 10px; font-weight: normal; height: 24px; justify-content: center; width: 50px;"
          >
            Logo slot
          </div>
        </div>
        <div
          class="css-u418en"
        >
          <div
            class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-n17b1r-MuiChip-root"
          >
            <span
              class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
            >
              Beta
            </span>
          </div>
        </div>
      </div>
    </a>
    <div
      class="css-oju1a5"
    >
      <section
        class="css-1ts23ap"
      >
        <a
          class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-e2y89r-MuiButtonBase-root-MuiButton-root"
          data-style="minimal"
          role="button"
          tabindex="0"
        >
          <span
            class="css-1p8db73"
          >
            Primary
          </span>
          <span
            class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
          />
        </a>
        <button
          class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-e2y89r-MuiButtonBase-root-MuiButton-root"
          data-style="minimal"
          tabindex="0"
          type="button"
        >
          <span
            class="css-1p8db73"
          >
            Primary
            <div
              class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-kqwrot-MuiChip-root"
            >
              <span
                class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
              >
                Beta
              </span>
            </div>
          </span>
          <span
            class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
          />
        </button>
        <button
          class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-e2y89r-MuiButtonBase-root-MuiButton-root"
          data-style="minimal"
          items="[object Object],[object Object]"
          itemtype="dropdown"
          tabindex="0"
          type="button"
        >
          <span
            class="css-1p8db73"
            itemtype="dropdown"
          >
            Primary
            <div
              class="css-1ft6wgl"
            >
              <svg
                aria-hidden="true"
                class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                data-file-name="IconChevronDownSmall"
                data-testid="IconChevronDownSmall"
                fillcontrast="white"
                focusable="false"
                height="16"
                viewBox="0 0 16 16"
                width="16"
              />
            </div>
          </span>
          <span
            class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
          />
        </button>
      </section>
      <label
        class="css-l5xdrx"
        for="nav-bar-search"
      >
        Search
      </label>
      <div
        class="MuiFormControl-root MuiTextField-root css-1wq56pb-MuiFormControl-root-MuiTextField-root"
      >
        <div
          class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl MuiInputBase-sizeSmall MuiInputBase-adornedStart css-1q6at85-MuiInputBase-root-MuiOutlinedInput-root"
        >
          <div
            class="MuiInputAdornment-root MuiInputAdornment-positionStart MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-3b46cg-MuiInputAdornment-root"
          >
            <span
              class="notranslate"
            >
              ​
            </span>
            <button
              aria-label="search-button"
              class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-3px3eh-MuiButtonBase-root-MuiIconButton-root"
              icon="Search"
              tabindex="0"
              type="button"
            >
              <div
                class="css-1ft6wgl"
              >
                <svg
                  aria-hidden="true"
                  class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                  data-file-name="IconSearchSmall"
                  data-testid="IconSearchSmall"
                  fillcontrast="white"
                  focusable="false"
                  height="16"
                  viewBox="0 0 16 16"
                  width="16"
                />
              </div>
              <span
                class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
              />
            </button>
          </div>
          <input
            aria-invalid="false"
            autocomplete="one-time-code"
            class="MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputTypeSearch MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedStart css-1xp6qmi-MuiInputBase-input-MuiOutlinedInput-input"
            id="nav-bar-search"
            placeholder="Search"
            type="search"
            value=""
          />
          <fieldset
            aria-hidden="true"
            class="MuiOutlinedInput-notchedOutline css-1d3z3hw-MuiOutlinedInput-notchedOutline"
          >
            <legend
              class="css-ihdtdm"
            >
              <span
                class="notranslate"
              >
                ​
              </span>
            </legend>
          </fieldset>
        </div>
      </div>
    </div>
    <section
      class="css-1ts23ap"
      gap="l"
    >
      <button
        class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-ot6mwp-MuiButtonBase-root-MuiButton-root"
        data-style="minimal"
        items="[object Object],[object Object]"
        tabindex="0"
        type="button"
      >
        <span>
          Secondary
        </span>
        <div
          class="css-1ft6wgl"
        >
          <svg
            aria-hidden="true"
            class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
            data-file-name="IconChevronDownSmall"
            data-testid="IconChevronDownSmall"
            fillcontrast="white"
            focusable="false"
            height="16"
            viewBox="0 0 16 16"
            width="16"
          />
        </div>
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
      <button
        class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-ot6mwp-MuiButtonBase-root-MuiButton-root"
        data-style="minimal"
        tabindex="0"
        type="button"
      >
        Secondary
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
    </section>
    <section
      class="css-cfbgjd"
    >
      <button
        class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-1o8pmhx-MuiButtonBase-root-MuiButton-root"
        tabindex="0"
        type="button"
      >
        Primary
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
      <button
        class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-9jgpsg-MuiButtonBase-root-MuiButton-root"
        tabindex="0"
        type="button"
      >
        Secondary
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
      <button
        aria-label="My Profile"
        class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-hcs1yh-MuiButtonBase-root-MuiIconButton-root"
        icon="Person"
        tabindex="0"
        type="button"
      >
        <div
          class="css-1ft6wgl"
        >
          <svg
            aria-hidden="true"
            class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
            data-file-name="IconPersonLarge"
            data-testid="IconPersonLarge"
            fillcontrast="white"
            focusable="false"
            height="24"
            viewBox="0 0 24 24"
            width="24"
          />
        </div>
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
    </section>
  </div>
</header>
`;

exports[`<NavigationHeder /> matches the snapshot 1`] = `
<DocumentFragment>
  <header
    aria-label="Main navigation"
    class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation0 MuiAppBar-root MuiAppBar-colorPrimary MuiAppBar-positionSticky css-1kawunn-MuiPaper-root-MuiAppBar-root"
    tabindex="0"
  >
    <div
      class="MuiToolbar-root MuiToolbar-gutters MuiToolbar-regular css-xwmz02-MuiToolbar-root"
    >
      <a
        class="MuiTypography-root MuiTypography-inherit MuiLink-root MuiLink-underlineAlways css-1187q18-MuiTypography-root-MuiLink-root"
        href="https://chanzuckerberg.com"
      >
        <div
          class="css-iiwtu0"
        >
          <div
            class="css-1sg2lsz"
          >
            <div
              style="align-items: center; display: flex; font-size: 10px; font-weight: normal; height: 24px; justify-content: center; width: 50px;"
            >
              Logo slot
            </div>
          </div>
          <div
            class="css-u418en"
          >
            <div
              class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-n17b1r-MuiChip-root"
            >
              <span
                class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
              >
                Beta
              </span>
            </div>
          </div>
        </div>
      </a>
      <div
        class="css-oju1a5"
      >
        <section
          class="css-1ts23ap"
        >
          <a
            class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-e2y89r-MuiButtonBase-root-MuiButton-root"
            data-style="minimal"
            role="button"
            tabindex="0"
          >
            <span
              class="css-1p8db73"
            >
              Primary
            </span>
            <span
              class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
            />
          </a>
          <button
            class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-e2y89r-MuiButtonBase-root-MuiButton-root"
            data-style="minimal"
            tabindex="0"
            type="button"
          >
            <span
              class="css-1p8db73"
            >
              Primary
              <div
                class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-kqwrot-MuiChip-root"
              >
                <span
                  class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
                >
                  Beta
                </span>
              </div>
            </span>
            <span
              class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
            />
          </button>
          <button
            class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-e2y89r-MuiButtonBase-root-MuiButton-root"
            data-style="minimal"
            items="[object Object],[object Object]"
            itemtype="dropdown"
            tabindex="0"
            type="button"
          >
            <span
              class="css-1p8db73"
              itemtype="dropdown"
            >
              Primary
              <div
                class="css-1ft6wgl"
              >
                <svg
                  aria-hidden="true"
                  class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                  data-file-name="IconChevronDownSmall"
                  data-testid="IconChevronDownSmall"
                  fillcontrast="white"
                  focusable="false"
                  height="16"
                  viewBox="0 0 16 16"
                  width="16"
                />
              </div>
            </span>
            <span
              class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
            />
          </button>
        </section>
        <label
          class="css-l5xdrx"
          for="nav-bar-search"
        >
          Search
        </label>
        <div
          class="MuiFormControl-root MuiTextField-root css-1wq56pb-MuiFormControl-root-MuiTextField-root"
        >
          <div
            class="MuiInputBase-root MuiOutlinedInput-root MuiInputBase-colorPrimary MuiInputBase-formControl MuiInputBase-sizeSmall MuiInputBase-adornedStart css-1q6at85-MuiInputBase-root-MuiOutlinedInput-root"
          >
            <div
              class="MuiInputAdornment-root MuiInputAdornment-positionStart MuiInputAdornment-outlined MuiInputAdornment-sizeSmall css-3b46cg-MuiInputAdornment-root"
            >
              <span
                class="notranslate"
              >
                ​
              </span>
              <button
                aria-label="search-button"
                class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-3px3eh-MuiButtonBase-root-MuiIconButton-root"
                icon="Search"
                tabindex="0"
                type="button"
              >
                <div
                  class="css-1ft6wgl"
                >
                  <svg
                    aria-hidden="true"
                    class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
                    data-file-name="IconSearchSmall"
                    data-testid="IconSearchSmall"
                    fillcontrast="white"
                    focusable="false"
                    height="16"
                    viewBox="0 0 16 16"
                    width="16"
                  />
                </div>
                <span
                  class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
                />
              </button>
            </div>
            <input
              aria-invalid="false"
              autocomplete="one-time-code"
              class="MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputTypeSearch MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedStart css-1xp6qmi-MuiInputBase-input-MuiOutlinedInput-input"
              id="nav-bar-search"
              placeholder="Search"
              type="search"
              value=""
            />
            <fieldset
              aria-hidden="true"
              class="MuiOutlinedInput-notchedOutline css-1d3z3hw-MuiOutlinedInput-notchedOutline"
            >
              <legend
                class="css-ihdtdm"
              >
                <span
                  class="notranslate"
                >
                  ​
                </span>
              </legend>
            </fieldset>
          </div>
        </div>
      </div>
      <section
        class="css-1ts23ap"
        gap="l"
      >
        <button
          class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-ot6mwp-MuiButtonBase-root-MuiButton-root"
          data-style="minimal"
          items="[object Object],[object Object]"
          tabindex="0"
          type="button"
        >
          <span>
            Secondary
          </span>
          <div
            class="css-1ft6wgl"
          >
            <svg
              aria-hidden="true"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
              data-file-name="IconChevronDownSmall"
              data-testid="IconChevronDownSmall"
              fillcontrast="white"
              focusable="false"
              height="16"
              viewBox="0 0 16 16"
              width="16"
            />
          </div>
          <span
            class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
          />
        </button>
        <button
          class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-ot6mwp-MuiButtonBase-root-MuiButton-root"
          data-style="minimal"
          tabindex="0"
          type="button"
        >
          Secondary
          <span
            class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
          />
        </button>
      </section>
      <section
        class="css-cfbgjd"
      >
        <button
          class="MuiButtonBase-root MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-contained MuiButton-containedPrimary MuiButton-sizeMedium MuiButton-containedSizeMedium MuiButton-colorPrimary css-1o8pmhx-MuiButtonBase-root-MuiButton-root"
          tabindex="0"
          type="button"
        >
          Primary
          <span
            class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
          />
        </button>
        <button
          class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-colorPrimary css-9jgpsg-MuiButtonBase-root-MuiButton-root"
          tabindex="0"
          type="button"
        >
          Secondary
          <span
            class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
          />
        </button>
        <button
          aria-label="My Profile"
          class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-hcs1yh-MuiButtonBase-root-MuiIconButton-root"
          icon="Person"
          tabindex="0"
          type="button"
        >
          <div
            class="css-1ft6wgl"
          >
            <svg
              aria-hidden="true"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
              data-file-name="IconPersonLarge"
              data-testid="IconPersonLarge"
              fillcontrast="white"
              focusable="false"
              height="24"
              viewBox="0 0 24 24"
              width="24"
            />
          </div>
          <span
            class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
          />
        </button>
      </section>
    </div>
  </header>
  <div
    class="MuiContainer-root MuiContainer-maxWidthLg css-1oqqzyl-MuiContainer-root"
  >
    <div
      class="MuiBox-root css-0"
    >
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.
      </p>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Imperdiet massa tincidunt nunc pulvinar sapien et ligula ullamcorper. Urna duis convallis convallis tellus id interdum velit laoreet id. Donec ultrices tincidunt arcu non sodales. Aliquam eleifend mi in nulla posuere. Quisque id diam vel quam elementum pulvinar. Euismod quis viverra nibh cras pulvinar mattis nunc sed blandit. Id consectetur purus ut faucibus. Molestie at elementum eu facilisis sed odio morbi quis commodo. Et leo duis ut diam. Nulla facilisi cras fermentum odio. Magnis dis parturient montes nascetur ridiculus mus mauris. Maecenas volutpat blandit aliquam etiam erat. Arcu dui vivamus arcu felis bibendum ut tristique. Id porta nibh venenatis cras sed felis eget. Mi ipsum faucibus vitae aliquet nec ullamcorper.
      </p>
    </div>
  </div>
</DocumentFragment>
`;
</file>

<file path="packages/components/src/core/NavigationHeader/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

global.ResizeObserver = class {
  observe() {}

  unobserve() {}

  disconnect() {}
};

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test, Default } = composeStories(stories);

describe("<NavigationHeder />", () => {
  generateSnapshots(stories);

  it("renders navigation header component", () => {
    render(<Test />);
    expect(screen.getAllByTestId("navigation-header").length).toBeGreaterThan(
      0
    );
  });

  it("displays the logo and title correctly", () => {
    render(
      <Test
        logo={<img src="logo.png" alt="Company Logo" />}
        title="Test Title"
      />
    );

    expect(screen.getAllByAltText("Company Logo").length).toBeGreaterThan(0);
    expect(screen.getAllByText("Test Title").length).toBeGreaterThan(0);
  });

  it("renders the logo link if logoUrl is provided", () => {
    render(
      <Test
        logo={<img src="logo.png" alt="Company Logo" />}
        logoUrl="https://example.com"
      />
    );

    const logoLink = screen.getByRole("link");
    expect(logoLink).toHaveAttribute("href", "https://example.com");
  });

  it("displays primary navigation items", () => {
    render(
      <Test
        primaryNavItems={[
          { key: "home", label: "Home" },
          { key: "about", label: "About" },
        ]}
        activePrimaryNavKey="home"
      />
    );

    expect(screen.getByText("Home")).toBeInTheDocument();
    expect(screen.getByText("About")).toBeInTheDocument();
  });

  it("changes the active primary navigation item when clicked", () => {
    const setActivePrimaryNavKey = jest.fn();

    render(
      <Test
        primaryNavItems={[
          { key: "home", label: "Home" },
          { key: "about", label: "About" },
        ]}
        activePrimaryNavKey="home"
        setActivePrimaryNavKey={setActivePrimaryNavKey}
      />
    );

    fireEvent.click(screen.getByText("About"));
    expect(setActivePrimaryNavKey).toHaveBeenCalledWith("about");
  });

  it("displays the search bar when enabled", () => {
    render(<Test showSearch={true} />);

    expect(screen.getByPlaceholderText("Search")).toBeInTheDocument();
  });

  it("displays secondary navigation items", () => {
    render(
      <Test
        secondaryNavItems={[
          { itemType: "text", label: "Profile" },
          { itemType: "text", label: "Settings" },
        ]}
      />
    );

    expect(screen.getByText("Profile")).toBeInTheDocument();
    expect(screen.getByText("Settings")).toBeInTheDocument();
  });

  it("renders buttons and handles button clicks correctly", () => {
    const onClickMock = jest.fn();

    render(
      <Test
        buttons={[
          { children: "Click Me", onClick: onClickMock, sdsStyle: "rounded" },
        ]}
      />
    );

    fireEvent.click(screen.getByText("Click Me"));
    expect(onClickMock).toHaveBeenCalled();
  });

  it("matches the snapshot", () => {
    const { asFragment } = render(<Default />);
    expect(asFragment()).toMatchSnapshot();
  });
});
</file>

<file path="packages/components/src/core/NavigationHeader/__tests__/NavigationHeader.namespace-test.tsx">
import { NavigationHeaderProps, NavigationHeader } from "@czi-sds/components";
import { useState } from "react";

const NavigationHederNameSpaceTest = (props: NavigationHeaderProps) => {
  const [activePrimaryNavKey, setActivePrimaryNavKey] = useState("1");

  return (
    <NavigationHeader
      title="Title"
      activePrimaryNavKey={activePrimaryNavKey}
      setActivePrimaryNavKey={setActivePrimaryNavKey}
      buttons={[
        {
          children: "Primary",
          sdsStyle: "rounded",
          sdsType: "primary",
        },
        {
          children: "Secondary",
          sdsStyle: "rounded",
          sdsType: "secondary",
        },
        {
          children: "My Profile",
          icon: "Person",
          sdsStyle: "icon",
        },
      ]}
      hasInvertedStyle={false}
      logo={<div>Logo</div>}
      logoUrl="https://chanzuckerberg.com"
      primaryNavItems={[
        {
          itemType: "text",
          key: "1",
          label: "Primary",
        },
        {
          itemType: "text",
          key: "2",
          label: "Primary",
          tag: "Beta",
          tagColor: "beta",
        },
      ]}
      secondaryNavItems={[
        {
          itemType: "dropdown",
          items: [
            { label: "Item 1", onClick: () => alert("clicked on item 1") },
            { label: "Item 2", onClick: () => alert("clicked on item 2") },
          ],
          label: "Secondary",
        },
        {
          itemType: "text",
          label: "Secondary",
          onClick: () => alert("clicked on secondary"),
        },
      ]}
      showSearch={true}
      tag="Beta"
      tagColor="beta"
      position="sticky"
      scrollElevation={true}
    />
  );
};
</file>

<file path="packages/components/src/core/NavigationHeader/components/ElevationScroll/index.tsx">
import { AppBarProps, css, useScrollTrigger, useTheme } from "@mui/material";
import React from "react";
import { CommonThemeProps } from "src/core/styles";

interface ElevationScrollProps extends CommonThemeProps, AppBarProps {
  window?: () => Window;
  children?: React.ReactElement;
  shouldElevate?: boolean;
}

function ElevationScroll(elevationProps: ElevationScrollProps) {
  const { children, window, shouldElevate = true } = elevationProps;
  const theme = useTheme();
  const mode = theme.palette.mode;

  const trigger = useScrollTrigger({
    disableHysteresis: true,
    target: window ? window() : undefined,
    threshold: 0,
  });

  const darkModeStyles = css`
    border-bottom: 1px solid ${theme.palette?.sds?.base?.borderSecondary};
  `;

  /**
   * (masoudmanson): Elevation is set to 10 when the user scrolls and 0 otherwise.
   * MUI's elevation range is 0-24, but in the SDS theme, we have mapped:
   * - shadow.none to 0
   * - shadow.S to values 1-8
   * - shadow.M to values 9-16
   * - shadow.L to values 17-24
   *
   * Since the navigation requires a shadow.M drop shadow based on the design system,
   * any elevation value between 9 and 16 will produce the same effect.
   */
  return children
    ? React.cloneElement(children, {
        elevation: trigger && shouldElevate ? 14 : 0,
        sx:
          trigger && shouldElevate
            ? {
                ...(elevationProps.sx || {}),
                ...(mode === "dark" && darkModeStyles),
              }
            : undefined,
      })
    : null;
}

export default ElevationScroll;
</file>

<file path="packages/components/src/core/NavigationHeader/components/NavigationHeaderPrimaryNav/index.tsx">
import { SdsTagColorType } from "src/core/Tag";
import {
  PrimaryNavItem,
  StyledAccordion,
  StyledLabel,
  StyledSubItem,
  StyledTag,
} from "./style";
import { ReactNode, useState, useRef, useEffect, Fragment } from "react";
import { StyledSection } from "../style";
import Menu from "src/core/Menu";
import MenuItem from "src/core/MenuItem";
import Icon from "src/core/Icon";
import { SDSTheme } from "src/core/styles";
import { useTheme } from "@mui/material";
import { AccordionDetails, AccordionHeader } from "src/core/Accordion";

interface BaseNavigationHeaderPrimaryNavItem<T extends string>
  extends Record<string, unknown> {
  key: T;
  label: ReactNode;
}

export interface TextNavigationHeaderPrimaryNavItem<T extends string>
  extends BaseNavigationHeaderPrimaryNavItem<T> {
  itemType: "text";
  tag?: string;
  tagColor?: SdsTagColorType;
  onClick?: (e: React.SyntheticEvent) => void;
}

interface DropdownItem {
  label: ReactNode;
  onClick?: () => void;
  component?: React.ElementType;
  href?: string;
  rel?: string;
  target?: string;
}

interface DropdownNavigationHeaderPrimaryNavItem<T extends string>
  extends BaseNavigationHeaderPrimaryNavItem<T> {
  itemType: "dropdown";
  items: DropdownItem[];
}

export type NavigationHeaderPrimaryNavItem<T extends string> =
  | TextNavigationHeaderPrimaryNavItem<T>
  | DropdownNavigationHeaderPrimaryNavItem<T>;

export interface NavigationHeaderPrimaryNavProps<T extends string> {
  hasInvertedStyle?: boolean;
  isNarrow?: boolean;
  items: NavigationHeaderPrimaryNavItem<T>[];
  onChange(value: T): void;
  value: T;
}

export default function NavigationHeaderPrimaryNav<T extends string>({
  hasInvertedStyle,
  isNarrow,
  items,
  onChange,
  value,
}: NavigationHeaderPrimaryNavProps<T>) {
  const theme: SDSTheme = useTheme();
  const [anchorEl, setAnchorEl] = useState<Element | null>(null);
  const buttonRef = useRef<HTMLButtonElement>(null);
  const [menuWidth, setMenuWidth] = useState<number | string>("100%");

  const open = Boolean(anchorEl);
  function onClose() {
    setAnchorEl(null);
  }

  useEffect(() => {
    const button = buttonRef.current;
    if (!button) {
      return;
    }

    setMenuWidth(button.offsetWidth);
  }, []);

  return (
    <StyledSection isNarrow={isNarrow}>
      {items.map((item) => {
        const { key, label, tag, tagColor, ...rest } = item;
        const isActive = key === value;

        if (item.itemType === "dropdown" && !isNarrow) {
          const dropdownItem =
            item as DropdownNavigationHeaderPrimaryNavItem<T>;
          return (
            <Fragment key={key}>
              <PrimaryNavItem
                {...rest}
                itemType={item.itemType}
                ref={buttonRef}
                sdsStyle="minimal"
                active={open}
                onClick={(e) => {
                  setAnchorEl(e.currentTarget);
                  onChange(key);
                }}
                hasInvertedStyle={hasInvertedStyle}
                isNarrow={isNarrow}
              >
                <StyledLabel
                  itemType={item.itemType}
                  active={open}
                  hasInvertedStyle={hasInvertedStyle}
                  isNarrow={isNarrow}
                >
                  {label as ReactNode}
                  <Icon
                    sdsIcon={open ? "ChevronUp" : "ChevronDown"}
                    sdsSize="xs"
                  />
                </StyledLabel>
              </PrimaryNavItem>

              <Menu
                anchorEl={anchorEl}
                open={open}
                onClose={onClose}
                slotProps={{
                  paper: {
                    style: {
                      marginTop: theme?.app?.spacing?.s,
                    },
                  },
                }}
                anchorOrigin={{
                  horizontal: "left",
                  vertical: "bottom",
                }}
                transformOrigin={{
                  horizontal: "left",
                  vertical: "top",
                }}
              >
                {dropdownItem.items.map((subItem: DropdownItem) => {
                  const { label: subLabel, onClick, ...subItemRest } = subItem;
                  return (
                    <MenuItem
                      key={`menu-item-${subLabel}`}
                      onClick={() => {
                        onClick?.();
                        onClose();
                      }}
                      sx={{ minWidth: menuWidth }}
                      {...subItemRest}
                    >
                      {subLabel}
                    </MenuItem>
                  );
                })}
              </Menu>
            </Fragment>
          );
        }

        if (item.itemType === "dropdown" && isNarrow) {
          const dropdownItem =
            item as DropdownNavigationHeaderPrimaryNavItem<T>;
          return (
            <StyledAccordion
              key={`${item.label}-dropdown`}
              id={`${item.label}-dropdown`}
              hasInvertedStyle={hasInvertedStyle}
              isNarrow={isNarrow}
            >
              <AccordionHeader>{item.label}</AccordionHeader>
              <AccordionDetails>
                {dropdownItem.items.map((subItem) => {
                  const {
                    label: dropdownItemLabel,
                    onClick,
                    ...accordionSubItemRest
                  } = subItem;

                  return (
                    <StyledSubItem
                      key={`primary-nav-item-${dropdownItemLabel}`}
                      onClick={() => {
                        onClick?.();
                        onClose();
                      }}
                      {...accordionSubItemRest}
                    >
                      {dropdownItemLabel}
                    </StyledSubItem>
                  );
                })}
              </AccordionDetails>
            </StyledAccordion>
          );
        }

        return (
          <PrimaryNavItem
            key={key}
            {...rest}
            sdsStyle="minimal"
            active={isActive}
            onClick={(e) => {
              onChange(key);
              (item as TextNavigationHeaderPrimaryNavItem<T>).onClick?.(e);
            }}
            hasInvertedStyle={hasInvertedStyle}
            isNarrow={isNarrow}
          >
            <StyledLabel
              active={isActive}
              hasInvertedStyle={hasInvertedStyle}
              isNarrow={isNarrow}
            >
              {label as ReactNode}

              {"tag" in item && (
                <StyledTag
                  label={tag as string}
                  color={tagColor as SdsTagColorType}
                  hover={false}
                />
              )}
            </StyledLabel>
          </PrimaryNavItem>
        );
      })}
    </StyledSection>
  );
}
</file>

<file path="packages/components/src/core/NavigationHeader/components/NavigationHeaderPrimaryNav/style.ts">
import styled from "@emotion/styled";
import Button from "src/core/Button";
import {
  fontBodyS,
  fontHeader,
  getSemanticColors,
  getSpaces,
  fontBodySemiboldM,
  fontBody,
} from "src/core/styles";
import { ExtraHeaderProps } from "../../style";
import { css, SerializedStyles } from "@emotion/react";
import Accordion from "src/core/Accordion";
import MenuItem from "src/core/MenuItem";
import Tag from "src/core/Tag";

interface PrimaryNavItemProps extends ExtraHeaderProps {
  active?: boolean;
  itemType?: "dropdown" | "text";
}

const doNotForwardProps = ["active", "hasInvertedStyle", "isNarrow"];

const NarrowPrimaryNavItem = (props: PrimaryNavItemProps): SerializedStyles => {
  const { active, hasInvertedStyle } = props;

  const spaces = getSpaces(props);
  const colors = getSemanticColors(props);

  const activeBackgroundColor = hasInvertedStyle
    ? colors?.base.backgroundSecondaryInverse
    : colors?.base.backgroundSecondary;

  const activeBorderColor = hasInvertedStyle
    ? colors?.base?.borderOnFill
    : colors?.accent?.border;

  const inactiveBorderColor = hasInvertedStyle
    ? colors?.neutral?.fillPrimary
    : colors?.base.borderPrimary;

  return css`
    border-left: ${spaces?.xs}px solid
      ${active ? activeBorderColor : "transparent"};
    border-radius: 0;
    justify-content: start;
    padding: ${spaces?.m}px 0 ${spaces?.m}px
      ${(spaces?.l ?? 0) + (spaces?.xxxs ?? 0)}px;
    background: ${active ? activeBackgroundColor : "transparent"};
    width: 100%;

    &:hover {
      box-shadow: none;
      background: ${hasInvertedStyle
        ? colors?.base.backgroundSecondaryInverse
        : colors?.base.backgroundSecondary};
      border-left: ${spaces?.xs}px solid
        ${active ? activeBorderColor : inactiveBorderColor};
    }
  `;
};

export const PrimaryNavItem = styled(Button, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  display: flex;
  align-items: center;
  background: none;
  padding: 0;
  min-width: fit-content;

  ${(props: PrimaryNavItemProps) => {
    const { hasInvertedStyle, isNarrow } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    const ChevronDefaultColor = hasInvertedStyle
      ? semanticColors?.base.textSecondaryInverse
      : semanticColors?.base.ornamentSecondary;

    return css`
      gap: ${spaces?.xs}px;

      svg {
        color: ${ChevronDefaultColor};
      }

      &:hover {
        background: none;
        box-shadow: none;

        & > span {
          color: ${hasInvertedStyle
            ? semanticColors?.base.textPrimaryInverse
            : semanticColors?.base.textPrimary};
        }

        svg {
          color: ${hasInvertedStyle
            ? semanticColors?.base?.ornamentPrimaryInverse
            : semanticColors?.base.ornamentSecondaryHover} !important;
        }
      }

      ${isNarrow && NarrowPrimaryNavItem(props)}
    `;
  }}
`;

const WideStyledLabel = (props: PrimaryNavItemProps): SerializedStyles => {
  const { hasInvertedStyle, active, itemType = "text" } = props;

  const semanticColors = getSemanticColors(props);

  const activeBorderColor = hasInvertedStyle
    ? semanticColors?.base?.borderOnFill
    : semanticColors?.accent?.border;

  const inactiveBorderColor = hasInvertedStyle
    ? semanticColors?.base.borderOnFill
    : semanticColors?.base.borderPrimary;

  const ChevronDefaultColor = hasInvertedStyle
    ? semanticColors?.base.textSecondaryInverse
    : semanticColors?.base.ornamentSecondary;

  const ChevronOpenColor = hasInvertedStyle
    ? semanticColors?.base?.ornamentPrimaryInverse
    : semanticColors?.accent.ornamentOpen;

  return css`
    border-bottom: solid 2px transparent;
    border-bottom-color: ${active && itemType === "text"
      ? activeBorderColor
      : "transparent"};

    svg {
      color: ${active ? ChevronOpenColor : ChevronDefaultColor};
    }

    &:hover {
      border-bottom-color: ${active ? activeBorderColor : inactiveBorderColor};
    }
  `;
};

export const StyledTag = styled(Tag)`
  margin: 0;

  .MuiChip-label {
    ${fontBody("xxxs", "regular")}
  }

  &:hover {
    text-decoration: none;
  }
`;

export const StyledLabel = styled("span", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontHeader("m")}

  ${(props: PrimaryNavItemProps) => {
    const { hasInvertedStyle, active, isNarrow } = props;

    const spaces = getSpaces(props);
    const colors = getSemanticColors(props);

    const activeColor = hasInvertedStyle
      ? colors?.base.textPrimaryInverse
      : colors?.base.textPrimary;

    const inactiveColor = hasInvertedStyle
      ? colors?.base.textSecondaryInverse
      : colors?.base.textSecondary;

    return css`
      display: flex;
      align-items: center;
      gap: ${spaces?.xs}px;
      color: ${active ? activeColor : inactiveColor};

      ${StyledTag} {
        margin-top: -${spaces?.xxxs}px;
      }

      ${!isNarrow && WideStyledLabel(props)}
    `;
  }}
`;

export const StyledAccordion = styled(Accordion, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  width: 100%;
  min-width: unset;

  .MuiAccordionSummary-content {
    ${fontBodySemiboldM}
  }

  .MuiAccordionDetails-root .MuiButtonBase-root .primary-text {
    ${fontBodyS}
  }

  ${(props: ExtraHeaderProps) => {
    const { hasInvertedStyle, isNarrow } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    const textDefaultColor = hasInvertedStyle
      ? semanticColors?.base.textSecondaryInverse
      : semanticColors?.base.textSecondary;

    const textOpenColor = hasInvertedStyle
      ? semanticColors?.base.textPrimaryInverse
      : semanticColors?.base.textPrimary;

    const ChevronDefaultColor = hasInvertedStyle
      ? semanticColors?.base.textSecondaryInverse
      : semanticColors?.base.ornamentSecondary;

    const ChevronOpenColor = hasInvertedStyle
      ? semanticColors?.base?.ornamentPrimaryInverse
      : semanticColors?.accent.ornamentOpen;

    const isNarrowStyles = () => css`
      background: ${hasInvertedStyle
        ? semanticColors?.base.backgroundSecondaryInverse
        : semanticColors?.base.backgroundSecondary};
    `;

    return css`
      .MuiButtonBase-root {
        padding: ${spaces?.m}px ${spaces?.xl}px;
        color: ${textDefaultColor};

        .MuiAccordionSummary-expandIconWrapper {
          margin-top: ${spaces?.s}px !important;
        }

        svg {
          color: ${ChevronDefaultColor};
        }

        &[aria-expanded="true"] {
          color: ${textOpenColor};

          svg {
            color: ${ChevronOpenColor} !important;
          }
        }

        &:hover {
          padding: ${spaces?.m}px ${spaces?.xl}px ${spaces?.m}px
            ${(spaces?.l ?? 0) + (spaces?.xxxs ?? 0)}px;
          width: 100%;
          box-shadow: none;
          background: ${hasInvertedStyle
            ? semanticColors?.base.backgroundSecondaryInverse
            : semanticColors?.base.backgroundSecondary};
          border-left: ${spaces?.xs}px solid
            ${semanticColors?.base.borderPrimary};
          color: ${hasInvertedStyle
            ? semanticColors?.base.textPrimaryInverse
            : semanticColors?.base.textPrimary};

          svg {
            color: ${hasInvertedStyle
              ? semanticColors?.base?.ornamentPrimaryInverse
              : semanticColors?.base.ornamentSecondaryHover} !important;
          }

          ${isNarrow && isNarrowStyles()}
        }
      }

      .MuiCollapse-root .MuiAccordionDetails-root {
        padding: 0;

        .MuiButtonBase-root {
          padding: ${spaces?.m}px 0 ${spaces?.m}px 34px !important;

          .primary-text {
            color: ${hasInvertedStyle
              ? semanticColors?.base.textSecondaryInverse
              : semanticColors?.base.textSecondary} !important;
          }

          &:hover {
            padding: ${spaces?.m}px 0 ${spaces?.m}px
              calc(34px - ${spaces?.xs}px) !important;

            .primary-text {
              color: ${hasInvertedStyle
                ? semanticColors?.base.textPrimaryInverse
                : semanticColors?.base.textPrimary} !important;
            }
          }
        }
      }
    `;
  }}
`;

export const StyledSubItem = styled(MenuItem)`
  &.MuiButtonBase-root.MuiMenuItem-root:hover {
    span.primary-text {
      font-weight: 600;
    }
  }
`;
</file>

<file path="packages/components/src/core/NavigationHeader/components/NavigationHeaderSecondaryNav/index.tsx">
import { Fragment, ReactNode, useEffect, useRef, useState } from "react";
import { StyledSection } from "../style";
import { StyledAccordion, StyledSubItem, StyledTextItem } from "./style";
import Menu from "src/core/Menu";
import Icon from "src/core/Icon";
import MenuItem from "src/core/MenuItem";
import { AccordionDetails, AccordionHeader } from "src/core/Accordion";
import { SdsMinimalButtonProps } from "src/core/Button";
import { SDSTheme } from "src/core/styles";
import { useTheme } from "@mui/material";

interface TextHeaderSecondaryNavItem extends Partial<SdsMinimalButtonProps> {
  label: string;
  itemType: "text";
}

interface DropdownItem {
  label: ReactNode;
  onClick?: (event: React.MouseEvent) => void;
  component?: React.ElementType;
  href?: string;
  rel?: string;
  target?: string;
}

interface DropdownHeaderSecondaryNavItem
  extends Partial<SdsMinimalButtonProps> {
  label: string;
  itemType: "dropdown";
  items: DropdownItem[];
}

export type NavigationHeaderSecondaryNavItem =
  | TextHeaderSecondaryNavItem
  | DropdownHeaderSecondaryNavItem;

export interface NavigationHeaderSecondaryNavProps {
  items: NavigationHeaderSecondaryNavItem[];
  hasInvertedStyle?: boolean;
  isNarrow?: boolean;
}

export default function NavigationHeaderSecondaryNav({
  items,
  hasInvertedStyle,
  isNarrow,
}: NavigationHeaderSecondaryNavProps) {
  const [anchorEl, setAnchorEl] = useState<Element | null>(null);
  const theme: SDSTheme = useTheme();

  const open = Boolean(anchorEl);
  function onClose() {
    setAnchorEl(null);
  }

  const buttonRef = useRef<HTMLButtonElement>(null);
  const [menuWidth, setMenuWidth] = useState<number | string>("100%");

  useEffect(() => {
    const button = buttonRef.current;
    if (!button) {
      return;
    }

    setMenuWidth(button.offsetWidth);
  }, []);

  return (
    <StyledSection gap="l" isNarrow={isNarrow}>
      {items.map((item) => {
        const { itemType, label, ...rest } = item;

        if (itemType === "dropdown" && !isNarrow) {
          return (
            <Fragment key={`${label}-dropdown`}>
              <StyledTextItem
                {...rest}
                ref={buttonRef}
                hasInvertedStyle={hasInvertedStyle}
                open={open}
                isNarrow={isNarrow}
                sdsStyle="minimal"
                onClick={(event) => {
                  setAnchorEl(event.currentTarget);
                  item.onClick?.(event);
                }}
              >
                <span>{label}</span>
                <Icon
                  sdsIcon={open ? "ChevronUp" : "ChevronDown"}
                  sdsSize="xs"
                />
              </StyledTextItem>

              <Menu
                anchorEl={anchorEl}
                open={open}
                onClose={onClose}
                slotProps={{
                  paper: {
                    style: {
                      marginTop: theme?.app?.spacing?.s,
                    },
                  },
                }}
                anchorOrigin={{
                  horizontal: "left",
                  vertical: "bottom",
                }}
                transformOrigin={{
                  horizontal: "left",
                  vertical: "top",
                }}
              >
                {item.items.map((subItem) => {
                  const { label: menuLabel, onClick, ...subItemRest } = subItem;
                  return (
                    <MenuItem
                      key={`menu-item-${menuLabel}`}
                      onClick={(event) => {
                        onClick?.(event);
                        onClose();
                      }}
                      sx={{ minWidth: menuWidth }}
                      {...subItemRest}
                    >
                      {menuLabel}
                    </MenuItem>
                  );
                })}
              </Menu>
            </Fragment>
          );
        }

        if (itemType === "dropdown" && isNarrow) {
          return (
            <StyledAccordion
              key={`${label}-dropdown`}
              id={`${label}-dropdown`}
              hasInvertedStyle={hasInvertedStyle}
              isNarrow={isNarrow}
            >
              <AccordionHeader>{label}</AccordionHeader>
              <AccordionDetails>
                {item.items.map((subItem) => {
                  const {
                    label: accordionLabel,
                    onClick,
                    ...accordionSubItemRest
                  } = subItem;

                  return (
                    <StyledSubItem
                      key={`accordion-item-${accordionLabel}`}
                      onClick={(event) => {
                        onClick?.(event);
                        onClose();
                      }}
                      {...accordionSubItemRest}
                    >
                      {accordionLabel}
                    </StyledSubItem>
                  );
                })}
              </AccordionDetails>
            </StyledAccordion>
          );
        }

        return (
          <StyledTextItem
            key={`${label}-${itemType}`}
            {...rest}
            onClick={item.onClick}
            hasInvertedStyle={hasInvertedStyle}
            open={open}
            isNarrow={isNarrow}
            sdsStyle="minimal"
          >
            {item.label}
          </StyledTextItem>
        );
      })}
    </StyledSection>
  );
}
</file>

<file path="packages/components/src/core/NavigationHeader/components/NavigationHeaderSecondaryNav/style.ts">
import styled from "@emotion/styled";
import Accordion from "src/core/Accordion";
import Button, { SdsMinimalButtonProps } from "src/core/Button";
import {
  fontBodyS,
  fontHeaderS,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";
import { ExtraHeaderProps } from "../../style";
import MenuItem from "src/core/MenuItem";
import { css, SerializedStyles } from "@emotion/react";

export type StyledTextItemProps = ExtraHeaderProps &
  SdsMinimalButtonProps & { open: boolean };

const ButtonDoNotForwardProps = ["isNarrow"];

const NarrowStyledTextItem = (props: StyledTextItemProps): SerializedStyles => {
  const { hasInvertedStyle } = props;

  const semanticColors = getSemanticColors(props);
  const spaces = getSpaces(props);

  return css`
    padding-left: ${spaces?.xl}px;
    border-radius: 0;
    width: 100%;
    min-height: 44px;

    &:hover {
      box-shadow: none;
      background: ${hasInvertedStyle
        ? semanticColors?.base.backgroundSecondaryInverse
        : semanticColors?.base.backgroundSecondary};
    }
  `;
};

export const StyledTextItem = styled(Button, {
  shouldForwardProp: (prop: string) => !ButtonDoNotForwardProps.includes(prop),
})`
  ${fontHeaderS}

  background: none;
  justify-content: flex-start;
  width: fit-content;
  min-width: unset;
  padding: 0;

  ${(props: StyledTextItemProps) => {
    const { hasInvertedStyle, open, isNarrow } = props;

    const semanticColors = getSemanticColors(props);
    const spaces = getSpaces(props);

    const textDefaultColor = hasInvertedStyle
      ? semanticColors?.base.textSecondaryInverse
      : semanticColors?.base.textSecondary;

    const textOpenColor = hasInvertedStyle
      ? semanticColors?.base.textPrimaryInverse
      : semanticColors?.base.textPrimary;

    const ChevronDefaultColor = hasInvertedStyle
      ? semanticColors?.base.textSecondaryInverse
      : semanticColors?.base.ornamentSecondary;

    const ChevronOpenColor = hasInvertedStyle
      ? semanticColors?.base?.ornamentPrimaryInverse
      : semanticColors?.accent.ornamentOpen;

    return css`
      gap: ${spaces?.xs}px;
      color: ${open ? textOpenColor : textDefaultColor};

      svg {
        color: ${open ? ChevronOpenColor : ChevronDefaultColor};
      }

      &:hover {
        background: none;
        box-shadow: none;
        color: ${hasInvertedStyle
          ? semanticColors?.base.textPrimaryInverse
          : semanticColors?.base.textPrimary};

        svg {
          color: ${hasInvertedStyle
            ? semanticColors?.base?.ornamentPrimaryInverse
            : semanticColors?.base.ornamentSecondaryHover};
        }
      }

      ${isNarrow && NarrowStyledTextItem(props)}
    `;
  }}
`;

const doNotForwardProps = ["hasInvertedStyle", "isNarrow"];

export const StyledAccordion = styled(Accordion, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  width: 100%;
  min-width: unset;

  .MuiAccordionDetails-root .MuiButtonBase-root .primary-text {
    ${fontBodyS}
  }

  ${(props: ExtraHeaderProps) => {
    const { hasInvertedStyle, isNarrow } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    const textDefaultColor = hasInvertedStyle
      ? semanticColors?.base.textSecondaryInverse
      : semanticColors?.base.textSecondary;

    const textOpenColor = hasInvertedStyle
      ? semanticColors?.base.textPrimaryInverse
      : semanticColors?.base.textPrimary;

    const ChevronDefaultColor = hasInvertedStyle
      ? semanticColors?.base.textSecondaryInverse
      : semanticColors?.base.ornamentSecondary;

    const ChevronOpenColor = hasInvertedStyle
      ? semanticColors?.base?.ornamentPrimaryInverse
      : semanticColors?.accent.ornamentOpen;

    const isNarrowStyles = () => css`
      background: ${hasInvertedStyle
        ? semanticColors?.base.backgroundSecondaryInverse
        : semanticColors?.base.backgroundSecondary};
    `;

    return css`
      .MuiButtonBase-root {
        padding: ${spaces?.m}px ${spaces?.xl}px;
        color: ${textDefaultColor};

        svg {
          color: ${ChevronDefaultColor};
        }

        &[aria-expanded="true"] {
          color: ${textOpenColor};

          svg {
            color: ${ChevronOpenColor} !important;
          }
        }

        &:hover {
          color: ${hasInvertedStyle
            ? semanticColors?.base.textPrimaryInverse
            : semanticColors?.base.textPrimary};

          svg {
            color: ${hasInvertedStyle
              ? semanticColors?.base?.ornamentPrimaryInverse
              : semanticColors?.base.ornamentSecondaryHover} !important;
          }

          ${isNarrow && isNarrowStyles()}
        }
      }

      .MuiCollapse-root .MuiAccordionDetails-root {
        padding: 0;

        .primary-text {
          color: ${hasInvertedStyle
            ? semanticColors?.base.textSecondaryInverse
            : semanticColors?.base.textSecondary} !important;

          &:hover {
            color: ${hasInvertedStyle
              ? semanticColors?.base.textPrimaryInverse
              : semanticColors?.base.textPrimary} !important;
          }
        }

        .MuiButtonBase-root {
          padding: ${spaces?.m}px 0 ${spaces?.m}px 34px !important;

          &:hover {
            .primary-text {
              color: ${hasInvertedStyle
                ? semanticColors?.base.textPrimaryInverse
                : semanticColors?.base.textPrimary} !important;
            }
          }
        }
      }
    `;
  }}
`;

export const StyledSubItem = styled(MenuItem)`
  &.MuiButtonBase-root.MuiMenuItem-root:hover {
    span.primary-text {
      font-weight: 600;
    }
  }
`;
</file>

<file path="packages/components/src/core/NavigationHeader/components/style.ts">
import styled from "@emotion/styled";
import { CommonThemeProps, getSpaces, Spaces } from "src/core/styles";
import { css, SerializedStyles } from "@emotion/react";

const doNotForwardProps = ["isNarrow"];

const NarrowStyledSection = (): SerializedStyles => {
  return css`
    align-items: start;
    flex-direction: column;
  `;
};

export const StyledSection = styled("section", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  display: flex;
  align-items: center;

  ${(props: CommonThemeProps & { gap?: keyof Spaces; isNarrow?: boolean }) => {
    const { isNarrow } = props;
    const spaces = getSpaces(props);

    return css`
      column-gap: ${spaces?.[props?.gap ?? "xl"]}px;

      ${isNarrow && NarrowStyledSection()}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/NavigationHeader/index.tsx">
import React, {
  forwardRef,
  useCallback,
  useEffect,
  useRef,
  useState,
} from "react";
import { useMediaQuery } from "@mui/material";
import { useTheme } from "@mui/material/styles";
import {
  StyledButtonSection,
  StyledDrawer,
  StyledAppBar,
  StyledHeaderButton,
  StyledLogoLinkWrapper,
  StyledLogoWrapper,
  StyledNarrowButton,
  StyledNarrowIconButton,
  StyledPrimaryNavContainer,
  StyledSearch,
  StyledTag,
  StyledTitleContainer,
  StyledTitleTagWrapper,
  StyledToolbar,
  StyledWideIconButton,
} from "./style";
import NavigationHeaderPrimaryNav from "./components/NavigationHeaderPrimaryNav";
import NavigationHeaderSecondaryNav from "./components/NavigationHeaderSecondaryNav";
import { ButtonProps, SdsButtonProps, SdsMinimalButtonProps } from "../Button";
import Icon from "../Icon";
import {
  IconButtonProps,
  NavigationHeaderProps,
} from "./NavigationHeader.types";
import { mergeRefs } from "src/common/utils";
import ElevationScroll from "./components/ElevationScroll";

const NavigationHeader = forwardRef<HTMLDivElement, NavigationHeaderProps>(
  <T extends string = string>(
    props: NavigationHeaderProps<T>,
    ref: React.Ref<HTMLDivElement>
  ) => {
    const {
      activePrimaryNavKey = "",
      buttons,
      hasInvertedStyle,
      logo,
      logoUrl,
      logoLinkComponent = "a",
      logoLinkProps,
      scrollElevation = true,
      primaryNavItems,
      primaryNavPosition = "left",
      searchProps,
      secondaryNavItems,
      setActivePrimaryNavKey,
      showSearch = true,
      tag,
      tagColor,
      title,
      drawerOpen: controlledDrawerOpen,
      setDrawerOpen: onDrawerOpenChange,
      ...rest
    } = props;
    const navRef = useRef<HTMLDivElement>(null);

    const theme = useTheme();
    const isMdScreen = useMediaQuery(theme.breakpoints.down("md"));

    // Use controlled or uncontrolled drawer state
    const [internalDrawerOpen, setInternalDrawerOpen] = useState(false);
    const drawerOpen = controlledDrawerOpen ?? internalDrawerOpen;
    const setDrawerOpen = (open: boolean | ((prev: boolean) => boolean)) => {
      const newOpen = typeof open === "function" ? open(drawerOpen) : open;
      if (onDrawerOpenChange) {
        onDrawerOpenChange(newOpen);
      } else {
        setInternalDrawerOpen(newOpen);
      }
    };

    const [dimensions, setDimensions] = useState({
      breakpoint: 0,
      isNarrow: isMdScreen,
    });

    useEffect(() => {
      setDimensions((prev) => ({ ...prev, isNarrow: isMdScreen }));
    }, [isMdScreen]);

    const checkScrollable = useCallback(() => {
      if (!navRef.current) return;

      const clientWidth = navRef.current.clientWidth;
      const scrollWidth = navRef.current.scrollWidth;
      const needsScroll = scrollWidth > clientWidth;

      setDimensions((prev) => {
        const newBreakpoint = needsScroll
          ? prev.breakpoint > scrollWidth
            ? prev.breakpoint
            : scrollWidth
          : prev.breakpoint;

        const newIsNarrow = prev.isNarrow
          ? clientWidth < newBreakpoint
            ? true
            : false
          : needsScroll;

        return {
          breakpoint: newBreakpoint,
          isNarrow: newIsNarrow,
        };
      });
    }, []);

    useEffect(() => {
      checkScrollable();

      const resizeObserver = new ResizeObserver(checkScrollable);

      if (navRef.current) {
        resizeObserver.observe(navRef.current);
      }

      return () => resizeObserver.disconnect();
    }, [checkScrollable]);

    const renderSearch = () => {
      return (
        showSearch && (
          <StyledSearch
            id="nav-bar-search"
            label="Search"
            placeholder="Search"
            sdsStyle="rounded"
            hasInvertedStyle={hasInvertedStyle}
            isNarrow={dimensions.isNarrow}
            {...searchProps}
          />
        )
      );
    };

    const renderLogoNode = () => {
      let logoNode = (
        <StyledTitleContainer
          hasInvertedStyle={hasInvertedStyle}
          isNarrow={dimensions.isNarrow}
        >
          {logo && <StyledLogoWrapper>{logo}</StyledLogoWrapper>}

          <StyledTitleTagWrapper>
            {title && <p>{title}</p>}

            {tag && <StyledTag color={tagColor} label={tag} hover={false} />}
          </StyledTitleTagWrapper>
        </StyledTitleContainer>
      );

      if (logoLinkComponent || logoUrl) {
        logoNode = (
          <StyledLogoLinkWrapper
            component={logoLinkComponent}
            href={logoUrl}
            {...logoLinkProps}
            isNarrow={dimensions.isNarrow}
          >
            {logoNode}
          </StyledLogoLinkWrapper>
        );
      }

      return logoNode;
    };

    const renderPrimaryNav = () => {
      return (
        setActivePrimaryNavKey &&
        primaryNavItems &&
        primaryNavItems.length > 0 && (
          <NavigationHeaderPrimaryNav
            items={primaryNavItems}
            value={activePrimaryNavKey}
            onChange={setActivePrimaryNavKey}
            hasInvertedStyle={hasInvertedStyle}
            isNarrow={dimensions.isNarrow}
          />
        )
      );
    };

    const renderSecondaryNav = () => {
      return (
        secondaryNavItems &&
        secondaryNavItems.length > 0 && (
          <NavigationHeaderSecondaryNav
            items={secondaryNavItems}
            hasInvertedStyle={hasInvertedStyle}
            isNarrow={dimensions.isNarrow}
          />
        )
      );
    };

    const renderButtonsNode = () => {
      if (!buttons || buttons.length === 0) return null;

      return (
        <StyledButtonSection
          hasInvertedStyle={hasInvertedStyle}
          isNarrow={dimensions.isNarrow}
        >
          {buttons.map((buttonProps, idx) => renderButton(buttonProps, idx))}
        </StyledButtonSection>
      );
    };

    const renderButton = (
      buttonProps: Partial<ButtonProps> | React.ReactNode,
      idx: number
    ) => {
      const key = `button-${idx}`;
      const fullWidth = dimensions.isNarrow ? { width: "100%" } : undefined;

      if (React.isValidElement(buttonProps)) {
        return React.cloneElement(buttonProps as React.ReactElement, {
          hasInvertedStyle,
          key,
          sx: {
            ...(buttonProps.props?.sx || {}),
            ...fullWidth,
          },
        });
      }

      if (typeof buttonProps === "object" && buttonProps !== null) {
        const buttonPropsObj = buttonProps as ButtonProps;
        const isIconButton = "icon" in buttonPropsObj;

        if (isIconButton && dimensions.isNarrow && buttonPropsObj.icon) {
          return renderNarrowIconButton(buttonPropsObj, key, fullWidth);
        }

        if (isIconButton && !dimensions.isNarrow) {
          return renderWideIconButton(buttonPropsObj as IconButtonProps, key);
        }

        return renderDefaultButton(buttonPropsObj, key, fullWidth);
      }

      return null;
    };

    const renderNarrowIconButton = (
      buttonProps: ButtonProps,
      key: string,
      fullWidth: { width: string } | undefined
    ) => (
      <StyledNarrowIconButton
        key={key}
        sx={fullWidth}
        isAllCaps={false}
        startIcon={<Icon sdsSize="s" sdsIcon="Person" />}
        hasInvertedStyle={hasInvertedStyle}
        {...buttonProps}
        sdsStyle="minimal"
        sdsType="secondary"
      >
        {buttonProps.children}
      </StyledNarrowIconButton>
    );

    const renderWideIconButton = (
      buttonProps: IconButtonProps,
      key: string
    ) => {
      return (
        <StyledWideIconButton
          key={key}
          sdsIconProps={{ sdsSize: "l" }}
          aria-label={String(buttonProps.children)}
          hasInvertedStyle={hasInvertedStyle}
          {...buttonProps}
          sdsStyle="icon"
          sdsType="secondary"
          icon={buttonProps.icon}
        />
      );
    };

    const renderDefaultButton = (
      buttonProps: ButtonProps,
      key: string,
      fullWidth: { width: string } | undefined
    ) => (
      <StyledHeaderButton
        key={key}
        sx={fullWidth}
        {...(buttonProps as SdsMinimalButtonProps | SdsButtonProps)}
        sdsStyle="rounded"
        hasInvertedStyle={hasInvertedStyle}
      />
    );

    const renderHeaderContent = () => {
      const logoNode = renderLogoNode();
      const search = renderSearch();
      const primaryNav = renderPrimaryNav();
      const secondaryNav = renderSecondaryNav();
      const buttonsNode = renderButtonsNode();

      return (
        <StyledToolbar
          hasInvertedStyle={hasInvertedStyle}
          isNarrow={dimensions.isNarrow}
        >
          {logoNode}

          {!dimensions.isNarrow && (
            <>
              <StyledPrimaryNavContainer
                primaryNavPosition={primaryNavPosition}
                showSearch={showSearch}
                isNarrow={dimensions.isNarrow}
              >
                {primaryNavPosition === "left" ? (
                  <>
                    {primaryNav}
                    {search}
                  </>
                ) : (
                  <>
                    {search}
                    {primaryNav}
                  </>
                )}
              </StyledPrimaryNavContainer>

              {secondaryNav}
              {buttonsNode}
            </>
          )}

          {dimensions.isNarrow && (
            <StyledNarrowButton
              sdsType="secondary"
              sdsStyle="icon"
              icon={drawerOpen ? "XMark" : "LinesHorizontal3"}
              onClick={() => setDrawerOpen((prev) => !prev)}
              hasInvertedStyle={hasInvertedStyle}
            />
          )}
        </StyledToolbar>
      );
    };

    const headerContent = renderHeaderContent();
    const search = renderSearch();
    const primaryNav = renderPrimaryNav();
    const secondaryNav = renderSecondaryNav();
    const buttonsNode = renderButtonsNode();

    return (
      <>
        <ElevationScroll {...props} shouldElevate={scrollElevation}>
          <StyledAppBar
            elevation={0}
            hasInvertedStyle={hasInvertedStyle}
            ref={mergeRefs([ref, navRef])}
            aria-label="Main navigation"
            tabIndex={0}
            position="sticky"
            {...rest}
          >
            {headerContent}
          </StyledAppBar>
        </ElevationScroll>

        {dimensions.isNarrow && drawerOpen && (
          <StyledDrawer
            anchor="right"
            open={drawerOpen}
            onClose={() => setDrawerOpen(false)}
            hasInvertedStyle={hasInvertedStyle}
            role="dialog"
            aria-label="Navigation menu"
          >
            <div>
              <ElevationScroll {...props} shouldElevate={scrollElevation}>
                <StyledAppBar
                  elevation={10}
                  hasInvertedStyle={hasInvertedStyle}
                  ref={mergeRefs([ref, navRef])}
                  aria-label="Main navigation"
                  tabIndex={0}
                  {...rest}
                  position="sticky"
                >
                  {headerContent}
                </StyledAppBar>
              </ElevationScroll>
              {search}
              {primaryNav}
              {secondaryNav}
            </div>

            {buttonsNode}
          </StyledDrawer>
        )}
      </>
    );
  }
);

export type {
  NavigationHeaderProps,
  IconButtonProps,
} from "./NavigationHeader.types";

export type {
  NavigationHeaderPrimaryNavItem,
  NavigationHeaderPrimaryNavProps,
} from "./components/NavigationHeaderPrimaryNav";

export type {
  NavigationHeaderSecondaryNavItem,
  NavigationHeaderSecondaryNavProps,
} from "./components/NavigationHeaderSecondaryNav";

export default NavigationHeader;
</file>

<file path="packages/components/src/core/NavigationHeader/NavigationHeader.types.ts">
import { ButtonProps, LinkProps, AppBarProps } from "@mui/material";
import { ReactNode, ElementType } from "react";
import { SdsProps, SdsIconButtonProps } from "../Button";
import { InputSearchProps } from "../InputSearch";
import { SdsTagColorType } from "../Tag";
import { NavigationHeaderPrimaryNavItem } from "./components/NavigationHeaderPrimaryNav";
import { NavigationHeaderSecondaryNavItem } from "./components/NavigationHeaderSecondaryNav";

export interface NavigationHeaderProps<T extends string = string>
  extends AppBarProps {
  activePrimaryNavKey?: string;
  buttons?: Partial<SdsProps & ButtonProps>[] | React.ReactNode[];
  hasInvertedStyle?: boolean;
  logo?: ReactNode;
  logoUrl?: string;
  logoLinkComponent?: ElementType;
  logoLinkProps?: LinkProps;
  scrollElevation?: boolean;
  primaryNavItems?: NavigationHeaderPrimaryNavItem<T>[];
  primaryNavPosition?: "left" | "right";
  searchProps?: Partial<InputSearchProps>;
  secondaryNavItems?: NavigationHeaderSecondaryNavItem[];
  setActivePrimaryNavKey?(key: string): void;
  showSearch?: boolean;
  tag?: string;
  tagColor?: SdsTagColorType;
  title: string;
  drawerOpen?: boolean;
  setDrawerOpen?: (open: boolean) => void;
}

export type IconButtonProps = SdsIconButtonProps & { children?: string };
</file>

<file path="packages/components/src/core/NavigationHeader/style.ts">
import { AppBar, Drawer, Toolbar, css } from "@mui/material";
import {
  CommonThemeProps,
  fontBody,
  fontHeader,
  getIconSizes,
  getSemanticColors,
  getShadows,
  getSpaces,
} from "../styles";
import Tag from "../Tag";
import InputSearch from "../InputSearch";
import styled from "@emotion/styled";
import Link from "../Link";
import Button, { SdsButtonProps, SdsMinimalButtonProps } from "../Button";
import { SerializedStyles } from "@emotion/react";
import { IconButtonProps } from "./NavigationHeader.types";

export interface ExtraHeaderProps extends CommonThemeProps {
  hasInvertedStyle?: boolean;
  isNarrow?: boolean;
}

const doNotForwardProps = [
  "hasInvertedStyle",
  "isNarrow",
  "primaryNavPosition",
  "showSearch",
  "logoLinkComponent",
  "logoLinkProps",
];

export const StyledAppBar = styled(AppBar, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: ExtraHeaderProps) => {
    const colors = getSemanticColors(props);

    return `
      background-color: ${props.hasInvertedStyle ? colors?.base.backgroundPrimaryInverse : colors?.base.backgroundPrimary};
      background-image: none;
      max-width: 100%;
      max-height: 56px;
      overflow-x: auto;
    `;
  }}
`;

const NarrowToolbar = (props: ExtraHeaderProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    border-bottom: 1px solid
      ${props.hasInvertedStyle
        ? semanticColors?.base.dividerInverse
        : semanticColors?.base.divider};
    background-color: ${props.hasInvertedStyle
      ? semanticColors?.base.backgroundPrimaryInverse
      : semanticColors?.base.backgroundPrimary};
    background-image: none;
    box-shadow: none;
    position: sticky !important;
    top: 0;
    z-index: 1000;
    justify-content: space-between;
  `;
};

export const StyledToolbar = styled(Toolbar, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: ExtraHeaderProps) => {
    const { isNarrow } = props;

    const spaces = getSpaces(props);

    return css`
      &.MuiToolbar-root {
        min-height: 56px;
        max-height: 56px;
        padding: ${spaces?.m}px ${spaces?.xl}px;

        ${isNarrow && NarrowToolbar(props)}
      }
    `;
  }}
`;

export const StyledShadowElement = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: ExtraHeaderProps) => {
    const shadows = getShadows(props);

    return `
      box-shadow: ${shadows?.m};
      height: 10px;
      display: block;
      position: fixed;
      width: 100%;
      top: 46px;
      left: 0;
      z-index: 100;
    `;
  }}
`;

export const StyledShadowCoverElement = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: ExtraHeaderProps) => {
    const colors = getSemanticColors(props);

    return `
      background: ${props.hasInvertedStyle ? colors?.base.backgroundPrimaryInverse : colors?.base.backgroundPrimary};
      height: 10px;
      display: block;
      position: absolute;
      width: 100%;
      top: 56px;
      left: 0;
      z-index: 100;
    `;
  }}
`;

export interface ExtraButtonProps extends CommonThemeProps {
  hasInvertedStyle?: boolean;
}

export const StyledHeaderButton = styled(Button, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})<ExtraButtonProps & (SdsMinimalButtonProps | SdsButtonProps)>`
  ${(props) => {
    const { sdsType, hasInvertedStyle } = props;
    const mode = props?.theme?.palette?.mode || "light";
    const semanticColors = getSemanticColors(props);

    const secondaryButtonStyles = `
      box-shadow: inset 0 0 0 1px ${mode === "light" ? "white" : semanticColors?.accent?.fillPrimary};
      color: ${mode === "light" ? "white" : semanticColors?.accent?.fillPrimary};
    `;

    return `
      ${sdsType === "secondary" && hasInvertedStyle ? secondaryButtonStyles : ""}
    `;
  }}
`;

const invertedNarrowButtonStyles = (
  props: ExtraButtonProps & (SdsMinimalButtonProps | SdsButtonProps)
): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    color: ${semanticColors?.base?.textPrimaryInverse};
    svg {
      fill: ${semanticColors?.base?.ornamentPrimaryInverse};
    }

    &:hover,
    &:focus,
    &:active,
    &:focus-within {
      color: ${semanticColors?.base?.textPrimaryInverse};
      svg {
        fill: ${semanticColors?.base?.ornamentPrimaryInverse};
      }
    }
  `;
};

export const StyledNarrowIconButton = styled(Button, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})<ExtraButtonProps & (SdsMinimalButtonProps | SdsButtonProps)>`
  ${(props) => {
    const { hasInvertedStyle } = props;

    return css`
      ${hasInvertedStyle && invertedNarrowButtonStyles(props)}
    `;
  }}
`;

const invertedWideButtonStyles = (
  props: ExtraButtonProps & IconButtonProps
): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    svg {
      fill: ${semanticColors?.base?.ornamentSecondaryInverse};
    }

    &:hover,
    &:focus,
    &:active,
    &:focus-within {
      svg {
        fill: ${semanticColors?.base?.ornamentPrimaryInverse};
      }
    }
  `;
};

export const StyledWideIconButton = styled(Button, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})<ExtraButtonProps & IconButtonProps>`
  ${(props) => {
    const { hasInvertedStyle } = props;

    return css`
      ${hasInvertedStyle && invertedWideButtonStyles(props)}
      margin: 0;
    `;
  }}
`;

export const StyledLogoLinkWrapper = styled(Link, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  align-items: center;
  display: flex;
  text-decoration: none !important;

  ${(props: ExtraHeaderProps) => {
    const { isNarrow } = props;

    return css`
      width: ${isNarrow ? "100%" : "auto"};
    `;
  }}
`;

export const StyledLogoWrapper = styled.div`
  display: flex;
  align-items: center;
`;

const NarrowTitleContainer = (): SerializedStyles => {
  return css`
    p {
      margin: 0px;
      margin-block: 0px;
    }
  `;
};

export const StyledTitleContainer = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  display: flex;
  align-items: center;

  ${(props: ExtraHeaderProps) => {
    const { isNarrow } = props;

    const colors = getSemanticColors(props);
    const spaces = getSpaces(props);

    return css`
      gap: ${spaces?.l}px;
      color: ${props.hasInvertedStyle
        ? colors?.base.textPrimaryInverse
        : colors?.base.textPrimary};
      margin-right: ${spaces?.xxl}px;
      width: 100%;

      ${isNarrow && NarrowTitleContainer()}
    `;
  }}
`;

export const StyledTitleTagWrapper = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontHeader("l")}
  ${fontHeader("l", true)}

  ${(props: ExtraHeaderProps) => {
    const spaces = getSpaces(props);

    return `
      display: flex;
      align-items: center;
      gap: ${spaces?.xs}px;

      p {
        white-space: nowrap;
      }
  `;
  }}
`;

export const StyledTag = styled(Tag)`
  margin: 0;

  .MuiChip-label {
    ${fontBody("xxxs", "regular")}
    ${fontBody("xxxs", "regular", /* isNarrow */ true)}
  }

  &:hover {
    text-decoration: none;
  }
`;

interface StyledPrimaryNavContainerProps extends CommonThemeProps {
  primaryNavPosition?: "left" | "right";
  showSearch?: boolean;
  isNarrow?: boolean;
}

export const StyledPrimaryNavContainer = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  align-items: center;
  display: flex;
  flex-grow: 1;

  ${(props: StyledPrimaryNavContainerProps) => {
    const { showSearch, primaryNavPosition, isNarrow } = props;
    const spaces = getSpaces(props);

    const primaryNavPositionWithSearch =
      primaryNavPosition === "left" ? "flex-start" : "space-between";
    const primaryNavPositionWithoutSearch =
      primaryNavPosition === "left" ? "flex-start" : "flex-end";

    return css`
      flex-direction: ${isNarrow ? "column" : "row"};
      gap: ${spaces?.xxl}px;
      margin-right: ${spaces?.xxl}px;
      flex: 1;
      justify-content: ${showSearch
        ? primaryNavPositionWithSearch
        : primaryNavPositionWithoutSearch};
    `;
  }}
`;

interface ExtraSearchProps extends CommonThemeProps {
  hasInvertedStyle?: boolean;
  isNarrow?: boolean;
}

export const StyledSearch = styled(InputSearch, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  margin: 0;
  width: 100%;

  .MuiInputBase-input {
    ${fontBody("xs", "regular")}
    ${fontBody("m", "regular", /* isNarrow */ true)}
  }

  ${(props: ExtraSearchProps) => {
    const { hasInvertedStyle, isNarrow } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return css`
      max-width: ${isNarrow ? "100%" : "320px"};
      padding: ${isNarrow ? `${spaces?.m}px ${spaces?.xl}px` : ""};
      .MuiInputBase-root {
        color: ${hasInvertedStyle
          ? semanticColors?.base.textPrimaryInverse
          : semanticColors?.base.textPrimary};
        fieldset {
          border-color: ${hasInvertedStyle
            ? semanticColors?.base?.borderPrimaryInverse
            : ""};
        }

        .MuiInputBase-input {
          &::placeholder {
            color: ${hasInvertedStyle
              ? semanticColors?.base?.textTertiaryInverse
              : semanticColors?.base?.textTertiary};
            opacity: 1;
          }
        }

        .MuiInputAdornment-root {
          .MuiButtonBase-root:last-of-type {
            svg {
              color: ${hasInvertedStyle
                ? semanticColors?.base?.ornamentSecondaryInverse
                : ""};
            }
          }
        }

        &:hover {
          fieldset {
            border-color: ${hasInvertedStyle
              ? semanticColors?.base?.borderPrimaryHoverInverse
              : ""} !important;
          }

          .MuiInputAdornment-root {
            .MuiButtonBase-root:last-of-type {
              svg {
                color: ${hasInvertedStyle
                  ? semanticColors?.base?.ornamentPrimaryInverse
                  : ""};
              }
            }
          }
        }

        &.Mui-focused {
          fieldset {
            border-color: ${hasInvertedStyle
              ? semanticColors?.base?.borderPrimaryPressedInverse
              : ""} !important;
          }

          .MuiInputAdornment-root {
            .MuiButtonBase-root:last-of-type {
              svg {
                color: ${hasInvertedStyle
                  ? semanticColors?.base?.ornamentPrimaryInverse
                  : ""};
              }
            }
          }
        }

        &.Mui-disabled {
          fieldset {
            border-color: ${hasInvertedStyle
              ? semanticColors?.base?.borderPrimaryDisabledInverse
              : ""} !important;
          }

          .MuiInputAdornment-root {
            .MuiButtonBase-root:last-of-type {
              svg {
                color: ${hasInvertedStyle
                  ? semanticColors?.base?.ornamentDisabledInverse
                  : ""};
              }
            }
          }
        }
      }
    `;
  }}
`;

const NarrowButtonStyles = (props: ExtraHeaderProps): SerializedStyles => {
  const spaces = getSpaces(props);
  const sizes = getIconSizes(props);
  const colors = getSemanticColors(props);

  const backgroundColor = props.hasInvertedStyle
    ? colors?.base.backgroundPrimaryInverse
    : colors?.base.backgroundPrimary;

  return css`
    background: ${backgroundColor};
    gap: ${spaces?.l}px;
    flex-direction: column;
    margin-left: 0;
    margin-top: ${spaces?.xxl}px;
    padding: ${spaces?.xl}px;
    position: sticky;
    bottom: 0;

    &::before {
      content: "";
      position: absolute;
      height: ${spaces?.xxl}px;
      width: 100%;
      background: linear-gradient(
        to top,
        ${backgroundColor} 0%,
        ${backgroundColor}00 100%
      );
      top: -${spaces?.xxl}px;
    }

    .MuiButton-icon .MuiSvgIcon-root {
      width: ${sizes?.l.width}px;
      height: ${sizes?.l.height}px;
    }
  `;
};

export const StyledButtonSection = styled("section", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  display: flex;
  align-items: center;

  .MuiButtonBase-root {
    ${fontBody("l", "semibold", /* isNarrow */ true)}
  }

  [data-style="minimal"] {
    ${fontBody("m", "semibold", /* isNarrow */ true)}
  }

  ${(props: ExtraHeaderProps) => {
    const { isNarrow } = props;

    const spaces = getSpaces(props);

    return css`
      gap: ${spaces?.m}px;
      margin-left: ${spaces?.xxl}px;

      ${isNarrow && NarrowButtonStyles(props)}
    `;
  }}
`;

export const StyledDrawer = styled(Drawer, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: ExtraHeaderProps) => {
    const colors = getSemanticColors(props);

    return `
      .MuiDrawer-paper {
        background: ${props.hasInvertedStyle ? colors?.base.backgroundPrimaryInverse : colors?.base.backgroundPrimary};
        width: 100%;
        display: flex;
        flex-direction: column;
        min-height: 100dvh;
        justify-content: space-between;
      }
    `;
  }}
`;

export const StyledNarrowButton = styled(Button, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: ExtraButtonProps & IconButtonProps) => {
    const { hasInvertedStyle } = props;

    return css`
      ${hasInvertedStyle && invertedWideButtonStyles(props)}
      margin: 0;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/NavigationJumpTo/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawNavigationJumpTo from "src/core/NavigationJumpTo";

export const NavigationJumpTo = (props: Args): JSX.Element => {
  const { items, ...rest } = props;

  return <RawNavigationJumpTo items={items} {...rest} />;
};
</file>

<file path="packages/components/src/core/NavigationJumpTo/__storybook__/stories/demo.tsx">
import { Box } from "@mui/material";
import { forwardRef, useRef, useState } from "react";
import { TabPanelProps } from "@mui/base";
import { Args } from "@storybook/react";
import InputSlider from "src/core/InputSlider";
import RawNavigationJumpTo from "src/core/NavigationJumpTo";

interface TabPanelPropsExtra extends TabPanelProps {
  sdsDemoHeight: number;
}

const TabPanel = forwardRef<HTMLDivElement, TabPanelPropsExtra>(
  (props, ref) => {
    const { children, sdsDemoHeight, ...other } = props;

    return (
      <div
        ref={ref}
        role="tabpanel"
        style={{
          alignItems: "center",
          backgroundColor: "#f4f4f4",
          color: "black",
          display: "flex",
          fontFamily: "Inter, sans-serif",
          fontSize: "36px",
          fontWeight: 100,
          justifyContent: "center",
          margin: "0px 22px 22px 6px",
          minHeight: `${sdsDemoHeight}vh`,
          textAlign: "center",
        }}
        {...other}
      >
        <Box sx={{ p: 3 }}>
          {children}
          <p style={{ fontSize: 14, margin: "5px 0 0 0" }}>
            height: {sdsDemoHeight} vh
          </p>
        </Box>
      </div>
    );
  }
);

export const NavigationJumpToDemo = (props: Args): JSX.Element => {
  const [navPanelHeight, setNavPanelHeight] = useState(100);
  const sectionRef0 = useRef(null);
  const sectionRef1 = useRef(null);
  const sectionRef2 = useRef(null);
  const sectionRef3 = useRef(null);
  const sectionRef4 = useRef(null);

  return (
    <Box>
      <Box
        sx={{
          fontFamily: "Inter, sans-serif",
          margin: "0 0 30px 6px",
          width: 250,
        }}
      >
        <p id="nav-item-height-slider" style={{ marginBottom: "5px" }}>
          Section panel height:
        </p>
        <InputSlider
          aria-labelledby="nav-item-height-slider"
          min={20}
          max={120}
          step={1}
          onChange={(_, value) => {
            setNavPanelHeight(value as number);
          }}
          defaultValue={100}
          marks={[
            { label: "20", value: 20 },
            { label: "40", value: 40 },
            { label: "60", value: 60 },
            { label: "80", value: 80 },
            { label: "100", value: 100 },
            { label: "120", value: 120 },
          ]}
        />
      </Box>

      <Box
        sx={{
          display: "flex",
          flexDirection: "row-reverse",
          position: "relative",
          width: "100%",
        }}
      >
        <Box sx={{ width: 150 }}>
          <RawNavigationJumpTo
            {...props}
            items={[
              { elementRef: sectionRef0, title: "Section 1" },
              { elementRef: sectionRef1, title: "Section 2" },
              { elementRef: sectionRef2, title: "Section 3" },
              { elementRef: sectionRef3, title: "Section 4" },
              { elementRef: sectionRef4, title: "Section 5" },
            ]}
          />
        </Box>
        <Box
          sx={{
            position: "relative",
            width: "100%",
          }}
        >
          <TabPanel
            id="navigation-panel-1"
            ref={sectionRef0}
            sdsDemoHeight={navPanelHeight}
          >
            Section #1
          </TabPanel>
          <TabPanel
            id="navigation-panel-2"
            ref={sectionRef1}
            sdsDemoHeight={navPanelHeight}
          >
            Section #2
          </TabPanel>
          <TabPanel
            id="navigation-panel-3"
            ref={sectionRef2}
            sdsDemoHeight={navPanelHeight}
          >
            Section #3
          </TabPanel>
          <TabPanel
            id="navigation-panel-4"
            ref={sectionRef3}
            sdsDemoHeight={navPanelHeight}
          >
            Section #4
          </TabPanel>
          <TabPanel
            id="navigation-panel-5"
            ref={sectionRef4}
            sdsDemoHeight={navPanelHeight}
          >
            Section #5
          </TabPanel>
        </Box>
      </Box>
    </Box>
  );
};
</file>

<file path="packages/components/src/core/NavigationJumpTo/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import RawNavigationJumpTo from "src/core/NavigationJumpTo";

export const TestDemo = (props: Args): JSX.Element => {
  const { items, ...rest } = props;

  return (
    <RawNavigationJumpTo
      data-testid="navigation-jump-to"
      items={items}
      {...rest}
    />
  );
};
</file>

<file path="packages/components/src/core/NavigationJumpTo/__storybook__/constants.tsx">
export const NAVIGATION_JUMP_TO_EXCLUDED_CONTROLS = ["items", "offsetTop"];

export const NAVIGATION_JUMP_TO_ARIA_VALID_ATTR_VALUE = "aria-valid-attr-value";
</file>

<file path="packages/components/src/core/NavigationJumpTo/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { NavigationJumpTo } from "./stories/default";
import {
  NAVIGATION_JUMP_TO_ARIA_VALID_ATTR_VALUE,
  NAVIGATION_JUMP_TO_EXCLUDED_CONTROLS,
} from "./constants";
import { NavigationJumpToDemo } from "./stories/demo";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    items: {
      control: { require: true, type: "object" },
      defaultValue: { summary: "-" },
      description:
        "An array of object containing a title for the Navigation Tab and a ref to the section div.",
    },
    offsetTop: {
      control: { description: "wew", type: "number" },
      defaultValue: { summary: "0" },
      description:
        "To apply the offsetTop to the component, please refresh the page.",
    },
    width: {
      control: { type: "text" },
      defaultValue: { summary: "100%" },
      description: "The width of the component.",
    },
  },
  component: NavigationJumpTo,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/NavigationJumpTo",
} as Meta;

// Default

export const Default = {
  args: {
    items: [
      {
        elementRef: { current: null },
        title:
          "A long title for this item that will wrap to the next line if the component width is not enough.",
      },
      { elementRef: { current: null }, title: "Item 2" },
      { elementRef: { current: null }, title: "Item 3" },
      { elementRef: { current: null }, title: "Item 4" },
      { elementRef: { current: null }, title: "Item 5" },
    ],
    offsetTop: 0,
    width: "200px",
  },
  parameters: {
    axe: {
      disabledRules: [NAVIGATION_JUMP_TO_ARIA_VALID_ATTR_VALUE],
    },
    controls: { expanded: true },
  },
  render: (args: Args) => <NavigationJumpTo {...args} />,
};

// Demo

export const JumpToNavDemo = {
  args: {
    items: [],
    offsetTop: 0,
  },
  parameters: {
    axe: {
      disabledRules: [NAVIGATION_JUMP_TO_ARIA_VALID_ATTR_VALUE],
    },
    controls: {
      exclude: ["items"],
      expanded: true,
    },
  },
  render: (args: Args) => <NavigationJumpToDemo {...args} />,
};

// Test

export const Test = {
  args: {
    items: [
      { elementRef: { current: null }, title: "Item 1" },
      { elementRef: { current: null }, title: "Item 2" },
      { elementRef: { current: null }, title: "Item 3" },
      { elementRef: { current: null }, title: "Item 4" },
      { elementRef: { current: null }, title: "Item 5" },
    ],
  },
  parameters: {
    axe: {
      disabledRules: [NAVIGATION_JUMP_TO_ARIA_VALID_ATTR_VALUE],
    },
    controls: {
      exclude: NAVIGATION_JUMP_TO_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/NavigationJumpTo/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<NavigationJumpTo /> Default story renders snapshot 1`] = `
<div
  class="MuiTabs-root MuiTabs-vertical css-1w9953g-MuiTabs-root"
>
  <div
    class="MuiTabs-scroller MuiTabs-fixed css-jpln7h-MuiTabs-scroller"
    style="overflow: hidden; margin-right: 0px;"
  >
    <div
      aria-label="navigation-jump-to"
      aria-orientation="vertical"
      class="MuiTabs-flexContainer MuiTabs-flexContainerVertical css-lfwcke-MuiTabs-flexContainer"
      role="tablist"
    >
      <button
        aria-controls="navigation-panel-1"
        aria-selected="true"
        class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary MuiTab-fullWidth Mui-selected css-1be03g4-MuiButtonBase-root-MuiTab-root"
        id="navigation-tab-a-long-title-for-this-item-that-will-wrap-to-the-next-line-if-the-component-width-is-not-enough."
        role="tab"
        tabindex="0"
        type="button"
      >
        A long title for this item that will wrap to the next line if the component width is not enough.
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
      <button
        aria-controls="navigation-panel-2"
        aria-selected="false"
        class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary MuiTab-fullWidth css-1be03g4-MuiButtonBase-root-MuiTab-root"
        id="navigation-tab-item-2"
        role="tab"
        tabindex="0"
        type="button"
      >
        Item 2
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
      <button
        aria-controls="navigation-panel-3"
        aria-selected="false"
        class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary MuiTab-fullWidth css-1be03g4-MuiButtonBase-root-MuiTab-root"
        id="navigation-tab-item-3"
        role="tab"
        tabindex="0"
        type="button"
      >
        Item 3
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
      <button
        aria-controls="navigation-panel-4"
        aria-selected="false"
        class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary MuiTab-fullWidth css-1be03g4-MuiButtonBase-root-MuiTab-root"
        id="navigation-tab-item-4"
        role="tab"
        tabindex="0"
        type="button"
      >
        Item 4
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
      <button
        aria-controls="navigation-panel-5"
        aria-selected="false"
        class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary MuiTab-fullWidth css-1be03g4-MuiButtonBase-root-MuiTab-root"
        id="navigation-tab-item-5"
        role="tab"
        tabindex="0"
        type="button"
      >
        Item 5
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
    </div>
    <span
      class="MuiTabs-indicator css-10d9dml-MuiTabs-indicator"
      style="top: 0px; height: 0px;"
    />
  </div>
</div>
`;

exports[`<NavigationJumpTo /> JumpToNavDemo story renders snapshot 1`] = `
<div
  class="MuiBox-root css-0"
>
  <div
    class="MuiBox-root css-1bqrueo"
  >
    <p
      id="nav-item-height-slider"
      style="margin-bottom: 5px;"
    >
      Section panel height:
    </p>
    <span
      class="MuiSlider-root MuiSlider-marked MuiSlider-colorPrimary MuiSlider-sizeMedium css-tvaxs8-MuiSlider-root"
    >
      <span
        class="MuiSlider-rail css-7o8aqz-MuiSlider-rail"
      />
      <span
        class="MuiSlider-track css-ttgsjq-MuiSlider-track"
        style="left: 0%; width: 80%;"
      />
      <span
        class="MuiSlider-mark MuiSlider-markActive css-z5sdnj-MuiSlider-mark"
        data-index="0"
        style="left: 0%;"
      />
      <span
        aria-hidden="true"
        class="MuiSlider-markLabel MuiSlider-markLabel MuiSlider-markLabelActive css-1ucwjgd-MuiSlider-markLabel"
        data-index="0"
        style="left: 0%;"
      >
        20
      </span>
      <span
        class="MuiSlider-mark MuiSlider-markActive css-z5sdnj-MuiSlider-mark"
        data-index="1"
        style="left: 20%;"
      />
      <span
        aria-hidden="true"
        class="MuiSlider-markLabel MuiSlider-markLabel MuiSlider-markLabelActive css-1ucwjgd-MuiSlider-markLabel"
        data-index="1"
        style="left: 20%;"
      >
        40
      </span>
      <span
        class="MuiSlider-mark MuiSlider-markActive css-z5sdnj-MuiSlider-mark"
        data-index="2"
        style="left: 40%;"
      />
      <span
        aria-hidden="true"
        class="MuiSlider-markLabel MuiSlider-markLabel MuiSlider-markLabelActive css-1ucwjgd-MuiSlider-markLabel"
        data-index="2"
        style="left: 40%;"
      >
        60
      </span>
      <span
        class="MuiSlider-mark MuiSlider-markActive css-z5sdnj-MuiSlider-mark"
        data-index="3"
        style="left: 60%;"
      />
      <span
        aria-hidden="true"
        class="MuiSlider-markLabel MuiSlider-markLabel MuiSlider-markLabelActive css-1ucwjgd-MuiSlider-markLabel"
        data-index="3"
        style="left: 60%;"
      >
        80
      </span>
      <span
        class="MuiSlider-mark MuiSlider-markActive css-z5sdnj-MuiSlider-mark"
        data-index="4"
        style="left: 80%;"
      />
      <span
        aria-hidden="true"
        class="MuiSlider-markLabel MuiSlider-markLabel MuiSlider-markLabelActive css-1ucwjgd-MuiSlider-markLabel"
        data-index="4"
        style="left: 80%;"
      >
        100
      </span>
      <span
        class="MuiSlider-mark css-hzp7sc-MuiSlider-mark"
        data-index="5"
        style="left: 100%;"
      />
      <span
        aria-hidden="true"
        class="MuiSlider-markLabel MuiSlider-markLabel css-1bvr8oc-MuiSlider-markLabel"
        data-index="5"
        style="left: 100%;"
      >
        120
      </span>
      <span
        class="MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary MuiSlider-thumb MuiSlider-thumbSizeMedium MuiSlider-thumbColorPrimary css-cp2j25-MuiSlider-thumb"
        data-index="0"
        style="left: 80%;"
      >
        <input
          aria-label="Slider - min 20 to max 120"
          aria-labelledby="nav-item-height-slider"
          aria-orientation="horizontal"
          aria-valuemax="120"
          aria-valuemin="20"
          aria-valuenow="100"
          data-index="0"
          max="120"
          min="20"
          step="1"
          style="border: 0px; height: 100%; margin: -1px; overflow: hidden; padding: 0px; position: absolute; white-space: nowrap; width: 100%; direction: ltr;"
          type="range"
          value="100"
        />
      </span>
    </span>
  </div>
  <div
    class="MuiBox-root css-1ovs5s"
  >
    <div
      class="MuiBox-root css-1nbic85"
    >
      <div
        class="MuiTabs-root MuiTabs-vertical css-19e5b2q-MuiTabs-root"
      >
        <div
          class="MuiTabs-scroller MuiTabs-fixed css-jpln7h-MuiTabs-scroller"
          style="overflow: hidden; margin-right: 0px;"
        >
          <div
            aria-label="navigation-jump-to"
            aria-orientation="vertical"
            class="MuiTabs-flexContainer MuiTabs-flexContainerVertical css-lfwcke-MuiTabs-flexContainer"
            role="tablist"
          >
            <button
              aria-controls="navigation-panel-1"
              aria-selected="true"
              class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary MuiTab-fullWidth Mui-selected css-1be03g4-MuiButtonBase-root-MuiTab-root"
              id="navigation-tab-section-1"
              role="tab"
              tabindex="0"
              type="button"
            >
              Section 1
              <span
                class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
              />
            </button>
            <button
              aria-controls="navigation-panel-2"
              aria-selected="false"
              class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary MuiTab-fullWidth css-1be03g4-MuiButtonBase-root-MuiTab-root"
              id="navigation-tab-section-2"
              role="tab"
              tabindex="0"
              type="button"
            >
              Section 2
              <span
                class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
              />
            </button>
            <button
              aria-controls="navigation-panel-3"
              aria-selected="false"
              class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary MuiTab-fullWidth css-1be03g4-MuiButtonBase-root-MuiTab-root"
              id="navigation-tab-section-3"
              role="tab"
              tabindex="0"
              type="button"
            >
              Section 3
              <span
                class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
              />
            </button>
            <button
              aria-controls="navigation-panel-4"
              aria-selected="false"
              class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary MuiTab-fullWidth css-1be03g4-MuiButtonBase-root-MuiTab-root"
              id="navigation-tab-section-4"
              role="tab"
              tabindex="0"
              type="button"
            >
              Section 4
              <span
                class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
              />
            </button>
            <button
              aria-controls="navigation-panel-5"
              aria-selected="false"
              class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary MuiTab-fullWidth css-1be03g4-MuiButtonBase-root-MuiTab-root"
              id="navigation-tab-section-5"
              role="tab"
              tabindex="0"
              type="button"
            >
              Section 5
              <span
                class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
              />
            </button>
          </div>
          <span
            class="MuiTabs-indicator css-10d9dml-MuiTabs-indicator"
            style="top: 0px; height: 0px;"
          />
        </div>
      </div>
    </div>
    <div
      class="MuiBox-root css-1jke4yk"
    >
      <div
        id="navigation-panel-1"
        role="tabpanel"
        style="align-items: center; background-color: rgb(244, 244, 244); color: black; display: flex; font-family: Inter, sans-serif; font-size: 36px; font-weight: 100; justify-content: center; margin: 0px 22px 22px 6px; min-height: 100vh; text-align: center;"
      >
        <div
          class="MuiBox-root css-19kzrtu"
        >
          Section #1
          <p
            style="font-size: 14px; margin: 5px 0px 0px 0px;"
          >
            height: 
            100
             vh
          </p>
        </div>
      </div>
      <div
        id="navigation-panel-2"
        role="tabpanel"
        style="align-items: center; background-color: rgb(244, 244, 244); color: black; display: flex; font-family: Inter, sans-serif; font-size: 36px; font-weight: 100; justify-content: center; margin: 0px 22px 22px 6px; min-height: 100vh; text-align: center;"
      >
        <div
          class="MuiBox-root css-19kzrtu"
        >
          Section #2
          <p
            style="font-size: 14px; margin: 5px 0px 0px 0px;"
          >
            height: 
            100
             vh
          </p>
        </div>
      </div>
      <div
        id="navigation-panel-3"
        role="tabpanel"
        style="align-items: center; background-color: rgb(244, 244, 244); color: black; display: flex; font-family: Inter, sans-serif; font-size: 36px; font-weight: 100; justify-content: center; margin: 0px 22px 22px 6px; min-height: 100vh; text-align: center;"
      >
        <div
          class="MuiBox-root css-19kzrtu"
        >
          Section #3
          <p
            style="font-size: 14px; margin: 5px 0px 0px 0px;"
          >
            height: 
            100
             vh
          </p>
        </div>
      </div>
      <div
        id="navigation-panel-4"
        role="tabpanel"
        style="align-items: center; background-color: rgb(244, 244, 244); color: black; display: flex; font-family: Inter, sans-serif; font-size: 36px; font-weight: 100; justify-content: center; margin: 0px 22px 22px 6px; min-height: 100vh; text-align: center;"
      >
        <div
          class="MuiBox-root css-19kzrtu"
        >
          Section #4
          <p
            style="font-size: 14px; margin: 5px 0px 0px 0px;"
          >
            height: 
            100
             vh
          </p>
        </div>
      </div>
      <div
        id="navigation-panel-5"
        role="tabpanel"
        style="align-items: center; background-color: rgb(244, 244, 244); color: black; display: flex; font-family: Inter, sans-serif; font-size: 36px; font-weight: 100; justify-content: center; margin: 0px 22px 22px 6px; min-height: 100vh; text-align: center;"
      >
        <div
          class="MuiBox-root css-19kzrtu"
        >
          Section #5
          <p
            style="font-size: 14px; margin: 5px 0px 0px 0px;"
          >
            height: 
            100
             vh
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
`;
</file>

<file path="packages/components/src/core/NavigationJumpTo/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<NavigationJumpTo />", () => {
  generateSnapshots(stories);

  it("renders navigation jump to component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("navigation-jump-to");
    expect(elements).toBeTruthy();
  });

  it("renders the correct number of navigation items", () => {
    const items = [
      { elementRef: { current: null }, title: "Item 1" },
      { elementRef: { current: null }, title: "Item 2" },
      { elementRef: { current: null }, title: "Item 3" },
    ];

    render(<Test items={items} />);
    const navigationItems = screen.getAllByRole("tab");
    expect(navigationItems).toHaveLength(items.length);
  });

  it("scrolls to the correct section when a navigation item is clicked", () => {
    const items = [
      {
        elementRef: {
          current: {
            getAttribute: () => {
              return "test-item-1";
            },
            scrollIntoView: jest.fn(),
            setAttribute: jest.fn(),
          },
        },
        title: "Item 1",
      },
      {
        elementRef: {
          current: {
            getAttribute: () => {
              return "test-item-1";
            },
            scrollIntoView: jest.fn(),
            setAttribute: jest.fn(),
          },
        },
        title: "Item 2",
      },
    ];

    render(<Test items={items} />);
    const navigationItem = screen.getByText("Item 2");
    fireEvent.click(navigationItem);

    expect(items[1].elementRef.current.scrollIntoView).toHaveBeenCalledTimes(1);
    expect(items[1].elementRef.current.scrollIntoView).toHaveBeenCalledWith({
      behavior: "smooth",
      block: "start",
    });
  });
});
</file>

<file path="packages/components/src/core/NavigationJumpTo/__tests__/NavigationJumpTo.namespace-test.tsx">
import { NavigationJumpTo, NavigationJumpToProps } from "@czi-sds/components";

const NavigationJumpToNameSpaceTest = (props: NavigationJumpToProps) => {
  return (
    <NavigationJumpTo
      items={[
        { elementRef: { current: null }, title: "Item 1" },
        { elementRef: { current: null }, title: "Item 2" },
        { elementRef: { current: null }, title: "Item 3" },
        { elementRef: { current: null }, title: "Item 4" },
        { elementRef: { current: null }, title: "Item 5" },
      ]}
      onChange={(value: number) => {}}
      offsetTop={0}
    />
  );
};
</file>

<file path="packages/components/src/core/NavigationJumpTo/index.tsx">
import React, {
  forwardRef,
  useCallback,
  useEffect,
  useState,
  CSSProperties,
} from "react";
import useScrollStopListener from "src/common/helpers/scrollStop";
import { toKebabCase } from "src/common/utils";
import { NavigationJumpToExtraProps, StyledTab, StyledTabs } from "./style";
import useInView from "./useIntersection";

type Item = {
  title: string;
  elementRef: React.MutableRefObject<HTMLElement | null>;
};

export interface NavigationJumpToProps extends NavigationJumpToExtraProps {
  items: Array<Item>;
  offsetTop?: number;
  onChange?: (
    value: number,
    event?: React.SyntheticEvent,
    type?: "click" | "scroll"
  ) => void;
  width?: CSSProperties["width"];
}

const scrollIntoViewWithOffset = (id: string, offset: number) => {
  const element = document.getElementById(id);
  if (!element) return;

  window.scrollTo({
    behavior: "smooth",
    top:
      element.getBoundingClientRect().top -
      document.body.getBoundingClientRect().top -
      offset,
  });
};

const NavigationJumpTo = forwardRef<HTMLDivElement, NavigationJumpToProps>(
  (props, ref): JSX.Element | null => {
    const { items, offsetTop = 0, onChange, width, ...rest } = props;
    const [navItemClicked, setNavItemClicked] = useState(false);
    const [firstTabIndexInview, setFirstTabIndexInview] = useState(0);
    const [emittedValue, setEmittedValue] = useState(-1);
    const sectionIsInView = useInView(items, offsetTop);

    const a11yProps = (title: string, elementId: string) => {
      return {
        "aria-controls": elementId,
        id: `navigation-tab-${title}`,
      };
    };

    // Emit changes only once
    const handleOnChange = useCallback(
      (
        value: number,
        event: React.SyntheticEvent,
        type: "click" | "scroll"
      ) => {
        if (value !== emittedValue) {
          onChange?.(value, event, type);
          setEmittedValue(value);
        }
      },
      [emittedValue, onChange]
    );

    const handleChange = (event: React.SyntheticEvent, newValue: number) => {
      // Set navItemClicked to true to disable changing the tab value
      // while scrolling. Once the scrolling ends, it is changed back to false.
      setNavItemClicked(true);

      // Smoothly scroll to the section of the page referenced by the clicked nav item
      if (offsetTop) {
        scrollIntoViewWithOffset(
          `${items[newValue]?.elementRef?.current?.getAttribute("id")}`,
          offsetTop
        );
      } else {
        items[newValue]?.elementRef?.current?.scrollIntoView({
          behavior: "smooth",
          block: "start",
        });
      }

      // Update the tab value to newValue to adjust the position of the tabsIndicator
      setFirstTabIndexInview(newValue);

      // Invoke the custom onChange prop
      handleOnChange(newValue, event, "click");
    };

    // Observe changes in the sectionIsInView object to update the tabs value
    // based on the index of the visible sections in the viewport.
    useEffect(() => {
      // Retrieve the index of the first section that is intersecting with the viewport.
      const sectionInView = Object.values(sectionIsInView).findIndex(
        (section) => section.isInView
      );

      // Update the tabs value only if a section is present in the viewport
      // and no navigation item has been clicked, preventing updates during window scroll
      // and unnecessary movement of the tabs indicator.
      if (sectionInView > -1 && !navItemClicked) {
        setFirstTabIndexInview(sectionInView);

        // Invoke the custom onChange prop
        handleOnChange(
          sectionInView,
          {
            target: items[sectionInView],
            type: "scroll",
          } as unknown as React.SyntheticEvent,
          "scroll"
        );
      }
      // eslint-disable-next-line react-hooks/exhaustive-deps
    }, [handleOnChange, items, sectionIsInView]);

    // Set navItemClicked to false to re-enable the option
    // to update the tab value based on scroll.
    useScrollStopListener(() => {
      setNavItemClicked(false);
    });

    return (
      <StyledTabs
        ref={ref}
        orientation="vertical"
        variant="fullWidth"
        value={firstTabIndexInview}
        onChange={handleChange}
        aria-label="navigation-jump-to"
        width={width}
        {...rest}
      >
        {items.map(({ title, elementRef }, index) => (
          <StyledTab
            key={toKebabCase(title)}
            label={title}
            tabIndex={0}
            width={width}
            {...a11yProps(
              toKebabCase(title),
              elementRef.current?.getAttribute("id") ||
                `navigation-panel-${index + 1}`
            )}
          />
        ))}
      </StyledTabs>
    );
  }
);

export default NavigationJumpTo;
</file>

<file path="packages/components/src/core/NavigationJumpTo/style.ts">
import { Tab, Tabs, TabsProps, tabsClasses } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBodyXs,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";
import { focusVisibleA11yStyle } from "src/core/styles/common/mixins/a11y";
import { CSSProperties } from "react";

export interface NavigationJumpToExtraProps
  extends Omit<TabsProps, "onChange">,
    CommonThemeProps {
  width?: CSSProperties["width"];
}

const doNotForwardProps = ["items", "sdsIndicatorColor", "width"];

export const StyledTabs = styled(Tabs, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: NavigationJumpToExtraProps) => {
    const { width = "100%" } = props;
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      &:before {
        background-color: ${semanticColors?.base?.divider};
        border-radius: ${spaces?.xxxs}px;
        content: "";
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: ${spaces?.xxxs}px;
      }

      width: ${width};
      top: ${spaces?.xl}px;
      margin-bottom: ${spaces?.l}px;
      margin-right: ${spaces?.m}px;
      position: sticky;
      overflow: visible;

      .${tabsClasses.indicator} {
        background-color: ${semanticColors?.accent?.borderSelected} !important;
        border-radius: 2px;
        left: 0;
        width: 2px;
      }

      .${tabsClasses.scroller} {
        overflow: visible !important;
      }
    `;
  }}
`;

export const StyledTab = styled(Tab, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontBodyXs}

  ${(props: NavigationJumpToExtraProps) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      ${focusVisibleA11yStyle(props)}
      box-sizing: border-box;
      padding-left: ${spaces?.l}px;
      margin: 0 ${spaces?.l}px ${spaces?.m}px ${spaces?.l}px;
      align-items: start;
      min-height: unset;
      max-height: unset;
      text-transform: none;
      &:last-child {
        margin-bottom: 0;
      }
      &:before {
        content: "";
        position: absolute;
        left: -${spaces?.l}px;
        width: ${spaces?.xxxs}px;
        height: 100%;
        background-color: ${semanticColors?.base?.borderPrimary};
        display: none;
        border-radius: ${spaces?.xxxs}px;
      }
      &:hover {
        color: ${semanticColors?.base?.textPrimary};
        &:before {
          display: block;
        }
      }
      &.Mui-selected {
        color: ${semanticColors?.base?.textPrimary};
        font-weight: 600;
      }
      &.MuiButtonBase-root {
        text-align: left;
        padding: 0;
        overflow: visible;
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/NavigationJumpTo/useIntersection.ts">
import React, { useEffect, useState } from "react";

/**
 * Custom hook that observes elements to determine if they are in the viewport.
 *
 * @param items - Array of items to observe.
 * @param offsetTop - Offset from the top of the viewport to consider when
 * determining if an element is in view. The default is 0.
 * @returns Object containing the visibility status of each observed item.
 */
export default function useInView(
  items: Array<{
    title: string;
    elementRef: React.MutableRefObject<HTMLElement | null>;
  }>,
  offsetTop: number = 0
) {
  const [elements, setElements] = useState<{
    [key: string]: {
      intersectionEntry: IntersectionObserverEntry;
      isInView: boolean;
    };
  }>({});

  useEffect(() => {
    /**
     * Callback function called by the IntersectionObserver.
     * Updates the visibility status of observed elements.
     *
     * @param entries - IntersectionObserverEntry array containing information about each observed element.
     */
    const observerCallback = (entries: IntersectionObserverEntry[]) => {
      entries.forEach((entry, index) => {
        const name = entry.target.getAttribute("id") || index;

        setElements((prev) => {
          return {
            ...prev,
            [name]: {
              intersectionEntry: entry,
              isInView: entry.isIntersecting,
            },
          };
        });
      });
    };

    const observer = new IntersectionObserver(observerCallback, {
      rootMargin: `-${offsetTop}px 0px 0px 0px`,
    });

    // Observe each item's element
    items.forEach((item) => {
      if (item.elementRef.current) {
        observer.observe(item.elementRef.current);
      }
    });

    // Cleanup function to disconnect the IntersectionObserver
    return () => {
      observer.disconnect();
    };
  }, [items, offsetTop]);

  // If the window object is not available (e.g., in a node environment) or
  // If the IntersectionObserver is not available (e.g., in a test environment),
  // return a default result indicating that all elements are not in view
  if (typeof window === "undefined" || !window.IntersectionObserver) {
    return items.map((item) => {
      return {
        el: item.elementRef,
        isInView: false,
      };
    });
  }

  return elements;
}
</file>

<file path="packages/components/src/core/Notification/__storybook__/stories/default.tsx">
import { FormControlLabel } from "@mui/material";
import { Args } from "@storybook/react";
import { useState } from "react";
import { SHORT_LOREM_IPSUM } from "src/common/storybook/loremIpsum";
import InputToggle from "src/core/InputToggle";
import RawNotification from "src/core/Notification";
import { TooltipTableContent } from "src/core/TooltipTable/__storybook__/stories/default";

export const Notification = (props: Args): JSX.Element => {
  const {
    intent,
    onClose,
    buttonOnClick,
    buttonText,
    slideDirection,
    extraContent,
    autoDismiss,
  } = props;

  const [dismissed, setDismissed] = useState(false);

  const handleChange = () => {
    setDismissed((prev) => !prev);
  };

  return (
    <>
      <FormControlLabel
        control={<InputToggle checked={dismissed} onChange={handleChange} />}
        label="Hide Notification"
        sx={{
          "& .MuiSwitch-root": {
            mr: "12px",
          },
          margin: "0 0 16px 0",
        }}
      />
      <RawNotification
        autoDismiss={autoDismiss}
        dismissed={dismissed}
        slideDirection={slideDirection}
        intent={intent}
        onClose={onClose}
        buttonOnClick={buttonOnClick}
        buttonText={buttonText}
        {...props}
      >
        This is a notification!
        {extraContent && (
          <div>
            {SHORT_LOREM_IPSUM}
            <div style={{ marginTop: 10 }}>
              <TooltipTableContent
                data={[
                  {
                    dataRows: [
                      { label: "Lorem ipsum", value: 14.03 },
                      { label: "Dollor", value: 432.53 },
                      { label: "Sit amet", value: "7,776.05" },
                    ],
                  },
                ]}
              />
            </div>
          </div>
        )}
      </RawNotification>
    </>
  );
};
</file>

<file path="packages/components/src/core/Notification/__storybook__/stories/screenshot.tsx">
import { Fragment } from "react";
import {
  NOTIFICATION_EXTRA_CONTENT_OPTIONS,
  NOTIFICATION_INTENT_OPTIONS,
  NOTIFICATION_SCREENSHOT_BUTTON_ON_CLICK_OPTIONS,
} from "../constants";
import { SHORT_LOREM_IPSUM } from "src/common/storybook/loremIpsum";
import RawNotification from "src/core/Notification";

export const ScreenshotTestDemo = (): JSX.Element => {
  // loop through all INTENT_OPTIONS
  return (
    <>
      {NOTIFICATION_INTENT_OPTIONS.map((intent) => {
        return <NotificationIntent intent={intent} key={intent} />;
      })}
    </>
  );

  // loop through all EXTRA_CONTENT_OPTIONS + create headers for INTENT_OPTIONS
  function NotificationIntent({
    intent,
  }: {
    intent: (typeof NOTIFICATION_INTENT_OPTIONS)[number];
  }) {
    const LEVEL_STYLE: React.CSSProperties = {
      columnGap: "25px",
      display: "inline-grid",
      fontFamily: "sans-serif",
      marginLeft: "50px",
    };
    const LABEL_STYLE: React.CSSProperties = {
      fontSize: "2em",
      gridColumn: "1 / 3",
      marginBottom: 0,
    };
    return (
      <div style={LEVEL_STYLE}>
        <p style={LABEL_STYLE}>
          Intent: <b>{intent}</b>
        </p>
        {NOTIFICATION_EXTRA_CONTENT_OPTIONS.map((extraContent) => {
          return (
            <NotificationExtraContent
              intent={intent}
              extraContent={extraContent}
              key={String(extraContent)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all BUTTON_ON_CLICK_OPTIONS + create headers for EXTRA_CONTENT_OPTIONS, BUTTON_ON_CLICK_OPTIONS
  function NotificationExtraContent({
    intent,
    extraContent,
  }: {
    intent: (typeof NOTIFICATION_INTENT_OPTIONS)[number];
    extraContent: boolean;
  }) {
    const EXTRA_CONTENT_LABEL_STYLE: React.CSSProperties = {
      borderStyle: "solid none none none",
      fontSize: "1.17em",
      gridColumn: "1 / 3",
      justifySelf: "stretch",
      marginBottom: 10,
      paddingTop: 10,
    };
    const BUTTON_ON_CLICK_LABEL_STYLE: React.CSSProperties = {
      fontSize: "0.67em",
      margin: "10px 0",
    };
    return (
      <div style={{ display: "contents" }}>
        <p style={EXTRA_CONTENT_LABEL_STYLE}>
          Extra content: <b>{extraContent ? "yes" : "no"}</b>
        </p>
        {NOTIFICATION_SCREENSHOT_BUTTON_ON_CLICK_OPTIONS.map(
          (buttonOnClick) => {
            return (
              <Fragment key={"parent" + String(buttonOnClick)}>
                <p style={BUTTON_ON_CLICK_LABEL_STYLE}>
                  Button: <b>{buttonOnClick ? "yes" : "no"}</b>
                </p>
                <RawNotification
                  slideDirection="left"
                  data-testid="notification"
                  intent={intent}
                  extraContent={extraContent}
                  buttonOnClick={buttonOnClick}
                  buttonText="click me"
                  key={String(buttonOnClick)}
                >
                  Notification test text
                  {extraContent && <div>{SHORT_LOREM_IPSUM}</div>}
                </RawNotification>
              </Fragment>
            );
          }
        )}
      </div>
    );
  }
};
</file>

<file path="packages/components/src/core/Notification/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import RawNotification from "src/core/Notification";

export const TestDemo = (props: Args): JSX.Element => {
  return (
    <RawNotification
      slideDirection="left"
      intent="info"
      {...props}
      data-testid="notification"
    >
      this is a notification
    </RawNotification>
  );
};
</file>

<file path="packages/components/src/core/Notification/__storybook__/constants.tsx">
import { action } from "@storybook/addon-actions";
import CustomSdsIcon from "src/common/storybook/customSdsIcon";
import CustomSvgIcon from "src/common/storybook/customSvgIcon";
import { NotificationProps } from "..";

export const NOTIFICATION_EXCLUDED_CONTROLS = [
  "autoDismiss",
  "buttonOnClick",
  "buttonPosition",
  "extraContent",
  "icon",
  "intent",
  "onClose",
  "sdsIconProps",
  "slideDirection",
  "label",
];

export const NOTIFICATION_ICON_OPTIONS = [
  <CustomSvgIcon key="customSdsIcon" />,
  <CustomSdsIcon key="customSvgIcon" />,
  "Book",
  "CheckCircle",
];
export const NOTIFICATION_BUTTON_ON_CLICK_OPTIONS = [
  action("onClick"),
  undefined,
];
export const NOTIFICATION_ON_CLICK_OPTIONS = [action("onClick"), undefined];

export const NOTIFICATION_INTENT_OPTIONS: NotificationProps["intent"][] = [
  "info",
  "negative",
  "positive",
  "notice",
];

export const NOTIFICATION_EXTRA_CONTENT_OPTIONS = [false, true];

export const NOTIFICATION_SCREENSHOT_BUTTON_ON_CLICK_OPTIONS: NotificationProps["buttonOnClick"][] =
  [undefined, action("onClick")];

export const NOTIFICATION_LIVE_PREVIEW_ROW_STYLES = {
  alignItems: "flex-start",
  display: "flex",
  flexDirection: "row",
  gap: "20px",
};
</file>

<file path="packages/components/src/core/Notification/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Notification } from "./stories/default";
import {
  NOTIFICATION_BUTTON_ON_CLICK_OPTIONS,
  NOTIFICATION_EXCLUDED_CONTROLS,
  NOTIFICATION_ICON_OPTIONS,
  NOTIFICATION_ON_CLICK_OPTIONS,
} from "./constants";
import { ScreenshotTestDemo } from "./stories/screenshot";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    autoDismiss: {
      control: { type: "select" },
      options: [true, false, 4000, 12000, 20000],
    },
    buttonOnClick: {
      control: {
        labels: ["() => {}", "undefined"],
        type: "select",
      },
      mapping: NOTIFICATION_BUTTON_ON_CLICK_OPTIONS,
      options: Object.keys(NOTIFICATION_BUTTON_ON_CLICK_OPTIONS),
    },
    buttonPosition: {
      control: { type: "radio" },
      options: ["left", "right"],
    },
    extraContent: {
      control: { type: "boolean" },
    },
    icon: {
      control: {
        labels: [
          "Custom SVG Icon",
          "Custom SDS Icon",
          "SDS Icon: Book",
          "SDS Icon: Check Circle",
        ],
        type: "select",
      },
      mapping: NOTIFICATION_ICON_OPTIONS,
      options: Object.keys(NOTIFICATION_ICON_OPTIONS),
    },
    intent: {
      control: { type: "radio" },
      options: ["info", "negative", "positive", "notice"],
    },
    onClose: {
      control: {
        labels: ["() => {}", "undefined"],
        type: "select",
      },
      mapping: NOTIFICATION_ON_CLICK_OPTIONS,
      options: Object.keys(NOTIFICATION_ON_CLICK_OPTIONS),
    },
    sdsIconProps: {
      control: { type: "object" },
    },
    slideDirection: {
      control: { type: "radio" },
      options: ["left", "right"],
    },
  },
  component: Notification,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Notification",
} as Meta;

// Default

export const Default = {
  args: {
    autoDismiss: false,
    buttonPosition: "right",
    buttonText: "click me",
    extraContent: false,
    slideDirection: "left",
  },
};

// Screenshot test

export const ScreenshotTest = {
  args: {
    label: "Label",
  },
  parameters: {
    controls: {
      exclude: NOTIFICATION_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ScreenshotTestDemo {...args} />,
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: NOTIFICATION_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/Notification/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Notification /> Default story renders snapshot 1`] = `
<label
  class="MuiFormControlLabel-root MuiFormControlLabel-labelPlacementEnd css-1xe61c-MuiFormControlLabel-root"
>
  <span
    class="MuiSwitch-root MuiSwitch-sizeMedium css-hcrspq-MuiSwitch-root"
  >
    <span
      class="MuiButtonBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary PrivateSwitchBase-root MuiSwitch-switchBase MuiSwitch-colorPrimary css-byenzh-MuiButtonBase-root-MuiSwitch-switchBase"
    >
      <input
        class="PrivateSwitchBase-input MuiSwitch-input css-1m9pwf3"
        type="checkbox"
        value="Off"
      />
      <span
        class="MuiSwitch-thumb css-jsexje-MuiSwitch-thumb"
      />
      <span
        class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
      />
    </span>
    <span
      class="MuiSwitch-track css-1yjjitx-MuiSwitch-track"
    />
  </span>
  <span
    class="MuiTypography-root MuiTypography-body1 MuiFormControlLabel-label css-ahj2mt-MuiTypography-root"
  >
    Hide Notification
  </span>
</label>
`;
</file>

<file path="packages/components/src/core/Notification/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import {
  render,
  screen,
  waitForElementToBeRemoved,
} from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<Notification />", () => {
  generateSnapshots(stories);

  it("renders notification component", () => {
    render(<Test {...Test.args} />);
    const notificationElement = screen.getByTestId("notification");
    expect(notificationElement).not.toBeNull();
  });

  it("renders button if buttonOnClick is passed", () => {
    const props = {
      buttonOnClick: () => {},
      buttonText: "click me",
    };
    render(<Test {...Test.args} {...props} />);
    const notificationButton = screen.getByText(/click me/i);
    expect(notificationButton).toBeTruthy();
  });

  it("dismisses on click on close button if present", async () => {
    const props = {
      onClose: () => {},
    };

    render(<Test {...Test.args} {...props} />);
    const dismissButton = screen.getByTestId("notificationCloseButton");
    dismissButton.click();

    await waitForElementToBeRemoved(() => screen.getByTestId("notification"));
  });
});
</file>

<file path="packages/components/src/core/Notification/__tests__/Notification.namespace-test.tsx">
import { Notification, NotificationProps } from "@czi-sds/components";
import React from "react";
import { noop } from "src/common/utils";

const NotificationNameSpaceTest = (props: NotificationProps) => {
  return (
    <Notification
      autoDismiss
      dismissed={false}
      slideDirection="left"
      intent="info"
      onClose={noop}
      buttonOnClick={noop}
      buttonText="Text"
    >
      This is a notification!
    </Notification>
  );
};
</file>

<file path="packages/components/src/core/Notification/index.tsx">
import { AlertProps } from "@mui/lab";
import { Box, Slide } from "@mui/material";
import React, { useEffect, useState } from "react";
import Button from "src/core/Button";
import Icon, { IconNameToSizes, IconProps } from "src/core/Icon";
import { StyledButtonWrapper, StyledNotification } from "./style";

export type NotificationIntentType =
  | "info"
  | "negative"
  | "positive"
  | "notice";

export interface NotificationProps {
  autoDismiss?: boolean | number;
  buttonOnClick?: (event: React.SyntheticEvent) => void;
  buttonText?: string;
  buttonPosition?: "left" | "right";
  dismissed?: boolean;
  slideDirection: "left" | "right";
  extraContent?: boolean;
  intent: NotificationIntentType;
  icon?: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
  sdsIconProps?: Partial<IconProps<keyof IconNameToSizes>>;
}

export type ExposedNotificationProps = AlertProps & NotificationProps;

/**
 * @see https://mui.com/material-ui/react-alert/
 */
const Notification = ({
  autoDismiss,
  children,
  dismissed,
  slideDirection = "left",
  intent,
  onClose,
  buttonOnClick,
  buttonText,
  buttonPosition,
  icon,
  sdsIconProps,
  ...rest
}: ExposedNotificationProps): JSX.Element => {
  const [hide, setHide] = useState(dismissed);

  // remove prop used only for stories
  const passedProps = { ...rest };
  delete passedProps.extraContent;

  useEffect(() => {
    setHide(dismissed);

    if (autoDismiss) {
      const timeout = typeof autoDismiss === "boolean" ? 8000 : autoDismiss;
      setTimeout(() => {
        setHide(true);
      }, timeout);
    }
  }, [dismissed, autoDismiss]);

  const handleClose = (event: React.SyntheticEvent<Element, Event>) => {
    setHide(true);
    if (onClose) onClose(event);
  };

  const getIcon = () => {
    if (icon !== undefined) {
      if (typeof icon !== "string") {
        return icon;
      } else {
        return (
          <Icon
            sdsSize="l"
            sdsIcon={icon as keyof IconNameToSizes}
            {...sdsIconProps}
          />
        );
      }
    } else {
      switch (intent) {
        case "positive":
          return <Icon sdsSize="l" sdsIcon="CheckCircle" />;
        case "info":
          return <Icon sdsSize="l" sdsIcon="InfoCircle" />;
        default:
          return <Icon sdsSize="l" sdsIcon="ExclamationMarkCircle" />;
      }
    }
  };

  return (
    <>
      <Slide
        in={!hide}
        direction={slideDirection}
        mountOnEnter
        unmountOnExit
        timeout={250}
      >
        <Box>
          <StyledNotification
            onClose={onClose ? handleClose : undefined}
            action={
              onClose ? (
                <Button
                  onClick={handleClose}
                  sdsSize="small"
                  sdsType="tertiary"
                  sdsStyle="icon"
                  data-testid="notificationCloseButton"
                  icon="XMark"
                />
              ) : null
            }
            icon={getIcon()}
            className="elevated"
            intent={intent}
            slideDirection={slideDirection}
            {...passedProps}
          >
            {children}
            {buttonOnClick !== undefined && (
              <StyledButtonWrapper buttonPosition={buttonPosition}>
                <Button
                  sdsStyle="minimal"
                  sdsType="secondary"
                  onClick={buttonOnClick}
                >
                  {buttonText}
                </Button>
              </StyledButtonWrapper>
            )}
          </StyledNotification>
        </Box>
      </Slide>
    </>
  );
};

export default Notification;
</file>

<file path="packages/components/src/core/Notification/style.ts">
import { Alert } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBody,
  getBorders,
  getCorners,
  getIconSizes,
  getSemanticColors,
  getShadows,
  getSpaces,
  getTypography,
} from "src/core/styles";
import { ExposedNotificationProps } from ".";

interface NotificationExtraProps
  extends CommonThemeProps,
    ExposedNotificationProps {}

interface NotificationButtonWrapperProps extends CommonThemeProps {
  buttonPosition?: "left" | "right";
}

const fontBodyXs = fontBody("xs");
const doNotForwardProps = ["slideDirection"];

export const StyledNotification = styled(Alert, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontBodyXs}

  ${(props: NotificationExtraProps) => {
    const { intent = "info" } = props;

    const spaces = getSpaces(props);
    const shadows = getShadows(props);
    const corners = getCorners(props);
    const iconSizes = getIconSizes(props);
    const semanticColors = getSemanticColors(props);
    const typography = getTypography(props);
    const borders = getBorders(props);

    const iconColor = semanticColors?.[intent]?.ornament ?? "black";
    const backgroundColor =
      semanticColors?.[intent]?.surfaceSecondary ?? "white";

    // (masoudmanson): The Notification Icon should be vertically centered with the Notification
    // Title. The padding-top of the Notification Title is calculated based on the difference
    // between the height of the Icon and the line-height of the Notification Title.
    const alertMessagePaddingTop = Math.abs(
      ((iconSizes?.l.height ?? 0) -
        parseInt(
          String(typography?.wideStyles?.body?.regular?.xs?.lineHeight ?? "0")
        )) /
        2
    );

    return `
      background-color: ${backgroundColor};
      max-width: 480px;
      min-width: 280px;
      box-sizing: border-box;
      margin: ${spaces?.m}px 0;
      border-radius: ${corners?.m}px;
      color: ${semanticColors?.base?.textPrimary};
      padding: ${spaces?.l}px;
      align-items: flex-start;
      border-left: ${borders?.[intent]?.extraThick};
      box-shadow: ${shadows?.s};

      .MuiAlert-icon {
        height: ${iconSizes?.l.height}px;
        width: ${iconSizes?.l.width}px;
        margin-right: ${spaces?.m}px;
        padding: 0;
        path {
          fill: ${iconColor};
        }
      }

      .MuiAlert-message {
        padding: ${alertMessagePaddingTop}px 0px 0px;
        margin-right: ${spaces?.m}px;
        width: 100%;

        > * {
          margin: ${spaces?.m}px 0px;

          &:last-child {
            margin-bottom: 0;
          }
        }

        button {
          display: block;
        }
      }

      .MuiAlert-action {
        margin-right: 0;
        padding: 0;
        align-items: flex-start;
        margin-top: ${spaces?.xxs}px;

        > button {
            padding: 0;
          }
        }
      }
    `;
  }}
`;

export const StyledButtonWrapper = styled("div")`
  ${(props: NotificationButtonWrapperProps) => {
    const { buttonPosition = "right" } = props;

    return `
      display: flex;
      justify-content: ${buttonPosition === "left" ? "flex-start" : "flex-end"};
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Pagination/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import { useState } from "react";
import RawPagination from "src/core/Pagination";

export const Pagination = (props: Args): JSX.Element => {
  const { pageSize, totalCount, siblingCount, truncateDropdown, sdsStyle } =
    props;
  const [currentPage, setCurrentPage] = useState(1);
  return (
    <RawPagination
      sdsStyle={sdsStyle}
      pageSize={pageSize}
      onPageChange={(page: number) => {
        setCurrentPage(page);
      }}
      onNextPage={() => setCurrentPage(currentPage + 1)}
      onPreviousPage={() => setCurrentPage(currentPage - 1)}
      totalCount={totalCount}
      siblingCount={siblingCount}
      currentPage={currentPage}
      truncateDropdown={truncateDropdown}
    />
  );
};
</file>

<file path="packages/components/src/core/Pagination/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import RawPagination from "src/core/Pagination";

export const TestDemo = (props: Args): JSX.Element => (
  <div>
    <RawPagination
      data-testid="Pagination"
      pageSize={4}
      onPageChange={() => {}}
      onNextPage={() => {}}
      onPreviousPage={() => {}}
      totalCount={20}
      siblingCount={1}
      currentPage={2}
      truncateDropdown
      {...props}
    />
    <RawPagination
      data-testid="Pagination-disabled-left-arrow"
      pageSize={4}
      onPageChange={() => {}}
      onNextPage={() => {}}
      onPreviousPage={() => {}}
      totalCount={20}
      siblingCount={1}
      currentPage={1}
      truncateDropdown
    />
    <RawPagination
      data-testid="Pagination-with-left-dropdown"
      pageSize={4}
      onPageChange={() => {}}
      onNextPage={() => {}}
      onPreviousPage={() => {}}
      totalCount={30}
      siblingCount={1}
      currentPage={5}
      truncateDropdown
    />
    <RawPagination
      data-testid="Pagination-with-right-dropdown"
      pageSize={4}
      onPageChange={() => {}}
      onNextPage={() => {}}
      onPreviousPage={() => {}}
      totalCount={60}
      siblingCount={1}
      currentPage={3}
      truncateDropdown
    />
    <RawPagination
      data-testid="Pagination-with-both-dropdowns"
      pageSize={4}
      onPageChange={() => {}}
      onNextPage={() => {}}
      onPreviousPage={() => {}}
      totalCount={30}
      siblingCount={1}
      currentPage={4}
      truncateDropdown
    />
    <RawPagination
      data-testid="Pagination-disabled-dropdown"
      pageSize={4}
      onPageChange={() => {}}
      onNextPage={() => {}}
      onPreviousPage={() => {}}
      totalCount={30}
      siblingCount={1}
      currentPage={7}
      truncateDropdown={false}
    />
  </div>
);
</file>

<file path="packages/components/src/core/Pagination/__storybook__/constants.ts">
export const PAGINATION_EXCLUDED_CONTROLS = [
  "pageSize",
  "sdsStyle",
  "siblingCount",
  "totalCount",
  "truncateDropdown",
];
</file>

<file path="packages/components/src/core/Pagination/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { PAGINATION_EXCLUDED_CONTROLS } from "./constants";
import { Pagination } from "./stories/default";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    pageSize: {
      control: { type: "number" },
    },
    sdsStyle: {
      control: { type: "select" },
      options: ["round", "square"],
    },
    siblingCount: {
      control: { type: "number" },
    },
    totalCount: {
      control: { type: "number" },
    },
    truncateDropdown: {
      control: { type: "boolean" },
    },
  },
  component: Pagination,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Table/Pagination",
} as Meta;

// Default

export const Default = {
  args: {
    pageSize: 5,
    siblingCount: 1,
    totalCount: 100,
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: PAGINATION_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/Pagination/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Pagination /> Default story renders snapshot 1`] = `
<ul
  class="css-ijj3wz"
>
  <li
    class="css-pokbru"
    data-order="first"
    disabled=""
    tabindex="0"
  >
    <div
      class="css-1ft6wgl"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
        data-file-name="IconChevronLeftSmall"
        data-testid="IconChevronLeftSmall"
        fillcontrast="white"
        focusable="false"
        height="16"
        viewBox="0 0 16 16"
        width="16"
      />
    </div>
  </li>
  <li
    class="css-8otbx5"
    tabindex="0"
  >
    1
  </li>
  <li
    class="css-1pkfobx"
    tabindex="0"
  >
    2
  </li>
  <li
    class="css-1pkfobx"
    tabindex="0"
  >
    3
  </li>
  <li
    class="css-1pkfobx"
    tabindex="0"
  >
    4
  </li>
  <li
    class="css-1pkfobx"
    tabindex="0"
  >
    5
  </li>
  <li
    class="css-4gpof1"
  >
    <button
      aria-label="Go to a page"
      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-1br45xa-MuiButtonBase-root-MuiIconButton-root"
      icon="DotsHorizontal"
      tabindex="0"
      type="button"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconDotsHorizontal3Small"
          data-testid="IconDotsHorizontal3Small"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
      <span
        class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
      />
    </button>
  </li>
  <li
    class="css-1pkfobx"
    tabindex="0"
  >
    20
  </li>
  <li
    class="css-4vqyql"
    data-order="last"
    tabindex="0"
  >
    <div
      class="css-1ft6wgl"
    >
      <svg
        aria-hidden="true"
        class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
        data-file-name="IconChevronRightSmall"
        data-testid="IconChevronRightSmall"
        fillcontrast="white"
        focusable="false"
        height="16"
        viewBox="0 0 16 16"
        width="16"
      />
    </div>
  </li>
</ul>
`;
</file>

<file path="packages/components/src/core/Pagination/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<Pagination />", () => {
  generateSnapshots(stories);

  it("renders pagination component", () => {
    render(<Test />);
    const elements = screen.getByTestId("Pagination");
    expect(elements).toBeTruthy();
  });

  it("go to previous page is disabled if currentPage === 1", () => {
    render(<Test />);
    const element = screen.getByTestId("Pagination-disabled-left-arrow");
    const goPrevious = element.getElementsByTagName("li")[0];
    expect(goPrevious).toHaveAttribute("disabled");
  });

  it("should have a dropdown for left hidden pages list", () => {
    render(<Test />);
    const element = screen.getByTestId("Pagination-with-left-dropdown");
    const listItem = element.getElementsByTagName("li")[2];
    const leftMenuButton = listItem.getElementsByTagName("button")[0];
    expect(leftMenuButton).toBeTruthy();
  });

  it("should have a dropdown for right hidden pages list", () => {
    render(<Test />);
    const element = screen.getByTestId("Pagination-with-right-dropdown");
    const listItem = element.getElementsByTagName("li")[6];
    const rightMenuButton = listItem.getElementsByTagName("button")[0];
    expect(rightMenuButton).toBeTruthy();
  });

  it("should have a dropdown for both left and right hidden pages list", () => {
    render(<Test />);
    const element = screen.getByTestId("Pagination-with-both-dropdowns");
    const listItems = element.getElementsByTagName("li");
    const leftMenuButton = listItems[2].getElementsByTagName("button")[0];
    const rightMenuButton = listItems[6].getElementsByTagName("button")[0];
    expect(leftMenuButton && rightMenuButton).toBeTruthy();
  });

  it("should open right dropdown on click", async () => {
    render(<Test />);
    const element = screen.getByTestId("Pagination-with-right-dropdown");
    const listItem = element.getElementsByTagName("li")[6];
    const rightMenuButton = listItem.getElementsByTagName("button")[0];

    fireEvent.click(rightMenuButton);
    expect(screen.getAllByText("13")).not.toBeNull();
  });

  it("should not open disabled dropdown on click", async () => {
    render(<Test />);
    const element = screen.getByTestId("Pagination-disabled-dropdown");
    const listItem = element.getElementsByTagName("li")[2];
    const leftMenuButton = listItem.getElementsByTagName("button")[0];
    expect(leftMenuButton.disabled).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/Pagination/__tests__/Pagination.namespace-test.tsx">
import { Pagination, PaginationProps } from "@czi-sds/components";
import React from "react";
import { noop } from "src/common/utils";

const PaginationNameSpaceTest = (props: PaginationProps) => {
  return (
    <Pagination
      sdsStyle="round"
      pageSize={10}
      onPageChange={noop}
      onNextPage={noop}
      onPreviousPage={noop}
      totalCount={100}
      siblingCount={1}
      currentPage={2}
      truncateDropdown
    />
  );
};
</file>

<file path="packages/components/src/core/Pagination/components/PageListDropdown/index.tsx">
import React, { useState } from "react";
import MenuItem from "src/core/MenuItem";
import { Page, StyledPaginationButton } from "../../style";
import { StyledPaginationDropdownMenu } from "./style";

interface PageListDropdownProps {
  pageList: number[];
  onPageChange: (page: number) => void;
  sdsStyle: "round" | "square";
}

const PageListDropdown = (props: PageListDropdownProps) => {
  const { pageList, onPageChange, sdsStyle } = props;

  const [anchorEl, setAnchorEl] = useState<Element | null>(null);

  const handleClick: React.MouseEventHandler<HTMLButtonElement> = (event) => {
    setAnchorEl(event.currentTarget);
  };

  const handleClose = () => {
    setAnchorEl(null);
  };

  return (
    <Page sdsStyle={sdsStyle}>
      <StyledPaginationButton
        aria-label="Go to a page"
        onClick={handleClick}
        icon="DotsHorizontal"
        sdsSize="small"
        sdsStyle="icon"
        sdsType="tertiary"
      />
      <StyledPaginationDropdownMenu
        anchorEl={anchorEl}
        keepMounted
        open={Boolean(anchorEl)}
        onClose={handleClose}
      >
        {pageList.map((page: number) => {
          return (
            <MenuItem
              onClick={() => {
                onPageChange(page);
                handleClose();
              }}
              key={page}
            >
              {page}
            </MenuItem>
          );
        })}
      </StyledPaginationDropdownMenu>
    </Page>
  );
};

export default PageListDropdown;
</file>

<file path="packages/components/src/core/Pagination/components/PageListDropdown/style.ts">
import styled from "@emotion/styled";
import Menu from "src/core/Menu";

export const StyledPaginationDropdownMenu = styled(Menu)`
  & .MuiPaper-root {
    max-height: 120px;
  }
`;
</file>

<file path="packages/components/src/core/Pagination/index.tsx">
import { forwardRef } from "react";
import PageListDropdown from "./components/PageListDropdown";
import {
  Page,
  PaginationExtraProps,
  StyledPagination,
  StyledPaginationButton,
  StyledPaginationChevronList,
} from "./style";
import { usePagination } from "./usePagination";
import Icon from "src/core/Icon";

export interface PaginationInternalProps {
  onPageChange: (page: number) => void;
  onNextPage: () => void;
  onPreviousPage: () => void;
  totalCount: number;
  siblingCount?: number;
  currentPage: number;
  pageSize: number;
  truncateDropdown?: boolean;
}

export type PaginationProps = PaginationExtraProps & PaginationInternalProps;

const PaginationPageList = (
  paginationRange: (number | number[])[],
  truncateDropdown: boolean,
  sdsStyle: "round" | "square",
  onPageChange: (page: number) => void,
  currentPage: number
) => {
  function handlePageKeyDown(event: React.KeyboardEvent, pageNumber: number) {
    if (event.key === "Enter" || event.code === "Space") {
      onPageChange(pageNumber);
    }
  }

  return paginationRange.map((pageNumber) => {
    if (Array.isArray(pageNumber)) {
      if (truncateDropdown) {
        return (
          <PageListDropdown
            pageList={pageNumber}
            onPageChange={onPageChange}
            key={pageNumber.join("-")}
            sdsStyle={sdsStyle}
          />
        );
      }
      return (
        <Page sdsStyle={sdsStyle} key={pageNumber.join("-")}>
          <StyledPaginationButton
            aria-label="Go to a page"
            disabled
            icon="DotsHorizontal"
            sdsSize="small"
            sdsStyle="icon"
            sdsType="tertiary"
          />
        </Page>
      );
    }

    return (
      <Page
        key={pageNumber}
        onClick={() => onPageChange(pageNumber)}
        onKeyDown={(event) => handlePageKeyDown(event, pageNumber)}
        selected={pageNumber === currentPage}
        sdsStyle={sdsStyle}
        tabIndex={0}
      >
        {pageNumber}
      </Page>
    );
  });
};

const Pagination = forwardRef<HTMLUListElement, PaginationProps>(
  (props: PaginationProps, ref): JSX.Element | null => {
    const {
      sdsStyle = "round",
      onPageChange,
      onNextPage,
      onPreviousPage,
      totalCount,
      siblingCount = 1,
      currentPage,
      pageSize,
      truncateDropdown = true,
    } = props;

    if (pageSize < 1) {
      throw new Error("PageSize can not be smaller than 1!");
    }

    const paginationRange =
      usePagination({
        currentPage,
        pageSize,
        siblingCount,
        totalCount,
      }) || [];

    if (currentPage === 0 || paginationRange.length < 2) {
      return null;
    }

    const lastPage = paginationRange[paginationRange.length - 1];

    return (
      <StyledPagination ref={ref} {...props}>
        <StyledPaginationChevronList
          data-order="first"
          key="prevPage"
          disabled={currentPage === 1}
          onClick={() => currentPage > 1 && onPreviousPage()}
          onKeyDown={handleGoBackButtonKeyDown}
          tabIndex={0}
        >
          <Icon aria-label="Previous page" sdsIcon="ChevronLeft" sdsSize="xs" />
        </StyledPaginationChevronList>

        {PaginationPageList(
          paginationRange,
          truncateDropdown,
          sdsStyle,
          onPageChange,
          currentPage
        )}

        <StyledPaginationChevronList
          data-order="last"
          key="onNextPage"
          disabled={currentPage === lastPage}
          onClick={() => currentPage !== lastPage && onNextPage()}
          onKeyDown={handleGoNextButtonKeyDown}
          tabIndex={0}
        >
          <Icon aria-label="Next page" sdsIcon="ChevronRight" sdsSize="xs" />
        </StyledPaginationChevronList>
      </StyledPagination>
    );

    function handleGoBackButtonKeyDown(event: React.KeyboardEvent) {
      if (
        (event.key === "Enter" || event.code === "Space") &&
        currentPage > 1
      ) {
        onPreviousPage();
      }
    }

    function handleGoNextButtonKeyDown(event: React.KeyboardEvent) {
      if (
        (event.key === "Enter" || event.code === "Space") &&
        currentPage !== lastPage
      ) {
        onNextPage();
      }
    }
  }
);

export default Pagination;
</file>

<file path="packages/components/src/core/Pagination/style.ts">
import styled from "@emotion/styled";
import Button from "src/core/Button";
import {
  CommonThemeProps,
  focusVisibleA11yStyle,
  fontBodyS,
  fontBodySemiboldS,
  getCorners,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export interface PaginationExtraProps extends CommonThemeProps {
  sdsStyle?: "round" | "square";
  disabled?: boolean;
  selected?: boolean;
  truncateDropdown?: boolean;
}

const doNotForwardProps = [
  "sdsStyle",
  "selected",
  "onPageChange",
  "onNextPage",
  "onPreviousPage",
  "goToPage",
  "totalCount",
  "siblingCount",
  "currentPage",
  "pageSize",
  "truncateDropdown",
];

export const StyledPaginationButton = styled(Button)`
  ${(props: CommonThemeProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      width: 32px;
      height: 32px;
      cursor: "pointer";

      & .MuiSvgIcon-root {
        width: 10px;
        color: ${semanticColors?.base?.ornamentSecondary};
      }

      &:hover {
        background-color: ${semanticColors?.base?.fillHover};

        & .MuiSvgIcon-root {
          color: ${semanticColors?.base?.ornamentSecondaryHover}
        }
      }
    `;
  }}
`;

export const StyledPaginationChevronList = styled("li", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: PaginationExtraProps) => {
    const { disabled } = props;

    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      width: 32px;
      height: 32px;
      cursor: ${disabled ? "auto" : "pointer"};
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 32px;

      &[data-order="first"] {
        margin-right: ${spaces?.l}px;
      }

      &[data-order="last"] {
        margin-left: ${spaces?.l}px;
      }

      & .MuiSvgIcon-root {
        color: ${disabled ? semanticColors?.base?.ornamentDisabled : semanticColors?.base?.ornamentSecondary};
      }

      &:hover {
        background-color: ${disabled ? "transparent" : semanticColors?.base?.fillHover};

        & .MuiSvgIcon-root {
          color: ${disabled ? semanticColors?.base?.ornamentDisabled : semanticColors?.base?.ornamentSecondaryHover}
        }
      }

      ${focusVisibleA11yStyle(props)}
    `;
  }}
`;

export const StyledPagination = styled("ul", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontBodyS}
  display: flex;
  flex-wrap: wrap;
  padding: 0;
  margin: 0;
  & li {
    list-style: none;
  }
`;

const selectedPageStyle = (props: PaginationExtraProps) => {
  const semanticColors = getSemanticColors(props);

  return `
    background-color: ${semanticColors?.base?.fillSelected};
    color: ${semanticColors?.base?.textPrimaryInverse};

    &:hover {
      background-color: ${semanticColors?.base?.fillSelected};
      color: ${semanticColors?.base?.textPrimaryInverse};
    }
  `;
};

export const Page = styled("li", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontBodySemiboldS}

  ${(props: PaginationExtraProps) => {
    const { selected, sdsStyle } = props;
    const spaces = getSpaces(props);
    const corners = getCorners(props);
    const semanticColors = getSemanticColors(props);

    return `
      color: ${semanticColors?.base?.textSecondary};
      cursor: pointer;
      list-style: none;
      width: 32px;
      height: 32px;
      margin-right: ${spaces?.l}px;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: ${sdsStyle === "round" ? corners?.l : corners?.m}px;
      user-select: none;
      &:hover {
        background-color: ${semanticColors?.base?.fillHover};
        color: ${semanticColors?.base?.textPrimary};
      }

      &:nth-last-of-type(-n+2) {
        margin-right: 0;
      }

      ${selected && selectedPageStyle(props)};
      ${focusVisibleA11yStyle(props)}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Pagination/usePagination.ts">
import { useMemo } from "react";

export const DOTS = "...";

const range = (start: number, end: number) => {
  const length = end - start + 1;
  return Array.from({ length }, (_, idx) => idx + start);
};

interface UsePaginationProps {
  totalCount: number;
  pageSize: number;
  siblingCount: number;
  currentPage: number;
}

export const usePagination = ({
  totalCount,
  pageSize,
  siblingCount = 1,
  currentPage,
}: UsePaginationProps) => {
  return useMemo(() => {
    const totalPageCount = Math.ceil(totalCount / pageSize);

    // Pages count is determined as siblingCount + firstPage + lastPage + currentPage + 2*DOTS
    const totalPageNumbers = siblingCount + 5;

    /*
      If the number of pages is less than the page numbers we want to show in our
      paginationComponent, we return the range [1..totalPageCount]
    */
    if (totalPageNumbers >= totalPageCount) {
      return range(1, totalPageCount);
    }

    const leftSiblingIndex = Math.max(currentPage - siblingCount, 1);
    const rightSiblingIndex = Math.min(
      currentPage + siblingCount,
      totalPageCount
    );

    /*
      We do not want to show dots if there is only one position left 
      after/before the left/right page count as that would lead to a change of our Pagination
      component size which we do not want
    */
    const shouldShowLeftDots = leftSiblingIndex > 2;
    const shouldShowRightDots = rightSiblingIndex < totalPageCount - 2;

    const firstPageIndex = 1;
    const lastPageIndex = totalPageCount;

    if (!shouldShowLeftDots && shouldShowRightDots) {
      const leftItemCount = 3 + 2 * siblingCount;
      const leftRange = range(1, leftItemCount);
      const rightDotsRange = range(leftItemCount + 1, totalPageCount - 1);

      return [...leftRange, rightDotsRange, totalPageCount];
    }

    if (shouldShowLeftDots && !shouldShowRightDots) {
      const rightItemCount = 3 + 2 * siblingCount;
      const rightRange = range(
        totalPageCount - rightItemCount + 1,
        totalPageCount
      );
      const leftDotsRange = range(2, totalPageCount - rightItemCount);
      return [firstPageIndex, leftDotsRange, ...rightRange];
    }

    if (shouldShowLeftDots && shouldShowRightDots) {
      const middleRange = range(leftSiblingIndex, rightSiblingIndex);
      const leftDotsRange = range(2, leftSiblingIndex - 1);
      const rightDotsRange = range(rightSiblingIndex + 1, totalPageCount - 1);
      return [
        firstPageIndex,
        leftDotsRange,
        ...middleRange,
        rightDotsRange,
        lastPageIndex,
      ];
    }
  }, [totalCount, pageSize, siblingCount, currentPage]);
};
</file>

<file path="packages/components/src/core/Panel/__storybook__/stories/customCloseButton.tsx">
import * as React from "react";
import { Args } from "@storybook/react";
import RawPanel from "src/core/Panel";
import Button from "src/core/Button";
import { Box, Typography } from "@mui/material";
import { LONG_LOREM_IPSUM } from "src/common/storybook/loremIpsum";

export const CustomHeaderAndCloseButtonDemo = (props: Args): JSX.Element => {
  const [open, setOpen] = React.useState(true);

  return (
    <>
      <Box sx={{ padding: 4 }}>
        <Button
          sdsStyle="icon"
          sdsSize="medium"
          sdsType="primary"
          icon="InfoCircle"
          onClick={() => {
            setOpen(true);
          }}
        />
      </Box>

      <RawPanel
        sdsType="overlay"
        open={open}
        closeButtonOnClick={() => {
          setOpen(false);
        }}
        HeaderComponent={
          <Typography
            variant="h3"
            sx={{ margin: "0 !important", padding: "6px 0 !important" }}
          >
            Panel Header
          </Typography>
        }
        CloseButtonComponent={
          <Button
            sdsStyle="icon"
            sdsSize="medium"
            sdsType="secondary"
            icon="ChevronLeft"
            data-testid="panel-close-button"
            aria-label="Panel Toggle"
          />
        }
        data-testid="panel"
        {...props}
      >
        {LONG_LOREM_IPSUM}
      </RawPanel>
    </>
  );
};
</file>

<file path="packages/components/src/core/Panel/__storybook__/stories/default.tsx">
import { Box, useTheme } from "@mui/material";
import { Args } from "@storybook/react";
import React, { useState } from "react";
import { LONG_LOREM_IPSUM } from "src/common/storybook/loremIpsum";
import ButtonToggle from "src/core/ButtonToggle";
import Callout from "src/core/Callout";
import RawPanel from "src/core/Panel";
import { PanelProps } from "../../Panel.types";

const InvalidBasicPanelPropsError = (
  <Callout
    intent="negative"
    title="Invalid Props!"
    body={
      <>
        The <strong>Basic</strong> Panel only supports <strong>left</strong> or{" "}
        <strong>right</strong> positions. Please update the{" "}
        <strong>position</strong> prop to one of these valid values.
      </>
    }
  />
);

const Main = (
  props: Pick<PanelProps, "width" | "sdsType" | "position"> & {
    open: boolean;
    children?: React.ReactNode;
  }
) => {
  const { open, sdsType, position = "left", children, width } = props;

  const positionMarginMap = {
    bottom: "0",
    left: `0 0 0 ${width}`,
    right: `0 ${width} 0 0`,
  };

  /**
   * (masoudmanson): Default to 0 for non-basic panels.
   */
  const margin = sdsType === "basic" ? positionMarginMap[position] : "0";

  return (
    <Box
      sx={{
        margin: open ? margin : "0",
      }}
    >
      {children}
    </Box>
  );
};

export const Panel = (props: Args): JSX.Element => {
  const { sdsType = "basic", position = "left" } = props;

  const theme = useTheme();
  const [open, setOpen] = useState(false);

  const commonBoxStyles = {
    alignItems: "center",
    border: `dashed 1px ${theme?.palette?.sds?.base?.divider}`,
    color: theme?.palette?.sds?.base?.textSecondary,
    display: "flex",
    height: "100%",
    justifyContent: "center",
    width: "100%",
  };

  const DrawerList = (
    <Box sx={commonBoxStyles} role="presentation">
      [Panel Content]
    </Box>
  );

  const HeaderComponent = <Box sx={commonBoxStyles}>[Panel Header]</Box>;

  if (sdsType === "basic" && position === "bottom") {
    return InvalidBasicPanelPropsError;
  }

  return (
    <>
      <RawPanel
        sdsType={sdsType}
        open={open}
        closeButtonOnClick={() => setOpen(false)}
        HeaderComponent={HeaderComponent}
        {...props}
      >
        {DrawerList}
      </RawPanel>

      <Main sdsType={sdsType} open={open} {...props}>
        <ButtonToggle
          aria-label="button-toggle"
          icon="InfoCircle"
          sdsSize="medium"
          sdsType="primary"
          onClick={() => setOpen((prev) => !prev)}
          sdsStage={open ? "on" : "off"}
        />

        <p>{LONG_LOREM_IPSUM}</p>
        <p>{LONG_LOREM_IPSUM}</p>
        <p>{LONG_LOREM_IPSUM}</p>
        <p>{LONG_LOREM_IPSUM}</p>
      </Main>
    </>
  );
};
</file>

<file path="packages/components/src/core/Panel/__storybook__/stories/scrollBehavior.tsx">
import * as React from "react";
import { Args } from "@storybook/react";
import RawPanel from "src/core/Panel";
import Button from "src/core/Button";
import { Box, Typography } from "@mui/material";
import { LONG_LOREM_IPSUM } from "src/common/storybook/loremIpsum";

export const ScrollBehaviorDemo = (props: Args): JSX.Element => {
  const [open, setOpen] = React.useState(true);

  return (
    <>
      <Box sx={{ paddingBottom: 4 }}>
        <Button
          sdsStyle="icon"
          sdsSize="medium"
          sdsType="primary"
          icon="InfoCircle"
          onClick={() => {
            setOpen((prev) => !prev);
          }}
        />
      </Box>

      <RawPanel
        sdsType="overlay"
        open={open}
        closeButtonOnClick={() => {
          setOpen(false);
        }}
        HeaderComponent={
          <Typography
            variant="h3"
            sx={{ margin: "0 !important", padding: "6px 0 !important" }}
          >
            Scrollable Panel
          </Typography>
        }
        position="right"
        {...props}
      >
        {LONG_LOREM_IPSUM}
      </RawPanel>

      <Box>
        <Typography variant="h3">Scrollable Content</Typography>
        <p>{LONG_LOREM_IPSUM}</p>
        <p>{LONG_LOREM_IPSUM}</p>
        <p>{LONG_LOREM_IPSUM}</p>
        <p>{LONG_LOREM_IPSUM}</p>
        <p>{LONG_LOREM_IPSUM}</p>
      </Box>
    </>
  );
};
</file>

<file path="packages/components/src/core/Panel/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import RawPanel from "src/core/Panel";

export const TestDemo = (props: Args): JSX.Element => {
  return (
    <RawPanel sdsType="basic" open={true} data-testid="panel" {...props}>
      [Panel Content]
    </RawPanel>
  );
};
</file>

<file path="packages/components/src/core/Panel/__storybook__/constants.ts">
export const PANEL_EXCLUDED_CONTROLS = [
  "sdsType",
  "position",
  "width",
  "disableScrollLock",
  "HeaderComponent",
  "CloseButtonComponent",
  "closeButtonOnClick",
];
</file>

<file path="packages/components/src/core/Panel/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Panel } from "./stories/default";
import { PANEL_EXCLUDED_CONTROLS } from "./constants";
import { TestDemo } from "./stories/test";
import { CustomHeaderAndCloseButtonDemo } from "./stories/customCloseButton";
import { ScrollBehaviorDemo } from "./stories/scrollBehavior";

export default {
  argTypes: {
    isBackdropClickEnabled: {
      control: {
        type: "boolean",
      },
      description:
        "If true, clicking on the backdrop will close the panel. Only applies to overlay panels.",
    },
    position: {
      control: {
        type: "select",
      },
      options: ["left", "right", "bottom"],
    },
    sdsType: {
      control: {
        type: "select",
      },
      options: ["basic", "overlay"],
    },
    width: {
      control: {
        type: "text",
      },
    },
  },
  component: Panel,
  parameters: {
    badges: [BADGE.BETA],
  },
  title: "Components/Panel",
} as Meta;

// Default

export const Default = {
  args: {
    position: "left",
    sdsType: "basic",
    width: "320px",
  },
};

// With Custom Close Button and Header

export const ScrollBehavior = {
  parameters: {
    // TODO: Fix accessibility (a11y) issues once the MUI team resolves the problem
    // with the 'disableEnforceFocus' prop in the Modal component.
    axe: {
      disabledRules: ["aria-hidden-focus"],
    },
    controls: {
      exclude: PANEL_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ScrollBehaviorDemo {...args} />,
};

// With Custom Close Button and Header

export const CustomHeaderAndCloseButton = {
  parameters: {
    // TODO: Fix accessibility (a11y) issues once the MUI team resolves the problem
    // with the 'disableEnforceFocus' prop in the Modal component.
    axe: {
      disabledRules: ["aria-hidden-focus"],
    },
    controls: {
      exclude: PANEL_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <CustomHeaderAndCloseButtonDemo {...args} />,
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: PANEL_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/Panel/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Panel /> Default story renders snapshot 1`] = `
<div
  class="MuiDrawer-root MuiDrawer-docked css-979780-MuiDrawer-docked"
  slotprops="[object Object]"
>
  <div
    class="MuiPaper-root MuiPaper-elevation MuiPaper-elevation0 MuiDrawer-paper MuiDrawer-paperAnchorLeft MuiDrawer-paperAnchorDockedLeft css-12i7wg6-MuiPaper-root-MuiDrawer-paper"
    style="visibility: hidden; webkit-transform: translateX(-0px); transform: translateX(-0px);"
  >
    <div
      class="MuiBox-root css-gblytq"
      role="presentation"
    >
      [Panel Content]
    </div>
  </div>
</div>
`;
</file>

<file path="packages/components/src/core/Panel/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";
import Button from "src/core/Button";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

const PAPER_ROOT_CLASS_NAME = "MuiPaper-root";
const MUI_DRAWER_ANCHOR_LEFT_CLASS_NAME = "MuiDrawer-paperAnchorLeft";
const MUI_DRAWER_ANCHOR_RIGHT_CLASS_NAME = "MuiDrawer-paperAnchorRight";
const MUI_DRAWER_ANCHOR_BOTTOM_CLASS_NAME = "MuiDrawer-paperAnchorBottom";

describe("<Panel />", () => {
  generateSnapshots(stories);

  it("renders panel component", () => {
    render(<Test {...Test.args} />);
    const panelElement = screen.getByTestId("panel");
    expect(panelElement).not.toBeNull();
  });

  it("renders with overlay header and close button when sdsType is 'overlay'", () => {
    render(
      <Test
        sdsType="overlay"
        HeaderComponent={<p>Header</p>}
        CloseButtonComponent={
          <Button
            sdsStyle="icon"
            sdsSize="medium"
            sdsType="secondary"
            icon="ChevronLeft"
            data-testid="panel-close-button"
          />
        }
      />
    );

    // Check if HeaderComponent is rendered
    const headerElement = screen.getByText("Header");
    expect(headerElement).toBeInTheDocument();

    // Check if close button is rendered
    const closeButton = screen.getByTestId("panel-close-button");
    expect(closeButton).toBeInTheDocument();
  });

  it("renders without header when sdsType is 'basic'", () => {
    render(<Test sdsType="basic" />);

    // The header component should not be rendered for 'basic' panels
    const headerElement = screen.queryByText("Header");
    expect(headerElement).not.toBeInTheDocument();
  });

  it("applies the correct position based on the 'position' prop", () => {
    const { rerender } = render(<Test position="left" />);

    let panelElementPaper = screen
      .getByTestId("panel")
      .getElementsByClassName(PAPER_ROOT_CLASS_NAME)[0];
    expect(panelElementPaper).toHaveClass(MUI_DRAWER_ANCHOR_LEFT_CLASS_NAME);

    rerender(<Test position="right" />);
    panelElementPaper = screen
      .getByTestId("panel")
      .getElementsByClassName(PAPER_ROOT_CLASS_NAME)[0];
    expect(panelElementPaper).toHaveClass(MUI_DRAWER_ANCHOR_RIGHT_CLASS_NAME);

    rerender(<Test sdsType="overlay" position="bottom" />);
    panelElementPaper = screen
      .getByTestId("panel")
      .getElementsByClassName(PAPER_ROOT_CLASS_NAME)[0];
    expect(panelElementPaper).toHaveClass(MUI_DRAWER_ANCHOR_BOTTOM_CLASS_NAME);
  });

  it("calls the onClick handler when close button is clicked", () => {
    const handleClose = jest.fn();

    render(
      <Test
        sdsType="overlay"
        closeButtonOnClick={handleClose}
        HeaderComponent={<div>Header</div>}
        CloseButtonComponent={
          <Button
            sdsStyle="icon"
            sdsSize="medium"
            sdsType="secondary"
            icon="ChevronLeft"
            data-testid="panel-close-button"
          />
        }
      />
    );

    const closeButton = screen.getByTestId("panel-close-button");
    fireEvent.click(closeButton);

    expect(handleClose).toHaveBeenCalledTimes(1);
  });

  it("renders with default 'sdsType' and 'position' props", () => {
    render(<Test />);

    const panelElementPaper = screen
      .getByTestId("panel")
      .getElementsByClassName(PAPER_ROOT_CLASS_NAME)[0];

    // Default props: sdsType should be 'basic' and position should be 'left'
    expect(panelElementPaper).toHaveClass(MUI_DRAWER_ANCHOR_LEFT_CLASS_NAME);
  });

  it("does not accept position='bottom' for sdsType='basic', should default to position='left'", () => {
    // Render the BasicPanel with an invalid position 'bottom'
    render(<Test sdsType="basic" position="bottom" />);

    const panelElement = screen.getByTestId("panel");

    expect(panelElement).not.toHaveClass(MUI_DRAWER_ANCHOR_BOTTOM_CLASS_NAME);
  });
});
</file>

<file path="packages/components/src/core/Panel/__tests__/Panel.namespace-test.tsx">
import React from "react";
import { Panel, PanelProps } from "@czi-sds/components";
import { noop } from "src/common/utils";

const PanelNameSpaceTest = (props: PanelProps) => {
  return (
    <Panel
      sdsType="overlay"
      width="400px"
      position="left"
      HeaderComponent={<p>Header</p>}
      CloseButtonComponent={<button>Close</button>}
      closeButtonOnClick={noop}
    >
      This is a Basic Panel!
    </Panel>
  );
};
</file>

<file path="packages/components/src/core/Panel/components/PanelHeader/index.tsx">
import { StyledPanelHeader } from "./style";

export interface PanelHeaderProps {
  children?: React.ReactNode;
}

const PanelHeader = (props: PanelHeaderProps) => {
  const { children } = props;

  return <StyledPanelHeader>{children}</StyledPanelHeader>;
};

export default PanelHeader;
</file>

<file path="packages/components/src/core/Panel/components/PanelHeader/style.ts">
import styled from "@emotion/styled";
import { CommonThemeProps, getSpaces } from "src/core/styles";
import { PanelHeaderProps } from ".";

export interface ExtraPanelHeaderProps
  extends CommonThemeProps,
    PanelHeaderProps {}

export const StyledPanelHeader = styled("div")`
  ${(props: ExtraPanelHeaderProps) => {
    const spaces = getSpaces(props);

    return `
      width: 100%;
      height: 100%;
      margin-right: ${spaces?.l}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Panel/components/PanelHeaderClose/index.tsx">
import Button from "src/core/Button";
import { StyledPanelHeaderClose } from "./style";

export interface PanelHeaderCloseProps {
  onClick?: React.MouseEventHandler<HTMLDivElement>;
  CloseButtonComponent?: React.ReactNode;
}

const PanelHeaderClose = (props: PanelHeaderCloseProps) => {
  const { onClick, CloseButtonComponent } = props;

  return (
    <StyledPanelHeaderClose onClick={onClick}>
      {CloseButtonComponent ? (
        CloseButtonComponent
      ) : (
        <Button
          sdsStyle="icon"
          sdsType="tertiary"
          icon="XMark"
          aria-label="Panel Toggle"
        />
      )}
    </StyledPanelHeaderClose>
  );
};

export default PanelHeaderClose;
</file>

<file path="packages/components/src/core/Panel/components/PanelHeaderClose/style.ts">
import styled from "@emotion/styled";

export const StyledPanelHeaderClose = styled("div")`
  display: flex;
  justify-content: end;
  align-items: center;
`;
</file>

<file path="packages/components/src/core/Panel/index.tsx">
import React from "react";
import { StyledDrawer, StyledHeaderComponent } from "./style";
import PanelHeader from "./components/PanelHeader";
import PanelHeaderClose from "./components/PanelHeaderClose";
import {
  OverlayPanelProps,
  BasicPanelProps,
  PANEL_BASIC_MIN_WIDTH_PX,
  PANEL_OVERLAY_MIN_WIDTH_PX,
  PanelProps,
} from "./Panel.types";

export type { PanelProps, BasicPanelProps, OverlayPanelProps };

// Type guard to narrow the type
function isOverlayPanelProps(props: PanelProps): props is OverlayPanelProps {
  return props.sdsType === "overlay";
}

const SLOT_PROPS = {
  backdrop: {
    invisible: true,
  },
};

/**
 * @see https://mui.com/material-ui/react-drawer/
 */
const Panel = React.forwardRef<HTMLDivElement, PanelProps>((props, ref) => {
  const {
    children,
    sdsType = "basic",
    position = "left",
    width,
    ModalProps,
    isBackdropClickEnabled = false,
  } = props;

  const drawerWidth =
    width ??
    (sdsType === "basic"
      ? PANEL_BASIC_MIN_WIDTH_PX
      : PANEL_OVERLAY_MIN_WIDTH_PX);

  const drawerVariant = sdsType === "basic" ? "persistent" : "temporary";

  // (masoudmanson): The basic Panel only supports "left" or "right" positions.
  // If a "bottom" position is provided for a basic Panel, it defaults to "left".
  const drawerAnchor =
    sdsType === "overlay"
      ? position
      : position === "bottom"
        ? "left"
        : position;

  return (
    /**
     * (masoudmanson): We need the props after {...props} to override any
     * user-defined values. Placing them afterward ensures that our values
     * take priority.
     *
     * For example, the SDS design specifies that a BasicPanel should only be anchored
     * to the left or right. To prevent users from positioning it at the bottom,
     * the 'anchor' prop must always be set to our predefined value.
     */
    <StyledDrawer
      {...props}
      ref={ref}
      anchor={drawerAnchor}
      variant={drawerVariant}
      width={drawerWidth}
      ModalProps={{
        ...ModalProps,
        // (masoudmanson): Set disableEnforceFocus: true to prevent the Drawer from forcing
        // focus on itself. This is necessary for the SDS Panel, as it should not trap focus
        // within itself; users should be able to interact with the rest of the page.
        // However, this prop is not working correctly in MUI v5, causing accessibility (a11y) issues.
        // The issue has been reported to the MUI team, and we are awaiting a fix.
        // In the meantime, the a11y errors can be ignored.
        disableEnforceFocus: true,
        // (masoudmanson): Set disableScrollLock: true to prevent the Drawer from locking
        // the page scroll when it is open. This is necessary for the SDS Panel, as it should
        // not lock the page scroll when it is open.
        disableScrollLock: true,
      }}
      slotProps={SLOT_PROPS}
      hideBackdrop={!isBackdropClickEnabled}
    >
      {isOverlayPanelProps(props) && (
        <StyledHeaderComponent>
          {props?.HeaderComponent && (
            <PanelHeader>{props?.HeaderComponent}</PanelHeader>
          )}
          {
            <PanelHeaderClose
              onClick={props?.closeButtonOnClick}
              CloseButtonComponent={props?.CloseButtonComponent}
            />
          }
        </StyledHeaderComponent>
      )}
      {children}
    </StyledDrawer>
  );
});

export default Panel;
</file>

<file path="packages/components/src/core/Panel/Panel.types.ts">
import { DrawerProps } from "@mui/material";
import { PanelHeaderCloseProps } from "./components/PanelHeaderClose";

export interface BasicPanelProps extends Omit<DrawerProps, "variant"> {
  sdsType: "basic"; // Discriminator
  position?: "left" | "right";
  width?: number | string;
  isBackdropClickEnabled?: boolean;
}

export interface OverlayPanelProps extends Omit<DrawerProps, "variant"> {
  sdsType: "overlay"; // Discriminator
  position?: "left" | "right" | "bottom";
  width?: number | string;
  HeaderComponent?: React.ReactNode;
  closeButtonOnClick?: PanelHeaderCloseProps["onClick"];
  CloseButtonComponent?: PanelHeaderCloseProps["CloseButtonComponent"];
  isBackdropClickEnabled?: boolean;
}

// Discriminated Union
export type PanelProps = BasicPanelProps | OverlayPanelProps;

export const PANEL_BASIC_MIN_WIDTH_PX = 240;
export const PANEL_OVERLAY_MIN_WIDTH_PX = 320;
</file>

<file path="packages/components/src/core/Panel/style.ts">
import styled from "@emotion/styled";
import { Drawer, drawerClasses } from "@mui/material";
import {
  CommonThemeProps,
  getSemanticColors,
  getShadows,
  getSpaces,
} from "../styles";
import { css, SerializedStyles } from "@emotion/react";
import {
  PANEL_BASIC_MIN_WIDTH_PX,
  PANEL_OVERLAY_MIN_WIDTH_PX,
  PanelProps,
} from "./Panel.types";

type PanelExtraProps = PanelProps & CommonThemeProps;

const doNotForwardProps = [
  "sdsType",
  "position",
  "width",
  "HeaderComponent",
  "onClick",
  "disableScrollLock",
  "closeButtonOnClick",
  "CloseButtonComponent",
  "isBackdropClickEnabled",
];

const basicPanelStyles = (props: PanelExtraProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);
  const spaces = getSpaces(props);

  return css`
    .${drawerClasses.paper} {
      background-color: ${semanticColors?.base?.backgroundPrimary};
      padding: ${spaces?.l}px;
      min-width: ${PANEL_BASIC_MIN_WIDTH_PX}px;
      min-height: ${PANEL_BASIC_MIN_WIDTH_PX}px;
    }
  `;
};

const overlayPanelStyles = (props: PanelExtraProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);
  const spaces = getSpaces(props);
  const shadows = getShadows(props);

  return css`
    /**
     * (masoudmanson): This prevents the Panel from taking up the full width of the screen,
     * allowing the ToggleButton to be clicked to close the Panel. Due to an issue with
     * MUI v5, the following styles cause the Panel to generate accessibility (a11y) errors.
     * In the meantime, we are ignoring the a11y errors within Storybook.
     */
    width: fit-content;
    height: fit-content;
    div[data-testid="sentinelStart"],
    div[data-testid="sentinelEnd"] {
      width: fit-content;
    }

    .${drawerClasses.paper} {
      background-color: ${semanticColors?.base?.surface};
      padding: ${spaces?.xl}px;
      min-width: ${PANEL_OVERLAY_MIN_WIDTH_PX}px;
      min-height: ${PANEL_OVERLAY_MIN_WIDTH_PX}px;
      box-shadow: ${shadows?.l};
      background-image: none;
    }
  `;
};

export const StyledDrawer = styled(Drawer, {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${(props: PanelExtraProps) => {
    const { sdsType = "basic", anchor = "left", width } = props;

    const widthString = typeof width === "number" ? `${width}px` : width;

    const panelWidth = anchor !== "bottom" ? widthString : "100%";
    const panelHeight = anchor !== "bottom" ? "100%" : widthString;

    return css`
      .${drawerClasses.paper} {
        height: ${panelHeight};
        width: ${panelWidth};
      }

      ${sdsType === "basic" && basicPanelStyles(props)}
      ${sdsType === "overlay" && overlayPanelStyles(props)}
    `;
  }}
`;

export const StyledHeaderComponent = styled("div")`
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);

    return css`
      margin-bottom: ${spaces?.xl}px;
      display: flex;
      justify-content: space-between;
      align-items: start;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/SegmentedControl/__storybook__/stories/controlledSegmentedControl.tsx">
import { Args } from "@storybook/react";
import { useState } from "react";
import RawSegmentedControl from "src/core/SegmentedControl";

export const ControlledSegmentedControlDemo = (props: Args): JSX.Element => {
  const { buttonDefinition, ...rest } = props;

  const [value, setValue] = useState("C");
  return (
    <RawSegmentedControl
      buttonDefinition={buttonDefinition}
      onChange={(_event, newValue) => {
        console.log(newValue);
        setValue(newValue);
      }}
      value={value}
      {...rest}
    />
  );
};
</file>

<file path="packages/components/src/core/SegmentedControl/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import RawSegmentedControl from "src/core/SegmentedControl";

export const SegmentedControl = (props: Args): JSX.Element => {
  const { buttonDefinition, ...rest } = props;

  return <RawSegmentedControl buttonDefinition={buttonDefinition} {...rest} />;
};
</file>

<file path="packages/components/src/core/SegmentedControl/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import { SegmentedControl } from "./default";

export const TestDemo = (props: Args): JSX.Element => {
  const { buttonDefinition } = props;
  return (
    <SegmentedControl
      buttonDefinition={buttonDefinition}
      data-testid="segmentedControl"
      {...props}
    />
  );
};
</file>

<file path="packages/components/src/core/SegmentedControl/__storybook__/constants.ts">
export const SEGMENTED_CONTROL_EXCLUDED_CONTROLS = ["buttonDefinition"];
</file>

<file path="packages/components/src/core/SegmentedControl/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { SegmentedControl } from "./stories/default";
import { SEGMENTED_CONTROL_EXCLUDED_CONTROLS } from "./constants";
import { TestDemo } from "./stories/test";
import { ControlledSegmentedControlDemo } from "./stories/controlledSegmentedControl";

export default {
  argTypes: {
    buttonDefinition: {
      control: {
        type: "object",
      },
    },
  },
  component: SegmentedControl,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/SegmentedControl",
} as Meta;

// Default

export const Default = {
  args: {
    buttonDefinition: [
      {
        icon: "List",
        tooltipText: "List A",
        value: "A",
      },
      {
        icon: "List",
        tooltipText: "List B",
        value: "B",
      },
      {
        icon: "List",
        tooltipText: "List C",
        value: "C",
      },
      {
        icon: "List",
        tooltipText: "List D",
        value: "D",
      },
    ],
  },
  render: SegmentedControl,
};

// Disabled Buttons

export const WithDisabledButton = {
  args: {
    buttonDefinition: [
      {
        icon: "LinesHorizontal3",
        tooltipText: "List A",
        value: "A",
      },
      {
        disabled: true,
        icon: "LinesHorizontal3",
        tooltipText: "List B",
        value: "B",
      },
      {
        icon: "LinesHorizontal3",
        tooltipText: "List C",
        value: "C",
      },
      {
        icon: "LinesHorizontal3",
        tooltipText: "List D",
        value: "D",
      },
    ],
  },
  render: SegmentedControl,
};

// Controlled

export const ControlledSegmentedControl = {
  args: {
    buttonDefinition: [
      {
        icon: "List",
        tooltipText: "List A",
        value: "A",
      },
      {
        icon: "List",
        tooltipText: "List B",
        value: "B",
      },
      {
        icon: "List",
        tooltipText: "List C",
        value: "C",
      },
      {
        icon: "List",
        tooltipText: "List D",
        value: "D",
      },
    ],
  },
  render: ControlledSegmentedControlDemo,
};

// Test

export const Test = {
  args: {
    buttonDefinition: [
      { icon: "List", tooltipText: "List A", value: "A" },
      { icon: "List", tooltipText: "List B", value: "B" },
      { icon: "Table", tooltipText: "Table", value: "Table" },
      { icon: "People", tooltipText: "People", value: "People" },
    ],
  },
  parameters: {
    controls: {
      exclude: SEGMENTED_CONTROL_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/SegmentedControl/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<SegmentedControl /> ControlledSegmentedControl story renders snapshot 1`] = `
<div
  aria-label="Segmented Control"
  class="MuiToggleButtonGroup-root css-nkxdz1-MuiToggleButtonGroup-root"
  role="group"
>
  <button
    aria-label="List A"
    aria-pressed="false"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-firstButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="A"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconListSmall"
          data-testid="IconListSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    aria-label="List B"
    aria-pressed="false"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-middleButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="B"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconListSmall"
          data-testid="IconListSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    aria-label="List C"
    aria-pressed="true"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root Mui-selected MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-middleButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="C"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconListSmall"
          data-testid="IconListSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    aria-label="List D"
    aria-pressed="false"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-lastButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="D"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconListSmall"
          data-testid="IconListSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
</div>
`;

exports[`<SegmentedControl /> Default story renders snapshot 1`] = `
<div
  aria-label="Segmented Control"
  class="MuiToggleButtonGroup-root css-nkxdz1-MuiToggleButtonGroup-root"
  role="group"
>
  <button
    aria-label="List A"
    aria-pressed="true"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root Mui-selected MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-firstButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="A"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconListSmall"
          data-testid="IconListSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    aria-label="List B"
    aria-pressed="false"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-middleButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="B"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconListSmall"
          data-testid="IconListSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    aria-label="List C"
    aria-pressed="false"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-middleButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="C"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconListSmall"
          data-testid="IconListSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    aria-label="List D"
    aria-pressed="false"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-lastButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="D"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconListSmall"
          data-testid="IconListSmall"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
</div>
`;

exports[`<SegmentedControl /> WithDisabledButton story renders snapshot 1`] = `
<div
  aria-label="Segmented Control"
  class="MuiToggleButtonGroup-root css-nkxdz1-MuiToggleButtonGroup-root"
  role="group"
>
  <button
    aria-label="List A"
    aria-pressed="true"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root Mui-selected MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-firstButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="A"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconLinesHorizontal3Small"
          data-testid="IconLinesHorizontal3Small"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    aria-label="List B"
    aria-pressed="false"
    class="MuiButtonBase-root Mui-disabled MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root Mui-disabled MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-middleButton css-9sonpc-MuiButtonBase-root-MuiToggleButton-root"
    disabled=""
    tabindex="-1"
    type="button"
    value="B"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconLinesHorizontal3Small"
          data-testid="IconLinesHorizontal3Small"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
  </button>
  <button
    aria-label="List C"
    aria-pressed="false"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-middleButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="C"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconLinesHorizontal3Small"
          data-testid="IconLinesHorizontal3Small"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
  <button
    aria-label="List D"
    aria-pressed="false"
    class="MuiButtonBase-root MuiToggleButtonGroup-grouped MuiToggleButtonGroup-groupedHorizontal MuiToggleButton-root MuiToggleButton-sizeSmall MuiToggleButton-standard MuiToggleButtonGroup-lastButton css-17doxn7-MuiButtonBase-root-MuiToggleButton-root"
    data-mui-internal-clone-element="true"
    tabindex="0"
    type="button"
    value="D"
  >
    <span
      tabindex="-1"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconLinesHorizontal3Small"
          data-testid="IconLinesHorizontal3Small"
          fillcontrast="white"
          focusable="false"
          height="16"
          viewBox="0 0 16 16"
          width="16"
        />
      </div>
    </span>
    <span
      class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
    />
  </button>
</div>
`;
</file>

<file path="packages/components/src/core/SegmentedControl/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<SegmentedControl />", () => {
  generateSnapshots(stories);

  it("renders Segmented Control component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("segmentedControl");
    expect(elements.length).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/SegmentedControl/__tests__/SegmentedControl.namespace-test.tsx">
import { SegmentedControl, SegmentedControlProps } from "@czi-sds/components";
import React from "react";

const SegmentedControlNameSpaceTest = (props: SegmentedControlProps) => {
  return (
    <SegmentedControl
      buttonDefinition={[
        { icon: "List", tooltipText: "List A", value: "A" },
        { icon: "List", tooltipText: "List B", value: "B" },
        { icon: "Table", tooltipText: "Table", value: "C" },
        { icon: "People", tooltipText: "People", value: "D" },
      ]}
    />
  );
};
</file>

<file path="packages/components/src/core/SegmentedControl/index.tsx">
import { ToggleButtonGroupProps } from "@mui/material";
import React from "react";
import Icon, { IconNameToSizes } from "src/core/Icon";
import Tooltip from "src/core/Tooltip";
import { StyledSegmentedControl, StyledToggleButton } from "./style";

// one prop is array of objects: with icon name and tooltip text. They need to make
// first item in array first button, etc
export interface SingleButtonDefinition {
  disabled?: boolean;
  icon: keyof IconNameToSizes | React.ReactElement<CustomSVGProps>;
  tooltipText?: string;
  value: string;
}

export interface SegmentedControlProps extends ToggleButtonGroupProps {
  buttonDefinition: SingleButtonDefinition[];
}

/**
 * @see https://mui.com/material-ui/react-toggle-button/
 */

const SegmentedControl = (props: SegmentedControlProps) => {
  const {
    buttonDefinition,
    value: valueProp,
    onChange: onChangeProp,
    ...restProps
  } = props;

  const initialValue =
    buttonDefinition.find((button) => !button.disabled)?.value || null;

  const [active, setActive] = React.useState<string | null>(initialValue);

  // (masoudmanson): Add Controlled/Uncontrolled Component pattern
  const isControlled = valueProp !== undefined;
  const value = isControlled ? valueProp : active;

  const handleActive = (
    event: React.MouseEvent<HTMLElement>,
    newActive: string | null
  ) => {
    if (!isControlled) {
      setActive(newActive);
    }
    if (onChangeProp) {
      onChangeProp(event, newActive);
    }
  };

  return (
    <StyledSegmentedControl
      aria-label="Segmented Control"
      size="small"
      value={value}
      exclusive
      onChange={handleActive}
      {...restProps}
    >
      {buttonDefinition.map((button: SingleButtonDefinition) => {
        const {
          icon,
          tooltipText,
          value: buttonValue,
          disabled = false,
        } = button;

        const iconItem = icon ? (
          typeof icon !== "string" ? (
            icon
          ) : (
            <Icon sdsIcon={icon} sdsSize="s" />
          )
        ) : null;

        const toggleButton = (
          <StyledToggleButton
            aria-label={tooltipText ?? buttonValue}
            value={buttonValue}
            disabled={disabled}
            key={buttonValue}
          >
            <span tabIndex={-1}>{iconItem}</span>
          </StyledToggleButton>
        );

        // (masoudmanson): If the button is disabled, we don't want to show the tooltip.
        return disabled ? (
          toggleButton
        ) : (
          <Tooltip
            title={tooltipText ?? buttonValue}
            sdsStyle="dark"
            arrow
            key={buttonValue}
          >
            {toggleButton}
          </Tooltip>
        );
      })}
      ;
    </StyledSegmentedControl>
  );
};

export default SegmentedControl;
</file>

<file path="packages/components/src/core/SegmentedControl/style.ts">
import {
  ToggleButton,
  ToggleButtonGroup,
  ToggleButtonProps,
  toggleButtonClasses,
} from "@mui/material";
import styled from "@emotion/styled";
import { focusVisibleA11yStyle } from "src/core/styles/common/mixins/a11y";
import {
  CommonThemeProps,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

const doNotForwardProps = ["buttonDefinition"];

export const StyledSegmentedControl = styled(ToggleButtonGroup, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: CommonThemeProps) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      .${toggleButtonClasses.root}.${toggleButtonClasses.disabled} {
        border-color: ${semanticColors?.base?.borderPrimary};
      }

      .${toggleButtonClasses.root}.${toggleButtonClasses.selected} {
        background-color: ${semanticColors?.base?.fillOpen};
        color: ${semanticColors?.accent?.ornamentSelected};
        border-color: ${semanticColors?.base?.borderPrimary};

        &:hover {
          background-color: ${semanticColors?.base?.fillHover};
          color: ${semanticColors?.base?.ornamentSecondaryHover};
        }
      }

      .${toggleButtonClasses.root} {
        ${focusVisibleA11yStyle(props)}
        background-color: transparent;
        border-color: ${semanticColors?.base?.borderPrimary};
        line-height: 0px;
        color: ${semanticColors?.base?.ornamentPrimary};
        padding: ${(spaces?.xs ?? 6) - 1}px ${spaces?.l}px;

        &:hover {
          border-color: ${semanticColors?.base?.borderPrimary};
          background-color: ${semanticColors?.base?.fillHover};
        }
      }
    `;
  }}
`;

export const StyledToggleButton = styled(ToggleButton, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${(props: ToggleButtonProps & CommonThemeProps) => {
    const { disabled } = props;

    const semanticColors = getSemanticColors(props);

    return `
      svg {
        color: ${disabled ? semanticColors?.base?.ornamentDisabled : "currentColor"};
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/styles/common/constants/black.ts">
export enum Black {
  DEFAULT = "#000000",
}
</file>

<file path="packages/components/src/core/styles/common/constants/boxShadows.ts">
export enum BoxShadows {
  S = "0 2px 12px 0 rgba(0,0,0,0.3)",
  M = "0 2px 4px 0 rgba(0,0,0, 0.15),0 2px 10px 0 rgba(0,0,0, 0.15)",
  L = "0 2px 4px 0 rgba(0,0,0, 0.25)",
}
</file>

<file path="packages/components/src/core/styles/common/constants/fontWeights.ts">
export enum FontWeights {
  HEAVY = 800,
  BOLD = 700,
  SEMI_BOLD = 600,
  REGULAR = 400,
  THIN = 300,
}
</file>

<file path="packages/components/src/core/styles/common/constants/gray.ts">
export enum Gray {
  DARKEST = "#545454",
  DARK = "#767676",
  MEDIUM = "#999999",
  LIGHT = "#cccccc",
  LIGHTEST = "#eaeaea",
  OFF_WHITE = "#f8f8f8",
}
</file>

<file path="packages/components/src/core/styles/common/constants/spaces.ts">
export enum Spaces {
  XXXS = "2px",
  XXS = "4px",
  XS = "6px",
  S = "8px",
  M = "12px",
  L = "16px",
  XL = "24px",
  XXL = "40px",
  DEFAULT = M,
}
</file>

<file path="packages/components/src/core/styles/common/constants/white.ts">
export enum White {
  DEFAULT = "#ffffff",
}
</file>

<file path="packages/components/src/core/styles/common/mixins/a11y.ts">
import { CommonThemeProps, getSemanticColors } from "../selectors/theme";

export function focusVisibleA11yStyle(props: CommonThemeProps) {
  const semanticColors = getSemanticColors(props);

  return `
      &.Mui-focusVisible, &:focus-visible {
        outline: 2px solid ${semanticColors?.base?.borderPrimaryHover};
        outline-offset: 1px;
      }
  `;
}
</file>

<file path="packages/components/src/core/styles/common/mixins/fonts.ts">
import { css, SerializedStyles } from "@emotion/react";
import { TypographyStyle } from "@mui/material";
import { Typography } from "../types";
import { CommonThemeProps, getTypography } from "../selectors/theme";

type FontBodyWeight = keyof Typography["wideStyles"]["body"];
type FontBodySize<T extends FontBodyWeight> =
  keyof Typography["wideStyles"]["body"][T];

export const fontBody = (
  fontSize: FontBodySize<FontBodyWeight>,
  fontWeight: FontBodyWeight = "regular",
  isNarrow: boolean = false
) => {
  return (props: CommonThemeProps): SerializedStyles | null => {
    const typography = getTypography(props);

    if (!typography) return null;

    const {
      wideStyles: { body },
      narrowStyles: { body: narrowBody },
      fontFamily: { body: bodyFontFamily },
    } = typography;

    if (isNarrow) {
      return css`
        ${props.theme?.breakpoints?.down("md")} {
          ${themeToCss(narrowBody[fontWeight][fontSize], bodyFontFamily)}
        }
      `;
    }

    return themeToCss(body[fontWeight][fontSize], bodyFontFamily);
  };
};

export const fontBodyL = fontBody("l", "regular");
export const fontBodyM = fontBody("m", "regular");
export const fontBodyS = fontBody("s", "regular");
export const fontBodyXs = fontBody("xs", "regular");
export const fontBodyXxs = fontBody("xxs", "regular");
export const fontBodyXxxs = fontBody("xxxs", "regular");
export const fontBodySemiboldL = fontBody("l", "semibold");
export const fontBodySemiboldM = fontBody("m", "semibold");
export const fontBodySemiboldS = fontBody("s", "semibold");
export const fontBodySemiboldXs = fontBody("xs", "semibold");
export const fontBodySemiboldXxs = fontBody("xxs", "semibold");
export const fontBodySemiboldXxxs = fontBody("xxxs", "semibold");

// Font Caps

type FontCapsSize = keyof Typography["wideStyles"]["caps"]["semibold"];

export const fontCaps = (fontSize: FontCapsSize, isNarrow: boolean = false) => {
  return (props: CommonThemeProps): SerializedStyles | null => {
    const typography = getTypography(props);

    if (!typography) return null;

    const {
      wideStyles: { caps },
      narrowStyles: { caps: narrowCaps },
      fontFamily: { caps: capsFontFamily },
    } = typography;

    return css`
      text-transform: uppercase;

      ${isNarrow
        ? css`
            ${props.theme?.breakpoints?.down("md")} {
              ${themeToCss(narrowCaps.semibold[fontSize], capsFontFamily)}
            }
          `
        : themeToCss(caps.semibold[fontSize], capsFontFamily)}
    `;
  };
};

export const fontCapsXxs = fontCaps("xxs");
export const fontCapsXxxs = fontCaps("xxxs");
export const fontCapsXxxxs = fontCaps("xxxxs");

// Font Header

type FontHeaderSize = keyof Typography["wideStyles"]["header"]["semibold"];

export const fontHeader = (
  fontSize: FontHeaderSize,
  isNarrow: boolean = false
) => {
  return (props: CommonThemeProps): SerializedStyles | null => {
    const typography = getTypography(props);

    if (!typography) return null;

    const {
      wideStyles: { header },
      narrowStyles: { header: narrowHeader },
      fontFamily: { header: headerFontFamily },
    } = typography;

    if (isNarrow) {
      return css`
        ${props.theme?.breakpoints?.down("md")} {
          ${themeToCss(narrowHeader.semibold[fontSize], headerFontFamily)}
        }
      `;
    }

    return themeToCss(header.semibold[fontSize], headerFontFamily);
  };
};

export const fontHeaderXxl = fontHeader("xxl");
export const fontHeaderXl = fontHeader("xl");
export const fontHeaderL = fontHeader("l");
export const fontHeaderM = fontHeader("m");
export const fontHeaderS = fontHeader("s");
export const fontHeaderXs = fontHeader("xs");
export const fontHeaderXxs = fontHeader("xxs");
export const fontHeaderXxxs = fontHeader("xxxs");

// Font Code

type FontCodeWeight = keyof Typography["wideStyles"]["code"];
type FontCodeSize<T extends FontCodeWeight> =
  keyof Typography["wideStyles"]["code"][T];

export const fontCode = (
  fontSize: FontCodeSize<FontCodeWeight>,
  fontWeight: FontCodeWeight = "regular",
  isNarrow: boolean = false
) => {
  return (props: CommonThemeProps): SerializedStyles | null => {
    const typography = getTypography(props);

    if (!typography) return null;

    const {
      wideStyles: { code },
      narrowStyles: { code: narrowCode },
      fontFamily: { code: codeFontFamily },
    } = typography;

    if (isNarrow) {
      return css`
        ${props.theme?.breakpoints?.down("md")} {
          ${themeToCss(narrowCode[fontWeight][fontSize], codeFontFamily)}
        }
      `;
    }

    return themeToCss(code[fontWeight][fontSize], codeFontFamily);
  };
};

export const fontCodeXs = fontCode("xs", "regular");
export const fontCodeS = fontCode("s", "regular");
export const fontCodeSemiboldXs = fontCode("xs", "semibold");
export const fontCodeSemiboldS = fontCode("s", "semibold");

// Font Tabular

type FontTabularWeight = keyof Typography["wideStyles"]["tabular"];
type FontTabularSize<T extends FontTabularWeight> =
  keyof Typography["wideStyles"]["tabular"][T];

export const fontTabular = (
  fontSize: FontTabularSize<FontTabularWeight>,
  fontWeight: FontTabularWeight = "regular",
  isNarrow: boolean = false
) => {
  return (props: CommonThemeProps): SerializedStyles | null => {
    const typography = getTypography(props);

    if (!typography) return null;

    const {
      wideStyles: { tabular },
      narrowStyles: { tabular: narrowTabular },
      fontFamily: { tabular: tabularFontFamily },
    } = typography;

    return css`
      font-variant-numeric: tabular-nums;

      ${isNarrow
        ? css`
            ${props.theme?.breakpoints?.down("md")} {
              ${themeToCss(
                narrowTabular[fontWeight][fontSize],
                tabularFontFamily
              )}
            }
          `
        : themeToCss(tabular[fontWeight][fontSize], tabularFontFamily)}
    `;
  };
};

export const fontTabularXs = fontTabular("xs", "regular");
export const fontTabularS = fontTabular("s", "regular");
export const fontTabularSemiboldXs = fontTabular("xs", "semibold");
export const fontTabularSemiboldS = fontTabular("s", "semibold");

function themeToCss(
  fontTheme: TypographyStyle,
  fontFamily: React.CSSProperties["fontFamily"] = "inherit"
) {
  return css`
    font-family: ${fontFamily};
    font-size: ${fontTheme.fontSize}px;
    line-height: ${fontTheme.lineHeight} !important;
    letter-spacing: ${fontTheme.letterSpacing};
    font-weight: ${fontTheme.fontWeight};
    text-transform: ${fontTheme.textTransform};
  `;
}
</file>

<file path="packages/components/src/core/styles/common/selectors/theme.ts">
import { Breakpoints, PaletteOptions } from "@mui/material/styles";
import {
  Borders,
  Colors,
  Corners,
  FontWeights,
  IconSizes,
  SDSPalette,
  SDSTheme,
  Shadows,
  Spaces,
  Typography,
} from "../types";

// (thuang): Somehow this namespace needs to be globally unique to prevent
// namespace collisions.
// Might be related to using `rollup-plugin-ts`, which does code splitting?
export interface CommonThemeProps {
  theme?: SDSTheme;
}

export const getSpaces = ({ theme }: CommonThemeProps): Spaces | null => {
  return theme?.app?.spacing || null;
};

/**
 * @deprecated getSpacings() is deprecated and may be removed in a future release. Please use getSpaces()
 */
export const getSpacings = ({ theme }: CommonThemeProps): Spaces | null => {
  console.warn(
    "getSpacings() is deprecated and may be removed in a future release. Please use getSpaces()"
  );
  return theme?.app?.spacing || null;
};

export const getTypography = ({
  theme,
}: CommonThemeProps): Typography | null => {
  return theme?.app?.typography || null;
};

export const getMode = ({ theme }: CommonThemeProps): "light" | "dark" => {
  return theme?.palette?.mode || "light";
};

export const getPalette = ({ theme }: CommonThemeProps): PaletteOptions => {
  return theme?.palette as PaletteOptions;
};

export const getColors = ({ theme }: CommonThemeProps): Colors | null => {
  return theme?.app?.colors || null;
};

export const getSemanticColors = ({
  theme,
}: CommonThemeProps): SDSPalette | null => {
  return theme?.palette?.sds || null;
};

export const getShadows = ({ theme }: CommonThemeProps): Shadows | null => {
  return theme?.app?.shadows || null;
};

export const getCorners = ({ theme }: CommonThemeProps): Corners | null => {
  return theme?.app?.corners || null;
};

export const getFontWeights = ({
  theme,
}: CommonThemeProps): FontWeights | null => {
  return theme?.app?.fontWeights || null;
};

export const getIconSizes = ({ theme }: CommonThemeProps): IconSizes | null => {
  return theme?.app?.iconSizes || null;
};

export const getBorders = ({ theme }: CommonThemeProps): Borders | null => {
  return theme?.app?.borders || null;
};

export const getBreakpoints = ({
  theme,
}: CommonThemeProps): Breakpoints | null => {
  return theme?.breakpoints || null;
};
</file>

<file path="packages/components/src/core/styles/common/defaultTheme.ts">
import { createTheme, PaletteMode } from "@mui/material";
import { SDSChooseTheme } from "./SDSAppTheme";
import { makeThemeOptions } from "./makeThemeOptions";

/**
 * Theme adaptor with light/dark mode support.
 *
 * @param t The theme to use. Currently supports a light and dark variant.
 * @returns The selected theme object to be used in the ThemeProvider
 */
export const Theme = (t: PaletteMode) =>
  createTheme(makeThemeOptions(SDSChooseTheme(t), t));

/**
 * Default theme, uses light mode with no option to change it.
 *
 * Use the `theme` export to get a flexible light/dark mode theme function
 */
export const defaultTheme = Theme("light");
</file>

<file path="packages/components/src/core/styles/common/makeThemeOptions.ts">
import { PaletteMode } from "@mui/material";
import { AppTheme, SDSPalette, SDSThemeOptions } from "./types";

export const SDSPaletteLight = (appTheme: AppTheme): SDSPalette => {
  return {
    accent: {
      border: appTheme.colors.blue[500],
      borderFocus: appTheme.colors.blue[500],
      borderHover: appTheme.colors.blue[600],
      borderOpen: appTheme.colors.blue[500],
      borderPressed: appTheme.colors.blue[700],
      borderSelected: appTheme.colors.blue[500],
      fillHover: appTheme.colors.blue[600],
      fillPressed: appTheme.colors.blue[700],
      fillPrimary: appTheme.colors.blue[500],
      ornament: appTheme.colors.blue[500],
      ornamentFocus: appTheme.colors.blue[500],
      ornamentHover: appTheme.colors.blue[600],
      ornamentOpen: appTheme.colors.blue[500],
      ornamentPressed: appTheme.colors.blue[700],
      ornamentSelected: appTheme.colors.blue[500],
      surfacePrimary: appTheme.colors.blue[500],
      surfaceSecondary: appTheme.colors.blue[100],
      textAction: appTheme.colors.blue[500],
      textActionHover: appTheme.colors.blue[600],
      textActionPressed: appTheme.colors.blue[700],
    },
    base: {
      backgroundPrimary: appTheme.colors.gray[50]!,
      backgroundPrimaryInverse: appTheme.colors.gray[900]!,
      backgroundSecondary: appTheme.colors.gray[100],
      backgroundSecondaryInverse: appTheme.colors.gray[700],
      backgroundTertiary: appTheme.colors.gray[200],
      borderOnFill: appTheme.colors.gray[50]!,
      borderPrimary: appTheme.colors.gray[600],
      borderPrimaryDisabled: appTheme.colors.gray[300],
      borderPrimaryDisabledInverse: appTheme.colors.gray[600],
      borderPrimaryHover: appTheme.colors.gray[900]!,
      borderPrimaryHoverInverse: appTheme.colors.gray[50]!,
      borderPrimaryInverse: appTheme.colors.gray[300],
      borderPrimaryPressed: appTheme.colors.gray[900]!,
      borderPrimaryPressedInverse: appTheme.colors.gray[50]!,
      borderSecondary: appTheme.colors.gray[300],
      divider: appTheme.colors.gray[200],
      dividerInverse: appTheme.colors.gray[600],
      fillDisabled: appTheme.colors.gray[200],
      /* the number 47 is the opacity of the color, which is equal to 28% */
      fillHover: appTheme.colors.gray[300] + "47",
      fillOpen: appTheme.colors.gray[300] + "47",
      fillPressed: appTheme.colors.gray[300] + "47",
      fillPrimary: appTheme.colors.gray[50]!,
      fillSelected: appTheme.colors.gray[900]!,
      ornamentDisabled: appTheme.colors.gray[300],
      ornamentDisabledInverse: appTheme.colors.gray[600],
      ornamentOnFill: appTheme.colors.gray[50]!,
      ornamentPrimary: appTheme.colors.gray[900]!,
      ornamentPrimaryInverse: appTheme.colors.gray[50]!,
      ornamentSecondary: appTheme.colors.gray[600],
      ornamentSecondaryHover: appTheme.colors.gray[900]!,
      ornamentSecondaryInverse: appTheme.colors.gray[300],
      ornamentSecondaryPressed: appTheme.colors.gray[900]!,
      surface: appTheme.colors.gray[50]!,
      surfaceInverse: appTheme.colors.gray[900]!,
      textDisabled: appTheme.colors.gray[300],
      textDisabledInverse: appTheme.colors.gray[600],
      textOnFill: appTheme.colors.gray[50]!,
      textPrimary: appTheme.colors.gray[900]!,
      textPrimaryInverse: appTheme.colors.gray[50]!,
      textSecondary: appTheme.colors.gray[600],
      textSecondaryInverse: appTheme.colors.gray[300],
      textTertiary: appTheme.colors.gray[400],
      textTertiaryInverse: appTheme.colors.gray[500],
    },
    beta: {
      border: appTheme.colors.purple[600],
      fillHover: appTheme.colors.purple[600],
      fillPressed: appTheme.colors.purple[700],
      fillPrimary: appTheme.colors.purple[500],
      fillSecondary: appTheme.colors.purple[100],
      ornament: appTheme.colors.purple[600],
      surfacePrimary: appTheme.colors.purple[500],
      surfaceSecondary: appTheme.colors.purple[100],
      text: appTheme.colors.purple[600],
    },
    info: {
      border: appTheme.colors.blue[600],
      fillHover: appTheme.colors.blue[600],
      fillPressed: appTheme.colors.blue[700],
      fillPrimary: appTheme.colors.blue[500],
      fillSecondary: appTheme.colors.blue[100],
      ornament: appTheme.colors.blue[600],
      surfacePrimary: appTheme.colors.blue[500],
      surfaceSecondary: appTheme.colors.blue[100],
      text: appTheme.colors.blue[600],
    },
    negative: {
      border: appTheme.colors.red[600],
      fillHover: appTheme.colors.red[600],
      fillPressed: appTheme.colors.red[700],
      fillPrimary: appTheme.colors.red[500],
      fillSecondary: appTheme.colors.red[100],
      ornament: appTheme.colors.red[600],
      surfacePrimary: appTheme.colors.red[500],
      surfaceSecondary: appTheme.colors.red[100],
      text: appTheme.colors.red[600],
    },
    neutral: {
      border: appTheme.colors.gray[500],
      fillHover: appTheme.colors.gray[600],
      fillPressed: appTheme.colors.gray[700],
      fillPrimary: appTheme.colors.gray[500],
      fillSecondary: appTheme.colors.gray[200],
      ornament: appTheme.colors.gray[700],
      surfacePrimary: appTheme.colors.gray[500],
      surfaceSecondary: appTheme.colors.gray[200],
      text: appTheme.colors.gray[700],
    },
    notice: {
      border: appTheme.colors.yellow[600],
      fillHover: appTheme.colors.yellow[600],
      fillPressed: appTheme.colors.yellow[700],
      fillPrimary: appTheme.colors.yellow[500],
      fillSecondary: appTheme.colors.yellow[100],
      ornament: appTheme.colors.yellow[600],
      surfacePrimary: appTheme.colors.yellow[500],
      surfaceSecondary: appTheme.colors.yellow[100],
      text: appTheme.colors.yellow[600],
    },
    positive: {
      border: appTheme.colors.green[600],
      fillHover: appTheme.colors.green[600],
      fillPressed: appTheme.colors.green[700],
      fillPrimary: appTheme.colors.green[500],
      fillSecondary: appTheme.colors.green[100],
      ornament: appTheme.colors.green[600],
      surfacePrimary: appTheme.colors.green[500],
      surfaceSecondary: appTheme.colors.green[100],
      text: appTheme.colors.green[600],
    },
  };
};

export const SDSPaletteDark = (appTheme: AppTheme): SDSPalette => {
  return {
    accent: {
      border: appTheme.colors.blue[600],
      borderFocus: appTheme.colors.blue[600],
      borderHover: appTheme.colors.blue[700],
      borderOpen: appTheme.colors.blue[600],
      borderPressed: appTheme.colors.blue[800],
      borderSelected: appTheme.colors.blue[600],
      fillHover: appTheme.colors.blue[700],
      fillPressed: appTheme.colors.blue[800],
      fillPrimary: appTheme.colors.blue[400],
      ornament: appTheme.colors.blue[600],
      ornamentFocus: appTheme.colors.blue[600],
      ornamentHover: appTheme.colors.blue[700],
      ornamentOpen: appTheme.colors.blue[600],
      ornamentPressed: appTheme.colors.blue[800],
      ornamentSelected: appTheme.colors.blue[600],
      surfacePrimary: appTheme.colors.blue[400],
      surfaceSecondary: appTheme.colors.blue[100],
      textAction: appTheme.colors.blue[600],
      textActionHover: appTheme.colors.blue[700],
      textActionPressed: appTheme.colors.blue[800],
    },
    base: {
      backgroundPrimary: appTheme.colors.gray[75]!,
      backgroundPrimaryInverse: appTheme.colors.gray[900]!,
      backgroundSecondary: appTheme.colors.gray[100],
      backgroundSecondaryInverse: appTheme.colors.gray[700],
      backgroundTertiary: appTheme.colors.gray[200],
      borderOnFill: appTheme.colors.gray[50]!,
      borderPrimary: appTheme.colors.gray[600],
      borderPrimaryDisabled: appTheme.colors.gray[300],
      borderPrimaryDisabledInverse: appTheme.colors.gray[600],
      borderPrimaryHover: appTheme.colors.gray[900]!,
      borderPrimaryHoverInverse: appTheme.colors.gray[50]!,
      borderPrimaryInverse: appTheme.colors.gray[300],
      borderPrimaryPressed: appTheme.colors.gray[900]!,
      borderPrimaryPressedInverse: appTheme.colors.gray[50]!,
      borderSecondary: appTheme.colors.gray[300],
      divider: appTheme.colors.gray[200],
      dividerInverse: appTheme.colors.gray[600],
      fillDisabled: appTheme.colors.gray[200],
      /* the number 47 is the opacity of the color, which is equal to 28% */
      fillHover: appTheme.colors.gray[300] + "47",
      fillOpen: appTheme.colors.gray[300] + "47",
      fillPressed: appTheme.colors.gray[300] + "47",
      fillPrimary: appTheme.colors.gray[100],
      fillSelected: appTheme.colors.gray[900]!,
      ornamentDisabled: appTheme.colors.gray[300],
      ornamentDisabledInverse: appTheme.colors.gray[600],
      ornamentOnFill: appTheme.colors.gray[900]!,
      ornamentPrimary: appTheme.colors.gray[900]!,
      ornamentPrimaryInverse: appTheme.colors.gray[50]!,
      ornamentSecondary: appTheme.colors.gray[600],
      ornamentSecondaryHover: appTheme.colors.gray[900]!,
      ornamentSecondaryInverse: appTheme.colors.gray[300],
      ornamentSecondaryPressed: appTheme.colors.gray[900]!,
      surface: appTheme.colors.gray[100],
      surfaceInverse: appTheme.colors.gray[900]!,
      textDisabled: appTheme.colors.gray[300],
      textDisabledInverse: appTheme.colors.gray[600],
      textOnFill: appTheme.colors.gray[900]!,
      textPrimary: appTheme.colors.gray[900]!,
      textPrimaryInverse: appTheme.colors.gray[50]!,
      textSecondary: appTheme.colors.gray[600],
      textSecondaryInverse: appTheme.colors.gray[300],
      textTertiary: appTheme.colors.gray[400],
      textTertiaryInverse: appTheme.colors.gray[500],
    },
    beta: {
      border: appTheme.colors.purple[600],
      fillHover: appTheme.colors.purple[700],
      fillPressed: appTheme.colors.purple[800],
      fillPrimary: appTheme.colors.purple[400],
      fillSecondary: appTheme.colors.purple[100],
      ornament: appTheme.colors.purple[600],
      surfacePrimary: appTheme.colors.purple[400],
      surfaceSecondary: appTheme.colors.purple[100],
      text: appTheme.colors.purple[600],
    },
    info: {
      border: appTheme.colors.blue[600],
      fillHover: appTheme.colors.blue[700],
      fillPressed: appTheme.colors.blue[800],
      fillPrimary: appTheme.colors.blue[400],
      fillSecondary: appTheme.colors.blue[100],
      ornament: appTheme.colors.blue[600],
      surfacePrimary: appTheme.colors.blue[400],
      surfaceSecondary: appTheme.colors.blue[100],
      text: appTheme.colors.blue[600],
    },
    negative: {
      border: appTheme.colors.red[600],
      fillHover: appTheme.colors.red[700],
      fillPressed: appTheme.colors.red[800],
      fillPrimary: appTheme.colors.red[400],
      fillSecondary: appTheme.colors.red[100],
      ornament: appTheme.colors.red[600],
      surfacePrimary: appTheme.colors.red[400],
      surfaceSecondary: appTheme.colors.red[100],
      text: appTheme.colors.red[600],
    },
    neutral: {
      border: appTheme.colors.gray[500],
      fillHover: appTheme.colors.gray[600],
      fillPressed: appTheme.colors.gray[700],
      fillPrimary: appTheme.colors.gray[500],
      fillSecondary: appTheme.colors.gray[200],
      ornament: appTheme.colors.gray[700],
      surfacePrimary: appTheme.colors.gray[500],
      surfaceSecondary: appTheme.colors.gray[200],
      text: appTheme.colors.gray[700],
    },
    notice: {
      border: appTheme.colors.yellow[600],
      fillHover: appTheme.colors.yellow[700],
      fillPressed: appTheme.colors.yellow[800],
      fillPrimary: appTheme.colors.yellow[400],
      fillSecondary: appTheme.colors.yellow[100],
      ornament: appTheme.colors.yellow[600],
      surfacePrimary: appTheme.colors.yellow[400],
      surfaceSecondary: appTheme.colors.yellow[100],
      text: appTheme.colors.yellow[600],
    },
    positive: {
      border: appTheme.colors.green[600],
      fillHover: appTheme.colors.green[700],
      fillPressed: appTheme.colors.green[800],
      fillPrimary: appTheme.colors.green[400],
      fillSecondary: appTheme.colors.green[100],
      ornament: appTheme.colors.green[600],
      surfacePrimary: appTheme.colors.green[400],
      surfaceSecondary: appTheme.colors.green[100],
      text: appTheme.colors.green[600],
    },
  };
};

/**
 * This function creates the theme options for the MUI theme provider
 */
export function makeThemeOptions(
  appTheme: AppTheme,
  mode: PaletteMode
): SDSThemeOptions {
  return {
    app: appTheme,
    breakpoints: {
      values: {
        lg: 1024,
        md: 512,
        sm: 0,
      },
    },
    components: {
      MuiButton: {
        defaultProps: {
          disableFocusRipple: true,
          disableRipple: true,
          disableTouchRipple: true,
        },
      },
      MuiButtonBase: {
        defaultProps: {
          disableRipple: true,
          disableTouchRipple: true,
        },
      },
      MuiButtonGroup: {
        defaultProps: {
          disableFocusRipple: true,
          disableRipple: true,
        },
      },
      MuiDrawer: {
        defaultProps: {
          hideBackdrop: true,
        },
      },
      MuiIconButton: {
        defaultProps: {
          disableFocusRipple: true,
          disableRipple: true,
          disableTouchRipple: true,
        },
      },
      MuiLink: {
        defaultProps: {
          underline: "hover",
        },
      },
      MuiTab: {
        defaultProps: {
          disableFocusRipple: true,
          disableRipple: true,
          disableTouchRipple: true,
        },
      },
      MuiToggleButton: {
        defaultProps: {
          disableFocusRipple: true,
          disableRipple: true,
          disableTouchRipple: true,
        },
      },
    },
    palette: {
      action: {
        disabled: appTheme.colors.gray[400],
        disabledBackground: appTheme.colors.gray[300],
      },
      background: {
        default:
          mode === "dark" ? appTheme.colors.gray[75] : appTheme.colors.gray[50],
      },
      divider: appTheme.colors.gray[200],
      error: {
        "100": appTheme.colors.red[100],
        "200": appTheme.colors.red[200],
        "300": appTheme.colors.red[300],
        "400": appTheme.colors.red[400],
        "500": appTheme.colors.red[500],
        "600": appTheme.colors.red[600],
        contrastText: appTheme.colors.gray[50],
        dark: appTheme.colors.red[600],
        light: appTheme.colors.red[200],
        main: appTheme.colors.red[400],
      },
      grey: {
        "100": appTheme.colors.gray[100],
        "200": appTheme.colors.gray[200],
        "300": appTheme.colors.gray[300],
        "400": appTheme.colors.gray[400],
        "500": appTheme.colors.gray[500],
        "600": appTheme.colors.gray[600],
      },
      info: {
        "100": appTheme.colors.blue[100],
        "200": appTheme.colors.blue[200],
        "300": appTheme.colors.blue[300],
        "400": appTheme.colors.blue[400],
        "500": appTheme.colors.blue[500],
        "600": appTheme.colors.blue[600],
        contrastText: appTheme.colors.gray[50],
        dark: appTheme.colors.blue[600],
        light: appTheme.colors.blue[200],
        main: appTheme.colors.blue[400],
      },
      mode: mode,
      primary: {
        "100": appTheme.colors.blue[100],
        "200": appTheme.colors.blue[200],
        "300": appTheme.colors.blue[300],
        "400": appTheme.colors.blue[400],
        "500": appTheme.colors.blue[500],
        "600": appTheme.colors.blue[600],
        contrastText: appTheme.colors.gray[50],
        dark: appTheme.colors.blue[600],
        light: appTheme.colors.blue[200],
        main: appTheme.colors.blue[400],
      },
      sds:
        mode === "dark" ? SDSPaletteDark(appTheme) : SDSPaletteLight(appTheme),
      secondary: {
        "100": appTheme.colors.green[100],
        "200": appTheme.colors.green[200],
        "300": appTheme.colors.green[300],
        "400": appTheme.colors.green[400],
        "500": appTheme.colors.green[500],
        "600": appTheme.colors.green[600],
        contrastText: appTheme.colors.gray[50],
        dark: appTheme.colors.green[600],
        light: appTheme.colors.green[200],
        main: appTheme.colors.green[400],
      },
      success: {
        "100": appTheme.colors.green[100],
        "200": appTheme.colors.green[200],
        "300": appTheme.colors.green[300],
        "400": appTheme.colors.green[400],
        "500": appTheme.colors.green[500],
        "600": appTheme.colors.green[600],
        contrastText: appTheme.colors.gray[50],
        dark: appTheme.colors.green[600],
        light: appTheme.colors.green[200],
        main: appTheme.colors.green[400],
      },
      text: {
        disabled: appTheme.colors.gray[300],
        primary: appTheme.colors.gray[900],
        secondary: appTheme.colors.gray[600],
      },
      warning: {
        "100": appTheme.colors.yellow[100],
        "200": appTheme.colors.yellow[200],
        "300": appTheme.colors.yellow[300],
        "400": appTheme.colors.yellow[400],
        "500": appTheme.colors.yellow[500],
        "600": appTheme.colors.yellow[600],
        contrastText: appTheme.colors.gray[900],
        dark: appTheme.colors.yellow[600],
        light: appTheme.colors.yellow[200],
        main: appTheme.colors.yellow[400],
      },
    },
    shadows: [
      appTheme.shadows.none,
      appTheme.shadows.s,
      appTheme.shadows.s,
      appTheme.shadows.s,
      appTheme.shadows.s,
      appTheme.shadows.s,
      appTheme.shadows.s,
      appTheme.shadows.s,
      appTheme.shadows.s,
      appTheme.shadows.m,
      appTheme.shadows.m,
      appTheme.shadows.m,
      appTheme.shadows.m,
      appTheme.shadows.m,
      appTheme.shadows.m,
      appTheme.shadows.m,
      appTheme.shadows.m,
      appTheme.shadows.l,
      appTheme.shadows.l,
      appTheme.shadows.l,
      appTheme.shadows.l,
      appTheme.shadows.l,
      appTheme.shadows.l,
      appTheme.shadows.l,
      appTheme.shadows.l,
    ],
    shape: {
      borderRadius: appTheme.corners.m,
    },
    spacing: [
      appTheme.spacing.default,
      appTheme.spacing.xxxs,
      appTheme.spacing.xxs,
      appTheme.spacing.xs,
      appTheme.spacing.s,
      appTheme.spacing.m,
      appTheme.spacing.l,
      appTheme.spacing.xl,
      appTheme.spacing.xxl,
    ],
    transitions: {
      duration: {
        complex: 200,
        enteringScreen: 20,
        leavingScreen: 10,
        short: 150,
        shorter: 100,
        shortest: 50,
        standard: 200,
      },
      easing: {
        easeIn: "cubic-bezier(0, 0, 0.2, 1)",
        easeInOut: "cubic-bezier(0, 0, 0.2, 1)",
        easeOut: "cubic-bezier(0.0, 0, 0.2, 1)",
        sharp: "cubic-bezier(0, 0.2, 0.6, 1)",
      },
    },
    typography: {
      body1: appTheme.typography.wideStyles.body.regular.xs,
      body2: appTheme.typography.wideStyles.body.regular.xxs,
      button: appTheme.typography.wideStyles.body.regular.button,
      caption: appTheme.typography.wideStyles.body.regular.xxxs,
      fontFamily: `${appTheme.typography.fontFamily.body}, sans-serif`,
      h1: appTheme.typography.wideStyles.header.semibold.xxl,
      h2: appTheme.typography.wideStyles.header.semibold.xl,
      h3: appTheme.typography.wideStyles.header.semibold.l,
      h4: appTheme.typography.wideStyles.header.semibold.m,
      h5: appTheme.typography.wideStyles.header.semibold.s,
      h6: appTheme.typography.wideStyles.header.semibold.xs,
      overline: appTheme.typography.wideStyles.caps.semibold.xxxs,
      subtitle1: appTheme.typography.wideStyles.body.regular.xs,
      subtitle2: appTheme.typography.wideStyles.header.semibold.xxs,
    },
  };
}
</file>

<file path="packages/components/src/core/styles/common/SDSAppTheme.ts">
import { PaletteMode } from "@mui/material";
import { AppTheme, Colors } from "./types";

const fontFamily = '"Inter", sans-serif';
const fontFamilyCode = '"IBM Plex Mono", monospace';
const tabularNums = "tabular-nums";

enum FontWeight {
  bold = 700,
  light = 300,
  medium = 500,
  regular = 400,
  semibold = 600,
}

const SDSLightThemeColors: Colors = {
  blue: {
    "100": "#e2eeff",
    "200": "#cce1ff",
    "300": "#9dc6ff",
    "400": "#6ca6ff",
    "500": "#1a6cef",
    "600": "#0041b9",
    "700": "#002d90",
    "800": "#00114a",
  },
  gray: {
    "100": "#f3f3f3",
    "200": "#dfdfdf",
    "300": "#c3c3c3",
    "400": "#a5a5a5",
    "50": "#ffffff",
    "500": "#969696",
    "600": "#6c6c6c",
    "700": "#3b3b3b",
    "75": "#fafafa",
    "800": "#1b1b1b",
    "900": "#000000",
  },
  green: {
    "100": "#daf4de",
    "200": "#b9ecc3",
    "300": "#7fd693",
    "400": "#50b96d",
    "500": "#238444",
    "600": "#105b2b",
    "700": "#07431d",
    "800": "#001f00",
  },
  purple: {
    "100": "#efeafe",
    "200": "#e4dbfc",
    "300": "#cbbaF8",
    "400": "#b296f2",
    "500": "#8b54e2",
    "600": "#6526b5",
    "700": "#490092",
    "800": "#26004c",
  },
  red: {
    "100": "#ffe8e6",
    "200": "#ffd6d2",
    "300": "#ffafa8",
    "400": "#ff7e78",
    "500": "#db2131",
    "600": "#980017",
    "700": "#6f0008",
    "800": "#340000",
  },
  yellow: {
    "100": "#fff3db",
    "200": "#ffdb97",
    "300": "#ffca5c",
    "400": "#fab700",
    "500": "#da9900",
    "600": "#b07300",
    "700": "#7c3e00",
    "800": "#541700",
  },
};

const SDSDarkThemeColors: Colors = {
  blue: {
    "100": "#0f1d4a",
    "200": "#0a216e",
    "300": "#0647b8",
    "400": "#2573f4",
    "500": "#5b9aff",
    "600": "#a2c9ff",
    "700": "#cde3ff",
    "800": "#e2eeff",
  },
  gray: {
    "100": "#333333",
    "200": "#494949",
    "300": "#696969",
    "400": "#9b9b9b",
    "50": "#000000",
    "500": "#aaaaaa",
    "600": "#cdcdcd",
    "700": "#ededed",
    "75": "#101010",
    "800": "#fafafa",
    "900": "#ffffff",
  },
  green: {
    "100": "#082608",
    "200": "#063617",
    "300": "#10632e",
    "400": "#278b48",
    "500": "#4bae68",
    "600": "#85d898",
    "700": "#bcecc5",
    "800": "#daf4de",
  },
  purple: {
    "100": "#331252",
    "200": "#410f70",
    "300": "#6429b2",
    "400": "#905de6",
    "500": "#aa89ef",
    "600": "#cebef8",
    "700": "#e4dcfc",
    "800": "#f0ebfe",
  },
  red: {
    "100": "#330603",
    "200": "#660a12",
    "300": "#9e1c1c",
    "400": "#c73028",
    "500": "#e05043",
    "600": "#ff988a",
    "700": "#ffbdb3",
    "800": "#ffd8d1",
  },
  yellow: {
    "100": "#361b07",
    "200": "#52270a",
    "300": "#965a0b",
    "400": "#bd8804",
    "500": "#d9a943",
    "600": "#e5bc63",
    "700": "#f5d789",
    "800": "#ffe6a8",
  },
};

/**
 * Base app theme for properties shared between light and dark mode. Generally, if a theme
 * property doesn't deal with colors it belongs here, otherwise it'll have its specific
 * theme variant defined in `lightAppTheme` or `darkAppTheme`.
 *
 * `colors` and `mode` are omitted because they must be defined by the `lightAppTheme` and
 * `darkAppTheme` objects before use in the `makeThemeOptions` function.
 */
const sharedAppTheme: Omit<AppTheme, "colors" | "mode"> = {
  corners: {
    l: 20,
    m: 4,
    none: 0,
    s: 2,
  },
  fontWeights: {
    bold: 700,
    light: 300,
    medium: 500,
    regular: 400,
    semibold: 600,
  },
  iconSizes: {
    // for use with input icons only (radio and checkbox)
    input: { height: 16, width: 16 },
    l: { height: 24, width: 24 },
    s: { height: 16, width: 16 },
    xl: { height: 32, width: 32 },
    xs: { height: 12, width: 12 },
  },
  shadows: {
    l: "0 2px 12px 0 rgba(0,0,0, 0.3)",
    m: "0 2px 4px 0 rgba(0,0,0, 0.15), 0 2px 10px 0 rgba(0,0,0, 0.15)",
    none: "none",
    s: "0 2px 4px 0 rgba(0,0,0, 0.25)",
  },
  spacing: {
    default: 12,
    l: 16,
    m: 12,
    s: 8,
    xl: 24,
    xs: 6,
    xxl: 40,
    xxs: 4,
    xxxs: 2,
  },
  typography: {
    fontFamily: {
      body: fontFamily,
      caps: fontFamily,
      code: fontFamilyCode,
      header: fontFamily,
      tabular: fontFamily,
    },
    narrowStyles: {
      body: {
        regular: {
          button: {
            fontSize: 13,
            fontWeight: FontWeight.regular,
            letterSpacing: "0.08px",
            lineHeight: "20px",
            textTransform: "none",
          },
          l: {
            fontSize: 16,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "26px",
            textTransform: "none",
          },
          m: {
            fontSize: 14,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          s: {
            fontSize: 14,
            fontWeight: FontWeight.regular,
            letterSpacing: "0.08px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontWeight: FontWeight.regular,
            letterSpacing: "0.08px",
            lineHeight: "20px",
            textTransform: "none",
          },
          xxs: {
            fontSize: 12,
            fontWeight: FontWeight.regular,
            letterSpacing: "0.1px",
            lineHeight: "18px",
            textTransform: "none",
          },
          xxxs: {
            fontSize: 12,
            fontWeight: FontWeight.regular,
            letterSpacing: "0.1px",
            lineHeight: "18px",
            textTransform: "none",
          },
        },
        semibold: {
          button: {
            fontSize: 13,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.08px",
            lineHeight: "20px",
            textTransform: "none",
          },
          l: {
            fontSize: 16,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "26px",
            textTransform: "none",
          },
          m: {
            fontSize: 14,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          s: {
            fontSize: 14,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.08px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.08px",
            lineHeight: "20px",
            textTransform: "none",
          },
          xxs: {
            fontSize: 12,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.1px",
            lineHeight: "18px",
            textTransform: "none",
          },
          xxxs: {
            fontSize: 12,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.1px",
            lineHeight: "18px",
            textTransform: "none",
          },
        },
      },
      caps: {
        semibold: {
          xxs: {
            fontSize: 12,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.5px",
            lineHeight: "18px",
            textTransform: "uppercase",
          },
          xxxs: {
            fontSize: 11,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.5px",
            lineHeight: "16px",
            textTransform: "uppercase",
          },
          xxxxs: {
            fontSize: 11,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.5px",
            lineHeight: "16px",
            textTransform: "uppercase",
          },
        },
      },
      code: {
        regular: {
          s: {
            fontSize: 14,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "20px",
            textTransform: "none",
          },
        },
        semibold: {
          s: {
            fontSize: 14,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "20px",
            textTransform: "none",
          },
        },
      },
      header: {
        semibold: {
          l: {
            fontSize: 16,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "22px",
            textTransform: "none",
          },
          m: {
            fontSize: 14,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "20px",
            textTransform: "none",
          },
          s: {
            fontSize: 14,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.08px",
            lineHeight: "20px",
            textTransform: "none",
          },
          xl: {
            fontSize: 18,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.08px",
            lineHeight: "18px",
            textTransform: "none",
          },
          xxl: {
            fontSize: 22,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "30px",
            textTransform: "none",
          },
          xxs: {
            fontSize: 12,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.1px",
            lineHeight: "18px",
            textTransform: "none",
          },
          xxxs: {
            fontSize: 12,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.1px",
            lineHeight: "18px",
            textTransform: "none",
          },
        },
      },
      tabular: {
        regular: {
          s: {
            fontSize: 14,
            fontVariantNumeric: tabularNums,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontVariantNumeric: tabularNums,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "20px",
            textTransform: "none",
          },
        },
        semibold: {
          s: {
            fontSize: 14,
            fontVariantNumeric: tabularNums,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontVariantNumeric: tabularNums,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "20px",
            textTransform: "none",
          },
        },
      },
    },
    wideStyles: {
      body: {
        regular: {
          button: {
            fontSize: 13,
            fontWeight: FontWeight.regular,
            letterSpacing: "0.08px",
            lineHeight: "20px",
            textTransform: "none",
          },
          l: {
            fontSize: 18,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "28px",
            textTransform: "none",
          },
          m: {
            fontSize: 16,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "26px",
            textTransform: "none",
          },
          s: {
            fontSize: 14,
            fontWeight: FontWeight.regular,
            letterSpacing: "0.08px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontWeight: FontWeight.regular,
            letterSpacing: "0.08px",
            lineHeight: "20px",
            textTransform: "none",
          },
          xxs: {
            fontSize: 12,
            fontWeight: FontWeight.regular,
            letterSpacing: "0.1px",
            lineHeight: "18px",
            textTransform: "none",
          },
          xxxs: {
            fontSize: 11,
            fontWeight: FontWeight.regular,
            letterSpacing: "0.1px",
            lineHeight: "16px",
            textTransform: "none",
          },
        },
        semibold: {
          button: {
            fontSize: 13,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.08px",
            lineHeight: "20px",
            textTransform: "none",
          },
          l: {
            fontSize: 18,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "28px",
            textTransform: "none",
          },
          m: {
            fontSize: 16,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "26px",
            textTransform: "none",
          },
          s: {
            fontSize: 14,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.08px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.08px",
            lineHeight: "20px",
            textTransform: "none",
          },
          xxs: {
            fontSize: 12,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.1px",
            lineHeight: "18px",
            textTransform: "none",
          },
          xxxs: {
            fontSize: 11,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.1px",
            lineHeight: "16px",
            textTransform: "none",
          },
        },
      },
      caps: {
        semibold: {
          xxs: {
            fontSize: 12,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.5px",
            lineHeight: "18px",
            textTransform: "uppercase",
          },
          xxxs: {
            fontSize: 11,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.5px",
            lineHeight: "16px",
            textTransform: "uppercase",
          },
          xxxxs: {
            fontSize: 10,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.5px",
            lineHeight: "14px",
            textTransform: "uppercase",
          },
        },
      },
      code: {
        regular: {
          s: {
            fontSize: 14,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "20px",
            textTransform: "none",
          },
        },
        semibold: {
          s: {
            fontSize: 14,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "20px",
            textTransform: "none",
          },
        },
      },
      header: {
        semibold: {
          l: {
            fontSize: 18,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          m: {
            fontSize: 16,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "22px",
            textTransform: "none",
          },
          s: {
            fontSize: 14,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.08px",
            lineHeight: "20px",
            textTransform: "none",
          },
          xl: {
            fontSize: 22,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "30px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.08px",
            lineHeight: "18px",
            textTransform: "none",
          },
          xxl: {
            fontSize: 26,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "34px",
            textTransform: "none",
          },
          xxs: {
            fontSize: 12,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.1px",
            lineHeight: "18px",
            textTransform: "none",
          },
          xxxs: {
            fontSize: 11,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0.1px",
            lineHeight: "16px",
            textTransform: "none",
          },
        },
      },
      tabular: {
        regular: {
          s: {
            fontSize: 14,
            fontVariantNumeric: tabularNums,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontVariantNumeric: tabularNums,
            fontWeight: FontWeight.regular,
            letterSpacing: "0px",
            lineHeight: "20px",
            textTransform: "none",
          },
        },
        semibold: {
          s: {
            fontSize: 14,
            fontVariantNumeric: tabularNums,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "24px",
            textTransform: "none",
          },
          xs: {
            fontSize: 13,
            fontVariantNumeric: tabularNums,
            fontWeight: FontWeight.semibold,
            letterSpacing: "0px",
            lineHeight: "20px",
            textTransform: "none",
          },
        },
      },
    },
  },
};

// (mlila) whenever our theme uses colors, we need to make sure we allow consuming
// applications to override those colors using their own custom theme.
// By defining borders using SDSAppTheme.colors instead of defaultThemeColors,
// we allow other apps to specify their colors once, and have them apply
// throughout the application, such as in borders, etc without having to manually
// override every theme property that makes use of colors.
//
// (masoudmanson): We need to define borders separately for light and dark themes
// because the border colors are different for each theme.
const BorderThickness = {
  default: 1,
  extraThick: 4,
  thick: 2,
} as const;

export const createAppThemeBorders = (colors: Colors, isDarkMode: boolean) => {
  const createSolidBorder = (
    color: keyof Colors,
    level: keyof Colors[keyof Colors],
    thickness: keyof typeof BorderThickness
  ) => `${BorderThickness[thickness]}px solid ${colors[color][level]}`;

  const createDashedBorder = () => `1px dashed`;

  return {
    accent: {
      default: createSolidBorder("blue", isDarkMode ? 600 : 500, "default"),
      focused: createSolidBorder("blue", isDarkMode ? 600 : 500, "default"),
      hover: createSolidBorder("blue", isDarkMode ? 700 : 600, "default"),
      open: createSolidBorder("blue", isDarkMode ? 600 : 500, "default"),
      pressed: createSolidBorder("blue", isDarkMode ? 800 : 700, "default"),
      selected: createSolidBorder("blue", isDarkMode ? 600 : 500, "default"),
    },
    base: {
      default: createSolidBorder("gray", 500, "default"),
      disabled: createSolidBorder("gray", 300, "default"),
      divider: createSolidBorder("gray", 200, "default"),
      dividerInverse: createSolidBorder("gray", 600, "default"),
      hover: createSolidBorder("gray", 900, "default"),
      inverse: createSolidBorder("gray", 50, "default"),
      pressed: createSolidBorder("gray", 900, "default"),
      table: createSolidBorder("gray", 300, "default"),
    },
    beta: {
      default: createSolidBorder("purple", 600, "default"),
      extraThick: createSolidBorder("purple", 600, "extraThick"),
      thick: createSolidBorder("purple", 600, "thick"),
    },
    info: {
      default: createSolidBorder("blue", 600, "default"),
      extraThick: createSolidBorder("blue", 600, "extraThick"),
      thick: createSolidBorder("blue", 600, "thick"),
    },
    link: {
      dashed: createDashedBorder(),
      solid: createSolidBorder("blue", 500, "default"),
    },
    negative: {
      default: createSolidBorder("red", 600, "default"),
      extraThick: createSolidBorder("red", 600, "extraThick"),
      thick: createSolidBorder("red", 600, "thick"),
    },
    neutral: {
      default: createSolidBorder("gray", 500, "default"),
      extraThick: createSolidBorder("gray", 500, "extraThick"),
      thick: createSolidBorder("gray", 500, "thick"),
    },
    none: "none",
    notice: {
      default: createSolidBorder("yellow", 600, "default"),
      extraThick: createSolidBorder("yellow", 600, "extraThick"),
      thick: createSolidBorder("yellow", 600, "thick"),
    },
    positive: {
      default: createSolidBorder("green", 600, "default"),
      extraThick: createSolidBorder("green", 600, "extraThick"),
      thick: createSolidBorder("green", 600, "thick"),
    },
  };
};

/**
 * Create a SDS App Theme with custom colors that follows the SDS color model.
 */
export const makeSdsSemanticAppTheme = (
  colors: Colors,
  isDarkTheme = false
): AppTheme => ({
  ...sharedAppTheme,
  borders: createAppThemeBorders(colors, isDarkTheme),
  colors,
});

export const SDSLightAppTheme: AppTheme =
  makeSdsSemanticAppTheme(SDSLightThemeColors);

export const SDSDarkAppTheme: AppTheme = makeSdsSemanticAppTheme(
  SDSDarkThemeColors,
  true
);

/**
 * Helper function to select the appropriate theme settings.
 *
 * @param theme The theme to choose from. Currently supports a light and dark variant.
 * @returns The appropriate app theme for the variant.
 */
export const SDSChooseTheme = (theme: PaletteMode): AppTheme => {
  if (theme === "dark") {
    return SDSDarkAppTheme;
  }
  return SDSLightAppTheme;
};

/**
 * (masoudmanson): This is to make sure that the old defaultAppTheme
 * export is still available for backward compatibility.
 *
 * @deprecated
 * Please use `SDSAppTheme` instead. This export will be removed in the future.
 */
export const defaultAppTheme = SDSLightAppTheme;
</file>

<file path="packages/components/src/core/styles/common/types.ts">
import { Theme, ThemeOptions, TypographyStyle } from "@mui/material/styles";
import { CSSProperties } from "react";

export interface AccentColor {
  surfacePrimary: string;
  surfaceSecondary: string;
  textAction: string;
  textActionHover: string;
  textActionPressed: string;
  fillHover: string;
  fillPressed: string;
  fillPrimary: string;
  border: string;
  borderHover: string;
  borderPressed: string;
  borderOpen: string;
  borderFocus: string;
  borderSelected: string;
  ornament: string;
  ornamentHover: string;
  ornamentPressed: string;
  ornamentOpen: string;
  ornamentFocus: string;
  ornamentSelected: string;
}

export interface BaseColor {
  backgroundPrimary: string;
  backgroundPrimaryInverse: string;
  backgroundSecondary: string;
  backgroundSecondaryInverse: string;
  backgroundTertiary: string;
  surface: string;
  surfaceInverse: string;
  textPrimary: string;
  textPrimaryInverse: string;
  textSecondary: string;
  textSecondaryInverse: string;
  textTertiary: string;
  textTertiaryInverse: string;
  textDisabled: string;
  textDisabledInverse: string;
  textOnFill: string;
  fillHover: string;
  fillPressed: string;
  fillPrimary: string;
  fillOpen: string;
  fillSelected: string;
  fillDisabled: string;
  divider: string;
  dividerInverse: string;
  borderPrimary: string;
  borderPrimaryInverse: string;
  borderSecondary: string;
  borderPrimaryHover: string;
  borderPrimaryHoverInverse: string;
  borderOnFill: string;
  borderPrimaryPressed: string;
  borderPrimaryPressedInverse: string;
  borderPrimaryDisabled: string;
  borderPrimaryDisabledInverse: string;
  ornamentDisabled: string;
  ornamentDisabledInverse: string;
  ornamentOnFill: string;
  ornamentPrimary: string;
  ornamentPrimaryInverse: string;
  ornamentSecondary: string;
  ornamentSecondaryInverse: string;
  ornamentSecondaryHover: string;
  ornamentSecondaryPressed: string;
}

export interface IntentColor {
  surfacePrimary: string;
  surfaceSecondary: string;
  text: string;
  fillPrimary: string;
  fillSecondary: string;
  fillHover: string;
  fillPressed: string;
  border: string;
  ornament: string;
}

/**
 * (masoudmanson): The SDSPalette is a custom palette based on
 * the semantic design tokens for the SDS components.
 */
export interface SDSPalette {
  accent: AccentColor;
  base: BaseColor;
  beta: IntentColor;
  info: IntentColor;
  negative: IntentColor;
  notice: IntentColor;
  neutral: IntentColor;
  positive: IntentColor;
}

/**
 * (masoudmanson): Using module augmentation to extend the MUI Palette
 * https://mui.com/material-ui/customization/palette/#typescript
 */
declare module "@mui/material/styles" {
  // (masoudmanson): Extends the MUI Palette to include the SDSPalette and the SDSTextPalette
  export interface Palette {
    sds: SDSPalette;
  }

  export interface PaletteOptions {
    sds?: SDSPalette;
  }

  /**
   * @see https://mui.com/material-ui/customization/breakpoints/#custom-breakpoints
   * (masoudmanson): ModuleAugmentation is required for TypeScript to recognize the
   * custom breakpoints added to the theme.
   */
  export interface BreakpointOverrides {
    // remove the xs and xl breakpoints since SDS does not support them
    xs: false;
    sm: true;
    md: true;
    lg: true;
    xl: false;
  }
}

export interface SDSTheme extends Theme {
  app?: AppTheme;
}

export interface SDSThemeOptions extends ThemeOptions {
  app?: AppTheme;
}

export interface AppTheme {
  borders?: Borders;
  colors: Colors;
  corners: Corners;
  fontWeights: FontWeights;
  iconSizes: IconSizes;
  shadows: Shadows;
  spacing: Spaces;
  typography: Typography;
}

export interface Shadows {
  none: "none";
  s: string;
  m: string;
  l: string;
}

export interface TypographyStyles {
  body: {
    regular: {
      button: TypographyStyle;
      l: TypographyStyle;
      m: TypographyStyle;
      s: TypographyStyle;
      xs: TypographyStyle;
      xxs: TypographyStyle;
      xxxs: TypographyStyle;
    };
    semibold: {
      button: TypographyStyle;
      l: TypographyStyle;
      m: TypographyStyle;
      s: TypographyStyle;
      xs: TypographyStyle;
      xxs: TypographyStyle;
      xxxs: TypographyStyle;
    };
  };
  caps: {
    semibold: {
      xxs: TypographyStyle;
      xxxs: TypographyStyle;
      xxxxs: TypographyStyle;
    };
  };
  code: {
    regular: {
      s: TypographyStyle;
      xs: TypographyStyle;
    };
    semibold: {
      s: TypographyStyle;
      xs: TypographyStyle;
    };
  };
  header: {
    semibold: {
      xxl: TypographyStyle;
      xl: TypographyStyle;
      l: TypographyStyle;
      m: TypographyStyle;
      s: TypographyStyle;
      xs: TypographyStyle;
      xxs: TypographyStyle;
      xxxs: TypographyStyle;
    };
  };
  tabular: {
    regular: {
      s: TypographyStyle;
      xs: TypographyStyle;
    };
    semibold: {
      s: TypographyStyle;
      xs: TypographyStyle;
    };
  };
}

export interface Typography {
  fontFamily: {
    body: CSSProperties["fontFamily"];
    caps?: CSSProperties["fontFamily"];
    code?: CSSProperties["fontFamily"];
    header?: CSSProperties["fontFamily"];
    tabular?: CSSProperties["fontFamily"];
  };
  wideStyles: TypographyStyles;
  narrowStyles: TypographyStyles;
}

export interface FontWeights {
  bold: number;
  light: number;
  medium: number;
  regular: number;
  semibold: number;
}

export interface Corners {
  none: number;
  s: number;
  m: number;
  l: number;
}

export interface Spaces {
  default: number;
  xxxs: number;
  xxs: number;
  xs: number;
  s: number;
  m: number;
  l: number;
  xl: number;
  xxl: number;
}

/**
 * @deprecated
 *
 * (masoudmanson): The Spacings type is an alias for the Spaces type and
 * is deprecated. It is recommended to use the Spaces type instead.
 */
export type Spacings = Spaces;

export interface Color {
  900?: string;
  800: string;
  700: string;
  600: string;
  500: string;
  400: string;
  300: string;
  200: string;
  100: string;
  75?: string;
  50?: string;
}

export interface Colors {
  blue: Color;
  gray: Color;
  green: Color;
  purple: Color;
  red: Color;
  yellow: Color;
}

export interface IconSize {
  height: number;
  width: number;
}

export interface IconSizes {
  xs: IconSize;
  s: IconSize;
  l: IconSize;
  xl: IconSize;
  input: IconSize;
}

export interface Border {
  default?: string;
  divider?: string;
  dividerInverse?: string;
  black?: string;
  solid?: string;
  dashed?: string;
  hover?: string;
  inverse?: string;
  disabled?: string;
  table?: string;
  pressed?: string;
  open?: string;
  focused?: string;
  selected?: string;
  thick?: string;
  extraThick?: string;
}

export interface Borders {
  accent: Border;
  base: Border;
  beta: Border;
  info: Border;
  link: Border;
  negative: Border;
  neutral: Border;
  none: string;
  notice: Border;
  positive: Border;
}
</file>

<file path="packages/components/src/core/styles/index.ts">
export * from "./common/types";
export * from "./common/defaultTheme";
export * from "./common/SDSAppTheme";
export * from "./common/makeThemeOptions";
export * from "./common/mixins/a11y";
export * from "./common/mixins/fonts";
export * from "./common/selectors/theme";
</file>

<file path="packages/components/src/core/Table/__storybook__/stories/default.tsx">
import { RadioGroup } from "@mui/material";
import { Args } from "@storybook/react";
import CellBasic from "src/core/CellBasic";
import CellComponent from "src/core/CellComponent";
import CellHeader from "src/core/CellHeader";
import Icon from "src/core/Icon";
import InputRadio from "src/core/InputRadio";
import TableHeader from "src/core/TableHeader";
import TableRow from "src/core/TableRow";
import Tag from "src/core/Tag";
import { SdsTagColorType } from "src/core/Tag/style";
import RawTable from "src/core/Table";
import { StyledIconCell } from "../style";

export const Table = (props: Args): JSX.Element => {
  return (
    <RawTable {...props}>
      <TableHeader>
        <CellHeader horizontalAlign="center" hideSortIcon>
          Category
        </CellHeader>
        <CellHeader active hover>
          Active Header
        </CellHeader>
        <CellHeader hover>
          A very long table header title to test sort icon positioning
        </CellHeader>
        <CellHeader hideSortIcon>Component</CellHeader>
        <CellHeader horizontalAlign="right" hideSortIcon>
          Right Aligned and Not sortable
        </CellHeader>
      </TableHeader>
      <tbody>
        <TableRow>
          <CellComponent verticalAlign="center" horizontalAlign="center">
            <StyledIconCell>
              <Icon sdsSize="xl" sdsIcon="Flask" />
              <Tag
                color="info"
                label="Chemistry"
                sdsStyle="rounded"
                sdsType="secondary"
                hover={false}
              />
            </StyledIconCell>
          </CellComponent>
          <CellBasic
            primaryText="Primary Text"
            secondaryText="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
            secondaryTextWrapLineCount={2}
            shouldTextWrap
          />
          <CellBasic
            primaryText="Primary Text"
            secondaryText="Secondary Text"
            tertiaryText="Tertiary Text"
            shouldShowTooltipOnHover={false}
          />
          <CellComponent>
            {["info", "notice", "beta", "negative", "positive"].map((item) => (
              <Tag
                key={item}
                color={item as SdsTagColorType}
                label={item as string}
                sdsStyle="rounded"
                sdsType="secondary"
                hover={false}
              />
            ))}
          </CellComponent>
          <CellBasic
            primaryText="356"
            horizontalAlign="right"
            shouldShowTooltipOnHover={false}
          />
        </TableRow>

        <TableRow>
          <CellComponent verticalAlign="center" horizontalAlign="center">
            <StyledIconCell>
              <Icon sdsSize="xl" sdsIcon="Download" />
              <Tag
                color="info"
                label="Downloadable Content"
                sdsStyle="rounded"
                sdsType="secondary"
                hover={false}
              />
            </StyledIconCell>
          </CellComponent>
          <CellBasic
            primaryText="Primary Text"
            secondaryText="Secondary Text"
            tertiaryText="Tertiary Text"
            shouldShowTooltipOnHover={false}
          />
          <CellBasic
            primaryText="Primary Text"
            secondaryText="Secondary Text"
            shouldShowTooltipOnHover={false}
          />
          <CellComponent>
            <RadioGroup
              aria-labelledby="demo-radio-buttons-group-label"
              name="radio-buttons-group"
              defaultValue="1"
            >
              <InputRadio label="Option I" caption="Caption I" value="1" />
              <InputRadio label="Option II" caption="Caption II" value="2" />
            </RadioGroup>
          </CellComponent>
          <CellBasic
            primaryText="1,234"
            secondaryText="2,344,000"
            tertiaryText="12.5%"
            horizontalAlign="right"
            shouldShowTooltipOnHover={false}
          />
        </TableRow>

        <TableRow
          disabled
          shouldShowTooltipOnHover
          tooltipText="This row is DISABLED!"
          tooltipSubtitle="Tooltip subtitle"
        >
          <CellComponent verticalAlign="center" horizontalAlign="center">
            <StyledIconCell>
              <Icon sdsSize="xl" sdsIcon="Virus" />
              <Tag
                color="negative"
                label="Disease"
                sdsStyle="rounded"
                sdsType="secondary"
                hover={false}
              />
            </StyledIconCell>
          </CellComponent>
          <CellBasic
            primaryText="Primary Text"
            secondaryText="Secondary Text"
            tertiaryText="Tertiary Text"
            shouldShowTooltipOnHover={false}
            verticalAlign="center"
          />
          <CellBasic
            primaryText="Primary Text"
            shouldShowTooltipOnHover={false}
            verticalAlign="center"
          />
          <CellComponent verticalAlign="center">
            <Icon sdsSize="l" sdsIcon="Bacteria" />
          </CellComponent>
          <CellBasic
            primaryText="0.4"
            horizontalAlign="right"
            verticalAlign="center"
            shouldShowTooltipOnHover={false}
          />
        </TableRow>
      </tbody>
    </RawTable>
  );
};
</file>

<file path="packages/components/src/core/Table/__storybook__/stories/test.tsx">
import CellBasic from "src/core/CellBasic";
import RawTable from "src/core/Table";
import TableRow from "src/core/TableRow";

export const TestDemo = (): JSX.Element => (
  <RawTable data-testid="Table">
    <tbody>
      <TableRow>
        <CellBasic primaryText="Primary 1" shouldShowTooltipOnHover={false} />
        <CellBasic primaryText="Primary 2" shouldShowTooltipOnHover={false} />
        <CellBasic primaryText="Primary 3" shouldShowTooltipOnHover={false} />
        <CellBasic primaryText="Primary 4" shouldShowTooltipOnHover={false} />
      </TableRow>
    </tbody>
  </RawTable>
);
</file>

<file path="packages/components/src/core/Table/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Table } from "./stories/default";
import { TestDemo } from "./stories/test";

export default {
  component: Table,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Table/Table",
} as Meta;

export const Default = {
  parameters: {
    axe: {
      disabledRules: [
        // For some reason axe is still checking color contrast of the disabled row. Maybe it only
        // takes that into consideration for form controls?
        "color-contrast",
      ],
    },
  },
};

// Test

export const Test = {
  parameters: {
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} data-testid="table" />,
};
</file>

<file path="packages/components/src/core/Table/__storybook__/style.ts">
import styled from "@emotion/styled";

export const StyledIconCell = styled("div")`
  align-items: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
`;
</file>

<file path="packages/components/src/core/Table/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Table /> Default story renders snapshot 1`] = `
<table
  class="css-mpwjyz"
>
  <thead
    class="css-1426k2b"
  >
    <tr
      class="css-fitsu2"
    >
      <th
        class="css-t4gp9z"
      >
        <div
          class="css-187gjam"
        >
          <div
            class="css-1epiyn2"
          >
            Category
          </div>
        </div>
      </th>
      <th
        class="css-bony3j"
      >
        <div
          class="css-rm9mvq"
        >
          <div
            class="css-1epiyn2"
          >
            Active Header
          </div>
          <div
            class="css-1ft6wgl"
          >
            <svg
              aria-hidden="true"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-136pauu-MuiSvgIcon-root"
              data-file-name="IconChevronDownSmall"
              data-testid="IconChevronDownSmall"
              fillcontrast="white"
              focusable="false"
              height="16"
              viewBox="0 0 16 16"
              width="16"
            />
          </div>
        </div>
      </th>
      <th
        class="css-bony3j"
      >
        <div
          class="css-rm9mvq"
        >
          <div
            class="css-1epiyn2"
          >
            A very long table header title to test sort icon positioning
          </div>
          <div
            class="css-1ft6wgl"
          >
            <svg
              aria-hidden="true"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-11x9hfs-MuiSvgIcon-root"
              data-file-name="IconChevronDownSmall"
              data-testid="IconChevronDownSmall"
              fillcontrast="white"
              focusable="false"
              height="16"
              viewBox="0 0 16 16"
              width="16"
            />
          </div>
        </div>
      </th>
      <th
        class="css-ezzkc2"
      >
        <div
          class="css-rm9mvq"
        >
          <div
            class="css-1epiyn2"
          >
            Component
          </div>
        </div>
      </th>
      <th
        class="css-1scpxyh"
      >
        <div
          class="css-wg04tn"
        >
          <div
            class="css-1epiyn2"
          >
            Right Aligned and Not sortable
          </div>
        </div>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr
      class="css-e9lq1t"
    >
      <td
        class="cell-component css-ypxbz3"
      >
        <div
          class="css-9lvjku"
        >
          <div
            class="css-1ft6wgl"
          >
            <svg
              aria-hidden="true"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
              data-file-name="IconFlaskLarge"
              data-testid="IconFlaskLarge"
              fillcontrast="white"
              focusable="false"
              height="24"
              viewBox="0 0 24 24"
              width="24"
            />
          </div>
          <div
            class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-cjtsse-MuiChip-root"
          >
            <span
              class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
            >
              Chemistry
            </span>
          </div>
        </div>
      </td>
      <td
        class="css-11b4fo2"
        data-mui-internal-clone-element="true"
        tabindex="0"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary Text
              </div>
            </div>
            <span
              class="css-ld07s0"
            >
              Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
            </span>
          </div>
        </div>
      </td>
      <td
        class="css-11b4fo2"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary Text
              </div>
            </div>
            <span
              class="css-7ykbdx"
            >
              Secondary Text
            </span>
            <span
              class="css-7ykbdx"
            >
              Tertiary Text
            </span>
          </div>
        </div>
      </td>
      <td
        class="cell-component css-8waqyz"
      >
        <div
          class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-cjtsse-MuiChip-root"
        >
          <span
            class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
          >
            info
          </span>
        </div>
        <div
          class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-cjtsse-MuiChip-root"
        >
          <span
            class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
          >
            notice
          </span>
        </div>
        <div
          class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-cjtsse-MuiChip-root"
        >
          <span
            class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
          >
            beta
          </span>
        </div>
        <div
          class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-cjtsse-MuiChip-root"
        >
          <span
            class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
          >
            negative
          </span>
        </div>
        <div
          class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-cjtsse-MuiChip-root"
        >
          <span
            class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
          >
            positive
          </span>
        </div>
      </td>
      <td
        class="css-xz08c4"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-bikrfl"
            >
              <div
                class="css-lljn4l"
              >
                356
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <tr
      class="css-e9lq1t"
    >
      <td
        class="cell-component css-ypxbz3"
      >
        <div
          class="css-9lvjku"
        >
          <div
            class="css-1ft6wgl"
          >
            <svg
              aria-hidden="true"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
              data-file-name="IconDownloadLarge"
              data-testid="IconDownloadLarge"
              fillcontrast="white"
              focusable="false"
              height="24"
              viewBox="0 0 24 24"
              width="24"
            />
          </div>
          <div
            class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-cjtsse-MuiChip-root"
          >
            <span
              class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
            >
              Downloadable Content
            </span>
          </div>
        </div>
      </td>
      <td
        class="css-11b4fo2"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary Text
              </div>
            </div>
            <span
              class="css-7ykbdx"
            >
              Secondary Text
            </span>
            <span
              class="css-7ykbdx"
            >
              Tertiary Text
            </span>
          </div>
        </div>
      </td>
      <td
        class="css-11b4fo2"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary Text
              </div>
            </div>
            <span
              class="css-7ykbdx"
            >
              Secondary Text
            </span>
          </div>
        </div>
      </td>
      <td
        class="cell-component css-8waqyz"
      >
        <div
          aria-labelledby="demo-radio-buttons-group-label"
          class="MuiFormGroup-root MuiRadioGroup-root css-dmmspl-MuiFormGroup-root"
          role="radiogroup"
        >
          <label
            class="MuiFormControlLabel-root MuiFormControlLabel-labelPlacementEnd css-6q16yo-MuiFormControlLabel-root"
          >
            <span
              caption="Caption I"
              class="MuiButtonBase-root MuiRadio-root MuiRadio-colorPrimary PrivateSwitchBase-root MuiRadio-root MuiRadio-colorPrimary Mui-checked MuiRadio-root MuiRadio-colorPrimary css-1h62c7l-MuiButtonBase-root-MuiRadio-root"
              intent="default"
            >
              <input
                checked=""
                class="PrivateSwitchBase-input css-1m9pwf3"
                name="radio-buttons-group"
                type="radio"
                value="1"
              />
              <div
                class="css-jlwpeg"
                font-size="medium"
              >
                <span
                  class="css-1ltu155"
                />
              </div>
              <span
                class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
              />
            </span>
            <span
              class="MuiTypography-root MuiTypography-body1 MuiFormControlLabel-label css-ahj2mt-MuiTypography-root"
            >
              <span
                class="css-1ddu512"
              >
                <span
                  class="css-1dr5e88"
                  id="1-label"
                >
                  Option I
                </span>
                <span
                  class="css-1mg4zid"
                  id="1-caption"
                >
                  Caption I
                </span>
              </span>
            </span>
          </label>
          <label
            class="MuiFormControlLabel-root MuiFormControlLabel-labelPlacementEnd css-6q16yo-MuiFormControlLabel-root"
          >
            <span
              caption="Caption II"
              class="MuiButtonBase-root MuiRadio-root MuiRadio-colorPrimary PrivateSwitchBase-root MuiRadio-root MuiRadio-colorPrimary MuiRadio-root MuiRadio-colorPrimary css-1h62c7l-MuiButtonBase-root-MuiRadio-root"
              intent="default"
            >
              <input
                class="PrivateSwitchBase-input css-1m9pwf3"
                name="radio-buttons-group"
                type="radio"
                value="2"
              />
              <span
                class="css-16izi73"
                font-size="medium"
              />
              <span
                class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
              />
            </span>
            <span
              class="MuiTypography-root MuiTypography-body1 MuiFormControlLabel-label css-ahj2mt-MuiTypography-root"
            >
              <span
                class="css-1ddu512"
              >
                <span
                  class="css-1dr5e88"
                  id="2-label"
                >
                  Option II
                </span>
                <span
                  class="css-1mg4zid"
                  id="2-caption"
                >
                  Caption II
                </span>
              </span>
            </span>
          </label>
        </div>
      </td>
      <td
        class="css-xz08c4"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-bikrfl"
            >
              <div
                class="css-lljn4l"
              >
                1,234
              </div>
            </div>
            <span
              class="css-7ykbdx"
            >
              2,344,000
            </span>
            <span
              class="css-7ykbdx"
            >
              12.5%
            </span>
          </div>
        </div>
      </td>
    </tr>
    <tr
      class="css-9fq7hl"
      data-mui-internal-clone-element="true"
      disabled=""
      tabindex="0"
    >
      <td
        class="cell-component css-ypxbz3"
      >
        <div
          class="css-9lvjku"
        >
          <div
            class="css-1ft6wgl"
          >
            <svg
              aria-hidden="true"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
              data-file-name="IconVirusLarge"
              data-testid="IconVirusLarge"
              fillcontrast="white"
              focusable="false"
              height="24"
              viewBox="0 0 24 24"
              width="24"
            />
          </div>
          <div
            class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-cjtsse-MuiChip-root"
          >
            <span
              class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
            >
              Disease
            </span>
          </div>
        </div>
      </td>
      <td
        class="css-1rkv7da"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary Text
              </div>
            </div>
            <span
              class="css-7ykbdx"
            >
              Secondary Text
            </span>
            <span
              class="css-7ykbdx"
            >
              Tertiary Text
            </span>
          </div>
        </div>
      </td>
      <td
        class="css-1rkv7da"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary Text
              </div>
            </div>
          </div>
        </div>
      </td>
      <td
        class="cell-component css-c6mry2"
      >
        <div
          class="css-1ft6wgl"
        >
          <svg
            aria-hidden="true"
            class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
            data-file-name="IconBacteriaLarge"
            data-testid="IconBacteriaLarge"
            fillcontrast="white"
            focusable="false"
            height="24"
            viewBox="0 0 24 24"
            width="24"
          />
        </div>
      </td>
      <td
        class="css-rhqpuq"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-bikrfl"
            >
              <div
                class="css-lljn4l"
              >
                0.4
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
`;
</file>

<file path="packages/components/src/core/Table/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<Table />", () => {
  generateSnapshots(stories);

  it("renders table component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("Table");
    expect(elements).toBeTruthy();
  });

  it("renders table component children", async () => {
    render(<Test />);
    await screen.findByText("Primary 1");
  });
});
</file>

<file path="packages/components/src/core/Table/__tests__/Table.namespace-test.tsx">
import { Table, TableProps } from "@czi-sds/components";
import React from "react";

const TableNameSpaceTest = (props: TableProps) => {
  return (
    <Table>
      <tbody>
        <tr>
          <td>Text</td>
        </tr>
      </tbody>
    </Table>
  );
};
</file>

<file path="packages/components/src/core/Table/index.tsx">
import React, { ForwardedRef, forwardRef } from "react";
import { StyledTable } from "./style";

export interface SdsTableProps {
  children: React.ReactNode;
}

export type TableProps = SdsTableProps & React.HTMLAttributes<HTMLTableElement>;

const Table = forwardRef<HTMLTableElement, TableProps>(
  (
    props: TableProps,
    ref: ForwardedRef<HTMLTableElement>
  ): JSX.Element | null => {
    const { children } = props;

    return (
      <StyledTable ref={ref} {...props}>
        {children}
      </StyledTable>
    );
  }
);

export default Table;
</file>

<file path="packages/components/src/core/Table/style.ts">
import styled from "@emotion/styled";

export const StyledTable = styled("table")`
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
  table-layout: fixed;
`;
</file>

<file path="packages/components/src/core/TableHeader/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import CellHeader from "src/core/CellHeader";
import RawTableHeader from "src/core/TableHeader";

export const TableHeader = (props: Args): JSX.Element => {
  return (
    <table>
      <RawTableHeader {...props}>
        <CellHeader active hover>
          Column 1
        </CellHeader>
        <CellHeader hover>Column 2</CellHeader>
        <CellHeader hover>Column 3</CellHeader>
      </RawTableHeader>
    </table>
  );
};
</file>

<file path="packages/components/src/core/TableHeader/__storybook__/stories/test.tsx">
import CellHeader from "src/core/CellHeader";
import RawTableHeader from "src/core/TableHeader";

export const TestDemo = (): JSX.Element => (
  <table>
    <RawTableHeader data-testid="TableHeader">
      <CellHeader active hover>
        Column 1
      </CellHeader>
      <CellHeader hover>Column 2</CellHeader>
      <CellHeader hover>Column 3</CellHeader>
    </RawTableHeader>
  </table>
);
</file>

<file path="packages/components/src/core/TableHeader/__storybook__/index.stories.tsx">
/* eslint-disable no-use-before-define */
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { TableHeader } from "./stories/default";
import { TestDemo } from "./stories/test";

export default {
  component: TableHeader,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Table/TableHeader",
} as Meta;

export const Default = {};

// Test

export const Test = {
  parameters: {
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} data-testid="table-header" />,
};
</file>

<file path="packages/components/src/core/TableHeader/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<TableHeader /> Default story renders snapshot 1`] = `
<table>
  <thead
    class="css-1426k2b"
  >
    <tr
      class="css-fitsu2"
    >
      <th
        class="css-bony3j"
      >
        <div
          class="css-rm9mvq"
        >
          <div
            class="css-1epiyn2"
          >
            Column 1
          </div>
          <div
            class="css-1ft6wgl"
          >
            <svg
              aria-hidden="true"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-136pauu-MuiSvgIcon-root"
              data-file-name="IconChevronDownSmall"
              data-testid="IconChevronDownSmall"
              fillcontrast="white"
              focusable="false"
              height="16"
              viewBox="0 0 16 16"
              width="16"
            />
          </div>
        </div>
      </th>
      <th
        class="css-bony3j"
      >
        <div
          class="css-rm9mvq"
        >
          <div
            class="css-1epiyn2"
          >
            Column 2
          </div>
          <div
            class="css-1ft6wgl"
          >
            <svg
              aria-hidden="true"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-11x9hfs-MuiSvgIcon-root"
              data-file-name="IconChevronDownSmall"
              data-testid="IconChevronDownSmall"
              fillcontrast="white"
              focusable="false"
              height="16"
              viewBox="0 0 16 16"
              width="16"
            />
          </div>
        </div>
      </th>
      <th
        class="css-bony3j"
      >
        <div
          class="css-rm9mvq"
        >
          <div
            class="css-1epiyn2"
          >
            Column 3
          </div>
          <div
            class="css-1ft6wgl"
          >
            <svg
              aria-hidden="true"
              class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-11x9hfs-MuiSvgIcon-root"
              data-file-name="IconChevronDownSmall"
              data-testid="IconChevronDownSmall"
              fillcontrast="white"
              focusable="false"
              height="16"
              viewBox="0 0 16 16"
              width="16"
            />
          </div>
        </div>
      </th>
    </tr>
  </thead>
</table>
`;
</file>

<file path="packages/components/src/core/TableHeader/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<TableHeader />", () => {
  generateSnapshots(stories);

  it("renders row component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("TableHeader");
    expect(elements).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/TableHeader/__tests__/TableHeader.namespace-test.tsx">
import { TableHeader, TableHeaderProps } from "@czi-sds/components";
import React from "react";

const TableHeaderNameSpaceTest = (props: TableHeaderProps) => {
  return (
    <table>
      <TableHeader>
        <th>Column 1</th>
      </TableHeader>
    </table>
  );
};
</file>

<file path="packages/components/src/core/TableHeader/index.tsx">
import React, { forwardRef } from "react";
import TableRow from "src/core/TableRow";
import { StyledTableHeader } from "./style";

export interface TableHeaderProps {
  children: React.ReactNode;
}

const TableHeader = forwardRef<HTMLTableElement["tHead"], TableHeaderProps>(
  (props: TableHeaderProps, ref): JSX.Element | null => {
    const { children } = props;

    return (
      <StyledTableHeader ref={ref} {...props}>
        <TableRow hover={false} shouldShowTooltipOnHover={false}>
          {children}
        </TableRow>
      </StyledTableHeader>
    );
  }
);

export default TableHeader;
</file>

<file path="packages/components/src/core/TableHeader/style.ts">
import styled from "@emotion/styled";
import { CommonThemeProps, getSemanticColors } from "src/core/styles";

export const StyledTableHeader = styled("thead")`
  ${(props: CommonThemeProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      border-bottom: solid 2px ${semanticColors?.base?.borderSecondary};
    `;
  }}
`;
</file>

<file path="packages/components/src/core/TableRow/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import CellBasic from "src/core/CellBasic";
import RawTableRow from "src/core/TableRow";

export const TableRow = (props: Args): JSX.Element => {
  return (
    <table style={{ borderCollapse: "collapse" }}>
      <tbody>
        <RawTableRow {...props}>
          <CellBasic primaryText="Primary" shouldShowTooltipOnHover={false} />
          <CellBasic primaryText="Primary" shouldShowTooltipOnHover={false} />
          <CellBasic primaryText="Primary" shouldShowTooltipOnHover={false} />
          <CellBasic primaryText="Primary" shouldShowTooltipOnHover={false} />
          <CellBasic primaryText="Primary" shouldShowTooltipOnHover={false} />
        </RawTableRow>
      </tbody>
    </table>
  );
};
</file>

<file path="packages/components/src/core/TableRow/__storybook__/stories/test.tsx">
import CellBasic from "src/core/CellBasic";
import RawTableRow from "src/core/TableRow";

export const TestDemo = (): JSX.Element => (
  <table>
    <tbody>
      <RawTableRow
        data-testid="TableRow"
        hover
        shouldShowTooltipOnHover
        tooltipText="testTooltipTitle"
      >
        <CellBasic primaryText="Primary" shouldShowTooltipOnHover={false} />
      </RawTableRow>
    </tbody>
  </table>
);
</file>

<file path="packages/components/src/core/TableRow/__storybook__/constants.ts">
export const TABLE_ROW_EXCLUDED_CONTROLS = [
  "disabled",
  "hover",
  "rowHeight",
  "selected",
  "shouldShowTooltipOnHover",
  "tooltipProps",
  "tooltipSubtitle",
  "tooltipText",
  "useDivider",
];
</file>

<file path="packages/components/src/core/TableRow/__storybook__/index.stories.tsx">
/* eslint-disable no-use-before-define */
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { TableRow } from "./stories/default";
import { TABLE_ROW_EXCLUDED_CONTROLS } from "./constants";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    disabled: {
      control: { type: "boolean" },
    },
    hover: {
      control: { type: "boolean" },
    },
    rowHeight: {
      control: { type: "number" },
    },
    selected: {
      control: { type: "boolean" },
    },
    shouldShowTooltipOnHover: {
      control: { type: "boolean" },
    },
    tooltipProps: {
      control: { type: "object" },
    },
    tooltipSubtitle: {
      control: { type: "text" },
    },
    tooltipText: {
      control: { type: "text" },
    },
    useDivider: {
      control: { type: "boolean" },
    },
  },
  component: TableRow,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/Table/TableRow",
} as Meta;

// Default

export const Default = {
  args: {
    disabled: false,
    hover: true,
    selected: false,
    shouldShowTooltipOnHover: true,
    tooltipProps: { sdsStyle: "dark" },
    tooltipText: "This is a TableRow component",
    useDivider: true,
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: TABLE_ROW_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} data-testid="table-row" />,
};
</file>

<file path="packages/components/src/core/TableRow/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<TableRow /> Default story renders snapshot 1`] = `
<table
  style="border-collapse: collapse;"
>
  <tbody>
    <tr
      class="css-e9lq1t"
      data-mui-internal-clone-element="true"
      tabindex="0"
    >
      <td
        class="css-11b4fo2"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary
              </div>
            </div>
          </div>
        </div>
      </td>
      <td
        class="css-11b4fo2"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary
              </div>
            </div>
          </div>
        </div>
      </td>
      <td
        class="css-11b4fo2"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary
              </div>
            </div>
          </div>
        </div>
      </td>
      <td
        class="css-11b4fo2"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary
              </div>
            </div>
          </div>
        </div>
      </td>
      <td
        class="css-11b4fo2"
      >
        <div
          class="css-ov1ktg"
        >
          <div
            class="css-1ago99h"
          >
            <div
              class="css-7m17a9"
            >
              <div
                class="css-lljn4l"
              >
                Primary
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </tbody>
</table>
`;
</file>

<file path="packages/components/src/core/TableRow/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<TableRow />", () => {
  generateSnapshots(stories);

  it("renders row component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("TableRow");
    expect(elements).toBeTruthy();
  });

  it("renders tooltip on hover", async () => {
    render(<Test />);
    const rowElement = screen.getByTestId("TableRow");
    fireEvent.mouseOver(rowElement);
    await screen.findByText("testTooltipTitle");
  });
});
</file>

<file path="packages/components/src/core/TableRow/__tests__/TableRow.namespace-test.tsx">
import { TableRow, TableRowProps } from "@czi-sds/components";
import React from "react";

const TableRowNameSpaceTest = (props: TableRowProps) => {
  return (
    <table>
      <tbody>
        <TableRow
          disabled={false}
          hover
          selected
          shouldShowTooltipOnHover
          tooltipProps={{ sdsStyle: "dark" }}
          tooltipText="Tooltip Text"
          tooltipSubtitle="Tooltip Subtitle"
          useDivider
        >
          <td>data</td>
        </TableRow>
      </tbody>
    </table>
  );
};
</file>

<file path="packages/components/src/core/TableRow/index.tsx">
import React, { forwardRef } from "react";
import Tooltip, { TooltipProps } from "src/core/Tooltip";
import { RowExtraProps, StyledTableRow } from "./style";

interface RowRawProps {
  children: React.ReactNode;
  tooltipText?: string;
  tooltipSubtitle?: string;
  shouldShowTooltipOnHover?: boolean;
  tooltipProps?: Partial<TooltipProps>;
}

export type TableRowProps = RowRawProps & RowExtraProps;

const TableRow = forwardRef<HTMLTableRowElement, TableRowProps>(
  (props: TableRowProps, ref): JSX.Element | null => {
    const {
      children,
      shouldShowTooltipOnHover = true,
      tooltipProps,
      tooltipText = false,
      tooltipSubtitle,
      hover = true,
    } = props;

    if (shouldShowTooltipOnHover && hover) {
      return (
        <Tooltip
          arrow
          sdsStyle="dark"
          subtitle={tooltipSubtitle}
          title={tooltipText}
          {...tooltipProps}
        >
          <StyledTableRow ref={ref} {...props}>
            {children}
          </StyledTableRow>
        </Tooltip>
      );
    }
    return (
      <StyledTableRow ref={ref} {...props}>
        {children}
      </StyledTableRow>
    );
  }
);

export default TableRow;
</file>

<file path="packages/components/src/core/TableRow/style.ts">
import styled from "@emotion/styled";
import React from "react";
import {
  CommonThemeProps,
  focusVisibleA11yStyle,
  fontHeaderS,
  getBorders,
  getSemanticColors,
} from "src/core/styles";

export interface RowExtraProps
  extends CommonThemeProps,
    Omit<React.HTMLProps<HTMLTableRowElement>, "as" | "rev"> {
  rowHeight?: number;
  useDivider?: boolean;
  selected?: boolean;
  disabled?: boolean;
  hover?: boolean;
}

const doNotForwardProps = [
  "rowHeight",
  "useDivider",
  "shouldShowTooltipOnHover",
  "tooltipProps",
  "tooltipSubtitle",
  "tooltipText",
  "hover",
];

const disabledStyled = (props: RowExtraProps) => {
  const semanticColors = getSemanticColors(props);

  return `
    background-color: ${semanticColors?.base?.backgroundSecondary};
    color: ${semanticColors?.base?.textDisabled};
    user-select: none;

    &:hover {
      background-color: ${semanticColors?.base?.backgroundSecondary};
      color: ${semanticColors?.base?.textDisabled};
    }

    & span, & div {
      color: ${semanticColors?.base?.textDisabled};
    }

    .cell-component {
      color: ${semanticColors?.base?.textDisabled};
      pointer-events: none;
      user-select: none;
      & div {
        color: ${semanticColors?.base?.textDisabled};
        background-color: ${semanticColors?.base?.backgroundSecondary};
      }

      & .MuiChip-root {
        background-color: ${semanticColors?.base?.fillDisabled};

        & span {
          color: ${semanticColors?.base?.textDisabled} !important;
        }
      }

      svg {
        fill: ${semanticColors?.base?.ornamentDisabled};
      }

      filter: grayscale(100%);
    }
  `;
};

const hoverStyled = (props: RowExtraProps) => {
  const semanticColors = getSemanticColors(props);

  return `
    &:hover {
      background-color: ${semanticColors?.base?.fillHover};
    }
  `;
};

export const StyledTableRow = styled("tr", {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  ${fontHeaderS}
  ${focusVisibleA11yStyle}

  ${(props: RowExtraProps) => {
    const {
      rowHeight,
      useDivider = true,
      selected = false,
      disabled = false,
      hover = true,
    } = props;

    const semanticColors = getSemanticColors(props);
    const borders = getBorders(props);

    return `
      align-items: center;
      border-bottom: ${useDivider ? borders?.base?.table : borders?.none};

      ${rowHeight ? `max-height: ${rowHeight}px;` : ""}

      ${selected ? `background-color: ${semanticColors?.accent?.surfacePrimary};` : ""}

      ${hover && hoverStyled(props)};

      ${disabled && disabledStyled(props)}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Tabs/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import { useState } from "react";
import RawTabs, { Tab } from "src/core/Tabs";

export const Tabs = (props: Args): JSX.Element => {
  const { items, ...args } = props;

  const [value, setValue] = useState(0);

  const handleTabsChange = (_: React.SyntheticEvent, tabsValue: unknown) => {
    setValue(tabsValue as number);
  };

  return (
    <RawTabs {...args} value={value} onChange={handleTabsChange}>
      {items.map(({ count, label }: { count?: number; label: string }) => (
        <Tab label={label} count={count} key={label} />
      ))}
    </RawTabs>
  );
};
</file>

<file path="packages/components/src/core/Tabs/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import { TABS_LIVE_PREVIEW_WRAPPER_STYLES } from "../constants";
import { Tabs } from "./default";
import { noop } from "src/common/utils";
import Tag from "src/core/Tag";
import { StyledTabCountWrapper } from "../style";

export function TestDemo(props: Args): JSX.Element {
  const finalProps = {
    ...props,
    "data-testid": "tabs",
    style: { width: "400px" },
  };

  return (
    <div>
      <div style={TABS_LIVE_PREVIEW_WRAPPER_STYLES as React.CSSProperties}>
        <div>
          <h4>Default</h4>
          <Tabs
            items={[{ count: 123, label: "Tab One" }, { label: "Tab Two" }]}
            onChange={noop}
            {...finalProps}
          />
        </div>
        <div>
          <h4>Small</h4>
          <Tabs
            items={[{ count: 123, label: "Tab One" }, { label: "Tab Two" }]}
            onChange={noop}
            sdsSize="small"
            {...finalProps}
          />
        </div>
        <div>
          <h4>Underlined</h4>
          <Tabs
            onChange={noop}
            items={[{ count: 123, label: "Tab One" }, { label: "Tab Two" }]}
            underlined
            {...finalProps}
          />
        </div>
      </div>
      <div style={TABS_LIVE_PREVIEW_WRAPPER_STYLES}>
        <div>
          <h4>Label with count</h4>
          <div>
            <Tabs
              onChange={noop}
              sdsSize="large"
              items={[
                { count: <BetaTagWithCount />, label: "One" },
                { label: "Two" },
              ]}
              underlined
              {...finalProps}
              style={{ width: "200px" }}
            />
          </div>
        </div>
      </div>
    </div>
  );
}

function BetaTagWithCount() {
  return (
    <>
      <StyledTabCountWrapper>123</StyledTabCountWrapper>
      <Tag
        label="BETA"
        hover={false}
        color="beta"
        sdsStyle="rounded"
        sdsType="secondary"
      />
    </>
  );
}
</file>

<file path="packages/components/src/core/Tabs/__storybook__/constants.ts">
export const TABS_EXCLUDED_CONTROLS = ["sdsSize", "items", "underlined"];

export const TABS_LIVE_PREVIEW_WRAPPER_STYLES = {
  alignItems: "center",
  display: "flex",
  gap: "40px",
  width: "100%",
};
</file>

<file path="packages/components/src/core/Tabs/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Tabs } from "./stories/default";
import { TABS_EXCLUDED_CONTROLS } from "./constants";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    items: {
      control: { required: true, type: "object" },
      defaultValue: { summary: "-" },
      description:
        "Here is an array of objects, each comprising a label and count for the tabs. Please note that this is specific to Storybook. In an actual implementation, it is recommended to pass the tabs as children of the Tabs component.",
    },
    sdsSize: {
      control: { type: "select" },
      defaultValue: { summary: "large" },
      description: "The size of the tabs",
      options: ["large", "small"],
    },
    underlined: {
      control: {
        type: "boolean",
      },
      defaultValue: { summary: "true" },
      description: "Whether the tabs should be underlined",
    },
  },
  component: Tabs,
  parameters: {
    badges: [BADGE.STABLE],
    // tab indicator bug known by MUI where width for indicator updates once font is loaded in.
    // delay allows for font to load and prevents chromatic from constantly creating new baselines
    // https://github.com/mui/material-ui/blob/v4.x/packages/material-ui/src/Tabs/Tabs.js#L194
    chromatic: { delay: 10000 },
    controls: { expanded: true },
  },
  title: "Components/Tabs",
} as Meta;

// Default

export const Default = {
  args: {
    items: [
      { label: "Upload from Your Computer" },
      { count: 0, label: "Upload from Base Space" },
    ],
    sdsSize: "large",
    underlined: true,
  },
  parameters: {
    // tab indicator bug known by MUI where width for indicator updates once font is loaded in.
    // delay allows for font to load and prevents chromatic from constantly creating new baselines
    // https://github.cwom/mui/material-ui/blob/v4.x/packages/material-ui/src/Tabs/Tabs.js#L194
    chromatic: { delay: 5000 },
  },
};

// Test

export const Test = {
  parameters: {
    chromatic: { delay: 5000 },
    controls: {
      exclude: TABS_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/Tabs/__storybook__/style.ts">
import styled from "@emotion/styled";

export const StyledTabCountWrapper = styled("span")`
  margin-right: 5px;
`;
</file>

<file path="packages/components/src/core/Tabs/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Tabs /> Default story renders snapshot 1`] = `
<div
  class="MuiTabs-root css-11fro2b-MuiTabs-root"
>
  <div
    class="MuiTabs-scroller MuiTabs-fixed css-jpln7h-MuiTabs-scroller"
    style="overflow: hidden; margin-bottom: 0px;"
  >
    <div
      class="MuiTabs-flexContainer css-heg063-MuiTabs-flexContainer"
      role="tablist"
    >
      <button
        aria-selected="true"
        class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary Mui-selected css-5mfhnp-MuiButtonBase-root-MuiTab-root"
        role="tab"
        tabindex="0"
        type="button"
      >
        Upload from Your Computer
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
      <button
        aria-selected="false"
        class="MuiButtonBase-root MuiTab-root MuiTab-textColorPrimary css-5mfhnp-MuiButtonBase-root-MuiTab-root"
        role="tab"
        tabindex="-1"
        type="button"
      >
        <span
          class="css-1p2o9he"
        >
          <span
            class="css-zht1rf"
          >
            Upload from Base Space
          </span>
          <span
            class="css-1eudu0v"
          >
            0
          </span>
        </span>
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
    </div>
    <span
      class="MuiTabs-indicator css-o80iit css-1aquho2-MuiTabs-indicator"
      style="left: 0px; width: 0px;"
    />
  </div>
</div>
`;
</file>

<file path="packages/components/src/core/Tabs/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<Tabs />", () => {
  generateSnapshots(stories);

  it("renders Tabs component", () => {
    render(<Test />);

    const elements = screen.getAllByTestId("tabs");

    expect(elements.length).toBeTruthy();
  });

  it("renders tab texts", () => {
    render(<Test />);

    const Label1 = screen.getAllByText(/Tab One/i);
    const Label2 = screen.getAllByText(/Tab Two/i);

    expect(Label1.length).toBeTruthy();
    expect(Label2.length).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/Tabs/__tests__/Tabs.namespace-test.tsx">
import { Tab, Tabs, TabsProps } from "@czi-sds/components";
import React from "react";
import { noop } from "src/common/utils";

const TabsNameSpaceTest = (props: TabsProps) => {
  return (
    <Tabs sdsSize="large" underlined onChange={noop}>
      <Tab label="Label 1" count={1} />
      <Tab label="Label 2" count={3} />
    </Tabs>
  );
};
</file>

<file path="packages/components/src/core/Tabs/components/LabelWithCount/index.tsx">
import { forwardRef, ReactNode, useContext } from "react";
import { TabsContext } from "../common";
import { Count, Label, Wrapper } from "./style";

interface Props {
  label: ReactNode;
  count: ReactNode;
}

export default forwardRef<HTMLSpanElement, Props>(
  function LabelWithCount(props, ref): JSX.Element {
    const { sdsSize = "large" } = useContext(TabsContext);
    const { label, count } = props;

    return (
      <Wrapper ref={ref}>
        <Label sdsSize={sdsSize}>{label}</Label>
        <Count sdsSize={sdsSize}>{count}</Count>
      </Wrapper>
    );
  }
);
</file>

<file path="packages/components/src/core/Tabs/components/LabelWithCount/style.ts">
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  CommonThemeProps as StyleProps,
  fontBodySemiboldS,
  fontBodySemiboldXs,
  fontBodyXs,
  fontBodyXxs,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";
import { SdsSize } from "../common";

export const Wrapper = styled("span")`
  ${(props: CommonThemeProps) => {
    const semanticColors = getSemanticColors(props);

    return `
      &:active {
        color: ${semanticColors?.base?.textPrimary};
      }

      &:disabled {
        color: ${semanticColors?.base?.textDisabled};
      }
    `;
  }}
`;

interface Props extends StyleProps {
  sdsSize: SdsSize;
}

const LABEL_DO_NOT_FORWARD_PROPS = ["sdsSize"];

export const Label = styled("span", {
  shouldForwardProp: (prop) =>
    !LABEL_DO_NOT_FORWARD_PROPS.includes(String(prop)),
})<Props>`
  ${(props: Props) => {
    const { sdsSize } = props;

    const isLarge = sdsSize === "large";

    return isLarge ? fontBodySemiboldS(props) : fontBodySemiboldXs(props);
  }}

  ${(props: Props) => {
    const spaces = getSpaces(props);

    const { sdsSize } = props;

    const isLarge = sdsSize === "large";

    return `
      margin-right: ${isLarge ? spaces?.l : spaces?.m}px;
  `;
  }}
`;

const COUNT_DO_NOT_FORWARD_PROPS = ["sdsSize"];

export const Count = styled("span", {
  shouldForwardProp: (prop) =>
    !COUNT_DO_NOT_FORWARD_PROPS.includes(String(prop)),
})`
  ${(props: Props) => {
    const { sdsSize } = props;

    const isLarge = sdsSize === "large";

    return isLarge ? fontBodyXs(props) : fontBodyXxs(props);
  }}

  ${(props: Props) => {
    const semanticColors = getSemanticColors(props);
    const spaces = getSpaces(props);

    return `
      color: ${semanticColors?.base?.textSecondary};

      .MuiChip-root {
        margin: 0 0 ${spaces?.xxxs}px 0;
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Tabs/components/common.ts">
import { createContext } from "react";

export type SdsSize = "small" | "large";

export const TabsContext = createContext({ sdsSize: "large" as SdsSize });
</file>

<file path="packages/components/src/core/Tabs/index.tsx">
import { css } from "@emotion/css";
import { TabProps as RawTabProps, useTheme } from "@mui/material";
import React, { ReactNode, forwardRef, useContext, useMemo } from "react";
import { SDSTheme } from "src/core/styles/common/types";
import { getSemanticColors } from "src/core/styles";
import LabelWithCount from "./components/LabelWithCount";
import { TabsContext } from "./components/common";
import { StyledTab, StyledTabs, TabsProps } from "./style";

export type { TabsProps };

const TabIndicator = (theme: SDSTheme) => {
  const semanticColors = getSemanticColors({ theme });

  return css`
    &.MuiTabs-indicator {
      background-color: ${semanticColors?.accent?.border};
      height: 2px;
      bottom: -2px;
      z-index: 2;
    }
  `;
};

const Tabs = forwardRef<HTMLDivElement, TabsProps>(
  function Tabs(props, ref): React.ReactElement {
    const { sdsSize = "large", ...rest } = props;
    const theme = useTheme();

    const contextValue = React.useMemo(() => ({ sdsSize }), [sdsSize]);

    const indicatorProps = useMemo(() => {
      return { className: TabIndicator(theme) };
    }, [theme]);

    return (
      <TabsContext.Provider value={contextValue}>
        <StyledTabs TabIndicatorProps={indicatorProps} ref={ref} {...rest} />
      </TabsContext.Provider>
    );
  }
);

export default Tabs;

export interface TabProps extends RawTabProps {
  count?: ReactNode;
}

/**
 * @see https://mui.com/material-ui/react-tabs/
 */
export const Tab = forwardRef<HTMLDivElement, TabProps>(
  function Tab(props, ref) {
    const { count, label, ...rest } = props;
    const context = useContext(TabsContext);
    const Label =
      // (thuang): `count` can be 0, which is a valid count value.
      count === undefined ? (
        label
      ) : (
        <LabelWithCount label={label} count={count} />
      );

    return <StyledTab label={Label} ref={ref} {...rest} {...context} />;
  }
);
</file>

<file path="packages/components/src/core/Tabs/style.tsx">
import { SerializedStyles } from "@emotion/react";
import {
  Tab as RawTab,
  Tabs as RawTabs,
  TabsProps as RawTabsProps,
} from "@mui/material";
import styled from "@emotion/styled";
import {
  focusVisibleA11yStyle,
  fontBodySemiboldS,
  fontBodySemiboldXs,
  CommonThemeProps,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";
import { SdsSize } from "./components/common";

export type TabsProps = RawTabsProps & {
  underlined?: boolean;
  sdsSize?: "small" | "large";
} & CommonThemeProps;

const TempTabs = (props: RawTabsProps) => <RawTabs {...props} />;

const TABS_DO_NOT_FORWARD_PROPS = ["underlined", "sdsSize"];

export const StyledTabs = styled(TempTabs, {
  shouldForwardProp: (prop) =>
    !TABS_DO_NOT_FORWARD_PROPS.includes(String(prop)),
})`
  box-sizing: border-box;
  padding-bottom: 0px;
  min-height: unset;
  position: relative;
  z-index: 1;
  overflow: inherit;

  & .MuiTabs-scroller {
    overflow: inherit !important;
  }

  ${(props: TabsProps) => {
    const { underlined, sdsSize = "large" } = props;
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    const isLarge = sdsSize === "large";

    return `
      margin-top: ${isLarge ? spaces?.l : spaces?.m}px;
      margin-bottom: ${isLarge ? spaces?.xl : spaces?.m}px;
      border-bottom: ${underlined ? `2px solid ${semanticColors?.base?.divider};` : "none"};
    `;
  }}
`;

const TAB_DO_NOT_FORWARD_PROPS = ["sdsSize"];

interface TabProps extends CommonThemeProps {
  sdsSize: SdsSize;
}

export const StyledTab = styled(RawTab, {
  shouldForwardProp: (prop) => !TAB_DO_NOT_FORWARD_PROPS.includes(String(prop)),
})<TabProps>`
  min-height: unset;
  padding: 0;
  min-width: 32px;
  opacity: 1 !important;

  ${tabFontMixin}
  ${focusVisibleA11yStyle}

  ${(props) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    return `
      margin-right: ${spaces?.xl}px;
      padding-bottom: ${spaces?.xxs}px;

      color: ${semanticColors?.base?.textSecondary};

      &:hover, :focus {
        box-shadow: 0 2px 0 0 ${semanticColors?.base?.borderPrimary};
        color: ${semanticColors?.base?.textPrimary};
      }

      &.Mui-selected {
        color: ${semanticColors?.base?.textPrimary};

        &:hover {
          color: ${semanticColors?.base?.textPrimary};
        }
      }

      &:active {
        color: ${semanticColors?.base?.textPrimary};
      }

      &:disabled {
        color: ${semanticColors?.base?.textDisabled};
      }
    `;
  }}
`;

function tabFontMixin(props: TabProps): SerializedStyles | null {
  const { sdsSize } = props;
  const isLarge = sdsSize === "large";

  return isLarge ? fontBodySemiboldS(props) : fontBodySemiboldXs(props);
}
</file>

<file path="packages/components/src/core/Tag/__storybook__/stories/commonScreenshot.tsx">
import { Args } from "@storybook/react";
import React from "react";
import RawTag from "src/core/Tag";
import { ExtraTagProps } from "src/core/Tag/style";
import {
  TAG_DISPLAY_CONTENTS_STYLES,
  TAG_SDS_STYLES,
  TAG_MID_LABEL_STYLES,
  TAG_SCREENSHOT_ICON_OPTIONS,
  TAG_HOVER_OPTIONS,
} from "../constants";

export function CommonScreenshotTestDemo({
  props,
  colors,
  types,
}: {
  props: Args;
  colors: ExtraTagProps["tagColor"][];
  types: ExtraTagProps["sdsType"][];
}): JSX.Element {
  // loop through all TAG_SDS_STYLES
  return (
    <>
      {TAG_SDS_STYLES.map((sdsStyle) => {
        return (
          <TagStyle
            colors={colors}
            types={types}
            props={props}
            sdsStyle={sdsStyle}
            key={sdsStyle}
          />
        );
      })}
    </>
  );
}

// loop through all COLORS + create headers for TAG_SDS_STYLES
function TagStyle({
  colors,
  types,
  sdsStyle,
  props,
}: {
  colors: ExtraTagProps["tagColor"][];
  types: ExtraTagProps["sdsType"][];
  sdsStyle: ExtraTagProps["sdsStyle"];
  props: Args;
}) {
  const LEVEL_STYLE: React.CSSProperties = {
    columnGap: "20px",
    display: "inline-grid",
    fontFamily: "sans-serif",
    marginRight: "50px",
  };

  const LABEL_STYLE: React.CSSProperties = {
    fontSize: "2em",
    gridColumn: "1 / 6",
    marginBottom: 0,
  };

  return (
    <div style={LEVEL_STYLE}>
      <p style={LABEL_STYLE}>
        Style: <b>{sdsStyle}</b>
      </p>
      {colors.map((color) => {
        return (
          <TagColor
            sdsStyle={sdsStyle}
            color={color}
            key={String(color)}
            types={types}
            props={props}
          />
        );
      })}
    </div>
  );
}

// loop through all SDS_TYPES + create headers for COLORS
function TagColor({
  sdsStyle,
  color,
  types,
  props,
}: {
  sdsStyle: ExtraTagProps["sdsStyle"];
  color: ExtraTagProps["tagColor"];
  types: ExtraTagProps["sdsType"][];
  props: Args;
}) {
  const LABEL_STYLE: React.CSSProperties = {
    ...TAG_MID_LABEL_STYLES,
    borderWidth: "5px",
    fontSize: "1.5em",
    margin: "20px 0 0 0",
  };

  return (
    <div style={TAG_DISPLAY_CONTENTS_STYLES}>
      <p style={LABEL_STYLE}>
        Color: <b>{typeof color === "string" ? color : "custom"}</b>
      </p>
      {types.map((sdsType) => {
        // exclude gray primary from rendering in the main ScreenshotTest story (types.includes("secondary")), but allow gray primary to render in GrayPrimaryScreenshotTest story
        return types.includes("secondary") &&
          sdsType === "primary" &&
          color === "neutral" ? null : (
          <TagType
            sdsStyle={sdsStyle}
            color={color}
            sdsType={sdsType}
            key={sdsType}
            props={props}
          />
        );
      })}
    </div>
  );
}

// loop through all TAG_SCREENSHOT_ICON_OPTIONS + create headers for SDS_TYPES
function TagType({
  sdsStyle,
  color,
  sdsType,
  props,
}: {
  sdsStyle: ExtraTagProps["sdsStyle"];
  color: ExtraTagProps["tagColor"];
  sdsType: ExtraTagProps["sdsType"];
  props: Args;
}) {
  const LABEL_STYLE: React.CSSProperties = {
    ...TAG_MID_LABEL_STYLES,
    borderWidth: "2px",
    fontSize: "1.17em",
    margin: "20px 0",
  };

  return (
    <div style={TAG_DISPLAY_CONTENTS_STYLES}>
      <p style={LABEL_STYLE}>
        Type: <b>{sdsType}</b>
      </p>
      {TAG_SCREENSHOT_ICON_OPTIONS.map((icon) => {
        return (
          <TagIcon
            sdsStyle={sdsStyle}
            color={color}
            sdsType={sdsType}
            icon={icon}
            key={String(icon)}
            props={props}
          />
        );
      })}
    </div>
  );
}

// loop through all TAG_HOVER_OPTIONS + create headers for TAG_SCREENSHOT_ICON_OPTIONS
function TagIcon({
  sdsStyle,
  color,
  sdsType,
  icon,
  props,
}: {
  sdsStyle: ExtraTagProps["sdsStyle"];
  color: ExtraTagProps["tagColor"];
  sdsType: ExtraTagProps["sdsType"];
  icon: (typeof TAG_SCREENSHOT_ICON_OPTIONS)[number];
  props: Args;
}) {
  const LABEL_STYLE: React.CSSProperties = {
    ...TAG_MID_LABEL_STYLES,
    alignSelf: "end",
    borderWidth: "1px",
    fontSize: "0.83em",
    margin: "0 0 5px 0",
  };

  return (
    <div style={TAG_DISPLAY_CONTENTS_STYLES}>
      <p style={LABEL_STYLE}>
        Icon: <b>{icon ? "yes" : "no"}</b>
      </p>
      {TAG_HOVER_OPTIONS.map((hover) => {
        return (
          <TagState
            {...props}
            sdsStyle={sdsStyle}
            color={color}
            sdsType={sdsType}
            icon={icon}
            hover={hover}
            key={String(hover)}
          />
        );
      })}
    </div>
  );
}

// loop through all PSEUDO_STATES + create headers for TAG_HOVER_OPTIONS, PSEUDO_STATES
function TagState(props: {
  sdsStyle: ExtraTagProps["sdsStyle"];
  color: ExtraTagProps["tagColor"];
  sdsType: ExtraTagProps["sdsType"];
  icon: (typeof TAG_SCREENSHOT_ICON_OPTIONS)[number];
  hover: (typeof TAG_HOVER_OPTIONS)[number];
}) {
  const { sdsStyle, color, sdsType, icon, hover } = props;
  const PSEUDO_STATES = ["default", "hover", "active", "focus-visible"];
  const HOVER_LEVEL: React.CSSProperties = {
    display: "contents",
  };
  const STATE_LABEL: React.CSSProperties = {
    fontSize: "0.67em",
    margin: "10px 0",
  };
  const STATE_LEVEL: React.CSSProperties = {
    marginBottom: 10,
  };

  const LABEL = "Label";

  return (
    <div style={HOVER_LEVEL}>
      {PSEUDO_STATES.map((state) => {
        return (
          <div style={STATE_LEVEL} key={state}>
            {/* removes irrelevant hover iterations: when combined with all pseudo-states except default, hover=false is impossible */}
            {(hover === true || (hover === false && state === "default")) && (
              <>
                <p style={STATE_LABEL}>
                  {hover ? "State: " : "Hoverable: "}
                  <br />
                  <b>{hover ? state : "false"}</b>
                </p>
                <RawTag
                  {...props}
                  label={LABEL}
                  data-testid="tag"
                  sdsStyle={sdsStyle}
                  color={color}
                  sdsType={sdsType}
                  icon={icon}
                  hover={hover}
                  className={hover ? `pseudo-${state}` : `pseudo-default`}
                  key={state}
                />
              </>
            )}
          </div>
        );
      })}
    </div>
  );
}
</file>

<file path="packages/components/src/core/Tag/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import Callout from "src/core/Callout";
import Icon, { IconNameToSizes } from "src/core/Icon";
import RawTag from "src/core/Tag";

export const Tag = (props: Args): JSX.Element => {
  const { label, sdsSize, icon } = props;

  const finalIcon =
    typeof icon === "string" ? (
      <Icon sdsSize={sdsSize} sdsIcon={icon as keyof IconNameToSizes} />
    ) : (
      icon
    );

  if (sdsSize === "l" && !icon) {
    return (
      <Callout
        intent="negative"
        title="Invalid Props!"
        body="The large-size tag must include an icon. Please choose an icon from the controls section or switch the Tag size to small."
      />
    );
  }

  return <RawTag label={label} {...props} sdsSize={sdsSize} icon={finalIcon} />;
};
</file>

<file path="packages/components/src/core/Tag/__storybook__/stories/grayPrimaryScreenshot.tsx">
// Gray Primary only
// Tags with `color` of `gray` and `sdsType` of `primary` have their own story
// here because they do not currently pass the a11y tests. However, design has
// manually tested them with APCA, and they are accessible; our tests just do
// not use APCA yet. In the meantime, the a11y tests are currently disabled for
// this story, but enabled for the remaining colors in the ScreenshotTest story,
// so they can be tested properly.

import { Args } from "@storybook/react";
import {
  TAG_GRAY_PRIMARY_COLORS,
  TAG_GRAY_PRIMARY_TYPES,
  TAG_SANS_SERIF_STYLE,
} from "../constants";
import { CommonScreenshotTestDemo } from "./commonScreenshot";

export function GrayPrimaryScreenshotTestDemo(props: Args): JSX.Element {
  return (
    <>
      <p style={TAG_SANS_SERIF_STYLE}>
        Tags with `color` of `gray` and `sdsType` of `primary` have their own
        story here because they do not currently pass the a11y tests. However,
        design has manually tested them with APCA, and they are accessible; our
        tests just do not use APCA yet. In the meantime, the a11y tests are
        currently disabled for this story, but enabled for the remaining colors
        in the ScreenshotTest story, so they can be tested properly.
      </p>
      <CommonScreenshotTestDemo
        props={props}
        colors={TAG_GRAY_PRIMARY_COLORS}
        types={TAG_GRAY_PRIMARY_TYPES}
      />
    </>
  );
}
</file>

<file path="packages/components/src/core/Tag/__storybook__/stories/mainScreenshot.tsx">
import { Args } from "@storybook/react";
import { TAG_COLORS, TAG_SANS_SERIF_STYLE, TAG_SDS_TYPES } from "../constants";
import { CommonScreenshotTestDemo } from "./commonScreenshot";

export function ScreenshotTestDemo(props: Args): JSX.Element {
  return (
    <>
      <p style={TAG_SANS_SERIF_STYLE}>
        This story currently excludes Tags with both `sdsType` of `primary` and
        `color` of `gray`, and those with `color` of `success` and `primary`,
        because they do not pass the a11y tests. They have their own stories
        wherein the a11y tests are disabled until the a11y tests are updated to
        accommodate APCA (for gray x primary) or until the Tag colors are
        updated by design (for success and primary).
      </p>
      <CommonScreenshotTestDemo
        props={props}
        colors={TAG_COLORS}
        types={TAG_SDS_TYPES}
      />
    </>
  );
}
</file>

<file path="packages/components/src/core/Tag/__storybook__/stories/successWarningScreenshot.tsx">
// Success + Warning only
// Tags with `color` of `success` or `warning` have their own story here because
// they do not currently pass the a11y tests. Design is aware of this and will be
// updating their colors. In the meantime, the a11y tests are currently disabled
// for this story, but enabled for the remaining colors in the ScreenshotTest story,
// so they can be tested properly.

import { Args } from "@storybook/react";
import {
  TAG_SANS_SERIF_STYLE,
  TAG_SDS_TYPES,
  TAG_SUCCESS_WARNING_PRIMARY_COLORS,
} from "../constants";
import { CommonScreenshotTestDemo } from "./commonScreenshot";

export function SuccessWarningScreenshotTestDemo(props: Args): JSX.Element {
  return (
    <>
      <p style={TAG_SANS_SERIF_STYLE}>
        Tags with `color` of `success` or `warning`have their own story here
        because they do not currently pass the a11y tests. Design is aware of
        this and will be updating their colors. In the meantime the a11y tests
        are currently disabled for this story, but enabled for the remaining
        colors in the ScreenshotTest story, so they can be tested properly.
      </p>
      <CommonScreenshotTestDemo
        props={props}
        colors={TAG_SUCCESS_WARNING_PRIMARY_COLORS}
        types={TAG_SDS_TYPES}
      />
    </>
  );
}
</file>

<file path="packages/components/src/core/Tag/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import RawTag from "src/core/Tag";

export const TestDemo = (props: Args): JSX.Element => {
  const { label } = props;
  return <RawTag label={label} {...props} data-testid="tags" />;
};
</file>

<file path="packages/components/src/core/Tag/__storybook__/constants.tsx">
import Icon from "src/core/Icon";
import { ExtraTagProps } from "../style";
import { WbSunny } from "@mui/icons-material";
import CustomSvgIcon from "src/common/storybook/customSvgIcon";
import { action } from "@storybook/addon-actions";

export const TAG_EXCLUDED_CONTROLS = [
  "color",
  "hover",
  "label",
  "sdsSize",
  "sdsStyle",
  "sdsType",
  "icon",
];

export const TAG_ICONS = [
  undefined,
  "CheckCircle",
  "Loading",
  "ExclamationMarkCircle",
  "Person",
  <WbSunny key="WBSunny" />,
  <CustomSvgIcon key="CustomSvgIcon" />,
];

export const TAG_ICONS_LABELS = [
  "No Icon",
  "SDS Check Circle",
  "SDS Loading",
  "SDS Exclamation Mark",
  "SDS Person",
  "MUI Wb Sunny",
  "Custom SVG Icon",
];

export const TAG_SDS_STYLES: ExtraTagProps["sdsStyle"][] = [
  "rounded",
  "square",
];

export const TAG_SDS_TYPES: ExtraTagProps["sdsType"][] = [
  "primary",
  "secondary",
];

export const TAG_ON_CLICK_OPTIONS = [action("onClick"), undefined];

export const TAG_COLOR_CONTRAST_RULE = "color-contrast";

export const TAG_PANEL_COLORS: ExtraTagProps["tagColor"][] = [
  "info",
  "positive",
  "notice",
  "negative",
  "beta",
  ["#000000", "#C65FA7", "#FFD400"],
];

export const TAG_SANS_SERIF_STYLE = { fontFamily: "sans-serif" };

// use PANEL_COLORS to generate colors for ScreenshotTest ...
// ... but for now it can't include "success" or "warning" colors because they fail a11y tests due to known design issues
export const TAG_COLORS: ExtraTagProps["tagColor"][] = TAG_PANEL_COLORS.slice(
  0,
  8
).splice(2, 2);

export const TAG_LIVE_PREVIEW_STYLES = {
  display: "inline-grid",
  gridColumnGap: 24,
  gridRowGap: 24,
  gridTemplateColumns: "repeat(6, auto)",
  gridTemplateRows: "repeat(2, auto)",
};

export const TAG_DISPLAY_CONTENTS_STYLES = {
  display: "contents",
};

export const TAG_MID_LABEL_STYLES = {
  borderStyle: "solid none none none",
  gridColumn: "1 / 6",
  justifySelf: "stretch",
  paddingTop: 10,
};

export const TAG_SCREENSHOT_ICON_OPTIONS = [
  undefined,
  <Icon sdsSize="l" sdsIcon="CheckCircle" key="CheckCircle" />,
];

export const TAG_HOVER_OPTIONS = [true, false];

export const TAG_GRAY_PRIMARY_COLORS: ExtraTagProps["tagColor"][] = ["neutral"];

export const TAG_GRAY_PRIMARY_TYPES: ExtraTagProps["sdsType"][] = ["primary"];

export const TAG_SUCCESS_WARNING_PRIMARY_COLORS: ExtraTagProps["tagColor"][] = [
  "positive",
  "notice",
];
</file>

<file path="packages/components/src/core/Tag/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import {
  TAG_COLORS,
  TAG_COLOR_CONTRAST_RULE,
  TAG_EXCLUDED_CONTROLS,
  TAG_HOVER_OPTIONS,
  TAG_ICONS,
  TAG_ICONS_LABELS,
  TAG_ON_CLICK_OPTIONS,
  TAG_PANEL_COLORS,
  TAG_SDS_STYLES,
  TAG_SDS_TYPES,
} from "./constants";
import { Tag } from "./stories/default";
import { ScreenshotTestDemo } from "./stories/mainScreenshot";
import { GrayPrimaryScreenshotTestDemo } from "./stories/grayPrimaryScreenshot";
import { SuccessWarningScreenshotTestDemo } from "./stories/successWarningScreenshot";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    color: {
      control: {
        labels: [
          "info",
          "positive",
          "notice",
          "negative",
          "beta",
          "Custom colors for Label, Background, Icon",
        ],
        type: "select",
      },
      mapping: TAG_PANEL_COLORS,
      options: Object.keys(TAG_PANEL_COLORS),
    },
    hover: {
      control: { type: "boolean" },
    },
    icon: {
      control: {
        labels: TAG_ICONS_LABELS,
        type: "select",
      },
      mapping: TAG_ICONS,
      options: Object.keys(TAG_ICONS),
    },
    label: {
      control: { type: "text" },
      required: true,
    },
    onClick: {
      control: {
        labels: ["() => {}", "undefined"],
        type: "select",
      },
      mapping: TAG_ON_CLICK_OPTIONS,
      options: Object.keys(TAG_ON_CLICK_OPTIONS),
    },
    sdsSize: {
      control: { type: "radio" },
      options: ["s", "l"],
    },
    sdsStyle: {
      control: { type: "radio" },
      options: ["rounded", "square"],
    },
    sdsType: {
      control: { type: "radio" },
      options: ["primary", "secondary"],
    },
  },
  component: Tag,
  parameters: {
    axe: {
      disabledRules: [TAG_COLOR_CONTRAST_RULE],
    },
    badges: [BADGE.STABLE],
  },
  title: "Components/Tag",
} as Meta;

// Default

export const Default = {
  args: {
    hover: true,
    label: "Label",
    sdsSize: "s",
    sdsStyle: "square",
    sdsType: "primary",
  },
};

// Screenshot tests

export const ScreenshotTest = {
  args: {
    color: TAG_COLORS[0],
    hover: TAG_HOVER_OPTIONS[0],
    label: "Label",
    sdsStyle: TAG_SDS_STYLES[0],
    sdsType: TAG_SDS_TYPES[0],
  },
  parameters: {
    axe: {
      timeout: 10 * 1000,
    },
    controls: {
      exclude: TAG_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },

  render: (props: Args): JSX.Element => <ScreenshotTestDemo {...props} />,
};

export const GrayPrimaryScreenshotTest = {
  args: {
    color: TAG_COLORS[0],
    hover: TAG_HOVER_OPTIONS[0],
    label: "Label",
    sdsStyle: TAG_SDS_STYLES[0],
    sdsType: TAG_SDS_TYPES[0],
  },
  parameters: {
    axe: {
      // `color-contrast` is disabled for this test because design tested it with
      // APCA and determined these colors pass, our test just isn't able to use APCA
      // yet; this color was pulled into its own story so the remaining colors can be
      // tested separately
      disabledRules: [TAG_COLOR_CONTRAST_RULE],
      timeout: 10 * 1000,
    },
    controls: {
      exclude: TAG_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },

  render: (props: Args): JSX.Element => (
    <GrayPrimaryScreenshotTestDemo {...props} />
  ),
};

export const SuccessWarningScreenshotTest = {
  args: {
    color: TAG_COLORS[0],
    hover: TAG_HOVER_OPTIONS[0],
    label: "Label",
    sdsStyle: TAG_SDS_STYLES[0],
    sdsType: TAG_SDS_TYPES[0],
  },
  parameters: {
    axe: {
      // `color-contrast` is disabled for this test because it is now a known
      // issue and design will work on adjusting the colors so that they pass;
      // these colors were pulled into their own story so the remaining colors
      // can be tested separately
      disabledRules: [TAG_COLOR_CONTRAST_RULE],
      timeout: 10 * 1000,
    },
    controls: {
      exclude: TAG_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },

  render: (props: Args): JSX.Element => (
    <SuccessWarningScreenshotTestDemo {...props} />
  ),
};

// Test

export const Test = {
  args: {
    label: "Label",
  },
  parameters: {
    controls: {
      exclude: TAG_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/Tag/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Tag /> Default story renders snapshot 1`] = `
<div
  class="MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-filledPrimary css-r2x6xm-MuiChip-root"
>
  <span
    class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
  >
    Label
  </span>
</div>
`;
</file>

<file path="packages/components/src/core/Tag/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

const { Test } = composeStories(stories);

describe("<Tag />", () => {
  generateSnapshots(stories);

  it("renders Tags component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("tags");
    expect(elements.length).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/Tag/__tests__/Tag.namespace-test.tsx">
import { Icon, Tag, TagProps } from "@czi-sds/components";
import React from "react";

const TagNameSpaceTest = (props: TagProps) => {
  return (
    <Tag
      color="beta"
      icon={<Icon sdsIcon="Download" sdsSize="l" />}
      label="Label"
      sdsStyle="rounded"
      sdsType="primary"
    />
  );
};
</file>

<file path="packages/components/src/core/Tag/index.tsx">
import { ChipProps } from "@mui/material";
import { ExtraTagProps, SdsTagColorType, StyledTag } from "./style";

export interface SdsTagProps extends Omit<ChipProps, "color"> {
  label: string;
  color?: SdsTagColorType;
}

export type TagProps = SdsTagProps & ExtraTagProps;
export type { SdsTagColorType };

/**
 * @see https://mui.com/material-ui/react-chip/
 *
 * @props color: {string}                   - applies color for tag based on default theme color values
 *               [string, string]           - applies custom colors for [font, background]
 *               [string, string, string]   - applies custom colors for [font, background, icon]
 */
const Tag = (props: TagProps): JSX.Element => {
  const { color } = props;

  return <StyledTag tagColor={color} {...props} color="primary" />;
};

export default Tag;
</file>

<file path="packages/components/src/core/Tag/style.ts">
import { css, SerializedStyles } from "@emotion/react";
import { Chip, darken } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  focusVisibleA11yStyle,
  fontBodyXs,
  fontBodyXxxs,
  fontHeaderXs,
  getCorners,
  getIconSizes,
  getSemanticColors,
  getSpaces,
  SDSPalette,
} from "src/core/styles";

export type SdsTagColorType =
  | "info"
  | "positive"
  | "notice"
  | "negative"
  | "neutral"
  | "beta"
  | [string, string]
  | [string, string, string];

interface ExtraSmallTagProps extends CommonThemeProps {
  hover?: boolean;
  sdsType?: "primary" | "secondary";
  sdsStyle?: "square" | "rounded";
  sdsSize?: "s";
  tagColor?: SdsTagColorType;
  icon?: JSX.Element;
}
interface ExtraLargeTagProps extends CommonThemeProps {
  hover?: boolean;
  sdsType?: "primary" | "secondary";
  sdsStyle?: "square" | "rounded";
  sdsSize?: "l";
  tagColor?: SdsTagColorType;
  icon: JSX.Element;
}
export type ExtraTagProps = ExtraSmallTagProps | ExtraLargeTagProps;

const tagSizeS = (props: ExtraTagProps): SerializedStyles => {
  const spaces = getSpaces(props);
  const iconSizes = getIconSizes(props);
  const semanticColors = getSemanticColors(props);

  return css`
    height: unset;
    margin: 0 ${spaces?.xxs}px ${spaces?.xs}px 0;

    .MuiChip-label {
      ${fontBodyXxxs(props)}
      padding: 0;
    }

    .MuiSvgIcon-root {
      height: ${iconSizes?.xs.height}px;
      width: ${iconSizes?.xs.width}px;
      margin: 0 ${spaces?.xxs}px 0 -${spaces?.xxxs}px;
    }

    .MuiChip-deleteIcon {
      ${fontHeaderXs(props)}
      color: ${semanticColors?.base?.ornamentPrimaryInverse};
      margin: 0 0 0 ${spaces?.xxs}px;
      height: ${iconSizes?.s.height}px;
      width: ${iconSizes?.s.width}px;
    }
  `;
};

const tagSizeL = (props: ExtraTagProps): SerializedStyles => {
  const spaces = getSpaces(props);
  const iconSizes = getIconSizes(props);
  const semanticColors = getSemanticColors(props);

  return css`
    height: unset;
    margin: 0 ${spaces?.xxs}px ${spaces?.xs}px 0;

    .MuiChip-label {
      ${fontBodyXs(props)}
      padding: 0;
    }

    .MuiSvgIcon-root {
      height: ${iconSizes?.l.height}px;
      width: ${iconSizes?.l.width}px;
      margin: 0 ${spaces?.xxs}px 0 -${spaces?.xxxs}px;
    }

    .MuiChip-deleteIcon {
      ${fontHeaderXs(props)}
      color: ${semanticColors?.base?.ornamentPrimaryInverse};
      margin: 0 0 0 ${spaces?.xxs}px;
      height: ${iconSizes?.s.height}px;
      width: ${iconSizes?.s.width}px;
    }
  `;
};

const rounded = (props: ExtraTagProps): SerializedStyles => {
  const corners = getCorners(props);
  const spaces = getSpaces(props);

  const { sdsSize = "s", icon } = props;

  const topBottomPadding =
    sdsSize === "s" ? spaces?.xxxs : icon ? spaces?.xxs : spaces?.xs;

  return css`
    border-radius: ${corners?.l}px;
    padding: ${topBottomPadding}px ${spaces?.s}px;

    &:after {
      border-radius: ${corners?.l}px;
    }
  `;
};

const square = (props: ExtraTagProps): SerializedStyles => {
  const corners = getCorners(props);
  const spaces = getSpaces(props);

  const { sdsSize = "s", icon } = props;

  const topBottomPadding =
    sdsSize === "s" ? spaces?.xxxs : icon ? spaces?.xxs : spaces?.xs;

  return css`
    border-radius: ${corners?.m}px;
    padding: ${topBottomPadding}px ${spaces?.s}px;

    &:after {
      border-radius: ${corners?.m}px;
    }
  `;
};

const withHover = (props: ExtraTagProps): SerializedStyles => {
  const semanticColors = getSemanticColors(props);

  return css`
    &:hover {
      cursor: pointer;
    }

    &:hover,
    &:focus-visible {
      color: ${semanticColors?.base?.textPrimaryInverse};
    }
  `;
};

const primary = (props: ExtraTagProps): SerializedStyles | undefined => {
  return createTypeCss(props, "primary");
};

const secondary = (props: ExtraTagProps): SerializedStyles | undefined => {
  return createTypeCss(props, "secondary");
};

function generatePrimaryTagColors(
  intent: Extract<SdsTagColorType, string> | null,
  colors: string[],
  semanticColors: SDSPalette | null
) {
  if (intent || colors.length) {
    intent = intent || "neutral";

    return {
      background:
        colors.length >= 2 ? colors[1] : semanticColors?.[intent].fillPrimary,
      backgroundClicked:
        colors.length >= 2
          ? darken(colors[1], 0.3)
          : semanticColors?.[intent].fillPressed,
      backgroundHover:
        colors.length >= 2
          ? darken(colors[1], 0.15)
          : semanticColors?.[intent].fillHover,
      iconColor:
        colors.length > 2 ? colors[2] : semanticColors?.base?.ornamentOnFill,
      label: colors.length ? colors[0] : semanticColors?.base?.textOnFill,
    };
  } else {
    return {
      background: semanticColors?.neutral.fillPrimary,
      backgroundClicked: semanticColors?.neutral.fillPressed,
      backgroundHover: semanticColors?.neutral.fillHover,
      iconColor: semanticColors?.base?.ornamentOnFill,
      label: semanticColors?.base?.textOnFill,
    };
  }
}

function generateSecondaryTagColors(
  intent: Extract<SdsTagColorType, string> | null,
  colors: string[],
  semanticColors: SDSPalette | null
) {
  if (intent || colors.length) {
    intent = intent || "neutral";

    return {
      background:
        colors.length >= 2 ? colors[1] : semanticColors?.[intent].fillSecondary,
      backgroundClicked:
        colors.length >= 2
          ? darken(colors[1], 0.3)
          : semanticColors?.[intent].fillPressed,
      backgroundHover:
        colors.length >= 2
          ? darken(colors[1], 0.15)
          : semanticColors?.[intent].fillHover,
      iconColor:
        colors.length > 2 ? colors[2] : semanticColors?.[intent].ornament,
      label: colors.length ? colors[0] : semanticColors?.[intent].text,
    };
  } else {
    return {
      background: semanticColors?.neutral.fillSecondary,
      backgroundClicked: semanticColors?.neutral.fillPressed,
      backgroundHover: semanticColors?.neutral.fillHover,
      iconColor: semanticColors?.neutral.ornament,
      label: semanticColors?.neutral.fillPressed,
    };
  }
}

function createTypeCss(
  props: ExtraTagProps,
  type: NonNullable<ExtraTagProps["sdsType"]>
): SerializedStyles | undefined {
  const semanticColors = getSemanticColors(props);

  const intent = typeof props.tagColor === "string" ? props.tagColor : null;
  const colors = Array.isArray(props.tagColor) ? [...props.tagColor] : [];

  const typeToColors = {
    primary: generatePrimaryTagColors(intent, colors, semanticColors),
    secondary: generateSecondaryTagColors(intent, colors, semanticColors),
  };

  const typeColors = typeToColors[type];

  return css`
    ${focusVisibleA11yStyle(props)}

    background-color: ${typeColors.background};
    position: relative;

    .MuiChip-label {
      color: ${typeColors.label};
    }

    svg {
      fill: ${typeColors.iconColor};
    }

    &:hover,
    &:active {
      .MuiChip-label {
        color: ${semanticColors?.base?.textPrimaryInverse};
      }

      svg {
        fill: ${semanticColors?.base?.ornamentPrimaryInverse};
      }
    }

    &:hover {
      background-color: ${typeColors.backgroundHover};
    }

    &:active {
      background-color: ${typeColors.backgroundClicked};
    }

    &.Mui-focusVisible {
      background-color: ${typeColors.backgroundHover};
    }x
  `;
}

const typeToCss = {
  primary,
  secondary,
};

const doNotForwardProps = [
  "sdsType",
  "sdsStyle",
  "sdsSize",
  "tagColor",
  "hover",
];

export const StyledTag = styled(Chip, {
  shouldForwardProp: (prop) => !doNotForwardProps.includes(prop as string),
})`
  border: none;

  ${(props: ExtraTagProps) => {
    const { hover = true, sdsType, sdsStyle, sdsSize = "s" } = props;

    const isRounded = sdsStyle === "rounded";
    const type = sdsType || "primary";

    return css`
      ${sdsSize === "l" ? tagSizeL(props) : tagSizeS(props)}
      ${typeToCss[type](props)}
      ${isRounded ? rounded(props) : square(props)}
      ${hover ? withHover(props) : `pointer-events: none;`}
    `;
  }}
`;
</file>

<file path="packages/components/src/core/TagFilter/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import { useState } from "react";
import { TAG_FILTER_DEFAULT_STYLES } from "../constants";
import RawTagFilter from "src/core/TagFilter";
import Button from "src/core/Button";

export const TagFilter = (props: Args): JSX.Element => {
  const { label } = props;

  const [visible, setVisible] = useState(true);

  const handleShowChip = () => setVisible(true);
  const handleDismissChip = () => setVisible(false);

  return (
    <div style={TAG_FILTER_DEFAULT_STYLES as React.CSSProperties}>
      <div>
        <Button
          disabled={visible}
          onClick={handleShowChip}
          sdsStyle="minimal"
          sdsType={visible ? "secondary" : "primary"}
        >
          {visible
            ? "Delete the tag by clicking on its icon"
            : "Click to reset"}
        </Button>
      </div>

      <div>
        {visible && (
          <RawTagFilter label={label} onDelete={handleDismissChip} {...props} />
        )}
      </div>
    </div>
  );
};
</file>

<file path="packages/components/src/core/TagFilter/__storybook__/stories/screenshot.tsx">
import { Args } from "@storybook/react";
import { Fragment } from "react";
import RawTagFilter from "src/core/TagFilter";
import { TAG_FILTER_LABEL_STYLE, TAG_FILTER_PSEUDO_STATES } from "../constants";

export const ScreenshotTestDemo = (props: Args): JSX.Element => {
  const { label } = props;

  // loop through all TAG_FILTER_PSEUDO_STATES + create headers for TAG_FILTER_PSEUDO_STATES
  return (
    <>
      {TAG_FILTER_PSEUDO_STATES.map((state) => {
        return (
          <Fragment key={state}>
            <p style={TAG_FILTER_LABEL_STYLE}>
              State: <b>{state}</b>
            </p>
            <RawTagFilter
              data-testid="button"
              label={label}
              onDelete={() => {}}
              className={`pseudo-${state}`}
              key={state}
              {...props}
            />
          </Fragment>
        );
      })}
    </>
  );
};
</file>

<file path="packages/components/src/core/TagFilter/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import RawTagFilter from "src/core/TagFilter";

export const TestDemo = (props: Args): JSX.Element => {
  const { label } = props;

  return (
    <RawTagFilter
      data-testid="tag-filter"
      label={label}
      onDelete={() => {}}
      {...props}
    />
  );
};
</file>

<file path="packages/components/src/core/TagFilter/__storybook__/constants.tsx">
export const TAG_FILTER_EXCLUDED_CONTROLS = ["label"];

export const TAG_FILTER_DEFAULT_STYLES = {
  display: "inline-grid",
  gridColumnGap: 24,
  gridRowGap: 24,
  gridTemplateColumns: "repeat(1, 1fr)",
  gridTemplateRows: "repeat(1, 1fr)",
};

export const TAG_FILTER_PSEUDO_STATES = ["default", "hover", "active", "focus"];

export const TAG_FILTER_LABEL_STYLE = {
  fontFamily: "sans-serif",
  fontSize: "0.67em",
  fontWeight: "normal",
  margin: "20px 0 10px",
};
</file>

<file path="packages/components/src/core/TagFilter/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { TagFilter } from "./stories/default";
import { TAG_FILTER_EXCLUDED_CONTROLS } from "./constants";
import { ScreenshotTestDemo } from "./stories/screenshot";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    label: {
      control: { type: "text" },
      required: true,
    },
  },
  component: TagFilter,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/TagFilter",
} as Meta;

// Default

export const Default = {
  args: {
    label: "TagFilter",
  },
};

// Screenshot Test

export const ScreenshotTest = {
  args: {
    label: "Label",
  },
  parameters: {
    controls: {
      exclude: TAG_FILTER_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ScreenshotTestDemo {...args} />,
};

// Test

export const Test = {
  args: {
    label: "Label",
  },
  parameters: {
    controls: {
      exclude: TAG_FILTER_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} data-testid="tag-filter" />,
};
</file>

<file path="packages/components/src/core/TagFilter/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<TagFilter /> Default story renders snapshot 1`] = `
<div
  style="display: inline-grid; grid-template-columns: repeat(1, 1fr); grid-template-rows: repeat(1, 1fr);"
>
  <div>
    <button
      class="MuiButtonBase-root MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary Mui-disabled MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeMedium MuiButton-textSizeMedium MuiButton-colorPrimary css-v3yj0-MuiButtonBase-root-MuiButton-root"
      data-style="minimal"
      disabled=""
      tabindex="-1"
      type="button"
    >
      Delete the tag by clicking on its icon
    </button>
  </div>
  <div>
    <div
      class="MuiButtonBase-root MuiChip-root MuiChip-filled MuiChip-sizeMedium MuiChip-colorPrimary MuiChip-deletable MuiChip-deletableColorPrimary MuiChip-filledPrimary css-qvzi10-MuiButtonBase-root-MuiChip-root"
      role="none presentation"
      tabindex="0"
    >
      <span
        class="MuiChip-label MuiChip-labelMedium css-6od3lo-MuiChip-label"
      >
        TagFilter
      </span>
      <button
        aria-label="Delete Tag"
        class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium MuiChip-deleteIcon MuiChip-deleteIconMedium MuiChip-deleteIconColorPrimary MuiChip-deleteIconFilledColorPrimary css-3px3eh-MuiButtonBase-root-MuiIconButton-root"
        icon="XMark"
        tabindex="0"
        type="button"
      >
        <div
          class="css-1ft6wgl"
        >
          <svg
            aria-hidden="true"
            class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
            data-file-name="IconXMarkSmall"
            data-testid="IconXMarkSmall"
            fillcontrast="white"
            focusable="false"
            height="16"
            viewBox="0 0 16 16"
            width="16"
          />
        </div>
        <span
          class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
        />
      </button>
    </div>
  </div>
</div>
`;
</file>

<file path="packages/components/src/core/TagFilter/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

const { Test } = composeStories(stories);

describe("<TagFilter />", () => {
  generateSnapshots(stories);

  it("renders TagFilter component", () => {
    render(<Test />);
    const elements = screen.getAllByTestId("tag-filter");
    expect(elements.length).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/TagFilter/__tests__/TagFilter.namespace-test.tsx">
import { TagFilter, TagFilterProps } from "@czi-sds/components";
import React from "react";
import { noop } from "src/common/utils";

const TagFilterNameSpaceTest = (props: TagFilterProps) => {
  return <TagFilter label="Label" onDelete={noop} />;
};
</file>

<file path="packages/components/src/core/TagFilter/index.tsx">
import { ChipProps } from "@mui/material";
import React from "react";
import { StyledTag } from "./style";
import Button from "../Button";

export interface SdsTagFilterProps
  extends Omit<ChipProps, "color" | "variant"> {
  label: string;
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  onDelete: React.EventHandler<any>;
}

export type TagFilterProps = SdsTagFilterProps;

/**
 * @see https://mui.com/material-ui/react-chip/
 */

const TagFilter = (props: SdsTagFilterProps): JSX.Element => {
  return (
    <StyledTag
      role="none presentation"
      {...props}
      deleteIcon={
        <Button
          aria-label="Delete Tag"
          icon="XMark"
          sdsSize="small"
          sdsType="tertiary"
          sdsStyle="icon"
        />
      }
      color="info"
    />
  );
};

export default TagFilter;
</file>

<file path="packages/components/src/core/TagFilter/style.ts">
import { css } from "@emotion/react";
import styled from "@emotion/styled";
import React from "react";
import {
  CommonThemeProps,
  fontHeaderXs,
  getIconSizes,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";
import Tag from "src/core/Tag";

export interface TagFilterExtraProps extends CommonThemeProps {
  label: string;
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  onDelete: React.EventHandler<any>;
}

export const StyledTag = styled(Tag)`
  ${(props: TagFilterExtraProps) => {
    const spaces = getSpaces(props);
    const iconSizes = getIconSizes(props);
    const semanticColors = getSemanticColors(props);

    return css`
      padding: ${spaces?.xxs}px ${spaces?.s}px;
      background-color: ${semanticColors?.accent?.fillPrimary};

      .MuiChip-label {
        ${fontHeaderXs(props)}
        z-index: auto;
      }

      .MuiChip-deleteIcon {
        margin: 0 0 0 ${spaces?.s}px;
        width: ${iconSizes?.xs?.width}px !important;
        height: ${iconSizes?.xs?.height}px !important;
      }

      .MuiSvgIcon-root {
        margin: 0;
        width: ${iconSizes?.xs?.width}px !important;
        height: ${iconSizes?.xs?.height}px !important;
      }

      svg {
        z-index: auto;
      }

      &:hover,
      &:focus,
      &:focus-within {
        background-color: ${semanticColors?.accent?.fillHover};

        .MuiChip-label {
          color: ${semanticColors?.base?.textPrimaryInverse} !important;
        }

        .MuiChip-deleteIcon svg {
          fill: ${semanticColors?.base?.ornamentPrimaryInverse} !important;
        }
      }

      &:active {
        background-color: ${semanticColors?.accent?.fillPressed};
      }

      &:after {
        display: none;
      }
    `;
  }}
`;
</file>

<file path="packages/components/src/core/Tooltip/__storybook__/stories/default.tsx">
import { useTheme } from "@mui/material";
import { Args } from "@storybook/react";
import Button from "src/core/Button";
import { getSemanticColors } from "src/core/styles";
import RawTooltip from "src/core/Tooltip";

export const CustomComponentSlot = (): JSX.Element => {
  const theme = useTheme();
  const colors = getSemanticColors({ theme });

  return (
    <div
      style={{
        alignItems: "center",
        border: `1px dashed ${colors?.base.borderPrimary}`,
        display: "flex",
        fontSize: 10,
        fontWeight: "normal",
        height: 50,
        justifyContent: "center",
        width: "100%",
      }}
    >
      Component slot
    </div>
  );
};

export const Tooltip = (props: Args): JSX.Element => {
  const { title } = props;
  return (
    <div>
      Hover over the info icon to view the tooltip.
      <p>
        ArrowOffset changes the position of the tooltip arrow and can be any
        numeric value within [-120, 120]. Any value value over the width of the
        tooltip will remove the arrow from the tooltip.
      </p>
      <div
        style={{
          margin: "135px 300px",
        }}
      >
        <RawTooltip title={title} {...props}>
          <Button
            aria-label="tooltip test button"
            sdsStyle="icon"
            sdsSize="large"
            icon="ExclamationMarkCircle"
          />
        </RawTooltip>
      </div>
    </div>
  );
};
</file>

<file path="packages/components/src/core/Tooltip/__storybook__/stories/placementDemo.tsx">
import { TOOLTIP_PLACEMENT_STYLES } from "../constants";
import RawTooltip from "src/core/Tooltip";
import Button from "src/core/Button";

export const PlacementDemo = (): JSX.Element => {
  return (
    <div style={TOOLTIP_PLACEMENT_STYLES as React.CSSProperties}>
      <RawTooltip title="Text" placement="top-start" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          top-start
        </Button>
      </RawTooltip>
      <RawTooltip title="Text" placement="top" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          top
        </Button>
      </RawTooltip>
      <RawTooltip title="Text" placement="top-end" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          top-end
        </Button>
      </RawTooltip>
      <RawTooltip title="Text" placement="left-start" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          left-start
        </Button>
      </RawTooltip>
      <div />
      <RawTooltip title="Text" placement="right-start" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          right-start
        </Button>
      </RawTooltip>
      <RawTooltip title="Text" placement="left" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          left
        </Button>
      </RawTooltip>
      <div />
      <RawTooltip title="Text" placement="right" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          right
        </Button>
      </RawTooltip>
      <RawTooltip title="Text" placement="left-end" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          left-end
        </Button>
      </RawTooltip>
      <div />
      <RawTooltip title="Text" placement="right-end" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          right-end
        </Button>
      </RawTooltip>
      <RawTooltip title="Text" placement="bottom-start" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          bottom-start
        </Button>
      </RawTooltip>
      <RawTooltip title="Text" placement="bottom" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          bottom
        </Button>
      </RawTooltip>
      <RawTooltip title="Text" placement="bottom-end" arrow open>
        <Button sdsStyle="minimal" sdsType="secondary">
          bottom-end
        </Button>
      </RawTooltip>
    </div>
  );
};
</file>

<file path="packages/components/src/core/Tooltip/__storybook__/stories/screenshot.tsx">
import {
  TOOLTIP_MID_LABEL,
  TOOLTIP_ARROW_OFFSET_OPTIONS,
  TOOLTIP_ARROW_OPTIONS,
  TOOLTIP_DISPLAY_CONTENTS,
  TOOLTIP_SDS_STYLES,
  TOOLTIP_SUBTITLE_OPTIONS,
  TOOLTIP_WIDTH_OPTIONS,
} from "../constants";
import RawTooltip from "src/core/Tooltip";
import Button from "src/core/Button";

export const ScreenshotTestDemo = (): JSX.Element => {
  // loop through all SDS_STYLES
  return (
    <>
      {TOOLTIP_SDS_STYLES.map((sdsStyle) => {
        return <TooltipStyle sdsStyle={sdsStyle} key={sdsStyle} />;
      })}
    </>
  );

  // loop through all ARROW_OPTIONS + create headers for SDS_STYLES
  function TooltipStyle({
    sdsStyle,
  }: {
    sdsStyle: (typeof TOOLTIP_SDS_STYLES)[number];
  }) {
    const LEVEL_STYLE: React.CSSProperties = {
      columnGap: "25px",
      display: "inline-grid",
      fontFamily: "sans-serif",
      marginLeft: "50px",
    };
    const LABEL_STYLE: React.CSSProperties = {
      fontSize: "2em",
      gridColumn: "1 / 3",
      marginBottom: 0,
    };
    return (
      <div style={LEVEL_STYLE}>
        <p style={LABEL_STYLE}>
          Style: <b>{sdsStyle}</b>
        </p>
        {TOOLTIP_ARROW_OPTIONS.map((arrow) => {
          return (
            <TooltipArrow
              sdsStyle={sdsStyle}
              arrow={arrow}
              key={String(arrow)}
            />
          );
        })}
      </div>
    );
  }

  // loop through all ARROW_OFFSET_OPTIONS + create headers for ARROW_OPTIONS
  function TooltipArrow({
    sdsStyle,
    arrow,
  }: {
    sdsStyle: (typeof TOOLTIP_SDS_STYLES)[number];
    arrow: (typeof TOOLTIP_ARROW_OPTIONS)[number];
  }) {
    const LABEL_STYLE: React.CSSProperties = {
      ...TOOLTIP_MID_LABEL,
      borderWidth: "5px",
      fontSize: "1.5em",
      margin: "20px 0 0 0",
    };
    return (
      <div style={TOOLTIP_DISPLAY_CONTENTS}>
        <p style={LABEL_STYLE}>
          Arrow: <b>{arrow ? "true" : "false"}</b>
        </p>
        {TOOLTIP_ARROW_OFFSET_OPTIONS.map((arrowOffset) => {
          return (
            // arrowOffset is a dependency of arrow, so should only render if arrow is true
            ((arrow === true && arrowOffset !== undefined) ||
              (arrow === false && arrowOffset === undefined)) && (
              <TooltipArrowOffset
                sdsStyle={sdsStyle}
                arrow={arrow}
                arrowOffset={arrowOffset}
                key={String(arrowOffset)}
              />
            )
          );
        })}
      </div>
    );
  }

  // loop through all SUBTITLE_OPTIONS + create headers for ARROW_OFFSET_OPTIONS
  function TooltipArrowOffset({
    sdsStyle,
    arrow,
    arrowOffset,
  }: {
    sdsStyle: (typeof TOOLTIP_SDS_STYLES)[number];
    arrow: (typeof TOOLTIP_ARROW_OPTIONS)[number];
    arrowOffset: (typeof TOOLTIP_ARROW_OFFSET_OPTIONS)[number];
  }) {
    const LABEL_STYLE: React.CSSProperties = {
      ...TOOLTIP_MID_LABEL,
      borderWidth: "2px",
      fontSize: "1.17em",
      margin: "20px 0",
    };
    return (
      <div style={TOOLTIP_DISPLAY_CONTENTS}>
        {/* arrowOffset is a dependency of arrow, so should only render if arrow is true */}
        {arrow === true && (
          <p style={LABEL_STYLE}>
            Arrow offset: <b>{arrowOffset}</b>
          </p>
        )}
        {TOOLTIP_SUBTITLE_OPTIONS.map((subtitle) => {
          return (
            // subtitle is only allowed for dark style
            (sdsStyle === "dark" ||
              (sdsStyle === "light" && subtitle === undefined)) && (
              <TooltipSubtitle
                sdsStyle={sdsStyle}
                arrow={arrow}
                arrowOffset={arrowOffset}
                subtitle={subtitle}
                key={String(subtitle)}
              />
            )
          );
        })}
      </div>
    );
  }

  // loop through all WIDTH_OPTIONS + create headers for SUBTITLE_OPTIONS, WIDTH_OPTIONS
  function TooltipSubtitle({
    sdsStyle,
    arrow,
    arrowOffset,
    subtitle,
  }: {
    sdsStyle: (typeof TOOLTIP_SDS_STYLES)[number];
    arrow: (typeof TOOLTIP_ARROW_OPTIONS)[number];
    arrowOffset: (typeof TOOLTIP_ARROW_OFFSET_OPTIONS)[number];
    subtitle: (typeof TOOLTIP_SUBTITLE_OPTIONS)[number];
  }) {
    const WIDTH_LEVEL: React.CSSProperties = {
      display: "contents",
    };
    const LABEL_STYLE: React.CSSProperties = {
      fontSize: "0.67em",
      margin: "10px 0",
    };
    const DEFAULT_WIDTH_STYLE: React.CSSProperties = {
      margin: "0 125px 100px",
    };
    const WIDE_WIDTH_STYLE: React.CSSProperties = {
      margin: "0 275px 100px",
    };
    return (
      // assign specific styles to light-style Tooltip only, since it's the only one that has width options and needs special style-accommodations
      <div style={sdsStyle === "light" ? WIDTH_LEVEL : undefined}>
        {/* Show "Subtitle" label for dark-style Tooltip only */}
        {sdsStyle === "dark" && (
          <p style={LABEL_STYLE}>
            Subtitle: <b>{subtitle ? "yes" : "no"}</b>
          </p>
        )}
        {TOOLTIP_WIDTH_OPTIONS.map((width) => {
          return (
            // exclude "wide" width option for dark-style Tooltip
            (sdsStyle === "light" ||
              (sdsStyle === "dark" && width === "default")) && (
              <div key={String(sdsStyle) + String(width)}>
                <>
                  {/* Show "Width" label for light-style Tooltip only */}
                  {sdsStyle === "light" && (
                    <p style={LABEL_STYLE}>
                      Width: <b>{width}</b>
                    </p>
                  )}
                  <RawTooltip
                    // assign special styles depending on width option
                    style={
                      width === "default"
                        ? DEFAULT_WIDTH_STYLE
                        : WIDE_WIDTH_STYLE
                    }
                    title="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor ut et labore dolore"
                    sdsStyle={sdsStyle}
                    subtitle={subtitle}
                    arrow={arrow}
                    arrowOffset={arrowOffset}
                    width={width}
                    key={String(width)}
                    open
                  >
                    <Button
                      aria-label="tooltip test button"
                      sdsStyle="icon"
                      sdsSize="medium"
                      icon="ExclamationMarkCircle"
                      sdsType="tertiary"
                      tabIndex={0}
                    ></Button>
                  </RawTooltip>
                </>
              </div>
            )
          );
        })}
      </div>
    );
  }
};
</file>

<file path="packages/components/src/core/Tooltip/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import RawTooltip from "src/core/Tooltip";

export const TestDemo = (props: Args): JSX.Element => {
  const { title, ...rest } = props;
  return (
    <RawTooltip title={title} {...rest} data-testid="tooltip">
      <div style={{ display: "inline-block" }}>
        I am a tooltip child element.
      </div>
    </RawTooltip>
  );
};
</file>

<file path="packages/components/src/core/Tooltip/__storybook__/constants.tsx">
import Link from "src/core/Link";
import { TooltipExtraProps } from "../style";
import { CustomComponentSlot } from "./stories/default";

export const TOOLTIP_EXCLUDED_CONTROLS = [
  "arrow",
  "arrowOffset",
  "placement",
  "sdsStyle",
  "title",
  "width",
  "textAlign",
  "followCursor",
  "inverted",
  "hasInvertedStyle",
];

export const TOOLTIP_LIVE_PREVIEW_STYLES = {
  alignSelf: "self-start",
  display: "grid",
  gridColumnGap: "80px",
  gridTemplateColumns: "repeat(3, 130px)",
  paddingTop: "80px",
};

export const TOOLTIP_PLACEMENT_STYLES = {
  display: "grid",
  gridColumnGap: "50px",
  gridRowGap: "50px",
  gridTemplateColumns: "repeat(3, 130px)",
  gridTemplateRows: "repeat(5, 60px)",
  justifyContent: "center",
  padding: "100px",
};

export const TOOLTIP_SDS_STYLES = ["light", "dark"];
export const TOOLTIP_SUBTITLE_OPTIONS = [
  "Lorem ipsum dolor sit amet",
  undefined,
];
export const TOOLTIP_ARROW_OPTIONS = [true];
export const TOOLTIP_ARROW_OFFSET_OPTIONS = [undefined, -112, -60, 0, 60, 112];
export const TOOLTIP_WIDTH_OPTIONS: TooltipExtraProps["width"][] = [
  "default",
  "wide",
];

export const TOOLTIP_DISPLAY_CONTENTS: React.CSSProperties = {
  display: "contents",
};
export const TOOLTIP_MID_LABEL: React.CSSProperties = {
  borderStyle: "solid none none none",
  gridColumn: "1 / 3",
  justifySelf: "stretch",
  paddingTop: 10,
};

export const TOOLTIP_COMPONENT_SLOT_OPTIONS = [
  <CustomComponentSlot key="component-slot" />,
  <Link
    href="https://www.google.com"
    sdsSize="xs"
    fontWeight="bold"
    sdsStyle="dashed"
    key="link"
  >
    Lorem ipsum dollor sit amet
  </Link>,
  null,
];
</file>

<file path="packages/components/src/core/Tooltip/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { Tooltip } from "./stories/default";
import {
  TOOLTIP_COMPONENT_SLOT_OPTIONS,
  TOOLTIP_EXCLUDED_CONTROLS,
} from "./constants";
import { PlacementDemo } from "./stories/placementDemo";
import { ScreenshotTestDemo } from "./stories/screenshot";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    arrowOffset: {
      control: { type: "number" },
    },
    componentSlot: {
      control: {
        labels: ["Component Placeholder", "Sample Link", "Empty"],
        type: "select",
      },
      mapping: TOOLTIP_COMPONENT_SLOT_OPTIONS,
      options: Object.keys(TOOLTIP_COMPONENT_SLOT_OPTIONS),
    },
    hasInvertedStyle: {
      control: { type: "boolean" },
    },
    placement: {
      control: { type: "select" },
      options: [
        "bottom-start",
        "bottom",
        "bottom-end",
        "left-start",
        "left",
        "left-end",
        "right-start",
        "right",
        "right-end",
        "top-start",
        "top",
        "top-end",
      ],
    },
    textAlign: {
      control: { type: "radio" },
      options: ["left", "center", "right"],
    },
    title: {
      control: { type: "text" },
    },
    width: {
      control: { type: "radio" },
      options: ["default", "wide"],
    },
  },
  component: Tooltip,
  parameters: {
    badges: [BADGE.STABLE],
    // delay allows for font to load and prevents chromatic from constantly creating new baselines
    chromatic: { delay: 5000 },
  },
  title: "Components/Tooltip",
} as Meta;

// Default

export const Default = {
  args: {
    placement: "top",
    subtitle: "dolor sit amet",
    title: "Lorem ipsum",
    width: "default",
  },
};

// Placement Demo

export const PlacementPreview = {
  parameters: {
    controls: {
      exclude: TOOLTIP_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <PlacementDemo {...args} />,
};

// Screenshot Test

export const ScreenshotTest = {
  parameters: {
    controls: {
      exclude: TOOLTIP_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <ScreenshotTestDemo {...args} />,
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: TOOLTIP_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => (
    <TestDemo title="test" {...args} data-testid="tooltip" />
  ),
};
</file>

<file path="packages/components/src/core/Tooltip/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<Tooltip /> Default story renders snapshot 1`] = `
<div>
  Hover over the info icon to view the tooltip.
  <p>
    ArrowOffset changes the position of the tooltip arrow and can be any numeric value within [-120, 120]. Any value value over the width of the tooltip will remove the arrow from the tooltip.
  </p>
  <div
    style="margin: 135px 300px;"
  >
    <button
      aria-label="tooltip test button"
      class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-1sh3t66-MuiButtonBase-root-MuiIconButton-root"
      data-mui-internal-clone-element="true"
      icon="ExclamationMarkCircle"
      tabindex="0"
      type="button"
    >
      <div
        class="css-1ft6wgl"
      >
        <svg
          aria-hidden="true"
          class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-bgw7zo-MuiSvgIcon-root"
          data-file-name="IconExclamationMarkCircleLarge"
          data-testid="IconExclamationMarkCircleLarge"
          fillcontrast="white"
          focusable="false"
          height="24"
          viewBox="0 0 24 24"
          width="24"
        />
      </div>
      <span
        class="MuiTouchRipple-root css-8je8zh-MuiTouchRipple-root"
      />
    </button>
  </div>
</div>
`;
</file>

<file path="packages/components/src/core/Tooltip/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<Tooltip />", () => {
  generateSnapshots(stories);

  it("renders tooltip component", async () => {
    render(<Test {...Test.args} title="I am a tooltip" />);
    const tooltipElement = screen.getByTestId("tooltip");
    expect(tooltipElement).not.toBeNull();
  });

  it("does not render when no title content provided", () => {
    render(<Test {...Test.args} title="" />);
    const tooltipElement = screen.queryByTestId("tooltip");
    expect(tooltipElement).toBeNull();
  });

  it("renders children even when it does not render a tooltip", () => {
    render(<Test {...Test.args} title="" />);
    const child = screen.getByText("I am a tooltip child element.");
    expect(child).not.toBeNull();
  });
});
</file>

<file path="packages/components/src/core/Tooltip/__tests__/Tooltip.namespace-test.tsx">
import { Tooltip, TooltipProps } from "@czi-sds/components";
import React from "react";

const TooltipNameSpaceTest = (props: TooltipProps) => {
  return (
    <Tooltip
      title="Label lorem ipsum tellus ac cursus commodo, tortor mauris."
      subtitle="Subtitle"
      width="wide"
      sdsStyle="light"
      placement="top"
      arrow
      open
    >
      <p>Label</p>
    </Tooltip>
  );
};
</file>

<file path="packages/components/src/core/Tooltip/index.tsx">
import {
  Tooltip as RawTooltip,
  TooltipProps as RawTooltipProps,
  TooltipClassKey,
  useTheme,
} from "@mui/material";
import { forwardRef } from "react";
import {
  SDSWarningTypes,
  showWarningIfFirstOccurence,
} from "src/common/warnings";
import {
  StyledComponentSlotWrapper,
  StyledPopper,
  StyledSubtitle,
  StyledTitle,
  TooltipExtraProps,
  arrowCss,
  tooltipCss,
} from "./style";

type TooltipProps = TooltipExtraProps & RawTooltipProps;

export type { TooltipProps };

/**
 * @see https://mui.com/material-ui/react-tooltip/
 *
 * @warning If the tooltip wraps a disabled component, please make sure to
 * wrap the children in a `<span>` tag.
 * https://mui.com/components/tooltips/#disabled-elements
 */
const Tooltip = forwardRef(function Tooltip(
  props: TooltipProps,
  ref
): JSX.Element | null {
  const {
    arrowOffset,
    classes,
    hasInvertedStyle = true,
    inverted,
    sdsStyle = "dark",
    subtitle,
    title,
    width = "default",
    PopperComponent = StyledPopper,
    textAlign,
    componentSlot,
    ...rest
  } = props;

  const { children } = rest;

  if (inverted || sdsStyle) {
    showWarningIfFirstOccurence(SDSWarningTypes.TooltipInvertStyle);
  }

  if (width === "wide" && (sdsStyle === "dark" || hasInvertedStyle)) {
    showWarningIfFirstOccurence(SDSWarningTypes.TooltipWidth);
  }

  const theme = useTheme();

  const extraProps = {
    /* stylelint-disable property-no-unknown -- false positive */
    arrowOffset,
    classes,
    hasInvertedStyle: invertStyleValue(inverted, sdsStyle, hasInvertedStyle),
    textAlign,
    theme,
    width,
    /* stylelint-enable property-no-unknown -- false positive */
  };

  const tooltip = mergeClass({
    className: tooltipCss(extraProps),
    key: "tooltip",
    props,
  });

  const arrow = mergeClass({
    className: arrowCss(extraProps),
    key: "arrow",
    props,
  });

  // (mlila) if no content is passed into the tooltip, don't render
  // a tooltip. this matches with the native MUI behavior.
  if (!title && !subtitle) return <>{children}</>;

  const content = (
    <>
      {title && (
        <StyledTitle hasInvertedStyle={hasInvertedStyle}>{title}</StyledTitle>
      )}
      {subtitle && (
        <StyledSubtitle hasInvertedStyle={hasInvertedStyle}>
          {subtitle}
        </StyledSubtitle>
      )}

      {componentSlot && (
        <StyledComponentSlotWrapper>{componentSlot}</StyledComponentSlotWrapper>
      )}
    </>
  );

  const leaveDelay =
    hasInvertedStyle || inverted || sdsStyle === "dark" ? 0 : 500;

  return (
    <RawTooltip
      classes={{ arrow, tooltip }}
      leaveDelay={leaveDelay}
      title={content}
      PopperComponent={PopperComponent}
      // (masoudmanson): Setting tabIndex to 0 makes the tooltip component
      // focusable and allows keyboard navigation.
      tabIndex={0}
      ref={ref}
      // (masoudmanson): SDS Tooltips should always have an arrow
      // and by setting the arrow prop to true, we ensure that
      // the arrow is always rendered.
      arrow={true}
      {...rest}
    />
  );
});

/**
 * (masoudmanson): Temporary function to handle the inversion of the tooltip
 * based on the sdsStyle, invert and hasInvertedStyle props.
 * Once the sdsStyle and invert props are completely removed,
 * this function will be removed as well.
 */
function invertStyleValue(
  inverted: boolean | undefined,
  sdsStyle: "light" | "dark" | undefined,
  hasInvertedStyle: boolean | undefined
) {
  return hasInvertedStyle !== undefined
    ? hasInvertedStyle
    : sdsStyle === "dark"
      ? true
      : sdsStyle === "light"
        ? false
        : inverted;
}

function mergeClass({
  props,
  className,
  key,
}: {
  props: TooltipProps;
  className: string;
  key: TooltipClassKey;
}) {
  const { classes } = props;

  if (!classes) return className;

  const propClassName = classes[key];

  return propClassName ? `${propClassName} ${className}` : className;
}

export default Tooltip;
</file>

<file path="packages/components/src/core/Tooltip/style.ts">
import { css } from "@emotion/css";
import { Popper } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBodyXs,
  fontBodyXxs,
  fontHeaderXs,
  getSemanticColors,
  getShadows,
  getSpaces,
} from "src/core/styles";

export interface TooltipExtraProps extends CommonThemeProps {
  // TODO(185930): remove custom `followCursor` prop when we upgrade to MUIv5
  arrowOffset?: number;
  followCursor?: boolean;
  // @deprecated Use `hasInvertedStyle` instead
  inverted?: boolean;
  // @deprecated Use `hasInvertedStyle` instead
  sdsStyle?: "dark" | "light";
  hasInvertedStyle?: boolean;
  subtitle?: React.ReactNode;
  width?: "default" | "wide";
  textAlign?: "left" | "center" | "right";
  componentSlot?: React.ReactNode;
}

const dark = (props: TooltipExtraProps): string => {
  const spaces = getSpaces(props);
  const semanticColors = getSemanticColors(props);

  return css`
    ${fontHeaderXs(props)}
    background-color: ${semanticColors?.base?.surfaceInverse};
    color: ${semanticColors?.base?.textPrimaryInverse};
    padding: ${spaces?.s}px ${spaces?.l}px;
  `;
};

const light = (props: TooltipExtraProps): string => {
  const spaces = getSpaces(props);
  const semanticColors = getSemanticColors(props);

  return css`
    ${fontBodyXs(props)}
    background-color: ${semanticColors?.base?.surface};
    color: ${semanticColors?.base?.textPrimary};
    padding: ${spaces?.s}px ${spaces?.l}px;
  `;
};

const tableStyles = (props: TooltipExtraProps): string => {
  const spaces = getSpaces(props);

  return css`
    padding: ${spaces?.m}px;
  `;
};

const doNotForwardProps = ["hasInvertedStyle", "textAlign"];

export const StyledTitle = styled("p", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontHeaderXs}

  ${(props: TooltipExtraProps) => {
    const { hasInvertedStyle } = props;

    const semanticColors = getSemanticColors(props);

    return `
      margin: 0;
      color: ${hasInvertedStyle ? semanticColors?.base?.textPrimaryInverse : semanticColors?.base?.textPrimary};
    `;
  }}
`;

export const StyledSubtitle = styled("p", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  ${fontBodyXxs}

  ${(props: TooltipExtraProps) => {
    const { hasInvertedStyle } = props;

    const semanticColors = getSemanticColors(props);

    return `
      margin: 0;
      color: ${hasInvertedStyle ? semanticColors?.base?.textSecondaryInverse : semanticColors?.base?.textSecondary};
    `;
  }}
`;

export const tooltipCss = (props: TooltipExtraProps): string => {
  const {
    hasInvertedStyle = true,
    inverted,
    sdsStyle,
    width,
    followCursor,
    textAlign,
  } = props;
  const shadows = getShadows(props);

  return css`
    &.MuiTooltip-tooltip {
      box-shadow: ${shadows?.m};
      max-width: ${width === "wide" ? "550px" : "250px"} !important;
      text-align: ${textAlign
        ? textAlign
        : width === "wide"
          ? "left"
          : "center"} !important;

      ${sdsStyle === "dark" || inverted || hasInvertedStyle
        ? dark(props)
        : light(props)}

      ${followCursor === true && tableStyles(props)}
    }
  `;
};

export const arrowCss = (props: TooltipExtraProps): string => {
  const { hasInvertedStyle, inverted, sdsStyle, arrowOffset } = props;

  const semanticColors = getSemanticColors(props);

  return css`
    &.MuiTooltip-arrow {
      /* (bethbertozzi): !important is needed to fight inline style */
      left: ${arrowOffset}px !important;
      color: ${hasInvertedStyle || inverted || sdsStyle === "dark"
        ? semanticColors?.base?.surfaceInverse
        : semanticColors?.base?.surface};
      &:before {
        box-sizing: border-box;
        width: 12px;
        height: 12px;
      }
    }
  `;
};

/*
 * (masoudmanson): !important is needed to override arrow's
 * default placement which is calculated by javascript
 */
export const StyledPopper = styled(Popper)`
  &[data-popper-placement*="top"] .MuiTooltip-arrow {
    width: 24px !important;
    height: 12px !important;
    margin-bottom: -12px !important;
    &:before {
      transform: rotate(45deg) translate(0px, -2px);
      border-bottom-right-radius: 2px;
      box-shadow: 0 0 3px 2px rgba(0, 0, 0, 0.1);
    }
  }

  &[data-popper-placement*="bottom"] .MuiTooltip-arrow {
    width: 24px !important;
    height: 12px !important;
    margin-top: -12px !important;
    &:before {
      transform: rotate(45deg) translate(-1px, 2px);
      border-top-left-radius: 2px;
      box-shadow: 0 0 2px 0px rgba(0, 0, 0, 0.1);
    }
  }

  &[data-popper-placement*="left"] .MuiTooltip-arrow {
    width: 12px !important;
    height: 16px !important;
    margin-right: -12px !important;
    &:before {
      transform: rotate(45deg) translate(-1px, 1px);
      border-top-right-radius: 2px;
      box-shadow: 0 0 4px 0px rgba(0, 0, 0, 0.1);
    }
  }

  &[data-popper-placement*="right"] .MuiTooltip-arrow {
    width: 12px !important;
    height: 16px !important;
    margin-left: -12px !important;
    &:before {
      transform: rotate(45deg) translate(4px, 2px);
      border-bottom-left-radius: 2px;
      box-shadow: 0 0 4px 0px rgba(0, 0, 0, 0.1);
    }
  }
`;

export const StyledComponentSlotWrapper = styled("div")`
  ${(props: TooltipExtraProps) => {
    const spaces = getSpaces(props);
    return `
      margin-top: ${spaces?.m}px;
      margin-bottom: ${spaces?.xxxs}px;
    `;
  }}
`;
</file>

<file path="packages/components/src/core/TooltipCondensed/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import Button from "src/core/Button";
import RawTooltipCondensed from "src/core/TooltipCondensed";

export const TooltipCondensed = (props: Args): JSX.Element => {
  const { title, indicator } = props;
  return (
    <div>
      <div
        style={{
          alignItems: "center",
          display: "flex",
          flexDirection: "column",
          height: "100vh",
          justifyContent: "center",
        }}
      >
        <RawTooltipCondensed indicator={indicator} title={title} {...props}>
          <Button
            aria-label="tooltip condensed test button"
            data-testid="tooltip-hover"
            icon="ExclamationMarkCircle"
            sdsSize="large"
            sdsStyle="icon"
            sdsType="tertiary"
          />
        </RawTooltipCondensed>
        <p>Hover over the info icon to view the tooltip.</p>
      </div>
    </div>
  );
};
</file>

<file path="packages/components/src/core/TooltipCondensed/__storybook__/constants.ts">
export const TOOLTIP_CONDENSED_EXCLUDED_CONTROLS = [
  "indicator",
  "indicatorColor",
  "title",
];

export const TOOLTIP_CONDENSED_LIVE_PREVIEW_STYLES = {
  display: "grid",
  gridTemplateColumns: "repeat(2, 80px)",
};
</file>

<file path="packages/components/src/core/TooltipCondensed/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import { TooltipCondensed } from "./stories/default";
import { TOOLTIP_CONDENSED_EXCLUDED_CONTROLS } from "./constants";

export default {
  argTypes: {
    hasInvertedStyle: {
      control: { type: "boolean" },
    },
    indicator: {
      control: { type: "boolean" },
    },
    indicatorColor: {
      control: { type: "color" },
    },
  },
  component: TooltipCondensed,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/TooltipCondensed",
} as Meta;

// Default

export const Default = {
  args: {
    hasInvertedStyle: false,
    title: "Label",
  },
};

// Test

export const Test = {
  args: {
    title: "Test",
  },
  parameters: {
    controls: {
      exclude: TOOLTIP_CONDENSED_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => (
    <TooltipCondensed {...args} data-testid="tooltip-condensed" />
  ),
};
</file>

<file path="packages/components/src/core/TooltipCondensed/__tests__/index.test.tsx">
import { composeStories } from "@storybook/react";
import { fireEvent, render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<TooltipCondensed />", () => {
  // (mmoore): no snapshot of this component. The tooltip can be shown by default, but MUI appends it to the page outside the scope of what `generateSnapshots` captures.

  it("renders components", async () => {
    render(<Test />);
    const tooltipHoverElement = screen.getByTestId("tooltip-hover");
    fireEvent.mouseOver(tooltipHoverElement);
    await screen.findByText("Test");
  });
});
</file>

<file path="packages/components/src/core/TooltipCondensed/__tests__/TooltipCondensed.namespace-test.tsx">
import { TooltipCondensed, TooltipCondensedProps } from "@czi-sds/components";
import React from "react";

const TooltipCondensedNameSpaceTest = (props: TooltipCondensedProps) => {
  return (
    <TooltipCondensed indicator indicatorColor="#223F9C" title="Label">
      <p>Label</p>
    </TooltipCondensed>
  );
};
</file>

<file path="packages/components/src/core/TooltipCondensed/index.tsx">
import { TooltipClassKey, useTheme } from "@mui/material";
import { forwardRef } from "react";
import Tooltip, { TooltipProps } from "src/core/Tooltip";
import { condensedCSS, TooltipCondensedExtraProps } from "./style";

export type TooltipCondensedProps = TooltipProps & TooltipCondensedExtraProps;

/**
 * @see https://mui.com/material-ui/react-tooltip/
 *
 * @warning If the tooltip wraps a disabled component, please make sure to
 * wrap the children in a `<span>` tag.
 * https://mui.com/components/tooltips/#disabled-elements
 */
const TooltipCondensed = forwardRef(function TooltipCondensed(
  props: TooltipCondensedProps,
  ref
): JSX.Element {
  const { children, title, indicator, indicatorColor, ...rest } = props;

  const theme = useTheme();

  const extraProps = {
    /* stylelint-disable property-no-unknown -- false positive */
    indicator,
    indicatorColor,
    theme,
    /* stylelint-enable property-no-unknown -- false positive */
  };

  const tooltip = mergeClass({
    className: condensedCSS(extraProps),
    key: "tooltip",
    props,
  });

  return (
    <Tooltip
      {...rest}
      // (masoudmanson): The following props must be passed to the Tooltip component
      // exactly as defined below. To ensure they aren't overridden by the spread operator,
      // we pass them after the spread operator.
      followCursor
      placement="right-end"
      enterDelay={50}
      leaveDelay={50}
      title={title}
      ref={ref}
      classes={{ tooltip }}
      arrow={false}
    >
      {children}
    </Tooltip>
  );
});

function mergeClass({
  props,
  className,
  key,
}: {
  props: TooltipProps;
  className: string;
  key: TooltipClassKey;
}) {
  const { classes } = props;

  if (!classes) return className;

  const propClassName = classes[key];

  return propClassName ? `${propClassName} ${className}` : className;
}

export default TooltipCondensed;
</file>

<file path="packages/components/src/core/TooltipCondensed/style.ts">
import { css } from "@emotion/css";
import { CommonThemeProps, getCorners, getSpaces } from "src/core/styles";

export interface TooltipCondensedExtraProps extends CommonThemeProps {
  indicator?: boolean;
  indicatorColor?: string;
}

const indicatorCSS = (props: TooltipCondensedExtraProps): string => {
  const { indicatorColor } = props;
  const spaces = getSpaces(props);
  const corners = getCorners(props);

  return css`
    &::before {
      content: "";
      width: ${spaces?.m}px;
      height: ${spaces?.m}px;
      display: block;
      background-color: ${indicatorColor};
      border-radius: ${corners?.l}px;
      margin-right: ${spaces?.m}px;
    }
  `;
};

export const condensedCSS = (props: TooltipCondensedExtraProps): string => {
  const { indicator } = props;
  const spaces = getSpaces(props);

  return css`
    && {
      padding-top: ${spaces?.xxs}px;
      padding-bottom: ${spaces?.xxs}px;
      padding-left: ${spaces?.m}px;
      padding-right: ${spaces?.m}px;
      max-width: 250px;
      display: flex;
      align-items: center;

      ${indicator === true && indicatorCSS(props)}
    }
  `;
};
</file>

<file path="packages/components/src/core/TooltipTable/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import Link from "src/core/Link";
import RawTooltipTableContent from "src/core/TooltipTable";

export const TooltipTableContent = (props: Args): JSX.Element => {
  const { contentAlert } = props;
  const handleAlert = () => {
    let alertContent;
    switch (contentAlert) {
      case "String":
        alertContent = "Some values do not pass the selected filter";
        break;
      case "Element":
        alertContent = <Link href="/">Click this link to see samples</Link>;
        break;
      case "None":
      default:
        alertContent = undefined;
    }
    return alertContent;
  };

  return <RawTooltipTableContent {...props} contentAlert={handleAlert()} />;
};
</file>

<file path="packages/components/src/core/TooltipTable/__storybook__/stories/test.tsx">
import { Args } from "@storybook/react";
import RawTooltipTableContent from "src/core/TooltipTable";
import { TOOLTIP_TABLE_DATA } from "../constants";

export const TestDemo = (props: Args): JSX.Element => {
  return (
    <RawTooltipTableContent
      {...props}
      data={[TOOLTIP_TABLE_DATA[0], TOOLTIP_TABLE_DATA[1]]}
      data-testid="tooltipTable"
    />
  );
};
</file>

<file path="packages/components/src/core/TooltipTable/__storybook__/constants.tsx">
export const TOOLTIP_TABLE_EXCLUDED_CONTROLS = ["contentAlert", "itemAlign"];

const TOOLTIP_TABLE_ROWS = [
  { label: "Label 1", value: 1 },
  { label: "Label 2", value: 2 },
  { label: "Label 3", value: 3 },
  { label: "Label 4", value: 4 },
  { label: "Label 5 ", value: 5 },
  { label: "Label 6", value: 6 },
  { label: "Label 7", value: 7 },
  { label: "Label 8", value: 8 },
  { label: "Label 9", value: 9 },
  { label: "Label 10", value: 10 },
  { label: "Label 11", value: 11 },
  { label: "Label 12", value: 12 },
  { label: "Label 13", value: 13 },
  { label: "Label 14", value: 14 },
  { label: "Label 15", value: 15 },
];

export const TOOLTIP_TABLE_DATA = [
  {
    dataRows: TOOLTIP_TABLE_ROWS.slice(0, 5),
    label: "Section 1",
  },
  {
    dataRows: TOOLTIP_TABLE_ROWS.slice(5, 10),
    label: "Section 2",
  },
  {
    dataRows: TOOLTIP_TABLE_ROWS.slice(10, 15),
    label: "Section 3",
  },
];

export const TOOLTIP_TABLE_LIVE_PREVIEW_STYLES = {
  alignItems: "stretch",
  display: "flex",
  flexDirection: "row",
  gap: "20px",
  justifyContent: "flex-start",
};

export const TOOLTIP_TABLE_TOOLTIP_STYLE_MOCK = {
  flexGrow: 1,
};
</file>

<file path="packages/components/src/core/TooltipTable/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import {
  TOOLTIP_TABLE_DATA,
  TOOLTIP_TABLE_EXCLUDED_CONTROLS,
} from "./constants";
import { TooltipTableContent } from "./stories/default";
import { TestDemo } from "./stories/test";

export default {
  argTypes: {
    contentAlert: {
      control: { type: "select" },
      options: ["String", "Element", "None"],
    },
    itemAlign: {
      control: { type: "radio" },
      options: ["right", "left"],
    },
    showSectionHeader: {
      control: { type: "boolean" },
    },
  },
  component: TooltipTableContent,
  parameters: {
    badges: [BADGE.STABLE],
  },
  title: "Components/TooltipTable",
} as Meta;

// Default

export const Default = {
  args: {
    contentAlert: "None",
    data: TOOLTIP_TABLE_DATA,
    itemAlign: "right",
    showSectionHeader: true,
  },
};

// Test

export const Test = {
  parameters: {
    controls: {
      exclude: TOOLTIP_TABLE_EXCLUDED_CONTROLS,
    },
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <TestDemo {...args} />,
};
</file>

<file path="packages/components/src/core/TooltipTable/__tests__/__snapshots__/index.test.tsx.snap">
// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`<TooltipTable /> Default story renders snapshot 1`] = `
<div
  class="MuiTableContainer-root css-rorn0c-MuiTableContainer-root"
>
  <div
    class="css-1h9lvka"
  >
    <div
      class="css-1h5sc78"
      label="Section 1"
    >
      Section 1
    </div>
    <table
      class="MuiTable-root css-rqglhn-MuiTable-root"
    >
      <tbody
        class="MuiTableBody-root css-apqrd9-MuiTableBody-root"
      >
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 1
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            1
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 2
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            2
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 3
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            3
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 4
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            4
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 5 
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            5
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div
    class="css-1h9lvka"
  >
    <div
      class="css-1h5sc78"
      label="Section 2"
    >
      Section 2
    </div>
    <table
      class="MuiTable-root css-rqglhn-MuiTable-root"
    >
      <tbody
        class="MuiTableBody-root css-apqrd9-MuiTableBody-root"
      >
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 6
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            6
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 7
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            7
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 8
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            8
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 9
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            9
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 10
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            10
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div
    class="css-1h9lvka"
  >
    <div
      class="css-1h5sc78"
      label="Section 3"
    >
      Section 3
    </div>
    <table
      class="MuiTable-root css-rqglhn-MuiTable-root"
    >
      <tbody
        class="MuiTableBody-root css-apqrd9-MuiTableBody-root"
      >
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 11
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            11
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 12
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            12
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 13
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            13
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 14
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            14
          </td>
        </tr>
        <tr
          class="MuiTableRow-root css-1q1u3t4-MuiTableRow-root"
        >
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignLeft MuiTableCell-sizeSmall css-14jzyn8-MuiTableCell-root"
          >
            Label 15
          </td>
          <td
            class="MuiTableCell-root MuiTableCell-body MuiTableCell-alignRight MuiTableCell-sizeSmall css-mo86fa-MuiTableCell-root"
          >
            15
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
`;
</file>

<file path="packages/components/src/core/TooltipTable/__tests__/index.test.tsx">
import { generateSnapshots } from "@chanzuckerberg/story-utils";
import { composeStories } from "@storybook/react";
import { render, screen } from "@testing-library/react";
import * as stories from "../__storybook__/index.stories";

// Returns a component that already contain all decorators from story level, meta level and global level.
const { Test } = composeStories(stories);

describe("<TooltipTable />", () => {
  generateSnapshots(stories);

  it("renders tooltip component", async () => {
    render(<Test {...Test.args} />);
    const tooltipTableElement = screen.getByTestId("tooltipTable");
    expect(tooltipTableElement).not.toBeNull();
  });

  it("renders two sections if provided two objects of data", () => {
    render(<Test {...Test.args} />);
    const sectionHeaders = screen.getAllByText(/Section/i);
    expect(sectionHeaders).toHaveLength(2);
  });

  it("renders an alert if one is passed", async () => {
    const props = {
      contentAlert: "test",
    };

    render(<Test {...Test.args} {...props} />);
    const contentAlert = screen.getByText(/test/i);
    expect(contentAlert).toBeTruthy();
  });
});
</file>

<file path="packages/components/src/core/TooltipTable/__tests__/TooltipTable.namespace-test.tsx">
import {
  TooltipTableContent,
  TooltipTableContentProps,
} from "@czi-sds/components";
import React from "react";

const data = [
  {
    dataRows: [
      { label: "Label 1", value: 1 },
      { label: "Label 2", value: 2 },
    ],
    label: "Section 1",
  },
  {
    dataRows: [
      { label: "Label 3", value: 3 },
      { label: "Label 4", value: 4 },
    ],
    label: "Section 2",
  },
];

const TooltipTableContentNameSpaceTest = (props: TooltipTableContentProps) => {
  return (
    <TooltipTableContent contentAlert="String" itemAlign="left" data={data} />
  );
};
</file>

<file path="packages/components/src/core/TooltipTable/index.tsx">
import { Table, TableBody, TableContainer, TableRow } from "@mui/material";
import {
  Alert,
  RowLabel,
  RowValue,
  Section,
  SectionLabel,
  TooltipTableExtraProps,
} from "./style";

type TooltipTableContentProps = TooltipTableExtraProps;

export type { TooltipTableContentProps };

/**
 * @see https://mui.com/material-ui/react-table/
 */
const TooltipTableContent = (props: TooltipTableContentProps): JSX.Element => {
  const {
    contentAlert,
    data,
    itemAlign = "right",
    showSectionHeader = true,
    ...rest
  } = props;

  return (
    <TableContainer {...rest}>
      {contentAlert && <Alert>{contentAlert}</Alert>}
      {data?.map((section, index) => (
        <Section
          disabled={section.disabled}
          key={`${section.label + String(index)}`}
        >
          {showSectionHeader && (
            <SectionLabel disabled={section.disabled} label={section.label}>
              {section.label}
            </SectionLabel>
          )}
          <Table size="small">
            <TableBody>
              {section.dataRows.map((row, rowIndex) => (
                <TableRow key={row.label + String(rowIndex)}>
                  <RowLabel disabled={section.disabled} align="left">
                    {row.label}
                  </RowLabel>
                  <RowValue disabled={section.disabled} align={itemAlign}>
                    {row.value}
                  </RowValue>
                </TableRow>
              ))}
            </TableBody>
          </Table>
        </Section>
      ))}
    </TableContainer>
  );
};

export default TooltipTableContent;
</file>

<file path="packages/components/src/core/TooltipTable/style.ts">
import { TableCell } from "@mui/material";
import styled from "@emotion/styled";
import {
  CommonThemeProps,
  fontBodyXs,
  fontBodyXxs,
  fontCapsXxxxs,
  fontTabularXs,
  getBorders,
  getSemanticColors,
  getSpaces,
} from "src/core/styles";

export interface TooltipTableExtraProps extends CommonThemeProps {
  data?: Array<{
    label?: string;
    dataRows: {
      label: string;
      value: string | number;
    }[];
    disabled?: boolean;
  }>;
  contentAlert?: string | JSX.Element;
  itemAlign?: "left" | "right";
  showSectionHeader?: boolean;
}

const sdsPropNames = ["contentAlert", "itemAlign"];

export const disabledStyle = (props: SectionProps): string => {
  const { disabled } = props;

  const semanticColors = getSemanticColors(props);

  if (!disabled) return "";

  return `
    color: ${semanticColors?.base?.textDisabled};
  `;
};

interface SectionProps extends CommonThemeProps {
  disabled?: boolean;
  label?: string;
}

export const Section = styled("div")`
  ${disabledStyle}

  ${(props: SectionProps) => {
    const spaces = getSpaces(props);
    const borders = getBorders(props);

    return `
      &:not(:last-child) {
        padding-bottom: ${spaces?.m}px;
        border-bottom: ${borders?.base?.divider};
      }

      &:not(:first-of-type) {
        padding-top: ${spaces?.m}px;
      }
    `;
  }}
`;

export const SectionLabel = styled("div")`
  ${fontCapsXxxxs}
  ${disabledStyle}

  ${(props: SectionProps) => {
    const spaces = getSpaces(props);
    const semanticColors = getSemanticColors(props);

    if (!props.label) return "";

    return `
      margin-bottom: ${spaces?.s}px;      
      color: ${semanticColors?.base?.textSecondary};
    `;
  }}
`;

export const RowLabel = styled(TableCell, {
  shouldForwardProp: (prop) => {
    return !sdsPropNames.includes(prop.toString());
  },
})`
  ${fontBodyXs}
  ${disabledStyle}
  ${(props: SectionProps) => {
    const spaces = getSpaces(props);
    return `
      padding: 0 0 ${spaces?.xxs}px 0;
      width: 50%;
      border-bottom: none;
      font-weight: 600;
    `;
  }}
`;

export const RowValue = styled(TableCell, {
  shouldForwardProp: (prop) => {
    return !sdsPropNames.includes(prop.toString());
  },
})`
  ${fontTabularXs}
  ${disabledStyle}

  padding-top: 0;
  padding-bottom: 0;
  padding-right: 0 !important;
  border-bottom: none;
`;

export const Alert = styled("div")`
  ${fontBodyXxs}
`;
</file>

<file path="packages/components/src/index.ts">
/* eslint-disable import/export */
import "./common/styles-dictionary/css/variables.css";
import "./common/styles-dictionary/scss/_variables.scss";

export * from "./core/Accordion";
export { default as Accordion } from "./core/Accordion";
export * from "./core/Alert";
export { default as Alert } from "./core/Alert";
export * from "./core/Autocomplete";
export { default as Autocomplete } from "./core/Autocomplete";
export * from "./core/Banner";
export { default as Banner } from "./core/Banner";
export * from "./core/Button";
export { default as Button } from "./core/Button";
export * from "./core/ButtonDropdown";
export { default as ButtonDropdown } from "./core/ButtonDropdown";
export * from "./core/ButtonIcon";
export { default as ButtonIcon } from "./core/ButtonIcon";
export * from "./core/ButtonToggle";
export { default as ButtonToggle } from "./core/ButtonToggle";
export * from "./core/Callout";
export { default as Callout } from "./core/Callout";
export { default as CalloutTitle } from "./core/Callout/components/CalloutTitle";
export * from "./core/CellBasic";
export { default as CellBasic } from "./core/CellBasic";
export * from "./core/CellComponent";
export { default as CellComponent } from "./core/CellComponent";
export * from "./core/CellHeader";
export { default as CellHeader } from "./core/CellHeader";
export * from "./core/Chip";
export { default as Chip } from "./core/Chip";
export * from "./core/ComplexFilter";
export { default as ComplexFilter } from "./core/ComplexFilter";
export * from "./core/ContentCard";
export { default as ContentCard } from "./core/ContentCard";
export * from "./core/Dialog";
export { default as Dialog } from "./core/Dialog";
export * from "./core/Dialog/components/DialogActions";
export { default as DialogActions } from "./core/Dialog/components/DialogActions";
export * from "./core/Dialog/components/DialogContent";
export { default as DialogContent } from "./core/Dialog/components/DialogContent";
export * from "./core/Dialog/components/DialogPaper";
export { default as DialogPaper } from "./core/Dialog/components/DialogPaper";
export * from "./core/Dialog/components/DialogTitle";
export { default as DialogTitle } from "./core/Dialog/components/DialogTitle";
export * from "./core/Dropdown";
export { default as Dropdown } from "./core/Dropdown";
export * from "./core/DropdownMenu";
export { default as DropdownMenu } from "./core/DropdownMenu";
export * from "./core/Icon";
export { default as Icon } from "./core/Icon";
export * from "./core/InputCheckbox";
export { default as InputCheckbox } from "./core/InputCheckbox";
export * from "./core/InputDropdown";
export { default as InputDropdown } from "./core/InputDropdown";
export * from "./core/InputRadio";
export { default as InputRadio } from "./core/InputRadio";
export * from "./core/InputSearch";
export { default as InputSearch } from "./core/InputSearch";
export * from "./core/InputSlider";
export { default as InputSlider } from "./core/InputSlider";
export * from "./core/InputText";
export { default as InputText } from "./core/InputText";
export * from "./core/InputToggle";
export { default as InputToggle } from "./core/InputToggle";
export * from "./core/Link";
export { default as Link } from "./core/Link";
export * from "./core/List";
export { default as List } from "./core/List";
export * from "./core/List/components/ListItem";
export { default as ListItem } from "./core/List/components/ListItem";
export * from "./core/List/components/ListSubheader";
export { default as ListSubheader } from "./core/List/components/ListSubheader";
export * from "./core/LoadingIndicator";
export { default as LoadingIndicator } from "./core/LoadingIndicator";
export * from "./core/Menu";
export { default as Menu } from "./core/Menu";
export * from "./core/MenuItem";
export { default as MenuItem } from "./core/MenuItem";
export * from "./core/MenuSelect";
export { default as MenuSelect } from "./core/MenuSelect";
export * from "./core/NavigationFooter";
export { default as NavigationFooter } from "./core/NavigationFooter";
export * from "./core/NavigationHeader";
export { default as NavigationHeader } from "./core/NavigationHeader";
export * from "./core/NavigationJumpTo";
export { default as NavigationJumpTo } from "./core/NavigationJumpTo";
export * from "./core/Notification";
export { default as Notification } from "./core/Notification";
export * from "./core/Pagination";
export { default as Pagination } from "./core/Pagination";
export * from "./core/Panel";
export { default as Panel } from "./core/Panel";
export * from "./core/SegmentedControl";
export { default as SegmentedControl } from "./core/SegmentedControl";
export * from "./core/Table";
export { default as Table } from "./core/Table";
export * from "./core/TableHeader";
export { default as TableHeader } from "./core/TableHeader";
export * from "./core/TableRow";
export { default as TableRow } from "./core/TableRow";
export * from "./core/Tabs";
export { default as Tabs } from "./core/Tabs";
export * from "./core/Tag";
export { default as Tag } from "./core/Tag";
export * from "./core/TagFilter";
export { default as TagFilter } from "./core/TagFilter";
export * from "./core/Tooltip";
export { default as Tooltip } from "./core/Tooltip";
export * from "./core/TooltipCondensed";
export { default as TooltipCondensed } from "./core/TooltipCondensed";
export * from "./core/TooltipTable";
export { default as TooltipTable } from "./core/TooltipTable";
export * from "./core/styles";
</file>

<file path="packages/components/CHANGELOG.md">
# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

# [22.9.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.8.0...@czi-sds/components@22.9.0) (2025-06-05)

### Features

- **Panel:** add isBackdropClickEnabled prop ([#973](https://github.com/chanzuckerberg/sci-components/issues/973)) ([9a81dcc](https://github.com/chanzuckerberg/sci-components/commit/9a81dcc894b75265c069998d3ad5085d6cb2c554))

# [22.8.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.7.0...@czi-sds/components@22.8.0) (2025-05-30)

### Features

- **Dropdown:** Add optional prop - isSearchAutoFocus ([#971](https://github.com/chanzuckerberg/sci-components/issues/971)) ([5c3b9f2](https://github.com/chanzuckerberg/sci-components/commit/5c3b9f2e4f98017d5a8829a215ae2e53d89eff07))

# [22.7.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.6.0...@czi-sds/components@22.7.0) (2025-05-08)

### Bug Fixes

- Update panel header margin-bottom to use spaces.xl instead of spaces.xxl ([#967](https://github.com/chanzuckerberg/sci-components/issues/967)) ([a6de6c7](https://github.com/chanzuckerberg/sci-components/commit/a6de6c705e9bb214b2fc9e4d088f0ed56d73fd8b))

### Features

- Added new component slot prop to tooltips and fixed width prop ([#968](https://github.com/chanzuckerberg/sci-components/issues/968)) ([c7a9586](https://github.com/chanzuckerberg/sci-components/commit/c7a95861fe3fdc6d53e5c542ccb78181eb18658c))

# [22.6.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.5.7...@czi-sds/components@22.6.0) (2025-05-05)

### Features

- New QuestionMarkCircleSmall icon ([#965](https://github.com/chanzuckerberg/sci-components/issues/965)) ([f77991c](https://github.com/chanzuckerberg/sci-components/commit/f77991c87a303cab4f3bbbe32b77c341ebd5b6fc))

## [22.5.7](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.5.6...@czi-sds/components@22.5.7) (2025-04-24)

### Bug Fixes

- **MenuItem:** Add display flex to icon wrapper to fix the check icon position ([#962](https://github.com/chanzuckerberg/sci-components/issues/962)) ([2d27f2c](https://github.com/chanzuckerberg/sci-components/commit/2d27f2c3cafe59fa9d9691f800ef79cd7caa7a97))

## [22.5.6](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.5.5...@czi-sds/components@22.5.6) (2025-04-23)

### Bug Fixes

- **NavigationHeader:** Use dynamic height for nav header ([#960](https://github.com/chanzuckerberg/sci-components/issues/960)) ([20222a1](https://github.com/chanzuckerberg/sci-components/commit/20222a1285c2656d756c8e02fcf87971a814867a))

## [22.5.5](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.5.4...@czi-sds/components@22.5.5) (2025-04-23)

### Bug Fixes

- **NavigationJumpTo:** Refactored querySelector to getElementById and changed default width to 100% ([d72fbe2](https://github.com/chanzuckerberg/sci-components/commit/d72fbe298fae46857aeebfe1f21fd900ae3d6baa))

## [22.5.4](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.5.3...@czi-sds/components@22.5.4) (2025-04-23)

### Bug Fixes

- **NavigationJumpTo:** Fixed NavigationJumpTo Scroll and whiteSpace styles ([#957](https://github.com/chanzuckerberg/sci-components/issues/957)) ([f9ce5f3](https://github.com/chanzuckerberg/sci-components/commit/f9ce5f37c5e31d1fff865c5720fb5ebedaca8870))

## [22.5.3](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.5.2...@czi-sds/components@22.5.3) (2025-04-17)

### Bug Fixes

- **InputDropdown:** fixed width prop ([#952](https://github.com/chanzuckerberg/sci-components/issues/952)) ([5338d4c](https://github.com/chanzuckerberg/sci-components/commit/5338d4cc544f86703ae4220ce95a33f5e2b1c48d))

## [22.5.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.5.1...@czi-sds/components@22.5.2) (2025-04-17)

### Bug Fixes

- Add showSectionHeader prop to TooltipTable ([#950](https://github.com/chanzuckerberg/sci-components/issues/950)) ([8bdd45a](https://github.com/chanzuckerberg/sci-components/commit/8bdd45ab3d0cd4ef6795bed6540eccd5fd62e6fd))

## [22.5.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.5.0...@czi-sds/components@22.5.1) (2025-04-16)

### Bug Fixes

- dropdown and DropdownMenu props ([#947](https://github.com/chanzuckerberg/sci-components/issues/947)) ([7e7a416](https://github.com/chanzuckerberg/sci-components/commit/7e7a416a90e35d435998fb51f02ed68a3a75c61c))

# [22.5.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.4.0...@czi-sds/components@22.5.0) (2025-04-03)

### Features

- **ContentCard:** Add ReactNode Support to ContentCard Title Components ([#945](https://github.com/chanzuckerberg/sci-components/issues/945)) ([c737057](https://github.com/chanzuckerberg/sci-components/commit/c73705790950046484e1fb233f6d1f95d595b850))

# [22.4.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.3.3...@czi-sds/components@22.4.0) (2025-03-27)

### Features

- **NavigationHeader:** Added dropdown variant to primary nav items ([#943](https://github.com/chanzuckerberg/sci-components/issues/943)) ([7037a43](https://github.com/chanzuckerberg/sci-components/commit/7037a437bf15d1f6e47f08bcce1ba0eb11fc1fb1))

## [22.3.3](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.3.2...@czi-sds/components@22.3.3) (2025-03-24)

### Bug Fixes

- **NavHeader, NavFooter:** VCP dark mode changes ([#941](https://github.com/chanzuckerberg/sci-components/issues/941)) ([5f55b95](https://github.com/chanzuckerberg/sci-components/commit/5f55b9519626429b6fe3c0c1fde3d3b81697966e))

## [22.3.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.3.1...@czi-sds/components@22.3.2) (2025-03-14)

### Bug Fixes

- **ContentCard:** Fixed ContentCard content height + Fixed TS types on CC ([#939](https://github.com/chanzuckerberg/sci-components/issues/939)) ([de02cd2](https://github.com/chanzuckerberg/sci-components/commit/de02cd21ca3ef26f9e0e26c36fe19634963f4302))

## [22.3.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.3.0...@czi-sds/components@22.3.1) (2025-03-12)

**Note:** Version bump only for package @czi-sds/components

# [22.3.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.2.1...@czi-sds/components@22.3.0) (2025-02-27)

### Features

- **contentcard:** first implementation ([#935](https://github.com/chanzuckerberg/sci-components/issues/935)) ([82f4f94](https://github.com/chanzuckerberg/sci-components/commit/82f4f94c34956c88154bbf6dda71947a070566a8))
- **NavigationFooter:** implement NavigationFooter component ([#886](https://github.com/chanzuckerberg/sci-components/issues/886)) ([44e6252](https://github.com/chanzuckerberg/sci-components/commit/44e6252685b3bede24e415712c559142fa7dbab2))

## [22.2.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.2.0...@czi-sds/components@22.2.1) (2025-02-19)

### Bug Fixes

- **styles:** Inverted styles on Button and InputSearch ignore custom themes. ([#931](https://github.com/chanzuckerberg/sci-components/issues/931)) ([04d1dca](https://github.com/chanzuckerberg/sci-components/commit/04d1dca00134961f31a22226fc1aac7255fefebf))

# [22.2.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.1.2...@czi-sds/components@22.2.0) (2025-02-13)

### Features

- **NavigationHeader:** implement NavigationHeader component ([#885](https://github.com/chanzuckerberg/sci-components/issues/885)) ([97ba7f5](https://github.com/chanzuckerberg/sci-components/commit/97ba7f58efee4754aafef6bb4b597b8f88a18e02)), closes [#728](https://github.com/chanzuckerberg/sci-components/issues/728)

## [22.1.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.1.1...@czi-sds/components@22.1.2) (2025-01-30)

### Bug Fixes

- **headercell:** added new hover prop to control component hover state ([#928](https://github.com/chanzuckerberg/sci-components/issues/928)) ([6a31635](https://github.com/chanzuckerberg/sci-components/commit/6a31635c1064fafa4f26d75d7304fc4c19815a0b))

## [22.1.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.1.0...@czi-sds/components@22.1.1) (2025-01-09)

### Bug Fixes

- **design-tokens:** fixed font family ([#921](https://github.com/chanzuckerberg/sci-components/issues/921)) ([551de94](https://github.com/chanzuckerberg/sci-components/commit/551de9439426b78703ffaad7b5a6a0c9066b4e40))

# [22.1.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@22.0.0...@czi-sds/components@22.1.0) (2024-12-18)

### Bug Fixes

- **panel:** fix circular dependency error ([d818901](https://github.com/chanzuckerberg/sci-components/commit/d8189012762c0e2c32325e29813a25f1faf9e55f))

### Features

- **InputCheckbox:** refactor `InputCheckbox` and `InputRadio` ([#904](https://github.com/chanzuckerberg/sci-components/issues/904)) ([74fec41](https://github.com/chanzuckerberg/sci-components/commit/74fec4189426782661f28e56bd77a3f912a5cdd1))

# [22.0.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.7.1...@czi-sds/components@22.0.0) (2024-12-04)

### Bug Fixes

- **tailwind:** new typography config for tailwind to use with typography plugin + fixed font vars ([#914](https://github.com/chanzuckerberg/sci-components/issues/914)) ([cc895e8](https://github.com/chanzuckerberg/sci-components/commit/cc895e8a8d3f625af05f4b6a32456282c90d1af5))

### BREAKING CHANGES

- **tailwind:** More info on this can be found in the ZeroHeight docs under Tailwind configuration.

## [21.7.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.7.0...@czi-sds/components@21.7.1) (2024-11-27)

### Bug Fixes

- **inputs:** fix intent prop type ([#899](https://github.com/chanzuckerberg/sci-components/issues/899)) ([064f1b4](https://github.com/chanzuckerberg/sci-components/commit/064f1b46072e26af7fd55af081e9f475d28cf053))
- **variables:** fix design token variables ([2c1aff5](https://github.com/chanzuckerberg/sci-components/commit/2c1aff5816484ca1a74fa09407044468324f0490))

# [21.7.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.6.3...@czi-sds/components@21.7.0) (2024-11-14)

### Bug Fixes

- **build:** build new css vvariables ([91a3874](https://github.com/chanzuckerberg/sci-components/commit/91a3874230a836ed803dafc9138c9708e1b4f80f))
- **inputs:** fix border color of inputs based on intent prop ([#895](https://github.com/chanzuckerberg/sci-components/issues/895)) ([8810c07](https://github.com/chanzuckerberg/sci-components/commit/8810c07dc24560bb353e231a63c456d6acccc1a8))

### Features

- **breakpoints:** added new SDS breakpoints ([#888](https://github.com/chanzuckerberg/sci-components/issues/888)) ([a809c01](https://github.com/chanzuckerberg/sci-components/commit/a809c018e3b7de62c457db6c21047b256ed6f959))
- **designtokens:** add narrow fonts to design tokens ([#892](https://github.com/chanzuckerberg/sci-components/issues/892)) ([dcbe4f7](https://github.com/chanzuckerberg/sci-components/commit/dcbe4f7246fbd5f51af3de12e9b9ccc2978c2a05))
- **styles/common:** mobile font styles ([#884](https://github.com/chanzuckerberg/sci-components/issues/884)) ([75375d3](https://github.com/chanzuckerberg/sci-components/commit/75375d3feb795a1bf1fbd24268e0a0a52fbb6bac))

## [21.6.3](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.6.2...@czi-sds/components@21.6.3) (2024-11-07)

### Bug Fixes

- **segmentedcontrol:** allow all buttons to be deselected y removing a condition in handleActive ([#891](https://github.com/chanzuckerberg/sci-components/issues/891)) ([5ef9167](https://github.com/chanzuckerberg/sci-components/commit/5ef91677a230f408b9fba974e3b801e2f41fc581))

## [21.6.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.6.1...@czi-sds/components@21.6.2) (2024-10-30)

**Note:** Version bump only for package @czi-sds/components

## [21.6.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.6.0...@czi-sds/components@21.6.1) (2024-10-23)

### Bug Fixes

- **link:** fix multi-line link text-decorations ([#880](https://github.com/chanzuckerberg/sci-components/issues/880)) ([0f3ed1d](https://github.com/chanzuckerberg/sci-components/commit/0f3ed1da867df27408f16df4151139dfd913678b))

# [21.6.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.5.0...@czi-sds/components@21.6.0) (2024-10-16)

### Bug Fixes

- **tag:** fix custom coloring of Tag component ([#866](https://github.com/chanzuckerberg/sci-components/issues/866)) ([268cdda](https://github.com/chanzuckerberg/sci-components/commit/268cddab07a92acf446e53170528d18e03108b17))

### Features

- **ButtonToggle:** implement new icon variant of toggle ([#860](https://github.com/chanzuckerberg/sci-components/issues/860)) ([3f532ad](https://github.com/chanzuckerberg/sci-components/commit/3f532ad20c6b872990c5122d93774ab6c87ee667))

# [21.5.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.4.0...@czi-sds/components@21.5.0) (2024-10-09)

### Features

- **icons:** add new s and xs sizes for the Book icon ([#873](https://github.com/chanzuckerberg/sci-components/issues/873)) ([a256f8c](https://github.com/chanzuckerberg/sci-components/commit/a256f8cc45d7f895130d9b326bace180f6a717e9))

# [21.4.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.3.0...@czi-sds/components@21.4.0) (2024-10-09)

### Features

- **segmentedcontrol:** add disabled state in button definition and controlled/uncontrolled state ([#869](https://github.com/chanzuckerberg/sci-components/issues/869)) ([d59af72](https://github.com/chanzuckerberg/sci-components/commit/d59af72ced81f4e4577aa85b6cd272a343170931))

# [21.3.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.2.0...@czi-sds/components@21.3.0) (2024-10-02)

### Bug Fixes

- **dropdownmenu:** fix header visibility and extra margin issue ([#855](https://github.com/chanzuckerberg/sci-components/issues/855)) ([c1b736c](https://github.com/chanzuckerberg/sci-components/commit/c1b736c91f4571baf4d248de30dd736a4027a211))
- **inputtext:** remove min-width from InputText and InputSearch ([#858](https://github.com/chanzuckerberg/sci-components/issues/858)) ([0efb03c](https://github.com/chanzuckerberg/sci-components/commit/0efb03c1b1e1f68036146d9406f5fae1c5b7ca29))

### Features

- **borders:** adds new border variables to support thick and extraThick intent borders ([#856](https://github.com/chanzuckerberg/sci-components/issues/856)) ([40afdc6](https://github.com/chanzuckerberg/sci-components/commit/40afdc67d5cdc0e80b9e19828268e0b779b0cd75))
- **inputs:** add positive intent to input compoennts to accomodate form validation components ([#857](https://github.com/chanzuckerberg/sci-components/issues/857)) ([6cfec93](https://github.com/chanzuckerberg/sci-components/commit/6cfec93ddcd879493ba384df02c6856a7b5085c2))
- **Panel:** implement panel component ([#850](https://github.com/chanzuckerberg/sci-components/issues/850)) ([486b2e7](https://github.com/chanzuckerberg/sci-components/commit/486b2e740ad0f1fc9f23df856ae11eae26d710e4))

# [21.2.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.1.0...@czi-sds/components@21.2.0) (2024-09-18)

### Bug Fixes

- **ButtonIcon:** add sdsStyle to doNotForwardProps ([#847](https://github.com/chanzuckerberg/sci-components/issues/847)) ([a29ce17](https://github.com/chanzuckerberg/sci-components/commit/a29ce17707f084768a0f267a10ef53002ac78c0e))

### Features

- **DropdownMenu:** Adds `titleElement` to `DropdownMenu` ([#840](https://github.com/chanzuckerberg/sci-components/issues/840)) ([f96cb8d](https://github.com/chanzuckerberg/sci-components/commit/f96cb8d3dbef928c24272580fb32323a963a4299))

# [21.1.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@21.0.0...@czi-sds/components@21.1.0) (2024-09-07)

### Bug Fixes

- **accordion:** defaultExpanded now works as expected ([#838](https://github.com/chanzuckerberg/sci-components/issues/838)) ([73a7837](https://github.com/chanzuckerberg/sci-components/commit/73a7837ce9066ce3ac50899c5fde6fbc176e6f96))
- **swc:** upgrade storybook to v8 and migrate to SWC from babel ([#841](https://github.com/chanzuckerberg/sci-components/issues/841)) ([bcab32f](https://github.com/chanzuckerberg/sci-components/commit/bcab32f178dfbbf1660fddb42fa546abc75bab12))

### Features

- **icons:** added new icons (Pause, Scale, Code) ([#837](https://github.com/chanzuckerberg/sci-components/issues/837)) ([488b50d](https://github.com/chanzuckerberg/sci-components/commit/488b50dd796525611781b99ae95e2d1277c61043))

# [21.0.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.8.0...@czi-sds/components@21.0.0) (2024-08-27)

### Bug Fixes

- **build:** fix variables.css file ([18a8baa](https://github.com/chanzuckerberg/sci-components/commit/18a8baaed9db46e603170cf304aece8a1612c942))

### Features

- **dark mode:** Implementation ([#815](https://github.com/chanzuckerberg/sci-components/issues/815)) ([252c86c](https://github.com/chanzuckerberg/sci-components/commit/252c86cbffa7c38b901ac501be5ef72d9998bb45))

### CHANGES

- **Added support for Dark Mode!**

  - Implemented dark mode support across all components and styles.
  - Updated design tokens to include dual Light and Dark Mode values, ensuring seamless theme transitions.
    - Full list of CSS variables can be found [here](https://github.com/chanzuckerberg/sci-components/blob/main/packages/components/src/common/styles-dictionary/css/variables.css).
    - Full list of SCSS variables is available [here](https://github.com/chanzuckerberg/sci-components/blob/main/packages/components/src/common/styles-dictionary/scss/_variables.scss)
    - Full list of Tailwind variables can be found [here](https://github.com/chanzuckerberg/sci-components/blob/main/packages/components/src/common/styles-dictionary/json/tailwind.json)
  - Integrated a theme switcher to toggle between Light and Dark Mode in the storybook.

- **Updated Button component:**

  - Introduced isAllCaps prop for toggling All Caps in Button labels.
  - Refined hover and pressed states for the minimal variant to align with Dark Mode standards.

- **Updated CellHeader component:**

  - When active is set to true, the sortIcon will always be displayed and cannot be hidden with the hideSortIcon prop.

- **Updated InputDropdown component:**

  - Removed sdsStage prop.
  - userInput stage is now automatically set if the InputDropdown has a value.

- **Updated Intent Prop on Input Components (InputCheckbox, InputRadio, InputText, InputSearch)**

  - Changed intent prop values from "error" and "warning" to "negative" and "notice".

- **Updated InputSearch component:**

  - Removed sdsStage prop.
  - userInput stage is now automatically set if the InputSearch has a value.

- **Updated NavigationJumpTo component:**
  - Removed IndicatorColor prop.
  - The indicator color is now hardcoded to accent?.borderSelected.

# [20.8.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.7.0...@czi-sds/components@20.8.0) (2024-08-22)

### Bug Fixes

- **complexfilter:** fixes infinite re-render issue for SSR hydration ([#828](https://github.com/chanzuckerberg/sci-components/issues/828)) ([67494ef](https://github.com/chanzuckerberg/sci-components/commit/67494ef835c1a72268d5c7535680e1c56570b199))
- **rollup:** add "use client;" banner on top of rollup outputs to fix the sds error with nextjs ([#831](https://github.com/chanzuckerberg/sci-components/issues/831)) ([70844df](https://github.com/chanzuckerberg/sci-components/commit/70844df01919e27c8dba29a988da379ff5b9e70a))

### Features

- Add icons ([#830](https://github.com/chanzuckerberg/sci-components/issues/830)) ([ec6f65b](https://github.com/chanzuckerberg/sci-components/commit/ec6f65bd88a8f8734bd96eb5d26995d20b687e52))

# [20.7.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.1.2...@czi-sds/components@20.7.0) (2024-08-08)

### Bug Fixes

- **a11y:** fix a11y issues ([#787](https://github.com/chanzuckerberg/sci-components/issues/787)) ([e337899](https://github.com/chanzuckerberg/sci-components/commit/e3378997ec2aaf8c4a2d765870668b86461be01c))
- **complexfilter:** fix prop propagation ([7530284](https://github.com/chanzuckerberg/sci-components/commit/7530284831aec9d62c67b938303eb7f88f775158))
- **complexfilter:** fix re-rendering bug ([#824](https://github.com/chanzuckerberg/sci-components/issues/824)) ([0692409](https://github.com/chanzuckerberg/sci-components/commit/06924094808ad05e3888507f634fb6c293df007c))
- **dropdown:** fix props propagating ([#774](https://github.com/chanzuckerberg/sci-components/issues/774)) ([c42970a](https://github.com/chanzuckerberg/sci-components/commit/c42970a2270c5c6c1dda40422cb7eeee9b4b2f5e))

### Features

- **complexfilter:** add shouldisTriggerChangeOnOptionClick to complexFilter and ([#772](https://github.com/chanzuckerberg/sci-components/issues/772)) ([038ad54](https://github.com/chanzuckerberg/sci-components/commit/038ad542a91b05b06af5b77dff0a644a509f0cc0))
- **rotateleft and rotateright:** add small icons for RotateLeft and RotateRight ([#781](https://github.com/chanzuckerberg/sci-components/issues/781)) ([96a2af1](https://github.com/chanzuckerberg/sci-components/commit/96a2af14747a5413c1bbd45ad45c35a10d52f76d))

# [20.6.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.1.2...@czi-sds/components@20.6.0) (2024-07-12)

### Bug Fixes

- **a11y:** fix a11y issues ([#787](https://github.com/chanzuckerberg/sci-components/issues/787)) ([e337899](https://github.com/chanzuckerberg/sci-components/commit/e3378997ec2aaf8c4a2d765870668b86461be01c))
- **complexfilter:** fix prop propagation ([7530284](https://github.com/chanzuckerberg/sci-components/commit/7530284831aec9d62c67b938303eb7f88f775158))
- **dropdown:** fix props propagating ([#774](https://github.com/chanzuckerberg/sci-components/issues/774)) ([c42970a](https://github.com/chanzuckerberg/sci-components/commit/c42970a2270c5c6c1dda40422cb7eeee9b4b2f5e))

### Features

- **complexfilter:** add shouldisTriggerChangeOnOptionClick to complexFilter and ([#772](https://github.com/chanzuckerberg/sci-components/issues/772)) ([038ad54](https://github.com/chanzuckerberg/sci-components/commit/038ad542a91b05b06af5b77dff0a644a509f0cc0))
- **rotateleft and rotateright:** add small icons for RotateLeft and RotateRight ([#781](https://github.com/chanzuckerberg/sci-components/issues/781)) ([96a2af1](https://github.com/chanzuckerberg/sci-components/commit/96a2af14747a5413c1bbd45ad45c35a10d52f76d))

# [20.5.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.0.1...@czi-sds/components@20.5.0) (2024-06-17)

### Bug Fixes

- **autocomplete:** fix controlled open state ([#767](https://github.com/chanzuckerberg/sci-components/issues/767)) ([6a77a3d](https://github.com/chanzuckerberg/sci-components/commit/6a77a3d49f2313ed569d1916ad58b1abfa68b935))
- **complexfilter:** fix prop propagation ([7530284](https://github.com/chanzuckerberg/sci-components/commit/7530284831aec9d62c67b938303eb7f88f775158))
- **dropdown:** fix props propagating ([#774](https://github.com/chanzuckerberg/sci-components/issues/774)) ([c42970a](https://github.com/chanzuckerberg/sci-components/commit/c42970a2270c5c6c1dda40422cb7eeee9b4b2f5e))
- **sdstheme:** fix SDS Theme backward compatibility ([#770](https://github.com/chanzuckerberg/sci-components/issues/770)) ([860283f](https://github.com/chanzuckerberg/sci-components/commit/860283fefda3664b34685c5d0e52e9c87d3f069d))

### Features

- **Button:** figma refactor button ([#761](https://github.com/chanzuckerberg/sci-components/issues/761)) ([199bc4c](https://github.com/chanzuckerberg/sci-components/commit/199bc4c03f7366e0e6bff79575bc727708f9ac57))
- **complexfilter:** add shouldisTriggerChangeOnOptionClick to complexFilter and ([#772](https://github.com/chanzuckerberg/sci-components/issues/772)) ([038ad54](https://github.com/chanzuckerberg/sci-components/commit/038ad542a91b05b06af5b77dff0a644a509f0cc0))
- **rotateleft and rotateright:** add small icons for RotateLeft and RotateRight ([#781](https://github.com/chanzuckerberg/sci-components/issues/781)) ([96a2af1](https://github.com/chanzuckerberg/sci-components/commit/96a2af14747a5413c1bbd45ad45c35a10d52f76d))

# [20.4.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.1.2...@czi-sds/components@20.4.0) (2024-05-10)

### Bug Fixes

- **complexfilter:** fix prop propagation ([7530284](https://github.com/chanzuckerberg/sci-components/commit/7530284831aec9d62c67b938303eb7f88f775158))
- **dropdown:** fix props propagating ([#774](https://github.com/chanzuckerberg/sci-components/issues/774)) ([c42970a](https://github.com/chanzuckerberg/sci-components/commit/c42970a2270c5c6c1dda40422cb7eeee9b4b2f5e))

### Features

- **complexfilter:** add shouldisTriggerChangeOnOptionClick to complexFilter and ([#772](https://github.com/chanzuckerberg/sci-components/issues/772)) ([038ad54](https://github.com/chanzuckerberg/sci-components/commit/038ad542a91b05b06af5b77dff0a644a509f0cc0))

# [20.3.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.1.2...@czi-sds/components@20.3.0) (2024-05-10)

### Bug Fixes

- **dropdown:** fix props propagating ([#774](https://github.com/chanzuckerberg/sci-components/issues/774)) ([c42970a](https://github.com/chanzuckerberg/sci-components/commit/c42970a2270c5c6c1dda40422cb7eeee9b4b2f5e))

### Features

- **complexfilter:** add shouldisTriggerChangeOnOptionClick to complexFilter and ([#772](https://github.com/chanzuckerberg/sci-components/issues/772)) ([038ad54](https://github.com/chanzuckerberg/sci-components/commit/038ad542a91b05b06af5b77dff0a644a509f0cc0))

# [20.2.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.1.2...@czi-sds/components@20.2.0) (2024-05-09)

### Features

- **complexfilter:** add shouldisTriggerChangeOnOptionClick to complexFilter and ([#772](https://github.com/chanzuckerberg/sci-components/issues/772)) ([038ad54](https://github.com/chanzuckerberg/sci-components/commit/038ad542a91b05b06af5b77dff0a644a509f0cc0))

## [20.1.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.1.0...@czi-sds/components@20.1.2) (2024-05-03)

### Bug Fixes

- **autocomplete:** fix controlled open state ([#767](https://github.com/chanzuckerberg/sci-components/issues/767)) ([6a77a3d](https://github.com/chanzuckerberg/sci-components/commit/6a77a3d49f2313ed569d1916ad58b1abfa68b935))
- **sdstheme:** fix SDS Theme backward compatibility ([#770](https://github.com/chanzuckerberg/sci-components/issues/770)) ([860283f](https://github.com/chanzuckerberg/sci-components/commit/860283fefda3664b34685c5d0e52e9c87d3f069d))

## [20.1.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.1.0...@czi-sds/components@20.1.1) (2024-05-02)

### Bug Fixes

- **autocomplete:** fix controlled open state ([#767](https://github.com/chanzuckerberg/sci-components/issues/767)) ([6a77a3d](https://github.com/chanzuckerberg/sci-components/commit/6a77a3d49f2313ed569d1916ad58b1abfa68b935))

# [20.1.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.0.1...@czi-sds/components@20.1.0) (2024-05-01)

### Bug Fixes

- **build:** fix variables file ([364a774](https://github.com/chanzuckerberg/sci-components/commit/364a774131d14daf5fe603a983155373defde212))
- **designtokens:** fix sds border design tokens ([0bb69bd](https://github.com/chanzuckerberg/sci-components/commit/0bb69bd91bae8ab5e0722b2cc25188ba6d5cda09))
- **styles:** remove style-dictionary files ([129dcf1](https://github.com/chanzuckerberg/sci-components/commit/129dcf16507cdaf9da04190fbad1a1ae01e989a4))

### Features

- **Button:** figma refactor button ([#761](https://github.com/chanzuckerberg/sci-components/issues/761)) ([199bc4c](https://github.com/chanzuckerberg/sci-components/commit/199bc4c03f7366e0e6bff79575bc727708f9ac57))

## [20.0.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@20.0.0...@czi-sds/components@20.0.1) (2024-04-15)

### Bug Fixes

- **icons:** fix icons' relative paths ([b84bb0e](https://github.com/chanzuckerberg/sci-components/commit/b84bb0e625754a5c02f910c0c40b8ff2502a8ae9))

# [20.0.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@19.4.0...@czi-sds/components@20.0.0) (2024-04-11)

### DefaultTheme and Design Tokens

All design tokens have been updated to the latest values based on the Figma Refactor outputs. Token names have been changed to reflect the new semantic structure. DefaultTheme has been created based on new design tokens, and it's ready to implement a multi-theme approach.

<details><summary>Borders</summary>
<p>

| CSS Variable                  | SASS Variable                | Value                |
| ----------------------------- | ---------------------------- | -------------------- |
| --sds-border-negative-default | $sds-border-negative-default | `1px solid #dc132c`  |
| --sds-border-base-divider     | $sds-border-base-divider     | `1px solid #eaeaea`  |
| --sds-border-base-table       | $sds-border-base-table       | `1px solid #cccccc`  |
| --sds-border-base-disabled    | $sds-border-base-disabled    | `1px solid #cccccc`  |
| --sds-border-base-default     | $sds-border-base-default     | `1px solid #999999`  |
| --sds-border-base-black       | $sds-border-base-black       | `1px dashed #000000` |
| --sds-border-base-hover       | $sds-border-base-hover       | `1px dashed #000000` |
| --sds-border-base-dashed      | $sds-border-base-dashed      | `1px dashed #999999` |
| --sds-border-link-dashed      | $sds-border-link-dashed      | `1px dashed`         |
| --sds-border-link-solid       | $sds-border-link-solid       | `1px solid`          |
| --sds-border-accent-disabled  | $sds-border-accent-disabled  | `1px solid #a6c9ff`  |
| --sds-border-accent-default   | $sds-border-accent-default   | `1px solid #0b68f8`  |
| --sds-border-accent-hover     | $sds-border-accent-hover     | `1px solid #0142a4`  |
| --sds-border-accent-dashed    | $sds-border-accent-dashed    | `1px dashed #0b68f8` |
| --sds-border-info-default     | $sds-border-info-default     | `1px solid #0b68f8`  |
| --sds-border-beta-default     | $sds-border-beta-default     | `1px solid #7a41ce`  |
| --sds-border-positive-default | $sds-border-positive-default | `1px solid #3cb371`  |
| --sds-border-notice-default   | $sds-border-notice-default   | `1px solid #f5a623`  |
| --sds-border-neutral-default  | $sds-border-neutral-default  | `1px solid #999999`  |
| --sds-border-none             | $sds-border-none             | `none`               |

</p>
</details>

<details><summary>Primitive Colors</summary>
<p>

| CSS Variable                       | SASS Variable                     | Value                 |
| ---------------------------------- | --------------------------------- | --------------------- |
| --sds-color-primitive-common-black | $sds-color-primitive-common-black | `#000000`             |
| --sds-color-primitive-common-white | $sds-color-primitive-common-white | `#ffffff`             |
| --sds-color-primitive-blue-100     | $sds-color-primitive-blue-100     | `#f5f9ff`             |
| --sds-color-primitive-blue-200     | $sds-color-primitive-blue-200     | `#e9f1ff`             |
| --sds-color-primitive-blue-300     | $sds-color-primitive-blue-300     | `#a6c9ff`             |
| --sds-color-primitive-blue-400     | $sds-color-primitive-blue-400     | `#0b68f8`             |
| --sds-color-primitive-blue-500     | $sds-color-primitive-blue-500     | `#0142a4`             |
| --sds-color-primitive-blue-600     | $sds-color-primitive-blue-600     | `#002660`             |
| --sds-color-primitive-gray-100     | $sds-color-primitive-gray-100     | `#f8f8f8`             |
| --sds-color-primitive-gray-200     | $sds-color-primitive-gray-200     | `#eaeaea`             |
| --sds-color-primitive-gray-300     | $sds-color-primitive-gray-300     | `#cccccc`             |
| --sds-color-primitive-gray-400     | $sds-color-primitive-gray-400     | `#999999`             |
| --sds-color-primitive-gray-500     | $sds-color-primitive-gray-500     | `#767676`             |
| --sds-color-primitive-gray-600     | $sds-color-primitive-gray-600     | `#545454`             |
| --sds-color-primitive-green-100    | $sds-color-primitive-green-100    | `#ecf5f0`             |
| --sds-color-primitive-green-200    | $sds-color-primitive-green-200    | `#e6f7ed`             |
| --sds-color-primitive-green-400    | $sds-color-primitive-green-400    | `#3cb371`             |
| --sds-color-primitive-green-500    | $sds-color-primitive-green-500    | `#349a61`             |
| --sds-color-primitive-green-600    | $sds-color-primitive-green-600    | `#1c7f48`             |
| --sds-color-primitive-purple-100   | $sds-color-primitive-purple-100   | `#f4f0f9`             |
| --sds-color-primitive-purple-200   | $sds-color-primitive-purple-200   | `#f0ebf6`             |
| --sds-color-primitive-purple-400   | $sds-color-primitive-purple-400   | `#7a41ce`             |
| --sds-color-primitive-purple-500   | $sds-color-primitive-purple-500   | `#703cbe`             |
| --sds-color-primitive-purple-600   | $sds-color-primitive-purple-600   | `#693bac`             |
| --sds-color-primitive-red-100      | $sds-color-primitive-red-100      | `#fef2f2`             |
| --sds-color-primitive-red-200      | $sds-color-primitive-red-200      | `#f8e8e8`             |
| --sds-color-primitive-red-400      | $sds-color-primitive-red-400      | `#dc132c`             |
| --sds-color-primitive-red-500      | $sds-color-primitive-red-500      | `#c61128`             |
| --sds-color-primitive-red-600      | $sds-color-primitive-red-600      | `#b70016`             |
| --sds-color-primitive-yellow-100   | $sds-color-primitive-yellow-100   | `#fcf6ec`             |
| --sds-color-primitive-yellow-200   | $sds-color-primitive-yellow-200   | `#fff3e1`             |
| --sds-color-primitive-yellow-400   | $sds-color-primitive-yellow-400   | `#f5a623`             |
| --sds-color-primitive-yellow-500   | $sds-color-primitive-yellow-500   | `#d8921f`             |
| --sds-color-primitive-yellow-600   | $sds-color-primitive-yellow-600   | `#946314`             |
| --sds-color-primitive-overlay-100  | $sds-color-primitive-overlay-100  | `rgba(0, 0, 0, 0.08)` |
| --sds-color-primitive-overlay-200  | $sds-color-primitive-overlay-200  | `rgba(0, 0, 0, 0.03)` |

</p>
</details>

<details><summary>Semantic Colors</summary>
<p>

| CSS Variable                                          | SASS Variable                                        | Value     |
| ----------------------------------------------------- | ---------------------------------------------------- | --------- |
| --sds-color-semantic-text-base-primary                | $sds-color-semantic-text-base-primary                | `#000000` |
| --sds-color-semantic-text-base-secondary              | $sds-color-semantic-text-base-secondary              | `#767676` |
| --sds-color-semantic-text-base-disabled               | $sds-color-semantic-text-base-disabled               | `#cccccc` |
| --sds-color-semantic-text-base-on-fill                | $sds-color-semantic-text-base-on-fill                | `#ffffff` |
| --sds-color-semantic-text-base-on-fill-disabled       | $sds-color-semantic-text-base-on-fill-disabled       | `#999999` |
| --sds-color-semantic-text-base-accent                 | $sds-color-semantic-text-base-accent                 | `#002660` |
| --sds-color-semantic-text-action-default              | $sds-color-semantic-text-action-default              | `#0b68f8` |
| --sds-color-semantic-text-action-hover                | $sds-color-semantic-text-action-hover                | `#0142a4` |
| --sds-color-semantic-text-action-pressed              | $sds-color-semantic-text-action-pressed              | `#002660` |
| --sds-color-semantic-text-beta                        | $sds-color-semantic-text-beta                        | `#693bac` |
| --sds-color-semantic-text-info                        | $sds-color-semantic-text-info                        | `#002660` |
| --sds-color-semantic-text-negative                    | $sds-color-semantic-text-negative                    | `#b70016` |
| --sds-color-semantic-text-neutral                     | $sds-color-semantic-text-neutral                     | `#545454` |
| --sds-color-semantic-text-notice                      | $sds-color-semantic-text-notice                      | `#946314` |
| --sds-color-semantic-text-positive                    | $sds-color-semantic-text-positive                    | `#1c7f48` |
| --sds-color-semantic-component-base-fill              | $sds-color-semantic-component-base-fill              | `#ffffff` |
| --sds-color-semantic-component-base-fill-hover        | $sds-color-semantic-component-base-fill-hover        | `#f8f8f8` |
| --sds-color-semantic-component-base-fill-pressed      | $sds-color-semantic-component-base-fill-pressed      | `#f8f8f8` |
| --sds-color-semantic-component-base-fill-open         | $sds-color-semantic-component-base-fill-open         | `#f8f8f8` |
| --sds-color-semantic-component-base-fill-selected     | $sds-color-semantic-component-base-fill-selected     | `#000000` |
| --sds-color-semantic-component-base-fill-disabled     | $sds-color-semantic-component-base-fill-disabled     | `#cccccc` |
| --sds-color-semantic-component-base-on-fill-disabled  | $sds-color-semantic-component-base-on-fill-disabled  | `#999999` |
| --sds-color-semantic-component-base-surface           | $sds-color-semantic-component-base-surface           | `#ffffff` |
| --sds-color-semantic-component-base-surface-primary   | $sds-color-semantic-component-base-surface-primary   | `#ffffff` |
| --sds-color-semantic-component-base-surface-secondary | $sds-color-semantic-component-base-surface-secondary | `#f8f8f8` |
| --sds-color-semantic-component-base-surface-tertiary  | $sds-color-semantic-component-base-surface-tertiary  | `#eaeaea` |
| --sds-color-semantic-component-base-divider           | $sds-color-semantic-component-base-divider           | `#eaeaea` |
| --sds-color-semantic-component-base-border            | $sds-color-semantic-component-base-border            | `#999999` |
| --sds-color-semantic-component-base-border-hover      | $sds-color-semantic-component-base-border-hover      | `#000000` |
| --sds-color-semantic-component-base-border-disabled   | $sds-color-semantic-component-base-border-disabled   | `#cccccc` |
| --sds-color-semantic-component-base-icon              | $sds-color-semantic-component-base-icon              | `#767676` |
| --sds-color-semantic-component-base-icon-hover        | $sds-color-semantic-component-base-icon-hover        | `#000000` |
| --sds-color-semantic-component-base-icon-pressed      | $sds-color-semantic-component-base-icon-pressed      | `#000000` |
| --sds-color-semantic-component-base-icon-disabled     | $sds-color-semantic-component-base-icon-disabled     | `#cccccc` |
| --sds-color-semantic-component-accent-fill            | $sds-color-semantic-component-accent-fill            | `#0b68f8` |
| --sds-color-semantic-component-accent-fill-hover      | $sds-color-semantic-component-accent-fill-hover      | `#0142a4` |
| --sds-color-semantic-component-accent-fill-pressed    | $sds-color-semantic-component-accent-fill-pressed    | `#002660` |
| --sds-color-semantic-component-accent-fill-on-fill    | $sds-color-semantic-component-accent-fill-on-fill    | `#ffffff` |
| --sds-color-semantic-component-accent-fill-disabled   | $sds-color-semantic-component-accent-fill-disabled   | `#a6c9ff` |
| --sds-color-semantic-component-accent-surface         | $sds-color-semantic-component-accent-surface         | `#e9f1ff` |
| --sds-color-semantic-component-accent-border          | $sds-color-semantic-component-accent-border          | `#0b68f8` |
| --sds-color-semantic-component-accent-border-hover    | $sds-color-semantic-component-accent-border-hover    | `#0142a4` |
| --sds-color-semantic-component-accent-border-open     | $sds-color-semantic-component-accent-border-open     | `#0b68f8` |
| --sds-color-semantic-component-accent-border-focus    | $sds-color-semantic-component-accent-border-focus    | `#0b68f8` |
| --sds-color-semantic-component-accent-border-selected | $sds-color-semantic-component-accent-border-selected | `#0b68f8` |
| --sds-color-semantic-component-accent-border-disabled | $sds-color-semantic-component-accent-border-disabled | `#a6c9ff` |
| --sds-color-semantic-component-accent-icon            | $sds-color-semantic-component-accent-icon            | `#0b68f8` |
| --sds-color-semantic-component-beta-fill              | $sds-color-semantic-component-beta-fill              | `#7a41ce` |
| --sds-color-semantic-component-beta-fill-hover        | $sds-color-semantic-component-beta-fill-hover        | `#703cbe` |
| --sds-color-semantic-component-beta-fill-pressed      | $sds-color-semantic-component-beta-fill-pressed      | `#693bac` |
| --sds-color-semantic-component-beta-fill-on-fill      | $sds-color-semantic-component-beta-fill-on-fill      | `#ffffff` |
| --sds-color-semantic-component-beta-surface           | $sds-color-semantic-component-beta-surface           | `#f0ebf6` |
| --sds-color-semantic-component-beta-border            | $sds-color-semantic-component-beta-border            | `#7a41ce` |
| --sds-color-semantic-component-beta-icon              | $sds-color-semantic-component-beta-icon              | `#7a41ce` |
| --sds-color-semantic-component-info-fill              | $sds-color-semantic-component-info-fill              | `#0b68f8` |
| --sds-color-semantic-component-info-fill-hover        | $sds-color-semantic-component-info-fill-hover        | `#0142a4` |
| --sds-color-semantic-component-info-fill-pressed      | $sds-color-semantic-component-info-fill-pressed      | `#002660` |
| --sds-color-semantic-component-info-fill-on-fill      | $sds-color-semantic-component-info-fill-on-fill      | `#ffffff` |
| --sds-color-semantic-component-info-surface           | $sds-color-semantic-component-info-surface           | `#e9f1ff` |
| --sds-color-semantic-component-info-border            | $sds-color-semantic-component-info-border            | `#0b68f8` |
| --sds-color-semantic-component-info-icon              | $sds-color-semantic-component-info-icon              | `#0b68f8` |
| --sds-color-semantic-component-negative-fill          | $sds-color-semantic-component-negative-fill          | `#dc132c` |
| --sds-color-semantic-component-negative-fill-hover    | $sds-color-semantic-component-negative-fill-hover    | `#c61128` |
| --sds-color-semantic-component-negative-fill-pressed  | $sds-color-semantic-component-negative-fill-pressed  | `#b70016` |
| --sds-color-semantic-component-negative-fill-on-fill  | $sds-color-semantic-component-negative-fill-on-fill  | `#ffffff` |
| --sds-color-semantic-component-negative-surface       | $sds-color-semantic-component-negative-surface       | `#f8e8e8` |
| --sds-color-semantic-component-negative-border        | $sds-color-semantic-component-negative-border        | `#dc132c` |
| --sds-color-semantic-component-negative-icon          | $sds-color-semantic-component-negative-icon          | `#dc132c` |
| --sds-color-semantic-component-neutral-fill           | $sds-color-semantic-component-neutral-fill           | `#999999` |
| --sds-color-semantic-component-neutral-fill-hover     | $sds-color-semantic-component-neutral-fill-hover     | `#767676` |
| --sds-color-semantic-component-neutral-fill-pressed   | $sds-color-semantic-component-neutral-fill-pressed   | `#545454` |
| --sds-color-semantic-component-neutral-fill-on-fill   | $sds-color-semantic-component-neutral-fill-on-fill   | `#ffffff` |
| --sds-color-semantic-component-neutral-surface        | $sds-color-semantic-component-neutral-surface        | `#eaeaea` |
| --sds-color-semantic-component-neutral-border         | $sds-color-semantic-component-neutral-border         | `#999999` |
| --sds-color-semantic-component-neutral-icon           | $sds-color-semantic-component-neutral-icon           | `#999999` |
| --sds-color-semantic-component-notice-fill            | $sds-color-semantic-component-notice-fill            | `#f5a623` |
| --sds-color-semantic-component-notice-fill-hover      | $sds-color-semantic-component-notice-fill-hover      | `#d8921f` |
| --sds-color-semantic-component-notice-fill-pressed    | $sds-color-semantic-component-notice-fill-pressed    | `#946314` |
| --sds-color-semantic-component-notice-fill-on-fill    | $sds-color-semantic-component-notice-fill-on-fill    | `#ffffff` |
| --sds-color-semantic-component-notice-surface         | $sds-color-semantic-component-notice-surface         | `#fff3e1` |
| --sds-color-semantic-component-notice-border          | $sds-color-semantic-component-notice-border          | `#f5a623` |
| --sds-color-semantic-component-notice-icon            | $sds-color-semantic-component-notice-icon            | `#f5a623` |
| --sds-color-semantic-component-positive-fill          | $sds-color-semantic-component-positive-fill          | `#3cb371` |
| --sds-color-semantic-component-positive-fill-hover    | $sds-color-semantic-component-positive-fill-hover    | `#349a61` |
| --sds-color-semantic-component-positive-fill-pressed  | $sds-color-semantic-component-positive-fill-pressed  | `#1c7f48` |
| --sds-color-semantic-component-positive-fill-on-fill  | $sds-color-semantic-component-positive-fill-on-fill  | `#ffffff` |
| --sds-color-semantic-component-positive-surface       | $sds-color-semantic-component-positive-surface       | `#e6f7ed` |
| --sds-color-semantic-component-positive-border        | $sds-color-semantic-component-positive-border        | `#3cb371` |
| --sds-color-semantic-component-positive-icon          | $sds-color-semantic-component-positive-icon          | `#3cb371` |

</p>
</details>

<details><summary>Corners</summary>
<p>

| CSS Variable      | SASS Variable    | Value  |
| ----------------- | ---------------- | ------ |
| --sds-corner-l    | $sds-corner-l    | `20px` |
| --sds-corner-m    | $sds-corner-m    | `4px`  |
| --sds-corner-s    | $sds-corner-s    | `2px`  |
| --sds-corner-none | $sds-corner-none | `0px`  |

</p>
</details>

<details><summary>Shadows</summary>
<p>

| CSS Variable           | SASS Variable         | Value                                                                       |
| ---------------------- | --------------------- | --------------------------------------------------------------------------- |
| --sds-drop-shadow-l    | $sds-drop-shadow-l    | `0px 2px 12px 0px rgba(0, 0, 0, 0.3)`                                       |
| --sds-drop-shadow-m    | $sds-drop-shadow-m    | `0px 2px 10px 0px rgba(0, 0, 0, 0.15), 0px 2px 4px 0px rgba(0, 0, 0, 0.15)` |
| --sds-drop-shadow-s    | $sds-drop-shadow-s    | `0px 2px 4px 0px rgba(0, 0, 0, 0.25)`                                       |
| --sds-drop-shadow-none | $sds-drop-shadow-none | `none`                                                                      |

</p>
</details>

<details><summary>Fonts</summary>
<p>

| CSS Variable                                   | SASS Variable                                 | Value                                      |
| ---------------------------------------------- | --------------------------------------------- | ------------------------------------------ |
| --sds-font-color                               | $sds-font-color                               | `black`                                    |
| --sds-font-font-family-body                    | $sds-font-font-family-body                    | `"Inter", sans-serif`                      |
| --sds-font-font-family-caps                    | $sds-font-font-family-caps                    | `"Inter", sans-serif`                      |
| --sds-font-font-family-code                    | $sds-font-font-family-code                    | `"IBM Plex Mono", monospace`               |
| --sds-font-font-family-header                  | $sds-font-font-family-header                  | `"Inter", sans-serif`                      |
| --sds-font-font-family-tabular                 | $sds-font-font-family-tabular                 | `"Inter", sans-serif`                      |
| --sds-font-body-xxxs-400-font                  | $sds-font-body-xxxs-400-font                  | `400 11px/16px "Inter", sans-serif`        |
| --sds-font-body-xxxs-400-letter-spacing        | $sds-font-body-xxxs-400-letter-spacing        | `0.1px`                                    |
| --sds-font-body-xxxs-600-font                  | $sds-font-body-xxxs-600-font                  | `600 11px/16px "Inter", sans-serif`        |
| --sds-font-body-xxxs-600-letter-spacing        | $sds-font-body-xxxs-600-letter-spacing        | `0.1px`                                    |
| --sds-font-body-xxs-400-font                   | $sds-font-body-xxs-400-font                   | `400 12px/18px "Inter", sans-serif`        |
| --sds-font-body-xxs-400-letter-spacing         | $sds-font-body-xxs-400-letter-spacing         | `0.1px`                                    |
| --sds-font-body-xxs-600-font                   | $sds-font-body-xxs-600-font                   | `600 12px/18px "Inter", sans-serif`        |
| --sds-font-body-xxs-600-letter-spacing         | $sds-font-body-xxs-600-letter-spacing         | `0.1px`                                    |
| --sds-font-body-xs-400-font                    | $sds-font-body-xs-400-font                    | `400 13px/20px "Inter", sans-serif`        |
| --sds-font-body-xs-400-letter-spacing          | $sds-font-body-xs-400-letter-spacing          | `0.08px`                                   |
| --sds-font-body-xs-600-font                    | $sds-font-body-xs-600-font                    | `600 13px/20px "Inter", sans-serif`        |
| --sds-font-body-xs-600-letter-spacing          | $sds-font-body-xs-600-letter-spacing          | `0.08px`                                   |
| --sds-font-body-s-400-font                     | $sds-font-body-s-400-font                     | `400 14px/24px "Inter", sans-serif`        |
| --sds-font-body-s-400-letter-spacing           | $sds-font-body-s-400-letter-spacing           | `0.08px`                                   |
| --sds-font-body-s-600-font                     | $sds-font-body-s-600-font                     | `600 14px/24px "Inter", sans-serif`        |
| --sds-font-body-s-600-letter-spacing           | $sds-font-body-s-600-letter-spacing           | `0.08px`                                   |
| --sds-font-body-m-400-font                     | $sds-font-body-m-400-font                     | `400 16px/26px "Inter", sans-serif`        |
| --sds-font-body-m-400-letter-spacing           | $sds-font-body-m-400-letter-spacing           | `0px`                                      |
| --sds-font-body-m-600-font                     | $sds-font-body-m-600-font                     | `600 16px/26px "Inter", sans-serif`        |
| --sds-font-body-m-600-letter-spacing           | $sds-font-body-m-600-letter-spacing           | `0px`                                      |
| --sds-font-body-l-400-font                     | $sds-font-body-l-400-font                     | `400 18px/28px "Inter", sans-serif`        |
| --sds-font-body-l-400-letter-spacing           | $sds-font-body-l-400-letter-spacing           | `0px`                                      |
| --sds-font-body-l-600-font                     | $sds-font-body-l-600-font                     | `600 18px/28px "Inter", sans-serif`        |
| --sds-font-body-l-600-letter-spacing           | $sds-font-body-l-600-letter-spacing           | `0px`                                      |
| --sds-font-caps-xxxxs-600-font                 | $sds-font-caps-xxxxs-600-font                 | `600 10px/14px "Inter", sans-serif`        |
| --sds-font-caps-xxxxs-600-letter-spacing       | $sds-font-caps-xxxxs-600-letter-spacing       | `0.5px`                                    |
| --sds-font-caps-xxxxs-600-text-transform       | $sds-font-caps-xxxxs-600-text-transform       | `uppercase`                                |
| --sds-font-caps-xxxs-600-font                  | $sds-font-caps-xxxs-600-font                  | `600 11px/16px "Inter", sans-serif`        |
| --sds-font-caps-xxxs-600-letter-spacing        | $sds-font-caps-xxxs-600-letter-spacing        | `0.5px`                                    |
| --sds-font-caps-xxxs-600-text-transform        | $sds-font-caps-xxxs-600-text-transform        | `uppercase`                                |
| --sds-font-caps-xxs-600-font                   | $sds-font-caps-xxs-600-font                   | `600 12px/18px "Inter", sans-serif`        |
| --sds-font-caps-xxs-600-letter-spacing         | $sds-font-caps-xxs-600-letter-spacing         | `0.5px`                                    |
| --sds-font-caps-xxs-600-text-transform         | $sds-font-caps-xxs-600-text-transform         | `uppercase`                                |
| --sds-font-header-xxxs-600-font                | $sds-font-header-xxxs-600-font                | `600 11px/16px "Inter", sans-serif`        |
| --sds-font-header-xxxs-600-letter-spacing      | $sds-font-header-xxxs-600-letter-spacing      | `0.1px`                                    |
| --sds-font-header-xxs-600-font                 | $sds-font-header-xxs-600-font                 | `600 12px/18px "Inter", sans-serif`        |
| --sds-font-header-xxs-600-letter-spacing       | $sds-font-header-xxs-600-letter-spacing       | `0.1px`                                    |
| --sds-font-header-xs-600-font                  | $sds-font-header-xs-600-font                  | `600 13px/18px "Inter", sans-serif`        |
| --sds-font-header-xs-600-letter-spacing        | $sds-font-header-xs-600-letter-spacing        | `0.08px`                                   |
| --sds-font-header-s-600-font                   | $sds-font-header-s-600-font                   | `600 14px/20px "Inter", sans-serif`        |
| --sds-font-header-s-600-letter-spacing         | $sds-font-header-s-600-letter-spacing         | `0.08px`                                   |
| --sds-font-header-m-600-font                   | $sds-font-header-m-600-font                   | `600 16px/22px "Inter", sans-serif`        |
| --sds-font-header-m-600-letter-spacing         | $sds-font-header-m-600-letter-spacing         | `0px`                                      |
| --sds-font-header-l-600-font                   | $sds-font-header-l-600-font                   | `600 18px/24px "Inter", sans-serif`        |
| --sds-font-header-l-600-letter-spacing         | $sds-font-header-l-600-letter-spacing         | `0px`                                      |
| --sds-font-header-xl-600-font                  | $sds-font-header-xl-600-font                  | `600 22px/30px "Inter", sans-serif`        |
| --sds-font-header-xl-600-letter-spacing        | $sds-font-header-xl-600-letter-spacing        | `0px`                                      |
| --sds-font-header-xxl-600-font                 | $sds-font-header-xxl-600-font                 | `600 26px/34px "Inter", sans-serif`        |
| --sds-font-header-xxl-600-letter-spacing       | $sds-font-header-xxl-600-letter-spacing       | `0px`                                      |
| --sds-font-tabular-xs-400-font                 | $sds-font-tabular-xs-400-font                 | `400 13px/20px "Inter", sans-serif`        |
| --sds-font-tabular-xs-400-font-variant-numeric | $sds-font-tabular-xs-400-font-variant-numeric | `tabular-nums`                             |
| --sds-font-tabular-xs-400-letter-spacing       | $sds-font-tabular-xs-400-letter-spacing       | `0px`                                      |
| --sds-font-tabular-xs-600-font                 | $sds-font-tabular-xs-600-font                 | `600 13px/20px "Inter", sans-serif`        |
| --sds-font-tabular-xs-600-font-variant-numeric | $sds-font-tabular-xs-600-font-variant-numeric | `tabular-nums`                             |
| --sds-font-tabular-xs-600-letter-spacing       | $sds-font-tabular-xs-600-letter-spacing       | `0px`                                      |
| --sds-font-tabular-s-400-font                  | $sds-font-tabular-s-400-font                  | `400 14px/24px "Inter", sans-serif`        |
| --sds-font-tabular-s-400-font-variant-numeric  | $sds-font-tabular-s-400-font-variant-numeric  | `tabular-nums`                             |
| --sds-font-tabular-s-400-letter-spacing        | $sds-font-tabular-s-400-letter-spacing        | `0px`                                      |
| --sds-font-tabular-s-600-font                  | $sds-font-tabular-s-600-font                  | `600 14px/24px "Inter", sans-serif`        |
| --sds-font-tabular-s-600-font-variant-numeric  | $sds-font-tabular-s-600-font-variant-numeric  | `tabular-nums`                             |
| --sds-font-tabular-s-600-letter-spacing        | $sds-font-tabular-s-600-letter-spacing        | `0px`                                      |
| --sds-font-code-xs-400-font                    | $sds-font-code-xs-400-font                    | `400 13px/20px "IBM Plex Mono", monospace` |
| --sds-font-code-xs-400-letter-spacing          | $sds-font-code-xs-400-letter-spacing          | `0px`                                      |
| --sds-font-code-xs-600-font                    | $sds-font-code-xs-600-font                    | `600 13px/20px "IBM Plex Mono", monospace` |
| --sds-font-code-xs-600-letter-spacing          | $sds-font-code-xs-600-letter-spacing          | `0px`                                      |
| --sds-font-code-s-400-font                     | $sds-font-code-s-400-font                     | `400 14px/24px "IBM Plex Mono", monospace` |
| --sds-font-code-s-400-letter-spacing           | $sds-font-code-s-400-letter-spacing           | `0px`                                      |
| --sds-font-code-s-600-font                     | $sds-font-code-s-600-font                     | `600 14px/24px "IBM Plex Mono", monospace` |
| --sds-font-code-s-600-letter-spacing           | $sds-font-code-s-600-letter-spacing           | `0px`                                      |

</p>
</details>

<details><summary>Icon Sizes</summary>
<p>

| CSS Variable                 | SASS Variable               | Value  |
| ---------------------------- | --------------------------- | ------ |
| --sds-icon-size-input-height | $sds-icon-size-input-height | `16px` |
| --sds-icon-size-input-width  | $sds-icon-size-input-width  | `16px` |
| --sds-icon-size-xs-height    | $sds-icon-size-xs-height    | `12px` |
| --sds-icon-size-xs-width     | $sds-icon-size-xs-width     | `12px` |
| --sds-icon-size-s-height     | $sds-icon-size-s-height     | `16px` |
| --sds-icon-size-s-width      | $sds-icon-size-s-width      | `16px` |
| --sds-icon-size-l-height     | $sds-icon-size-l-height     | `24px` |
| --sds-icon-size-l-width      | $sds-icon-size-l-width      | `24px` |
| --sds-icon-size-xl-height    | $sds-icon-size-xl-height    | `32px` |
| --sds-icon-size-xl-width     | $sds-icon-size-xl-width     | `32px` |

</p>
</details>

<details><summary>Spaces</summary>
<p>

| CSS Variable        | SASS Variable      | Value  |
| ------------------- | ------------------ | ------ |
| --sds-space-default | $sds-space-default | `12px` |
| --sds-space-xxxs    | $sds-space-xxxs    | `2px`  |
| --sds-space-xxs     | $sds-space-xxs     | `4px`  |
| --sds-space-xs      | $sds-space-xs      | `6px`  |
| --sds-space-s       | $sds-space-s       | `8px`  |
| --sds-space-m       | $sds-space-m       | `12px` |
| --sds-space-l       | $sds-space-l       | `16px` |
| --sds-space-xl      | $sds-space-xl      | `24px` |
| --sds-space-xxl     | $sds-space-xxl     | `40px` |

</p>
</details>

### Component Styles

All components have been refactored and are now using the latest design tokens from the palette. All hardcoded spacings, colors, borders, etc., have been replaced with corresponding values from the theme Palette, making the whole design system dynamic and ready to use different theme files.

### Icons

- All SDS icons have been replaced with newly re-exported icons with larger 16 x 16 and 24 x 24 sizes.
- Loading icons have been re worked to show the animation.
- Icon names are now PascalCase instead of camelCase
- Some icon names have changed as below

| Old Name              | New Name               |
| --------------------- | ---------------------- |
| flagQuestionmark      | FlagQuestionMark       |
| flagXmark             | FlagXMark              |
| gridThreeDots         | GridDots3              |
| linesHorizontal       | LinesHorizontal3       |
| searchLinesHorizontal | SearchLinesHorizontal3 |

### Updated Icon sizes for some components

Since the icons are a bit larger by default now, the s size chevron icon in some components has been replaced with xs size for better visuals.

- Accordion
- ButtonDropdown
- InputDropdown

### Updated `intent` and `color` props

The accepted values for `intent` / `color` props in SDS components has changed to semantic alternates

- `primary` => `accent`
- `info` => `info`
- `error` => `negative`
- `warning` => `notice`
- `success` => `positive`
- `beta` => `beta`

### Reworked Components

- `CellBasic`: Introducing two additional properties to the CellBasic component, enabling the inclusion of elements either to the right or at the bottom of the primary text (https://github.com/chanzuckerberg/sci-components/issues/758).

```js
// New props

primaryTextComponentSlotRight?: React.ReactNode;
primaryTextComponentSlotBottom?: React.ReactNode;
```

- `InputSlider`: Vertical orientated sliders are no longer available.
- `InputText`: the `label` prop now accept ReactNode instead of string.
- `Link`: The Link component now accepts two new props, `sdsSize` and `fontWeight`
- `Tag`: The `color` prop is now optional for the Tag component. If no colors are provided, the Tag will be rendered as a neutral tag. Additionally, a new prop `sdsSize` has been introduced to control the size of the tag.
- `InputToggle`: Added Controlled InputToggle story and fixed component state.

### Storybook

- New story Badges in the preview header (`Stable`, `Beta`, `Needs Revision`, `Work in progress`)
- New story Badges in the sidebar list (`Stable`, `Beta`, `Needs Revision`, `Work in progress`)
- New categorization for stories (Bases, Components, Data Viz, Deprecated)
- Added Bases category to Storybook to cover Borders, Colors, Corners, Shadows and Spaces

### Storybook Stories

Component props are excluded from all stories except for the default story.

# [19.4.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@19.3.0...@czi-sds/components@19.4.0) (2024-02-15)

### Features

- **heatmap:** Base Heatmap Built ([#737](https://github.com/chanzuckerberg/sci-components/issues/737)) ([90bab28](https://github.com/chanzuckerberg/sci-components/commit/90bab2809d560e5d8835b97f89a4f421c85ebed3))

# [19.3.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@19.2.0...@czi-sds/components@19.3.0) (2024-02-15)

### Bug Fixes

- **callout:** allow Callout component to not have an icon ([#717](https://github.com/chanzuckerberg/sci-components/issues/717)) ([4215898](https://github.com/chanzuckerberg/sci-components/commit/4215898e45d0102eccb25efb9924cc086681a652)), closes [#578](https://github.com/chanzuckerberg/sci-components/issues/578)
- **callout:** fix callout expand in production ([#736](https://github.com/chanzuckerberg/sci-components/issues/736)) ([1a4decb](https://github.com/chanzuckerberg/sci-components/commit/1a4decbca90b2bb348465bdafbd29e5a66bc8e93))

### Features

- Add SVG Icon Props ([#726](https://github.com/chanzuckerberg/sci-components/issues/726)) ([f71236f](https://github.com/chanzuckerberg/sci-components/commit/f71236ffb37da248696680666d611b34b75c0da7))
- **icons:** adds hub icons ([#525](https://github.com/chanzuckerberg/sci-components/issues/525)) ([3fc888b](https://github.com/chanzuckerberg/sci-components/commit/3fc888b80f526adc38359eee7792fac133fa1944)), closes [#458](https://github.com/chanzuckerberg/sci-components/issues/458)
- **ions:** new icons added to the SDS library ([#740](https://github.com/chanzuckerberg/sci-components/issues/740)) ([838f888](https://github.com/chanzuckerberg/sci-components/commit/838f888a06de7295b07c7cf038f2103a75ae3ff7))

# [19.2.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@19.0.0...@czi-sds/components@19.2.0) (2024-01-10)

### Bug Fixes

- add focused styling to tabs ([#714](https://github.com/chanzuckerberg/sci-components/issues/714)) ([eb6870f](https://github.com/chanzuckerberg/sci-components/commit/eb6870f6d8bfe213555a5e0c0040308833510ab9))
- add live region to loading indicator ([#719](https://github.com/chanzuckerberg/sci-components/issues/719)) ([9126293](https://github.com/chanzuckerberg/sci-components/commit/9126293f2a4f8d68cb1a2a4994d8e008f1c37478))
- checkbox accessibility ([#716](https://github.com/chanzuckerberg/sci-components/issues/716)) ([2289e3c](https://github.com/chanzuckerberg/sci-components/commit/2289e3ce971a4302f404b99dc439a02a29b067bc)), closes [#690](https://github.com/chanzuckerberg/sci-components/issues/690)

### Features

- **icon:** add cube icon ([#725](https://github.com/chanzuckerberg/sci-components/issues/725)) ([a534985](https://github.com/chanzuckerberg/sci-components/commit/a534985f12f0100e7ca2da29a80ea03bf457b2f8)), closes [#720](https://github.com/chanzuckerberg/sci-components/issues/720)
- **icon:** add new code icon ([#724](https://github.com/chanzuckerberg/sci-components/issues/724)) ([850675f](https://github.com/chanzuckerberg/sci-components/commit/850675f49069f6bb422c22bb5903b120874a4fd0)), closes [#567](https://github.com/chanzuckerberg/sci-components/issues/567)

# [19.1.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@19.0.0...@czi-sds/components@19.1.0) (2023-12-13)

### Bug Fixes

- add focused styling to tabs ([#714](https://github.com/chanzuckerberg/sci-components/issues/714)) ([eb6870f](https://github.com/chanzuckerberg/sci-components/commit/eb6870f6d8bfe213555a5e0c0040308833510ab9))
- add live region to loading indicator ([#719](https://github.com/chanzuckerberg/sci-components/issues/719)) ([9126293](https://github.com/chanzuckerberg/sci-components/commit/9126293f2a4f8d68cb1a2a4994d8e008f1c37478))
- checkbox accessibility ([#716](https://github.com/chanzuckerberg/sci-components/issues/716)) ([2289e3c](https://github.com/chanzuckerberg/sci-components/commit/2289e3ce971a4302f404b99dc439a02a29b067bc)), closes [#690](https://github.com/chanzuckerberg/sci-components/issues/690)

### Features

- **icon:** add cube icon ([#725](https://github.com/chanzuckerberg/sci-components/issues/725)) ([a534985](https://github.com/chanzuckerberg/sci-components/commit/a534985f12f0100e7ca2da29a80ea03bf457b2f8)), closes [#720](https://github.com/chanzuckerberg/sci-components/issues/720)
- **icon:** add new code icon ([#724](https://github.com/chanzuckerberg/sci-components/issues/724)) ([850675f](https://github.com/chanzuckerberg/sci-components/commit/850675f49069f6bb422c22bb5903b120874a4fd0)), closes [#567](https://github.com/chanzuckerberg/sci-components/issues/567)

# [19.0.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@18.1.2...@czi-sds/components@19.0.0) (2023-11-22)

### Bug Fixes

- **defaulttheme:** fix typo in fontWeights, medium = 500 ([#707](https://github.com/chanzuckerberg/sci-components/issues/707)) ([adf650d](https://github.com/chanzuckerberg/sci-components/commit/adf650d84482585a01a9acc6dc48dbfdabab3a50))

### Features

- **multicolumnautocomplete:** first implementation ([#670](https://github.com/chanzuckerberg/sci-components/issues/670)) ([77342c6](https://github.com/chanzuckerberg/sci-components/commit/77342c6745537288d508299629bc1365f51eb446))

### BREAKING CHANGES

- **multicolumnautocomplete:** Autocomplte options type has changed from DefaultDropdownMenuOption to
  DefaultAutocompleteOption.

- refactor(autocomplete): use MUI class names object

- fix(autocomplete): remove dead code

- refactor(autocomplete): update comments and code cleanup

## [18.1.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@18.1.1...@czi-sds/components@18.1.2) (2023-10-11)

### Bug Fixes

- call onChange in event callback instead of useEffect ([#620](https://github.com/chanzuckerberg/sci-components/issues/620)) ([8d9ffda](https://github.com/chanzuckerberg/sci-components/commit/8d9ffda2992a112f1e489dabcf10315f0561f167))

## [18.1.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@18.1.0...@czi-sds/components@18.1.1) (2023-10-04)

### Bug Fixes

- **inputsearch:** fix intent and useInput styles ([#618](https://github.com/chanzuckerberg/sci-components/issues/618)) ([11430c1](https://github.com/chanzuckerberg/sci-components/commit/11430c1169391624382e9008a718861f564b4aa5))

# [18.1.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@18.0.1...@czi-sds/components@18.1.0) (2023-09-27)

### Bug Fixes

- **axe:** remove global timeout configuration ([#611](https://github.com/chanzuckerberg/sci-components/issues/611)) ([619bd82](https://github.com/chanzuckerberg/sci-components/commit/619bd8209ea8714ff6ec44dcf4025aba6ba53cf3))
- **icons:** remove fill attribute from IconQuoteLarge svg ([#614](https://github.com/chanzuckerberg/sci-components/issues/614)) ([b585b0d](https://github.com/chanzuckerberg/sci-components/commit/b585b0d2a68d38d0cdaad4cd546be1d5d9e37cff))

### Features

- **icons:** add IconQuoteLarge ([#613](https://github.com/chanzuckerberg/sci-components/issues/613)) ([b14234f](https://github.com/chanzuckerberg/sci-components/commit/b14234f27b1bb5a44e29bc3cd62f3769e46e0dc7))
- **menuitem:** add determinate/indeterminate variant to the MenuItem ([#602](https://github.com/chanzuckerberg/sci-components/issues/602)) ([7c7e3b3](https://github.com/chanzuckerberg/sci-components/commit/7c7e3b36704121db33818de206adb6c6ec484814))

## [18.0.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@18.0.0...@czi-sds/components@18.0.1) (2023-09-06)

**Note:** Version bump only for package @czi-sds/components

# [18.0.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@17.0.4...@czi-sds/components@18.0.0) (2023-09-06)

## 17.0.2 (2023-09-06)

### chore

- **release:** Merge changes from prod to main ([#585](https://github.com/chanzuckerberg/sci-components/issues/585)) ([74d464f](https://github.com/chanzuckerberg/sci-components/commit/74d464f9a543e1b8f8b2e9e477acc742710258f3))

### BREAKING CHANGES

- **release:** Testing breaking changes workflow with new release structure

- Publish

* @czi-sds/components@16.0.0

- fix(release): debugg release workflow
- **release:** Test

- Publish

* @czi-sds/components@17.0.0

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(slack): fix slack workflow's condition
- **release:** test slack workflow with the new release structure

- fix(slack): fix slack workflow

fix the workflow condition

- **release:** This is only to test the new release structure

- fix(d): d

- fix(workflows): update GitHub workflows

Update and optimize all GitHub workflows to the latest versions of actions

- **release:** Test slack web hook

- fix(github): fix github release workflow

- fix(comments): add comments to all yaml files

- fix(slack): change Slack Web Hook Url
- **release:** This is only for test purposes

- fix(slack): change slack action config
- **release:** This is only for testing purposes.

- fix(github): move slack config file to config directory to avoid github errors
- **release:** This is only for testing purposes!

- fix(slack): revert to Default config
- **release:** This is only for testing purposes.

- fix(config): copy slack config file in the Workflows directory
- **release:** This is only for testing purposes!

- fix(slack): fix config directory
- **release:** This is for testing purposes only!

- fix(actions): add a tip on pull request body to help with stucked checks

## [17.0.4](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@17.0.3...@czi-sds/components@17.0.4) (2023-09-06)

### Bug Fixes

- **release:** fix workflow JOb to wait for the previous step ([07cc8e1](https://github.com/chanzuckerberg/sci-components/commit/07cc8e1f10314e47ec4778e20b6e0716ad906964))

## [17.0.3](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@17.0.2...@czi-sds/components@17.0.3) (2023-09-06)

### Bug Fixes

- **github:** add GitHub release Jobs to the release workflow ([57940f8](https://github.com/chanzuckerberg/sci-components/commit/57940f8074bb459b91a198b4b87ad73ed4c85573))

## [17.0.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@17.0.1...@czi-sds/components@17.0.2) (2023-09-05)

### Bug Fixes

- **release:** fix lerna version access token ([c6e2eb1](https://github.com/chanzuckerberg/sci-components/commit/c6e2eb1436d4b96f1c625b6c6b9e2d198f8ef7e4))
- **release:** remove --create-release from lerna version ([f1dd1cf](https://github.com/chanzuckerberg/sci-components/commit/f1dd1cf514f8182ca4bca71c82f7701deec301e5))
- **release:** test github release ([5d5c588](https://github.com/chanzuckerberg/sci-components/commit/5d5c5880efc07c74175c118e23014a6ee8e959bc))

## [14.6.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/components@14.6.1...@czi-sds/components@14.6.2) (2023-04-26)

**Note:** Version bump only for package @czi-sds/components
</file>

<file path="packages/components/jest.config.js">
const COMMON_CONFIG = require("../../jest.common.config");

module.exports = {
  ...COMMON_CONFIG,
};
</file>

<file path="packages/components/jest.setup.ts">
import "@testing-library/jest-dom";
import "../../intersectionObserverMock";
</file>

<file path="packages/components/package.json">
{
  "name": "@czi-sds/components",
  "version": "22.9.0",
  "main": "dist/index.cjs.js",
  "module": "dist/index.esm.js",
  "types": "dist/index.cjs.d.ts",
  "repository": {
    "type": "git",
    "url": "https://github.com/chanzuckerberg/sci-components.git"
  },
  "publishConfig": {
    "access": "public"
  },
  "license": "MIT",
  "scripts": {
    "build": "yarn sd-build && rollup -c",
    "build-watch": "rollup -c -w",
    "start": "start-storybook -p 6006",
    "build-storybook": "build-storybook -o docs-build",
    "test-storybook": "test-storybook",
    "lint": "concurrently \"../../node_modules/.bin/eslint src/**/*.{ts,tsx} --quiet --fix\" \"../../node_modules/.bin/stylelint --fix '**/*.{js,ts,tsx,css}'\"  \"npm run type-check\"",
    "type-check": "tsc --noEmit",
    "test": "jest",
    "sd-build": "node ./src/common/styles-dictionary/build.mjs",
    "chromatic": "npx chromatic --exit-zero-on-changes --project-token=cad4aacbfeba",
    "storybook:axe": "yarn build-storybook && yarn storybook:axeOnly",
    "storybook:axeOnly": "axe-storybook --build-dir docs-build",
    "namespace-check": "tsc --p tsconfig-namespace-check.json"
  },
  "lint-staged": {
    "*.{js,jsx,ts,tsx,md,html,css,yml}": "npx prettier --write"
  },
  "files": [
    "dist"
  ],
  "description": "2021 Create-a-thon Science Initiative Component Library",
  "bugs": {
    "url": "https://github.com/chanzuckerberg/sci-components/issues"
  },
  "homepage": "https://github.com/chanzuckerberg/sci-components#readme",
  "keywords": [
    "react",
    "materialui",
    "science",
    "design",
    "system",
    "component",
    "library"
  ],
  "author": "",
  "config": {
    "commitizen": {
      "path": "./node_modules/cz-conventional-changelog"
    }
  },
  "peerDependencies": {
    "@emotion/css": "^11.11.2",
    "@emotion/react": "^11.11.3",
    "@emotion/styled": "^11.11.0",
    "@mui/base": "^5.0.0-beta.30",
    "@mui/icons-material": "^5.15.3",
    "@mui/lab": "^5.0.0-alpha.159",
    "@mui/material": "^5.15.3",
    "react": ">=17.0.1",
    "react-dom": ">=17.0.1"
  },
  "devDependencies": {
    "@types/react": "^18.2.46",
    "@types/react-dom": "^18.2.18",
    "style-dictionary": "^4.1.0"
  }
}
</file>

<file path="packages/components/README.md">
# Purpose

The Science Design System (SDS) brings consistency and universal standards to CZI’s science products by offering a library of high quality, reusable components that deliver predictable, accessible and easy to learn experiences. Our goal is to democratize access to tools and technologies for scientists.

## Design System Documentation

`@czi-sds/components` implements the Science Design System as documented in [Zeroheight](https://sds.czi.design/). As a result, it's very useful to get familiar with the available **theme variables**, such as `colors`, `spaces`, `typography`, etc., so you can leverage the theme properly in your application.

![Science Design System Zeroheight Homepage Snapshot](https://user-images.githubusercontent.com/6309723/155802483-366008aa-7380-4a01-b356-ae0ab02f4f3b.png)

## Installation

[NPM Package](https://www.npmjs.com/package/czi-sds/components)

**Currently SDS uses Material UI v5**

NOTE: Since most of the czi-sds components are built on top of Material UI's equivalent, it's also super useful to use their [API documentation](https://mui.com/) to learn about what you can do with the components. Many czi-sds components are style wrappers that pass props through to the MUI component without modifying them.

`@czi-sds/components` installs without direct dependencies to prevent version errors. Please ensure the following peer dependencies are also installed:

```
  "@emotion/css"
  "@emotion/react"
  "@emotion/styled"
  "@mui/base"
  "@mui/icons-material"
  "@mui/lab"
  "@mui/material"
  "react"
  "react-dom"
```

To install @czi-sds/components and the dependencies:

```
// with npm
npm i @czi-sds/components @emotion/css @emotion/react @emotion/styled @mui/base @mui/material @mui/icons-material @mui/lab react react-dom

// with yarn
yarn add @czi-sds/components @emotion/css @emotion/react @emotion/styled @mui/base @mui/material @mui/icons-material @mui/lab react react-dom
```

## Yarn scripts

Common yarn scrips have been moved to the monorepo root. The -- syntax can be used to pass parameters to the underlying yarn scripts. For instance, to update the snapshots, use `lerna run test -- -u` instead of running all tests on both packages with `yarn test`.

- `yarn start`: Starts storybook on the local machine
- `yarn build-storybook`: Builds the storybook in the docs-build folder
- `yarn test-storybook`: Tests current running instance of storybook
- `yarn storybook:axe`: Builds the storybook and runs accessibility tests
- `yarn storybook:axeOnly`: Runs accessibility tests on the latest build of the storybook inside the docs-build folder
- `yarn test`: Runs `jest` tests
- `yarn namespace-check`: Runs typescript type checking on namespace files to ensure that there are no duplicated exports
- `yarn lint`: Runs linter
- `yarn build`: Build the packages
- `yarn ci`: Executes `yarn install --frozen-lockfile` in both packages

- _To execute any script in the inner package, one can simply use the command `lerna run script --scope=<package>`. For instance, to run the linter only on the sci-components package, use the command `lerna run lint --scope=@czi-sds/components`._

## Usage

`@czi-sds/components` comes with five main exports that help you build your app:

1. Components - Accessible and reusable components

```javascript
import React from "react";
import { Button } from "@czi-sds/components";
<Button onClick={actions.onClick} sdsStyle="rounded" sdsType="primary">
  {text}
</Button>;
```

2. Mixins - Grouped styles defined by the design system

```javascript
import { styled } from '@emotion/styled';
import { Typography } from "@mui/material";
import { fontHeaderXL } from "@czi-sds/components";

export const Title - styled(Typography)`
  ${fontHeaderXl}

  // which compiles to:
  font-size: 22px;
  font-weight: 600;
  letter-spacing: 0.3px;
  line-height: 30px;
`;
```

3. Selectors - Helper functions that return theme variables baased on passed props

```ts
import { css, SerializedStyles } from "@emotion/react";
import styled from "@emotion/styled";
import { getColors, getCorners } from "@czi-sds/components";

export const Tag = styled("div")`
  // This is a callback function that returns more CSS rules, but the only way
  // to access the custom theme object
  ${(props) => {
    // getColors() is a selector that picks out colors from the theme object
    const colors = getColors(props);
    // getSpaces() is a selector that picks out spaces from the theme object
    const spaces = getSpaces(props);

    return `
          background-color: ${colors?.gray[500]};
          padding-bottom: ${spaces?.m}px;
          margin-bottom: ${spaces?.xxl}px;
        `;
  }}
`;
```

4. CSS & SCSS Variables - Variables for the `defaultTheme` to use if your app doesn't support `@emotion/styled`

```scss
// with SCSS variables
@import "~@czi-sds/components/dist/variables";

.button-primary {
  background-color: $sds-color-primary-400;
  padding: $sds-spaces-xxs;
}

// with CSS variables
.button-primary {
  background-color: var(--sds-color-primary-400);
  padding: var(--sds-spaces-xxs);
}
```

5. Tailwind - Tailwind compliant configuration for the `defaultTheme` to use if your app uses Tailwind

First you need to import the SDS config into your application's Tailwind config:

```js
// tailwind.config.js

const sds = require("@czi-sds/components/dist/tailwind.json");

module.exports = {
  mode: "jit",
  content: ["./src/**/*.{tsx,scss}"],
  theme: {
    extend: sds,
  },
};
```

If you have existing styles that you'd like to maintain, you can pick and choose
different parts of the SDS config:

```js
// tailwind.config.js

const sds = require("@czi-sds/components/dist/tailwind.json");

module.exports = {
  mode: "jit",
  content: ["./src/**/*.{tsx,scss}"],
  theme: {
    extend: {
      ...sds,

      width: {
        ...sds.width,
        "app-modal-width": "500px",
      },

      height: {
        ...sds.width,
        "app-modal-height": "200px",
      },
    },
  },
};
```

After that, you should be able to use SDS Tailwind classes in your app:

```tsx
export function Hello() {
  return (
    <p className="m-sds-xl px-sds-xs py-sds-s text-sds-error-400">
      Hello, World!
    </p>
  );
}
```

### Default Theme

To use the default theme in your React application, complete the following:

1. Add the following HTML to your `index.html` at the `<head>` section:

```html
// installs the sds font from google fonts
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=swap"
  rel="stylesheet"
/>
```

2. Import the default theme object and use it in Material UI's `<ThemeProvier />`:

```javascript
import { ThemeProvider as EmotionThemeProvider } from "@emotion/react";
import { StyledEngineProvider, ThemeProvider } from "@mui/material/styles";
import { defaultTheme } from "@czi-sds/components";

<StyledEngineProvider injectFirst>
  <ThemeProvider theme={defaultTheme}>
    <EmotionThemeProvider theme={defaultTheme}>
      <YourApp />
    </EmotionThemeProvider>
  </ThemeProvider>
</StyledEngineProvider>;
```

If you want to override the default theme, please use `defaultAppTheme`, override the options, and then call `createTheme` to generate
the full theme object like below. This is needed because `createTheme` generates
extra theme variables based on the themeOptions provided, so if you override `defaultTheme` directly, some auxillary theme variables will be based on `defaultAppTheme` instead of your own custom options

```tsx
import { ThemeProvider as EmotionThemeProvider } from "@emotion/react";
import { defaultAppTheme, makeThemeOptions } from "@czi-sds/components";
import { StyledEngineProvider, ThemeProvider } from "@mui/material/styles";
import createTheme from "@mui/material/styles/createTheme";

const customTheme = {
  ...
}

const appTheme = makeThemeOptions({ ...defaultAppTheme, ...customTheme })

const theme = createTheme(appTheme)

<StyledEngineProvider injectFirst>
  <ThemeProvider theme={theme}>
    <EmotionThemeProvider theme={theme}>
      <YourApp />
    </EmotionThemeProvider>
  </ThemeProvider>
</StyledEngineProvider>
```

To apply custom colors that align with your branding while maintaining the SDS design configurations, use the `makeSdsSemanticAppTheme`. Provide it with a Colors object that follows the SDS model.

```tsx
import { ThemeProvider as EmotionThemeProvider } from "@emotion/react";
import { makeSdsSemanticAppTheme, makeThemeOptions, type Colors } from "@czi-sds/components";
import { StyledEngineProvider, ThemeProvider } from "@mui/material/styles";
import createTheme from "@mui/material/styles/createTheme";

const CustomColors: Colors = {
  ...
}

const customColorAppTheme = makeSdsSemanticAppTheme(CustomColors);

const appTheme = makeThemeOptions(customColorAppTheme)

const theme = createTheme(appTheme)

<StyledEngineProvider injectFirst>
  <ThemeProvider theme={theme}>
    <EmotionThemeProvider theme={theme}>
      <YourApp />
    </EmotionThemeProvider>
  </ThemeProvider>
</StyledEngineProvider>
```

💡 CZGE example available [here](https://github.com/chanzuckerberg/czgenepi/blob/trunk/src/frontend/src/common/styles/theme.ts).

💡 Material UI docs for custom theming available [here](https://mui.com/material-ui/customization/theming/).

## Q&A

1. Why wrapping a component with `styled()` doesn't style the root element as expected?

   This is likely because the component is **NOT** forwarding the css class name that `styled()` generates to the intended root element. So we likely need to update the `czif` component to make it work

   For example, if a `czif` component `Foo` has the following implementation, `styled(Foo)` won't style the wrapper `<div />` as expected:

   ```tsx
   function Foo() {
     return (
       <div>
         <ChildA />
         <ChildB />
       </div>
     );
   }
   ```

   The fix is:

   ```tsx
   function Foo({ className }) {
     return (
       <div className={className}>
         <ChildA />
         <ChildB />
       </div>
     );
   }
   ```

1. To style a sub-component of a `@czi-sds/components` component, typically we export the sub-component for the call site to import and style via `styled`, and then you will be able to pass back the styled sub-component to the `@czi-sds/components` component through prop

   For example, `ComplexFilter` exports `ComplexFilterInputDropdown` sub-component, so if you want to style it, you can do the following:

   ```tsx
   import {
     ComplexFilter,
     ComplexFilterInputDropdown,
   } from "@czi-sds/components";
   import styled from "@emotion/styled";

   const StyledComplexFilterInputDropdown = styled(ComplexFilterInputDropdown)`
     color: pink;
   `;

   function Foo() {
     return (
       <ComplexFilter
         InputDropdownComponent={StyledComplexFilterInputDropdown}
       />
     );
   }
   ```

## Project status

This project is under **active development**. Contributions and ideas are welcome! If you would like to contribute, check out the [contribution guidelines](docs/contribution.md) or open an issue.
This project is governed under the [Contributor Covenant](https://www.contributor-covenant.org/) code of conduct.

## Reporting Security Issues

Please note: If you believe you have found a security issue, please responsibly disclose by contacting us at security@chanzuckerberg.com. More information is in our [Security Readme](docs/SECURITY.md)

## 2022 Plans

[2022 Plans](https://docs.google.com/presentation/d/1pKAY6Wl3-EHInvOZuf0L3yEDFt2xVvMlO7ZWefQbgjA/edit?usp=sharing)
</file>

<file path="packages/components/rollup.config.mjs">
import url from "@rollup/plugin-url";
import svgr from "@svgr/rollup";
import bundleScss from "rollup-plugin-bundle-scss";
import copy from "rollup-plugin-copy";
import css from "rollup-plugin-css-only";
import del from "rollup-plugin-delete";
import ts from "rollup-plugin-ts";
import resolve from "@rollup/plugin-node-resolve";
import commonjs from "@rollup/plugin-commonjs";
import pkg from "./package.json" assert { type: "json" };

const config = [
  {
    // External dependencies that should not be bundled into the output to reduce bundle size.
    external: [
      ...Object.keys(pkg.peerDependencies || {}),
      "react/jsx-runtime"
    ],

    // Entry point for the library
    input: "src/index.ts",

    // Output configuration for the CommonJS (CJS) and ESModule (ESM) formats.
    output: [
      {
        // Ensures "use client" is added at the top of each output file.
        banner: "\"use client\";",
        file: pkg.main,
        format: "cjs",
        interop: "auto"
      },
      {
        // Ensures "use client" is added at the top of each output file.
        banner: "\"use client\";",
        file: pkg.module,
        format: "esm",
        interop: "auto"
      },
    ],
    plugins: [
      // Handles resolving external dependencies from `node_modules`.
      resolve(),

      // Convert CommonJS modules (especially from `node_modules`) to ES6.
      commonjs(),

      // Clean up the `dist` folder and any other specified paths before building.
      del({
        targets: ["dist/*", "playground/src/components"],
      }),

      // Allow imports for assets like images, fonts, etc., and handle them properly.
      url(),

      // Transform imported SVGs into React components.
      svgr(),

      // Extract CSS into a single file (variables.css).
      css({ output: "variables.css" }),

      // Bundle SCSS into a single output file (variables.scss).
      bundleScss({ output: "variables.scss" }),

      // Copy tailwind variables into the `dist` folder.
      copy({
        targets: [
          {
            dest: "./dist",
            src: "./src/common/styles-dictionary/json/tailwind.json",
          },
        ],
      }),

      // Handle TypeScript compilation with custom configurations.
      ts({
        tsconfig: (resolvedConfig) => ({
          ...resolvedConfig,
          // Exclude SCSS and CSS files from TypeScript's scope.
          exclude: ["**/*.scss", "**/*.css"]
        })
      }),
    ],
  },
];

export default config;
</file>

<file path="packages/components/tsconfig-namespace-check.json">
{
  "extends": "./tsconfig.json",
  "include": [
    "src/**/*.ts",
    "src/**/*.tsx",
    "src/**/*.d.ts",
    "src/common/**/*",
    "src/core/**/*",
    "jest.setup.ts"
  ],
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "src/*": ["src/*"]
    },
    "types": [
      "jest",
      "@testing-library/jest-dom"
    ]
  }
}
</file>

<file path="packages/components/tsconfig.json">
{
  "extends": "../../tsconfig.json",
  "compilerOptions": {
    "baseUrl": "./",
    "outDir": "./dist",
    "composite": true
  },
  "include": ["./src/**/*", "jest.setup.ts", "../../.eslintrc.js"],
  "exclude": ["node_modules", "**/*.scss", "**/*.css"],
  "references": []
}
</file>

<file path="packages/data-viz/src/common/utils.ts">
export const noop = (): void => {};
export const EMPTY_OBJECT = {};
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/ControlPanel/index.tsx">
import { useDispatch, useSelector } from "react-redux";
import {
  Callout,
  DefaultAutocompleteOption,
  Dropdown,
  SDSAutocompleteValue,
  Tag,
} from "@czi-sds/components";
import { StyledControlPanelWrapper, StyledForm } from "./style";
import {
  DataState,
  setCamera,
  setColor,
  setEmphasis,
  setRenderer,
  setSize,
  setSymbol,
  setType,
} from "../../store/dataReducer";
import { RootState } from "../../store";
import { toPascalCase } from "../utils";

type DropdownOption = DefaultAutocompleteOption & {
  value: string | number | boolean;
};

const OPTIONS = [
  {
    name: "Spectral",
    section: "Categorical",
    value: "Spectral",
  },
  {
    name: "Rainbow",
    section: "Categorical",
    value: "Rainbow",
  },
  {
    name: "Virdis",
    section: "Categorical",
    value: "Virdis",
  },
  {
    name: "Plasma",
    section: "Categorical",
    value: "Plasma",
  },
  {
    name: "Magma",
    section: "Sequential",
    value: "Magma",
  },
  {
    name: "YlOrRd",
    section: "Sequential",
    value: "YlOrRd",
  },
];

const SIZES = [
  { details: "50 x 50", name: "2,500", value: 50 },
  { details: "100 x 100", name: "10,000", value: 100 },
  { details: "250 x 250", name: "62,500", value: 250 },
  { details: "500 x 500", name: "250,000", value: 500 },
  { details: "750 x 750", name: "562,500", value: 750 },
  { details: "1000 x 1000", name: "1,000,000", value: 1000 },
  { details: "1250 x 1250", name: "1,562,500", value: 1250 },
  { details: "1500 x 1500", name: "2,250,000", value: 1500 },
  { details: "1650 x 1650", name: "2,722,500", value: 1650 },
];

const TYPES = [
  {
    details: "Applies gradient-like colors for a smooth transition.",
    name: "Sequential",
    value: "sequential",
  },
  {
    details: "Utilizes randomized colors for a diverse visual representation.",
    name: "Random",
    value: "random",
  },
  {
    details:
      "Incorporates Perlin noise for a structured yet natural appearance.",
    name: "Perlin",
    value: "perlin",
  },
];

const SYMBOLS = [
  {
    details:
      "Represents data points as circular shapes with varying sizes and colors based on their values.",
    name: "Circle",
    value: "circle",
  },
  {
    details:
      "Represents data points as rectangular shapes with different colors based on their values.",
    name: "Rect",
    value: "rect",
  },
  {
    details:
      "Represents data points as rounded-edged rectangular shapes with different colors based on their values.",
    name: "RoundRect",
    value: "roundRect",
  },
];

const EMPHASIS = [
  {
    details: "Highlights only the specific item.",
    name: "Item",
    value: "item",
  },
  {
    details: "Highlights the entire row containing the item.",
    name: "Row",
    value: "row",
  },
  {
    details: "Highlights the entire column containing the item.",
    name: "Column",
    value: "column",
  },
  {
    details: "Highlights both the row and column containing the item.",
    name: "Cross",
    value: "cross",
  },
];

const CAMERA_EFFECT = [
  {
    details:
      "Renders only the visible part of the heatmap, rendering the rest upon scrolling. Recommended for large heatmaps to optimize performance.",
    name: "On",
    value: true,
  },
  {
    details:
      "Renders the entire heatmap on the screen. Suitable for smaller heatmaps where the camera effect can be disabled for better display.",
    name: "Off",
    value: false,
  },
];

const RENDERER = [
  {
    details: "Renders the heatmap in SVG format.",
    name: "svg",
    value: "svg",
  },
  {
    details: "Renders the heatmap using HTML canvas.",
    name: "canvas",
    value: "canvas",
  },
];

const POPPER_PLACEMENT = "right-start";

const ControlPanel = () => {
  const dispatch = useDispatch();

  const size = useSelector((state: RootState) => state.dataReducer.size);
  const color = useSelector((state: RootState) => state.dataReducer.color);
  const type = useSelector((state: RootState) => state.dataReducer.type);
  const renderer = useSelector(
    (state: RootState) => state.dataReducer.renderer
  );
  const camera = useSelector((state: RootState) => state.dataReducer.camera);
  const symbol = useSelector((state: RootState) => state.dataReducer.symbol);
  const emphasis = useSelector(
    (state: RootState) => state.dataReducer.emphasis
  );

  return (
    <StyledControlPanelWrapper>
      <StyledForm>
        <Dropdown<DropdownOption, false, false, false>
          label={color}
          options={OPTIONS}
          onChange={changeInterpolator}
          search
          InputDropdownProps={{
            label: "Heatmap Color",
            sdsStyle: "minimal",
            sdsType: "label",
            style: {
              marginBottom: 5,
            },
            value: color,
          }}
          DropdownMenuProps={{
            PopperPlacement: POPPER_PLACEMENT,
            groupBy: (option: DropdownOption) => option.section as string,
            width: 220,
          }}
        />

        <Dropdown<DropdownOption, false, false, false>
          label={`${size} x ${size}`}
          options={SIZES}
          onChange={changeHeatmapSize}
          InputDropdownProps={{
            label: "Heatmap Size",
            sdsStyle: "minimal",
            sdsType: "label",
            style: {
              marginBottom: 5,
            },
            value: `${size} x ${size}`,
          }}
          DropdownMenuProps={{
            PopperPlacement: POPPER_PLACEMENT,
            width: 220,
          }}
        />

        <Dropdown<DropdownOption, false, false, false>
          label={camera ? "on" : "off"}
          options={CAMERA_EFFECT}
          onChange={changeHeatmapCamera}
          InputDropdownProps={{
            label: "Camera Effect",
            sdsStyle: "minimal",
            sdsType: "label",
            style: {
              marginBottom: 5,
            },
            value: camera ? "On" : "Off",
          }}
          DropdownMenuProps={{
            PopperPlacement: POPPER_PLACEMENT,
            width: 220,
          }}
        />

        <Dropdown<DropdownOption, false, false, false>
          label={toPascalCase(renderer)}
          options={RENDERER}
          onChange={changeHeatmapRenderer}
          InputDropdownProps={{
            label: "Renderer",
            sdsStyle: "minimal",
            sdsType: "label",
            style: {
              marginBottom: 5,
            },
            value: toPascalCase(renderer),
          }}
          DropdownMenuProps={{
            PopperPlacement: POPPER_PLACEMENT,
            width: 220,
          }}
        />

        <Dropdown<DropdownOption, false, false, false>
          label={type}
          options={TYPES}
          onChange={changeHeatmapType}
          InputDropdownProps={{
            label: "Heatmap Type",
            sdsStyle: "minimal",
            sdsType: "label",
            style: {
              marginBottom: 5,
            },
            value: toPascalCase(type),
          }}
          DropdownMenuProps={{
            PopperPlacement: POPPER_PLACEMENT,
            width: 220,
          }}
        />

        <Dropdown<DropdownOption, false, false, false>
          label={symbol}
          options={SYMBOLS}
          onChange={changeHeatmapSymbol}
          InputDropdownProps={{
            label: "Symbol Type",
            sdsStyle: "minimal",
            sdsType: "label",
            style: {
              marginBottom: 5,
            },
            value: toPascalCase(symbol),
          }}
          DropdownMenuProps={{
            PopperPlacement: POPPER_PLACEMENT,
            width: 220,
          }}
        />

        <Dropdown<DropdownOption, false, false, false>
          label={emphasis}
          options={EMPHASIS}
          onChange={changeHeatmapEmphasis}
          InputDropdownProps={{
            label: "Emphasis Type",
            sdsStyle: "minimal",
            sdsType: "label",
            style: {
              marginBottom: 5,
            },
            value: toPascalCase(emphasis),
          }}
          DropdownMenuProps={{
            PopperPlacement: POPPER_PLACEMENT,
            width: 220,
          }}
        />
      </StyledForm>

      <Callout
        autoDismiss={false}
        intent="info"
        dismissed={false}
        style={{
          margin: 0,
          width: "unset",
        }}
      >
        To scroll horizontally, hold down the{" "}
        <Tag
          color="neutral"
          label="SHIFT"
          sdsStyle="square"
          sdsType="secondary"
          hover={false}
          style={{ marginTop: 5 }}
        />{" "}
        key!
      </Callout>
    </StyledControlPanelWrapper>
  );

  function changeInterpolator(
    _event: React.SyntheticEvent,
    interpolator: SDSAutocompleteValue<DropdownOption, false, false, false>
  ) {
    if (interpolator)
      dispatch(setColor(interpolator.value as DataState["color"]));
  }

  function changeHeatmapSize(
    _event: React.SyntheticEvent,
    heatmapSize: SDSAutocompleteValue<DropdownOption, false, false, false>
  ) {
    if (heatmapSize) dispatch(setSize(heatmapSize.value as DataState["size"]));
  }

  function changeHeatmapType(
    _event: React.SyntheticEvent,
    heatmapType: SDSAutocompleteValue<DropdownOption, false, false, false>
  ) {
    if (heatmapType) dispatch(setType(heatmapType.value as DataState["type"]));
  }

  function changeHeatmapRenderer(
    _event: React.SyntheticEvent,
    heatmapRenderer: SDSAutocompleteValue<DropdownOption, false, false, false>
  ) {
    if (heatmapRenderer)
      dispatch(setRenderer(heatmapRenderer.value as DataState["renderer"]));
  }

  function changeHeatmapCamera(
    _event: React.SyntheticEvent,
    heatmapCamera: SDSAutocompleteValue<DropdownOption, false, false, false>
  ) {
    if (heatmapCamera)
      dispatch(setCamera(heatmapCamera.value as DataState["camera"]));
  }

  function changeHeatmapSymbol(
    _event: React.SyntheticEvent,
    heatmapSymbol: SDSAutocompleteValue<DropdownOption, false, false, false>
  ) {
    if (heatmapSymbol)
      dispatch(setSymbol(heatmapSymbol.value as DataState["symbol"]));
  }

  function changeHeatmapEmphasis(
    _event: React.SyntheticEvent,
    heatmapEmphasis: SDSAutocompleteValue<DropdownOption, false, false, false>
  ) {
    if (heatmapEmphasis)
      dispatch(setEmphasis(heatmapEmphasis.value as DataState["emphasis"]));
  }
};

export default ControlPanel;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/ControlPanel/style.ts">
import styled from "@emotion/styled";

export const StyledControlPanelWrapper = styled("div")`
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  height: 100%;
`;

export const StyledForm = styled("div")`
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: start;

  button {
    margin-bottom: 15px;
    width: 100%;
  }

  h5 {
    margin-bottom: 15px;
    font-weight: 500;
  }
`;

export const StyledLabel = styled("span")`
  font-family: "Inter", sans-serif;
  font-size: 12px;
  margin-bottom: 2px;
  line-height: 18px;
  font-weight: 600;
  letter-spacing: 0.3px;
  font-variant: small-caps;
  color: #888;
`;

export const FormControl = styled("div")`
  margin-bottom: 15px;
  display: flex;
  flex-direction: column;
  width: 100%;
`;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/ECharts/index.tsx">
import { useSelector } from "react-redux";
import { RootState } from "../../store";
import { ForwardedRef, RefObject, forwardRef, useEffect, useRef } from "react";
import GeneListGenerator from "../../helpers/geneListGenerator";
import { Y_ITEM_COUNT, X_ITEM_COUNT, HEATMAP_ITEM_SIZE } from "../utils";
import {
  interpolateMagma,
  interpolatePlasma,
  interpolateRainbow,
  interpolateSpectral,
  interpolateViridis,
  interpolateYlOrRd,
} from "d3-scale-chromatic";
import { useAppContext } from "../../store/useAppContext";
import {
  ECElementEvent,
  EChartsOption,
  ScatterSeriesOption,
  getInstanceByDom,
} from "echarts";
import HeatmapChart from "../../../../../index";

type InterpolatorNames =
  | "Magma"
  | "Rainbow"
  | "Virdis"
  | "Plasma"
  | "Spectral"
  | "YlOrRd";

type Interpolator = Record<InterpolatorNames, (t: number) => string>;

const INTERPOLATORS: Interpolator = {
  Magma: interpolateMagma,
  Plasma: interpolatePlasma,
  Rainbow: interpolateRainbow,
  Spectral: interpolateSpectral,
  Virdis: interpolateViridis,
  YlOrRd: interpolateYlOrRd,
};
interface EChartsProps {
  xAxisLabelRef: RefObject<number>;
  yAxisLabelRef: RefObject<number>;
  onAxisChange?: (
    start: number,
    end: number,
    dir: "horizontal" | "vertical"
  ) => void;
  onItemClicked?: (item?: { x: number; y: number; value: number }) => void;
}

type ChartDataOption = { x: number; y: number; value: number };

const ECharts = forwardRef(
  // eslint-disable-next-line sonarjs/cognitive-complexity
  (props: EChartsProps, ref: ForwardedRef<HTMLDivElement>) => {
    const { onAxisChange, onItemClicked, xAxisLabelRef, yAxisLabelRef } = props;
    const { setChartInstance } = useAppContext();
    const clickedItem = useRef<number>(-1);
    const data = useSelector((state: RootState) => state.dataReducer.data);
    const size = useSelector((state: RootState) => state.dataReducer.size);
    const heatmapCanvasSize = useSelector(
      (state: RootState) => state.dataReducer.heatmapCanvasSize
    );
    const color = useSelector((state: RootState) => state.dataReducer.color);
    const emphasis = useSelector(
      (state: RootState) => state.dataReducer.emphasis
    );
    const symbol = useSelector((state: RootState) => state.dataReducer.symbol);
    const renderer = useSelector(
      (state: RootState) => state.dataReducer.renderer
    );
    const camera = useSelector((state: RootState) => state.dataReducer.camera);

    const innerChartRef = useRef<HTMLDivElement | null>(null);

    useEffect(() => {
      //Reset xAxis on each chart re-renders
      onAxisChange?.(0, 100, "horizontal");

      //Reset yAxis on each chart re-renders
      onAxisChange?.(0, 100, "vertical");

      onItemClicked?.({ value: -1, x: -1, y: -1 });

      if (innerChartRef.current) {
        const chart = getInstanceByDom(innerChartRef.current);
        chart?.dispatchAction({
          seriesIndex: 0,
          type: "downplay",
        });
      }
    }, [
      data,
      size,
      color,
      emphasis,
      symbol,
      camera,
      onAxisChange,
      onItemClicked,
    ]);

    const xAxisLabelNames = GeneListGenerator(size).map((d) => d.name);
    const yAxisLabelNames = GeneListGenerator(size).map((d) => d.name);

    const options = {
      animation: !camera,
      grid: {
        bottom: 0,
        left: 0,
        right: 0,
        top: 0,
      },
      series: [
        {
          clip: true,
          emphasis: {
            itemStyle: {
              borderColor: symbol === "circle" ? "#000" : "#fff",
              borderType: "solid",
              borderWidth: symbol === "circle" ? 2 : 4,
            },
            scale: false,
          } as ScatterSeriesOption["emphasis"],
          name: "SDS Heatmap",
        },
      ],
      tooltip: camera
        ? {
            enterable: true,
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            formatter: function (param: any) {
              return param.data
                ? [
                    `X-Axis: <strong>${
                      xAxisLabelNames[param.data.x]
                    }</strong><br/>`,
                    `Y-Axis: <strong>${
                      yAxisLabelNames[param.data.y]
                    }</strong><br/><br/>`,
                    `${param.marker} <strong>${param.data.value.toFixed(
                      6
                    )}</strong>`,
                  ].join("")
                : [];
            },
          }
        : { show: false },
      xAxis: {
        axisLabel: {
          rotate: 90,
        },
        axisPointer: { show: false },
        data: xAxisLabelNames,
        position: "top",
        show: false,
        type: "category",
      } as EChartsOption["xAxis"],
      yAxis: {
        axisPointer: { show: false },
        data: yAxisLabelNames,
        inverse: true,
        show: true,
        type: "category",
      } as EChartsOption["yAxis"],
    };

    const shiftHeld = useRef<boolean>(false);

    function downHandler({ key }: KeyboardEvent) {
      if (key === "Shift") {
        shiftHeld.current = true;
        if (innerChartRef.current) {
          getInstanceByDom(innerChartRef.current)?.setOption({
            dataZoom: [
              {
                moveOnMouseWheel: true,
              },
              {
                moveOnMouseWheel: false,
              },
            ],
          });
        }
      }
    }

    function upHandler({ key }: KeyboardEvent) {
      if (key === "Shift") {
        shiftHeld.current = false;
        if (innerChartRef.current) {
          getInstanceByDom(innerChartRef.current)?.setOption({
            dataZoom: [
              {
                moveOnMouseWheel: false,
              },
              {
                moveOnMouseWheel: true,
              },
            ],
          });
        }
      }
    }

    useEffect(() => {
      window.addEventListener("keydown", downHandler);
      window.addEventListener("keyup", upHandler);
      return () => {
        window.removeEventListener("keydown", downHandler);
        window.removeEventListener("keyup", upHandler);
      };
    }, []);

    return (
      <>
        <HeatmapChart
          ref={handleRef}
          axisPointer={{
            show: false,
          }}
          width={camera ? heatmapCanvasSize.width : HEATMAP_ITEM_SIZE * size}
          height={camera ? heatmapCanvasSize.height : HEATMAP_ITEM_SIZE * size}
          xAxisData={[...Array.from(Array(size).keys())]}
          yAxisData={[...Array.from(Array(size).keys())]}
          echartsRendererMode={renderer}
          camera={{
            active: camera,
            height: Y_ITEM_COUNT,
            width: X_ITEM_COUNT,
          }}
          data={data}
          encode={{ x: "x", y: "y" }}
          symbol={symbol}
          symbolSize={function (symbolProps: { value: number }) {
            switch (symbol) {
              case "circle":
                return symbolProps.value * HEATMAP_ITEM_SIZE;
              case "rect":
              default: {
                return HEATMAP_ITEM_SIZE;
              }
            }
          }}
          itemStyle={{
            borderColor: "#fff",
            borderType: "solid",
            borderWidth: 1,
            color: (colorProps) => {
              const colorData = colorProps.data as ChartDataOption;

              return (INTERPOLATORS as Interpolator)[
                color as InterpolatorNames
              ](colorData.value);
            },
            opacity: 1,
          }}
          options={options}
          onEvents={{
            click: handleClick,
            dataZoom: handleDataZoom,
          }}
        />
      </>
    );

    function handleRef(element: HTMLDivElement | null) {
      innerChartRef.current = element;

      if (element) {
        const chart = getInstanceByDom(element);
        setChartInstance?.(chart);
      }

      if (!ref) return;

      if (typeof ref === "function") {
        ref(element);
      } else {
        ref.current = element;
      }
    }

    function handleDataZoom(evt: ECElementEvent["dataZoom"]) {
      if (evt.batch.length > 1) {
        const { start: xStart, end: xEnd } = evt.batch[0];
        const { start: yStart, end: yEnd } = evt.batch[1];
        onAxisChange?.(yStart, yEnd, "vertical");
        onAxisChange?.(xStart, xEnd, "horizontal");
      } else if (shiftHeld.current) {
        const { start, end } = evt.batch[0];
        onAxisChange?.(start, end, "horizontal");
      } else {
        const { start, end } = evt.batch[0];
        onAxisChange?.(start, end, "vertical");
      }

      if (innerChartRef.current) {
        const echartInstance = getInstanceByDom(innerChartRef.current);

        //Downplay all items on camera scroll
        if (echartInstance)
          echartInstance.dispatchAction({
            seriesIndex: 0,
            type: "downplay",
          });

        // Preserve Highlighted row + column based on emphasis type during scroll
        if (
          xAxisLabelRef?.current !== null &&
          xAxisLabelRef?.current > -1 &&
          yAxisLabelRef?.current !== null &&
          yAxisLabelRef?.current > -1
        ) {
          if (echartInstance)
            echartInstance.dispatchAction({
              seriesIndex: [0],
              type: "downplay",
            });

          const dataIndex = [];

          switch (emphasis) {
            case "item":
              dataIndex.push(
                xAxisLabelRef?.current * size + yAxisLabelRef?.current
              );
              break;

            case "row":
              for (let i = 0; i < size; i++) {
                dataIndex.push(i * size + yAxisLabelRef?.current);
              }

              break;

            case "column":
              for (let i = 0; i < size; i++) {
                dataIndex.push(xAxisLabelRef?.current * size + i);
              }

              break;

            case "cross":
            default:
              for (let i = 0; i < size; i++) {
                dataIndex.push(
                  i * size + yAxisLabelRef?.current,
                  xAxisLabelRef?.current * size + i
                );
              }
          }

          if (echartInstance)
            echartInstance.dispatchAction({
              dataIndex,
              seriesIndex: 0,
              type: "highlight",
            });
        }
        // Preserve Highlighted row during scroll
        else if (
          yAxisLabelRef?.current !== null &&
          yAxisLabelRef?.current > -1
        ) {
          if (echartInstance)
            echartInstance.dispatchAction({
              seriesIndex: [0],
              type: "downplay",
            });

          const dataIndex = [];

          for (let i = 0; i < size; i++) {
            dataIndex.push(i * size + yAxisLabelRef?.current);
          }

          if (echartInstance)
            echartInstance.dispatchAction({
              dataIndex,
              seriesIndex: 0,
              type: "highlight",
            });
        }
        // Preserve Highlighted column during scroll
        else if (
          xAxisLabelRef?.current !== null &&
          xAxisLabelRef?.current > -1
        ) {
          if (echartInstance)
            echartInstance.dispatchAction({
              seriesIndex: [0],
              type: "downplay",
            });

          const dataIndex = [];

          for (let i = 0; i < size; i++) {
            dataIndex.push(xAxisLabelRef?.current * size + i);
          }

          if (echartInstance)
            echartInstance.dispatchAction({
              dataIndex,
              seriesIndex: 0,
              type: "highlight",
            });
        }
      }
    }

    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function handleClick(params: any) {
      if (innerChartRef.current) {
        const echartInstance = getInstanceByDom(innerChartRef.current);

        if (params.event.target) {
          // Downplay all items when clicked on the same item again
          if (params.dataIndex === clickedItem.current) {
            echartInstance?.dispatchAction({
              seriesIndex: 0,
              type: "downplay",
            });
            clickedItem.current = -1;

            onItemClicked?.({ value: -1, x: -1, y: -1 });
          } else {
            clickedItem.current = params.dataIndex;
            onItemClicked?.(params.data);

            echartInstance?.dispatchAction({
              seriesIndex: 0,
              type: "downplay",
            });

            //Highlight based on the Emphasis type
            const seriesIndex = params.seriesIndex;
            const { x, y } = params.data;
            let dataIndex = [];

            switch (emphasis) {
              case "item":
                dataIndex = params.dataIndex;
                break;

              case "row":
                for (let i = 0; i < size; i++) {
                  dataIndex.push(i * size + y);
                }
                break;

              case "column":
                for (let i = 0; i < size; i++) {
                  dataIndex.push(x * size + i);
                }
                break;

              case "cross":
              default:
                for (let i = 0; i < size; i++) {
                  dataIndex.push(i * size + y, x * size + i);
                }
                break;
            }

            echartInstance?.dispatchAction({
              dataIndex,
              seriesIndex,
              type: "highlight",
            });
          }
        }
      }
    }
  }
);

export default ECharts;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/Header/index.tsx">
import { useSelector } from "react-redux";
import { HeaderLeft, HeaderRight, StyledButton, StyledHeader } from "./style";
import { RootState } from "../../store";
import { Button, Icon, Tag, Tooltip } from "@czi-sds/components";
import { useAppContext } from "../../store/useAppContext";

const TooltipTag = ({ label }: { label: string }) => {
  return (
    <Tag
      label={label}
      hover={false}
      color="neutral"
      sdsType="secondary"
      style={{ margin: "-2px 4px 0 0" }}
    />
  );
};

const Header = () => {
  const renderer = useSelector(
    (state: RootState) => state.dataReducer.renderer
  );
  const { chartInstance } = useAppContext();

  return (
    <StyledHeader>
      <HeaderLeft>
        <Icon sdsIcon="Grid" sdsSize="xl" color="gray" />
        <h3 style={{ marginLeft: 10 }}>
          Heatmap ({renderer === "svg" ? "SVG version" : "Canvas version"})
        </h3>
      </HeaderLeft>

      <HeaderRight>
        <Button
          sdsType="primary"
          sdsStyle="rounded"
          endIcon={<Icon sdsIcon="Download" sdsSize="l" />}
          onClick={() => saveAsImage("sds-heatmap")}
        >
          Download as {renderer === "svg" ? ".svg" : ".png"}
        </Button>

        <Tooltip
          title={
            <div>
              To modify the renderer for the heatmap, navigate to the control
              Within the control panel, you have the option to toggle between
              renderers: <TooltipTag label="SVG" />
              and <TooltipTag label="Canvas" />. If you opt for the SVG
              renderer, you can download the heatmap in{" "}
              <TooltipTag label="SVG" />
              format. Alternatively, selecting the canvas renderer provides the
              option to export the heatmap in <TooltipTag label="PNG" />
              format.
            </div>
          }
          hasInvertedStyle={false}
          placement="bottom-end"
          arrow
        >
          <StyledButton
            aria-label="Download Info"
            icon="InfoCircle"
            sdsSize="large"
            sdsType="secondary"
            sdsStyle="icon"
          />
        </Tooltip>
      </HeaderRight>
    </StyledHeader>
  );

  function saveAsImage(title: string) {
    const isSvg = renderer === "svg";
    const type = isSvg ? "svg" : "png";
    const url = chartInstance?.getConnectedDataURL({
      backgroundColor: "transparent",
      excludeComponents: ["toolbox"],
      pixelRatio: 1,
      type: type,
    });

    if (url) {
      const $a = document.createElement("a");
      $a.download = title + "." + type;
      $a.target = "_blank";
      $a.href = url;
      const evt = new MouseEvent("click", {
        bubbles: true,
        cancelable: false,
        view: document.defaultView,
      });
      $a.dispatchEvent(evt);
    }
  }
};

export default Header;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/Header/style.ts">
import { Button, SDSTheme } from "@czi-sds/components";
import { ThemeContext } from "@emotion/react";
import styled from "@emotion/styled";
import { useContext } from "react";

export const StyledHeader = styled("div")`
  ${() => {
    const theme = useContext(ThemeContext) as SDSTheme;

    return `
      background-color: ${theme?.palette?.sds?.base?.backgroundPrimary};
    `;
  }}
  grid-area: 1 / 1 / 2 / 6;
  border-bottom: solid 1px #c3c3c347;
  width: 100%;
  padding: 0 15px;
  height: 70px;
  position: fixed;
  z-index: 200;
  display: flex;
  align-items: center;
  justify-content: space-between;

  h3 {
    margin: 0;
    line-height: 32px;
  }
`;

export const HeaderLeft = styled("div")`
  display: flex;
`;

export const HeaderRight = styled("div")`
  display: block;
`;

export const StyledButton = styled(Button)`
  margin: 0 10px;
`;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/Heatmap/index.tsx">
import { useSelector } from "react-redux";
import { RootState } from "../../store";
import { StyledContainer, StyledHeatmapWrapper } from "./style";
import { useRef } from "react";
import { XAxisWrapper } from "../XAxisChart/style";
import XAxisChart, { XAxisRefType } from "../XAxisChart";
import {
  Y_ITEM_COUNT,
  X_ITEM_COUNT,
  X_AXIS_WIDTH,
  Y_AXIS_WIDTH,
  HEATMAP_ITEM_SIZE,
  Y_AXIS_REVERSE,
} from "../utils";
import YAxisChart, { YAxisRefType } from "../YAxisChart";
import { YAxisWrapper } from "../YAxisChart/style";
import ECharts from "../ECharts";
import { getInstanceByDom } from "echarts";

const Heatmap = () => {
  const clickedLabelX = useRef<number>(-1);
  const clickedLabelY = useRef<number>(-1);
  const XAxisChartRef = useRef<XAxisRefType>(null);
  const YAxisChartRef = useRef<YAxisRefType>(null);
  const geneNames = useSelector(
    (state: RootState) => state.dataReducer.geneNames
  );
  const size = useSelector((state: RootState) => state.dataReducer.size);
  const emphasis = useSelector(
    (state: RootState) => state.dataReducer.emphasis
  );
  const heatmapCanvasSize = useSelector(
    (state: RootState) => state.dataReducer.heatmapCanvasSize
  );
  const camera = useSelector((state: RootState) => state.dataReducer.camera);

  const chartRef = useRef<HTMLDivElement>(null);

  return (
    <StyledContainer>
      <YAxisWrapper
        id="y-axis-wrapper"
        height={camera ? heatmapCanvasSize.height : HEATMAP_ITEM_SIZE * size}
        width={Y_AXIS_WIDTH}
        bottom={0}
      >
        <YAxisChart
          reverse
          ref={YAxisChartRef}
          geneNames={geneNames}
          // eslint-disable-next-line sonarjs/cognitive-complexity
          labelClicked={(label) => {
            clickedLabelX.current = -1;

            if (XAxisChartRef.current) {
              XAxisChartRef.current.changeActiveLabel(-1);
            }

            if (chartRef.current) {
              const echartInstance = getInstanceByDom(chartRef.current);

              if (echartInstance) {
                if (label.index === clickedLabelY.current) {
                  echartInstance.dispatchAction({
                    seriesIndex: 0,
                    type: "downplay",
                  });
                  clickedLabelY.current = -1;
                } else {
                  clickedLabelY.current = label.index;

                  echartInstance.dispatchAction({
                    seriesIndex: [0],
                    type: "downplay",
                  });

                  // eslint-disable-next-line @typescript-eslint/no-explicit-any
                  const echartInstanceOptions: any = echartInstance.getOption();
                  const data = echartInstanceOptions.dataset[0].source;

                  const { start, end } = echartInstanceOptions.dataZoom[0]
                    ? echartInstanceOptions.dataZoom[0]
                    : { end: 100, start: 0 };

                  const itemSize = heatmapCanvasSize.height / X_ITEM_COUNT;
                  const heatmapFullHeight = itemSize * size;
                  const quantizedCount = (itemSize * 100) / heatmapFullHeight;
                  const xMin = start / quantizedCount;
                  const xMax = end / quantizedCount;

                  const dataIndex = data
                    // eslint-disable-next-line @typescript-eslint/no-explicit-any
                    .map(({ x: xData, y: yData, value }: any, idx: any) =>
                      label.index === yData &&
                      xData > xMin - 1 &&
                      xData < xMax + 1 &&
                      Number.isFinite(value)
                        ? idx
                        : null
                    )
                    .filter((v: null) => v !== null);

                  echartInstance.dispatchAction({
                    dataIndex,
                    seriesIndex: 0,
                    type: "highlight",
                  });
                }
              }
            }
          }}
        />
      </YAxisWrapper>

      <XAxisWrapper
        id="x-axis-wrapper"
        height={X_AXIS_WIDTH}
        width={camera ? heatmapCanvasSize.width : HEATMAP_ITEM_SIZE * size}
        left={Y_AXIS_WIDTH}
      >
        <XAxisChart
          ref={XAxisChartRef}
          geneNames={geneNames}
          // eslint-disable-next-line sonarjs/cognitive-complexity
          labelClicked={(label) => {
            clickedLabelY.current = -1;

            if (YAxisChartRef.current) {
              YAxisChartRef.current.changeActiveLabel(-1);
            }

            if (chartRef.current) {
              const echartInstance = getInstanceByDom(chartRef.current);

              if (echartInstance) {
                if (label.index === clickedLabelX.current) {
                  echartInstance?.dispatchAction({
                    seriesIndex: 0,
                    type: "downplay",
                  });
                  clickedLabelX.current = -1;
                } else {
                  clickedLabelX.current = label.index;

                  echartInstance?.dispatchAction({
                    seriesIndex: [0],
                    type: "downplay",
                  });

                  // eslint-disable-next-line @typescript-eslint/no-explicit-any
                  const chartInstanceOptions: any = echartInstance.getOption();

                  const data = chartInstanceOptions.dataset[0].source;

                  const { start, end } = chartInstanceOptions.dataZoom[1]
                    ? chartInstanceOptions.dataZoom[1]
                    : { end: 100, start: 0 };

                  const itemSize = heatmapCanvasSize.height / Y_ITEM_COUNT;
                  const heatmapFullHeight = itemSize * size;
                  const quantizedCount = (itemSize * 100) / heatmapFullHeight;
                  const yMin = start / quantizedCount;
                  const yMax = end / quantizedCount;

                  const dataIndex = data
                    // eslint-disable-next-line @typescript-eslint/no-explicit-any
                    .map(({ x: xData, y: yData, value }: any, idx: any) =>
                      label.index === xData &&
                      yData > yMin - 1 &&
                      yData < yMax + 1 &&
                      Number.isFinite(value)
                        ? idx
                        : null
                    )
                    .filter((v: null) => v !== null);

                  echartInstance?.dispatchAction({
                    dataIndex,
                    seriesIndex: 0,
                    type: "highlight",
                  });
                }
              }
            }
          }}
        />
      </XAxisWrapper>

      <StyledHeatmapWrapper>
        <ECharts
          ref={chartRef}
          xAxisLabelRef={clickedLabelX}
          yAxisLabelRef={clickedLabelY}
          onItemClicked={(item) => {
            if (XAxisChartRef.current && YAxisChartRef.current) {
              if (!item?.x || !item?.y) {
                XAxisChartRef.current.changeActiveLabel(null);
                YAxisChartRef.current.changeActiveLabel(null);
              } else {
                if (emphasis !== "row")
                  XAxisChartRef.current.changeActiveLabel(item?.x);
                if (emphasis !== "column")
                  YAxisChartRef.current.changeActiveLabel(item?.y);
              }
            }

            clickedLabelX.current = item?.x ? item.x : -1;
            clickedLabelY.current = item?.y ? item.y : -1;
          }}
          // eslint-disable-next-line sonarjs/cognitive-complexity
          onAxisChange={(start, end, dir) => {
            // Scroll horizontally
            if (dir === "horizontal") {
              const itemSize = heatmapCanvasSize.width / X_ITEM_COUNT;

              const heatmapFullWidth = itemSize * size;
              const maxToLeft = (size - X_ITEM_COUNT) * itemSize;
              const quantizedMove = Math.round(
                start / ((itemSize * 100) / heatmapFullWidth)
              );

              let moveToLeft = quantizedMove * itemSize;

              moveToLeft =
                (moveToLeft < maxToLeft ? moveToLeft : maxToLeft) * -1;
              if (
                XAxisChartRef &&
                XAxisChartRef.current &&
                XAxisChartRef.current.getWrapperRef() &&
                XAxisChartRef.current.getWrapperRef().current
              ) {
                (
                  XAxisChartRef.current.getWrapperRef()
                    .current as HTMLDivElement
                ).style.left = `${moveToLeft}px`;
              }
            } else {
              // Scroll Vertically
              const itemSize = heatmapCanvasSize.height / Y_ITEM_COUNT;
              const heatmapFullHeight = itemSize * size;
              const maxToBottom = (size - Y_ITEM_COUNT) * itemSize;
              // console.table({itemSize, heatmapFullHeight, maxToBottom});

              const quantizedMove = Math.round(
                start / ((itemSize * 100) / heatmapFullHeight)
              );
              let moveToBottom = quantizedMove * itemSize;
              moveToBottom =
                (moveToBottom < maxToBottom ? moveToBottom : maxToBottom) * -1;
              if (
                YAxisChartRef &&
                YAxisChartRef.current &&
                YAxisChartRef.current.getWrapperRef() &&
                YAxisChartRef.current.getWrapperRef().current
              ) {
                if (Y_AXIS_REVERSE) {
                  (
                    YAxisChartRef.current.getWrapperRef()
                      .current as HTMLDivElement
                  ).style.top = `${moveToBottom}px`;
                } else {
                  (
                    YAxisChartRef.current.getWrapperRef()
                      .current as HTMLDivElement
                  ).style.bottom = `${moveToBottom}px`;
                }
              }
            }
          }}
        />
      </StyledHeatmapWrapper>
    </StyledContainer>
  );
};

export default Heatmap;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/Heatmap/style.ts">
import styled from "@emotion/styled";
import { X_AXIS_WIDTH, Y_AXIS_WIDTH } from "../utils";

const doNotForwardProps = ["camera"];

export const StyledContainer = styled("div", {
  shouldForwardProp: (prop: string) => !doNotForwardProps.includes(prop),
})`
  padding-top: ${X_AXIS_WIDTH}px;
  position: relative;
`;

export const StyledHeatmapWrapper = styled("div")`
  position: relative;
  margin-left: ${Y_AXIS_WIDTH}px;
`;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/XAxisChart/index.tsx">
import {
  forwardRef,
  useCallback,
  useImperativeHandle,
  useMemo,
  useRef,
  useState,
} from "react";
import {
  XAxisContainer,
  XAxisLabel,
  GeneButtonStyle,
  XAxisGeneName,
  InfoButtonWrapper,
  HoverContainer,
} from "./style";
import { SELECTED_STYLE, X_AXIS_WIDTH, formatLabel } from "../utils";
import { useSelector } from "react-redux";
import { RootState } from "../../store";

export interface Gene {
  name: string;
  index: number;
}
interface Props {
  geneNames: Gene[];
  labelClicked: (gene: Gene) => void;
}

export const GENE_LABEL_HOVER_CONTAINER_ID = "gene-hover-container";

function GeneButton({
  active,
  gene,
  handleGeneClick,
}: {
  active?: boolean;
  gene: Gene;
  genesToDelete: string[];
  handleGeneClick: (gene: Gene) => void;
}): JSX.Element {
  const { name: geneName, index: geneIndex } = gene;
  const currentFont = `
    normal
    ${active ? SELECTED_STYLE.fontWeight : "normal"}
    ${SELECTED_STYLE.fontSize}px ${SELECTED_STYLE.fontFamily}
  `;

  const formattedLabel = useMemo(() => {
    return formatLabel(
      `${geneName}`,
      X_AXIS_WIDTH - 30, // Gene label length is capped to this value
      currentFont
    ).text;
  }, [geneName, currentFont]);

  const memoizedHandleGeneClick = useCallback(() => {
    handleGeneClick(gene);
  }, [handleGeneClick, gene]);

  return (
    <GeneButtonStyle
      id={`gene-label-${geneName}`}
      onClick={memoizedHandleGeneClick}
      active={active}
    >
      <HoverContainer
        className="x-axis-hover-container"
        id={GENE_LABEL_HOVER_CONTAINER_ID}
      >
        <InfoButtonWrapper>{geneIndex}</InfoButtonWrapper>
      </HoverContainer>
      <XAxisLabel className={"gene-label-container"}>
        <XAxisGeneName font={currentFont}>{formattedLabel}</XAxisGeneName>
      </XAxisLabel>
    </GeneButtonStyle>
  );
}

export interface XAxisRefType {
  changeActiveLabel: (label: number | null) => void;
  getWrapperRef: () => React.RefObject<HTMLDivElement | null>;
}

const XAxisChart = forwardRef(
  (
    { geneNames, labelClicked }: Props,
    ref: React.Ref<XAxisRefType>
  ): JSX.Element => {
    const heatmapCanvasSize = useSelector(
      (state: RootState) => state.dataReducer.heatmapCanvasSize
    );

    const wrapperRef = useRef<HTMLDivElement | null>(null);

    useImperativeHandle(ref, () => {
      return {
        changeActiveLabel(label) {
          setActiveGene(label);
        },
        getWrapperRef() {
          return wrapperRef;
        },
      };
    });

    const [activeGene, setActiveGene] = useState<number | null>(null);

    return (
      <XAxisContainer
        className="gene-labels"
        width={heatmapCanvasSize.width}
        height={X_AXIS_WIDTH}
        ref={wrapperRef}
      >
        {geneNames.map((gene) => (
          <GeneButton
            key={gene.name}
            gene={gene}
            genesToDelete={[""]}
            active={activeGene === gene.index}
            handleGeneClick={(theGene) => {
              if (activeGene === theGene.index) {
                setActiveGene(null);
              } else {
                setActiveGene(theGene.index);
              }
              labelClicked(theGene);
            }}
          />
        ))}
      </XAxisContainer>
    );
  }
);

export default XAxisChart;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/XAxisChart/style.ts">
import styled from "@emotion/styled";
import { useSelector } from "react-redux";
import { RootState } from "../../store";
import { X_ITEM_COUNT, ECHART_AXIS_LABEL_COLOR_HEX } from "../utils";

interface XAxisWrapperProps {
  height: number;
  width: number;
  left: number;
}

export const XAxisWrapper = styled.div<XAxisWrapperProps>`
  ${xAxisWidthAndOffset}
  height: ${(props) => props.height}px;
  position: absolute;
  overflow: hidden;
  z-index: 2;
  top: 1px;
  border-bottom: solid 1px #666;
`;

interface XAxisContainerProps {
  height: number;
  width: number;
}

export const XAxisContainer = styled.div<XAxisContainerProps>`
  ${xAxisWidth}
  height: ${(props) => props.height}px;
  top: 0px;
  position: absolute;
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`;

export const XAxisLabel = styled.div`
  ${() => {
    const heatmapCanvasSize = useSelector(
      (state: RootState) => state.dataReducer.heatmapCanvasSize
    );
    return `
      height: 100%;
      width: ${heatmapCanvasSize.width / X_ITEM_COUNT}px;
      writing-mode: vertical-lr;
      color: ${ECHART_AXIS_LABEL_COLOR_HEX};
      display: flex;
      justify-content: end;
      align-items: center;
      padding-bottom: 25px;
      &::before {
        content: "";
        position: absolute;
        width: 1px;
        height: 5px;
        background-color: #666;
        margin-left: -25px;
        bottom: 0;
      }
    `;
  }}
`;

export const XAxisGeneName = styled.span`
  transform: scale(-1, -1);
  ${selectedStyle}
`;

export const InfoButtonWrapper = styled.div`
  transform: scale(1, 1);
  cursor: pointer;
  display: flex;
  margin-bottom: 4px;
  margin-top: 4px;
  justify-content: center;
  font-size: 10px;
`;

interface GeneButtonProps {
  active?: boolean;
}

export const GeneButtonStyle = styled.div<GeneButtonProps>`
  ${(props) => {
    return `
      border: none;
      z-index: 2;
      display: inline-flex;
      justify-content: space-between;
      white-space: nowrap;
      flex-direction: column;
      align-items: center;

      &:hover {
        ${activeStyle()}
      }

      ${props.active ? activeStyle() : null}
    `;
  }}
`;

export const HoverContainer = styled.div`
  display: flex;
  flex-direction: column;
  opacity: 0.2;
  position: absolute;
  bottom: 0;
  z-index: 3;
`;

function xAxisWidthAndOffset({ width, left }: { width: number; left: number }) {
  return `
    width: ${width}px;
    left: ${left}px;
  `;
}

function xAxisWidth({ width }: { width: number }) {
  return `
    width: ${width}px;
  `;
}

function selectedStyle({ font }: { font: string }) {
  return `
    font: ${font};
  `;
}

function activeStyle() {
  return `
    cursor: pointer;
    #gene-hover-container {
      visibility: visible;
    }
    background-color: #c3c3c340;
    .gene-label-container {
      color: unset;
    }
    .gene-label-container span {
      font-weight: 600;
    }
    .x-axis-hover-container {
      opacity: 1;
    }
  `;
}
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/YAxisChart/index.tsx">
import {
  forwardRef,
  memo,
  useCallback,
  useImperativeHandle,
  useMemo,
  useRef,
  useState,
} from "react";
import {
  YAxisContainer,
  YAxisLabel,
  GeneButtonStyle,
  YAxisGeneName,
  InfoButtonWrapper,
  HoverContainer,
} from "./style";
import { SELECTED_STYLE, Y_AXIS_WIDTH, formatLabel } from "../utils";
import { useSelector } from "react-redux";
import { RootState } from "../../store";

export interface Gene {
  name: string;
  index: number;
}

interface Props {
  geneNames: Gene[];
  labelClicked: (gene: Gene) => void;
  reverse?: boolean;
}

export const GENE_LABEL_HOVER_CONTAINER_ID = "gene-hover-container";

function GeneButton({
  active,
  gene,
  handleGeneClick,
}: {
  active?: boolean;
  gene: Gene;
  genesToDelete: string[];
  handleGeneClick: (gene: Gene) => void;
}): JSX.Element {
  const { name: geneName, index: geneIndex } = gene;
  const currentFont = `
      normal
      ${active ? SELECTED_STYLE.fontWeight : "normal"}
      ${SELECTED_STYLE.fontSize}px ${SELECTED_STYLE.fontFamily}
    `;

  const formattedLabel = useMemo(() => {
    return formatLabel(
      `${geneName}`,
      Y_AXIS_WIDTH - 40, // Gene label length is capped to this value
      currentFont
    ).text;
  }, [geneName, currentFont]);

  const memoizedHandleGeneClick = useCallback(() => {
    handleGeneClick(gene);
  }, [handleGeneClick, gene]);

  return (
    <GeneButtonStyle
      id={`gene-label-${geneName}`}
      onClick={memoizedHandleGeneClick}
      active={active}
    >
      <HoverContainer
        className="y-axis-hover-container"
        id={GENE_LABEL_HOVER_CONTAINER_ID}
      >
        <InfoButtonWrapper>{geneIndex}</InfoButtonWrapper>
      </HoverContainer>
      <YAxisLabel className={"gene-label-container"} index={geneIndex}>
        <YAxisGeneName font={currentFont}>{formattedLabel}</YAxisGeneName>
      </YAxisLabel>
    </GeneButtonStyle>
  );
}

export interface YAxisRefType {
  changeActiveLabel: (label: number | null) => void;
  getWrapperRef: () => React.RefObject<HTMLDivElement | null>;
}

const YAxisChart = forwardRef(
  (
    { geneNames, labelClicked, reverse = false }: Props,
    ref: React.Ref<YAxisRefType>
  ): JSX.Element => {
    const finalGeneNames = reverse ? [...geneNames].reverse() : geneNames;

    const heatmapCanvasSize = useSelector(
      (state: RootState) => state.dataReducer.heatmapCanvasSize
    );

    const wrapperRef = useRef<HTMLDivElement | null>(null);

    useImperativeHandle(ref, () => {
      return {
        changeActiveLabel(label) {
          setActiveGene(label);
        },
        getWrapperRef() {
          return wrapperRef;
        },
      };
    });

    const [activeGene, setActiveGene] = useState<number | null>(null);

    return (
      <YAxisContainer
        className="gene-labels"
        width={Y_AXIS_WIDTH}
        height={heatmapCanvasSize.width}
        ref={wrapperRef}
      >
        {finalGeneNames.map((gene) => (
          <GeneButton
            key={gene.name}
            gene={gene}
            genesToDelete={[""]}
            active={activeGene === gene.index}
            handleGeneClick={(theGene) => {
              if (activeGene === theGene.index) {
                setActiveGene(null);
              } else {
                setActiveGene(theGene.index);
              }
              labelClicked(theGene);
            }}
          />
        ))}
      </YAxisContainer>
    );
  }
);

export default memo(YAxisChart);
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/YAxisChart/style.ts">
import styled from "@emotion/styled";
import { useSelector } from "react-redux";
import { RootState } from "../../store";
import {
  Y_ITEM_COUNT,
  Y_AXIS_REVERSE,
  ECHART_AXIS_LABEL_COLOR_HEX,
} from "../utils";

interface YAxisWrapperProps {
  height: number;
  width: number;
  bottom: number;
}

export const YAxisWrapper = styled.div<YAxisWrapperProps>`
  ${yAxisWidthAndOffset}
  height: ${(props) => props.height}px;
  position: absolute;
  overflow: hidden;
  z-index: 2;
  left: 1px;
  border-right: solid 1px #666;
`;

interface YAxisContainerProps {
  height?: number;
  width: number;
}

export const YAxisContainer = styled.div<YAxisContainerProps>`
  ${yAxisWidth}
  left: 0px;
  position: absolute;
  display: flex;
  flex-direction: column-reverse;
  justify-content: space-between;
`;

export const YAxisLabel = styled.div`
  ${({ index }: { index: number }) => {
    const heatmapCanvasSize = useSelector(
      (state: RootState) => state.dataReducer.heatmapCanvasSize
    );
    return `
    height: ${heatmapCanvasSize.height / Y_ITEM_COUNT}px;
    width: 100%;
    color: ${ECHART_AXIS_LABEL_COLOR_HEX};
    display: flex;
    justify-content: end;
    align-items: center;
    padding-right: ${index < 100 ? 25 : index < 1000 ? 35 : 40}px;
    &::before {
      content: "";
      position: absolute;
      height: 1px;
      width: 5px;
      background-color: #666;
      right: 0;
      ${Y_AXIS_REVERSE ? `margin-bottom: 25px;` : `margin-top: 25px;`}
    }`;
  }}
`;

export const YAxisGeneName = styled.span`
  ${selectedStyle}
`;

export const InfoButtonWrapper = styled.div`
  transform: scale(1, 1);
  cursor: pointer;
  display: flex;
  margin-bottom: 4px;
  margin-top: 4px;
  justify-content: center;
  font-size: 10px;
`;

interface GeneButtonProps {
  active?: boolean;
}

export const GeneButtonStyle = styled.div<GeneButtonProps>`
  ${(props) => {
    return `
      border: none;
      z-index: 2;
      display: inline-flex;
      justify-content: space-between;
      white-space: nowrap;
      flex-direction: row;
      align-items: center;

      &:hover {
          ${activeStyle()}
      }

      ${props.active ? activeStyle() : null}
    `;
  }}
`;

export const HoverContainer = styled.div`
  display: flex;
  flex-direction: row;
  opacity: 0.2;
  position: absolute;
  right: 0;
  padding-right: 8px;
  z-index: 3;
`;

function yAxisWidthAndOffset({
  width,
  bottom,
}: {
  width: number;
  bottom: number;
}) {
  return `
    width: ${width}px;
    bottom: ${bottom}px;
  `;
}

function yAxisWidth({ width }: { width: number }) {
  return `
    width: ${width}px;
  `;
}

function selectedStyle({ font }: { font: string }) {
  return `
    font: ${font};
  `;
}

function activeStyle() {
  return `
    cursor: pointer;
    #gene-hover-container {
      visibility: visible;
    }
    background-color: #c3c3c340;
    .gene-label-container {
      color: unset;
    }
    .gene-label-container span {
      font-weight: 600;
    }
    .y-axis-hover-container {
      opacity: 1;
    }
  `;
}
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/components/utils.ts">
export const EMPTY_ARRAY = [];
export const HEATMAP_ITEM_SIZE = 24;
export const HEATMAP_DEFAULT_SIZE = 50;
export const Y_ITEM_COUNT = 20;
export const X_ITEM_COUNT = 36;
export const Y_AXIS_WIDTH = 130;
export const X_AXIS_WIDTH = 130;
export const Y_AXIS_REVERSE = true;
export const X_AXIS_REVERSE = false;
export const ECHART_AXIS_LABEL_COLOR_HEX = "#555";
export const ECHART_AXIS_LABEL_FONT_SIZE_PX = 14;

export const SELECTED_STYLE = {
  fontFamily: "sans-serif",
  fontSize: 12,
  fontWeight: "bold" as never,
  padding: 4,
};

/**
 * Used to calculate text pixel widths. Should be only created once.
 */
export const CTX =
  (typeof document !== "undefined" &&
    document.createElement("canvas").getContext("2d")) ||
  null;

/**
 * Formats and truncates the cell type name to a given width
 *
 * @param name The text to truncate
 * @param maxWidth The max width in pixels the string should be
 * @param font The font family and font size as a string. Ex. "bold 12px sans-serif"
 * @returns The string fixed to a certain pixel width
 */
export function formatLabel(
  name: string,
  maxWidth: number,
  font: string
): {
  text: string;
  length: number;
} {
  // failsafe, should never be falsy
  if (!CTX) return { length: 0, text: name };

  CTX.font = font;
  const ellipsisWidth = CTX.measureText("...").width;

  const fullWidth = CTX.measureText(name).width;

  if (fullWidth <= maxWidth) {
    return {
      length: fullWidth,
      text: name,
    };
  }

  const labelHalfWidth = (maxWidth - ellipsisWidth) / 2;

  const firstHalf = getFixedWidth(name, labelHalfWidth, font);
  const secondHalf = getFixedWidth(name, labelHalfWidth, font, true);

  const formattedLabel = firstHalf + " ... " + secondHalf;

  return {
    length: CTX.measureText(formattedLabel).width,
    text: formattedLabel,
  };
}

/**
 * Truncates the string to a given width
 *
 * @param text The text to truncate
 * @param maxWidth The max width in pixels the string should be
 * @param font The font family and font size as a string. Ex. "bold 12px sans-serif"
 * @param reverse Whether to truncate the end or beginning of the string
 * @returns The string fixed to a certain pixel width
 */
export function getFixedWidth(
  text: string,
  maxWidth: number,
  font: string,
  reverse = false
): string {
  // failsafe, should never be falsy
  if (!CTX) return text;

  CTX.font = font;

  if (reverse) {
    for (let i = text.length; i >= 0; i--) {
      const substring = text.substring(i - 1);
      const textWidth = CTX.measureText(substring).width;
      if (textWidth > maxWidth) {
        return text.substring(i);
      }
    }
  } else {
    for (let i = 0; i < text.length; i++) {
      const substring = text.substring(0, i + 1);
      const textWidth = CTX.measureText(substring).width;
      if (textWidth > maxWidth) {
        return text.substring(0, i);
      }
    }
  }

  return text;
}

export const toPascalCase = (s: string | null | undefined) =>
  s
    ? s.replace(/(\w)(\w*)/g, (_, p, q) => p.toUpperCase() + q.toLowerCase())
    : s;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/helpers/geneListGenerator.ts">
import { Gene } from "../components/XAxisChart";

const Genes: string[] = [
  "IGKV1D-8",
  "EWSR1",
  "RBM34",
  "ATP5L",
  "PDPR",
  "KMT5A",
  "SLC26A3",
  "NABP1",
  "CSF1",
  "AKR1A1",
  "C4orf22",
  "SV2C",
  "REEP4",
  "VSTM4",
  "STRN",
  "NXN",
  "NRIP3",
  "SYBU",
  "ASB16",
  "MTUS2-AS1",
  "SH3TC1",
  "THUMPD3-AS1",
  "PILRB",
  "GNAT3",
  "H3F3B",
  "H2AFV",
  "GET4",
  "ERRFI1",
  "DHRS12",
  "STX7",
  "TECR",
  "MAK16",
  "GRK1",
  "BPIFB2",
  "GAS7",
  "DONSON",
  "CD70",
  "CYP4F22",
  "GSG2",
  "LSM12",
  "SYT6",
  "ZBTB24",
  "FAM181A",
  "DLG2-AS1",
  "NDUFB1",
  "HLCS-IT1",
  "ZNF32-AS3",
  "TMEM110",
  "ATRN",
  "IPO5",
  "LINC01272",
  "DPH5",
  "OR1J4",
  "RHOU",
  "POTEH",
  "ZNF266",
  "TSKU",
  "CCT8L2",
  "LGI4",
  "H1FX",
  "NPTN-IT1",
  "SLC1A4",
  "OXNAD1",
  "ST6GALNAC1",
  "CLDND2",
  "PTH1R",
  "PUM2",
  "RUNX1T1",
  "C8orf34",
  "SMPD5",
  "BRE",
  "CDC123",
  "DEFB106A",
  "SCARB1",
  "SPRY1",
  "OR4C6",
  "CLDN10-AS1",
  "UBA5",
  "OR7G3",
  "SRMS",
  "KRT73-AS1",
  "SLC28A3",
  "PEG10",
  "HIST1H4G",
  "CHST10",
  "BAIAP2L1",
  "LINC01525",
  "GSG1L2",
  "ITLN2",
  "NUDT7",
  "PIAS4",
  "FIGNL1",
  "SLC22A14",
  "PKD3",
  "USP43",
  "TADA1",
  "FASTK",
  "ORC1",
  "LINC00574",
  "SPDYE11",
  "GINS1",
  "MAFA",
  "TRK-TTT14-1",
  "TRAJ44",
  "TAPBPL",
  "CLIP2",
  "POLE2",
  "TNNI3K",
  "SERPINB7",
  "PCGF5",
  "ZNF292",
  "C20orf144",
  "GPR135",
  "KDM5A",
  "C11orf45",
  "MUC3A",
  "IGLJ5",
  "GSE1",
  "ATG16L1",
  "NFS1",
  "CDCP2",
  "HSPH1",
  "SYT8",
  "CDKN2B-AS1",
  "ZNF492",
  "ABCC5-AS1",
  "ITGA5",
  "HOXC4",
  "VRK1",
  "MSH4",
  "KHDRBS3",
  "SACM1L",
  "PHPT1",
  "EVI2B",
  "MAPK14",
  "SNORD172",
  "FAM107B",
  "RNU5E-1",
  "FZD8",
  "COX6A1",
  "IGF2BP2-AS1",
  "VDAC1",
  "RAP2B",
  "PRB3",
  "DOCK4-AS1",
  "ETV4",
  "SPPL3",
  "RNA28S3",
  "OR52E5",
  "CDC42SE1",
  "SH2D4B",
  "PTPRM",
  "NARS2",
  "ZNF660",
  "ZNF792",
  "POTEF",
  "DUXA",
  "LINC00331",
  "NR1I3",
  "DAG1",
  "UST",
  "ZNF571",
  "VPS13A",
  "FOS",
  "RANBP10",
  "ABHD15",
  "GABRG3-AS1",
  "OCA2",
  "TBL1Y",
  "TRA-AGC18-2",
  "MUC8",
  "ZNF80",
  "NLRP1",
  "MYO1D",
  "MLC1",
  "RASAL3",
  "NEU3",
  "TRIB3",
  "ELOVL2",
  "CDC27",
  "SET",
  "GRHL2",
  "CCK",
  "HMCN1",
  "CDKAL1",
  "PHLDB3",
  "PLPP1",
  "ANKRD20A4",
  "ARMC5",
  "HVCN1",
  "TBCE",
  "TARID",
  "NCLN",
  "RTN4",
  "SLIT1-AS1",
  "TRSUP-TTA3-1",
  "TRE-TTC1-2",
  "TAL1",
  "BTN3A1",
  "TMUB2",
  "PACRG-AS2",
  "DAZAP1",
  "DCAF12",
  "DUXB",
  "WWTR1",
  "OR4K5",
  "HRNR",
  "PROB1",
  "IGHD1-7",
  "RORA-AS1",
  "DNM3",
  "LRRC52",
  "OPTN",
  "RYBP",
  "ANKRD55",
  "CD40",
  "MHRT",
  "CFHR4",
  "LINC01059",
  "NIN",
  "FAM224B",
  "LHX2",
  "GUCA2B",
  "WDR25",
  "IGKJ1",
  "TRR-TCT5-1",
  "GACAT3",
  "WASH1",
  "DNASE1",
  "MAN2B2",
  "OXGR1",
  "ZNF396",
  "NUP98",
  "PSMB1",
  "BBS7",
  "RPL14",
  "ACSM2A",
  "MFSD13A",
  "OR52N2",
  "IGLL5",
  "SOX15",
  "FABP3",
  "KIAA1211L",
  "TRP-AGG6-1",
  "LINC01220",
  "BBS5",
  "ZNF708",
  "CACNA2D3-AS1",
  "GAP43",
  "ZBTB18",
  "BABAM1",
  "KCND3-IT1",
  "TRI-AAT7-2",
  "RAD21L1",
  "ASPG",
  "DISP1",
  "SP140L",
  "HCAR2",
  "RTL1",
  "HR",
  "HIST2H2BF",
  "COBL",
  "TRBJ1-3",
  "MCM6",
  "SLC25A6",
  "DBX1",
  "THEMIS2",
  "FFAR4",
  "RPL7",
  "PCDHB7",
  "TRC-GCA2-2",
  "CEP128",
  "ST7-OT3",
  "ARHGAP27",
  "KRTAP19-3",
  "CASC10",
  "FLII",
  "PGAP2",
  "SNORD1C",
  "GRHL3",
  "VPS36",
  "TRK-TTT16-1",
  "RBFOX3",
  "CADM1",
  "NPR2",
  "TRE-TTC2-1",
  "ZFPM2-AS1",
  "HNRNPA2B1",
  "PSG5",
  "SPG23",
  "PAG1",
  "LINC00324",
  "USP4",
  "OR52W1",
  "BCL2L10",
  "RNA5S13",
  "CCL2",
  "TRAJ25",
  "MIS18A-AS1",
  "CALCB",
  "CNOT6",
  "ARFGEF2",
  "SOX12",
  "NR5A1",
  "LTBR",
  "TTC19",
  "CCDC158",
  "SIN3A",
  "TRA-AGC12-2",
  "LINC00987",
  "OCIAD2",
  "ABCF3",
  "KIR2DL5A",
  "ADH1C",
  "ORC2",
  "CTSD",
  "GHITM",
  "SCG5",
  "UQCRC2",
  "TRL-AAG7-1",
  "WAC-AS1",
  "MON1B",
  "LARP1B",
  "CSE1L-AS1",
  "OIP5-AS1",
  "CCDC14",
  "LINC00957",
  "LINC01392",
  "COCH",
  "MGAM2",
  "CISH",
  "UGT3A2",
  "MYO5A",
  "CYFIP2",
  "LINC00856",
  "TRT-AGT3-1",
  "SLC39A6",
  "CH25H",
  "TBC1D1",
  "ZNF716",
  "SNORD14D",
  "KIFAP3",
  "SDCBP2",
  "G3BP2",
  "EDIL3",
  "KCNB2",
  "PIK3R2",
  "GALNT15",
  "KLHL5",
  "PLEKHA1",
  "TTTY10",
  "VAMP8",
  "ITIH3",
  "DPH7",
  "FOXO1",
  "IQCF5-AS1",
  "ZDHHC17",
  "MINA",
  "ABHD13",
  "PIGS",
  "CDRT3",
  "STK38L",
  "M6PR",
  "LINC00888",
  "UBAC1",
  "RANGAP1",
  "C10orf111",
  "MATK",
  "CD52",
  "TBC1D29",
  "SQLE",
  "OLIG3",
  "FRA14B",
  "RGS11",
  "CHST6",
  "LINC00476",
  "ARHGEF18",
  "C14orf93",
  "ATOH1",
  "CTDSPL",
  "FAM179B",
  "NAT8L",
  "SLC15A2",
  "ANKRD45",
  "DFNA58",
  "PDS5B",
  "MAST2",
  "EXT1",
  "SBNO2",
  "SNORD130",
  "ZNF727",
  "ERVK-24",
  "MFSD6L",
  "DGAT1",
  "BACE2-IT1",
  "SCHLAP1",
  "LINC01543",
  "LINC01007",
  "GUCY1B3",
  "SLC9A4",
  "FOXB2",
  "RBPMS",
  "NAV3",
  "TERT",
  "RNPEP",
  "OR2D3",
  "OLFML2A",
  "OSCP1",
  "PRNT",
  "POMGNT1",
  "DCST1",
  "TTTY23B",
  "OMA1",
  "OOEP",
  "LINC01143",
  "GNGT1",
  "STAU1",
  "ADCY10",
  "TMPRSS9",
  "PRL",
  "LINC00514",
  "CHED1",
  "FHOD3",
  "TDRP",
  "ARF6",
  "PLBD1-AS1",
  "SFTPA2",
  "FAM124B",
  "PRSS35",
  "SLC22A17",
  "GLI3",
  "THRA",
  "LTB4R2",
  "IGHD4-17",
  "VASP",
  "HLA-DQB-1",
  "AS1",
  "NOD1",
  "DNAJB2",
  "KLF4",
  "GRIK1-AS2",
  "C1QTNF4",
  "TESK2",
  "AUNIP",
  "SUPV3L1",
  "CORO2B",
  "FAM173A",
  "RBBP9",
  "IL17B",
  "OTUD7B",
  "IGH",
  "RDX",
  "TRA-AGC13-2",
  "JPD",
  "NR6A1",
  "TK1",
  "KLKB1",
  "LINC00664",
  "IKZF2",
  "NUFIP2",
  "USP28",
  "OR14C36",
  "NICN1",
  "ADAM23",
  "MPHOSPH8",
  "CCDC25",
  "CCDC92",
  "SCN5A",
  "CASP14",
  "SPA17",
  "FGF8",
  "CD1D",
  "GRIP1",
  "POMT2",
  "UBE2D4",
  "IRAIN",
  "MLNR",
  "TNIP1",
  "RNY5",
  "RNF180",
  "DHX57",
  "TBRG4",
  "TRAT1",
  "SNORD116-24",
  "C14orf2",
  "KLF18",
  "IGLV3-32",
  "MAPK1",
  "OR52E4",
  "POLR2J3",
  "TRL-AAG1-1",
  "ITSN1",
  "TSSK4",
  "PADI4",
  "SNHG18",
  "TRL-CAA2-1",
  "TRGV11",
  "MXI1",
  "FRA11I",
  "SOBP",
  "ADRB3",
  "SPATA32",
  "ZNF616",
  "SEMA3D",
  "PRKAR2A-AS1",
  "SIRT6",
  "HOXB6",
  "ZBTB3",
  "PRSS50",
  "DEAF1",
  "ZBTB40-IT1",
  "SNAPC5",
  "HNRNPH3",
  "DCAKD",
  "RAMP3",
  "PPP1R3G",
  "TRS-AGA4-1",
  "SLC18A1",
  "AKR1E2",
  "ATP13A4",
  "REXO4",
  "GBE1",
  "SLC2A5",
  "TRN-GTT4-1",
  "ZNF268",
  "ANXA11",
  "TMEM123",
  "WDR45B",
  "HTR3E",
  "SNORA3A",
  "HEATR4",
  "SNORD83A",
  "RBP3",
  "KNCN",
  "RHO",
  "RGPD6",
  "PRELP",
  "KIAA1024L",
  "FRA6B",
  "ANKRD37",
  "KLK3",
  "HOXC-AS1",
  "MMS19",
  "ERLIN2",
  "SNAR-B1",
  "DOCK2",
  "GPATCH1",
  "NCKIPSD",
  "TBC1D3K",
  "ZNF559-ZNF177",
  "TAS2R5",
  "DNAJC9-AS1",
  "SH2D3C",
  "LARS2",
  "GIMAP6",
  "KIR2DS2",
  "COL12A1",
  "HNRNPUL2-BSCL2",
  "DDX24",
  "DLL4",
  "SLC26A4",
  "SNORA92",
  "GLC3C",
  "TRIM52",
  "IGKV1-17",
  "SLC8B1",
  "RNA18S2",
  "TRM-CAT4-1",
  "IGLV5-37",
  "COL18A1-AS2",
  "SLC6A1-AS1",
  "RPS6KA1",
  "WDR87",
  "TRAJ57",
  "RAB37",
  "ATL1",
  "BSPRY",
  "ACAP2-IT1",
  "RIBC2",
  "LRRN2",
  "LINC01620",
  "USP53",
  "IGF2BP2",
  "GRM8",
  "IGHV4-30-1",
  "ANKRD46",
  "ADGRL3",
  "CBWD3",
  "C19orf43",
  "RBM43",
  "SYCE1",
  "FBN3",
  "HOXA10-AS",
  "OR5I1",
  "ITGA10",
  "IGSF5",
  "SNORA2B",
  "SRSF9",
  "FSCN1",
  "LRRC49",
  "SNORD116-29",
  "DEPDC1B",
  "ZBTB20-AS4",
  "YDJC",
  "TRF-GAA4-1",
  "SPDYE2B",
  "GRM6",
  "LMNA",
  "SNORD113-2",
  "SLC25A19",
  "ANKRD20A3",
  "KCNC2",
  "NAV2-AS2",
  "LINC00622",
  "KIAA1551",
  "PKD2L1",
  "EPC2",
  "EPHX4",
  "ULBP3",
  "CACNA1I",
  "FAM214A",
  "C4orf47",
  "ZNF101",
  "S100A8",
  "C1orf204",
  "MTRNR2L13",
  "SNX18",
  "ATHL1",
  "TMEM147-AS1",
  "APC",
  "TOMM34",
  "PRKRA",
  "ATG5",
  "SDHB",
  "MPPE1",
  "SPDYE1",
  "TRP-AGG1-1",
  "CDKN2C",
  "SPATA31D3",
  "NDUFB6",
  "PRM3",
  "CDC42EP3",
  "C1RL",
  "OR2A14",
  "ALOX15",
  "PAXIP1-AS1",
  "ARHGEF12",
  "GK2",
  "SLX1A-SULT1A3",
  "ACTRT2",
  "FAM102B",
  "SIGLEC9",
  "KIR3DL3",
  "NR1H3",
  "MRT24",
  "EDEM1",
  "CHPF2",
  "OR2H2",
  "LINC00298",
  "MEF2C-AS1",
  "TRIM74",
  "LINC01359",
  "TRV-CAC1-4",
  "SH2B1",
  "STAC",
  "MAP6",
  "PRSS57",
  "DACT1",
  "ZNF728",
  "MED7",
  "DNAH8",
  "C12orf40",
  "CA4",
  "PPP4C",
  "HCN4",
  "KIF25",
  "DNAAF5",
  "PDRG1",
  "XPA",
  "SRA1",
  "C1QTNF8",
  "MIAT",
  "RXRB",
  "GALNT8",
  "PRR5-ARHGAP8",
  "MRPL20",
  "MEP1B",
  "RNU11",
  "EVL",
  "FZD1",
  "SECISBP2L",
  "WASF3-AS1",
  "LCE3A",
  "SOX30",
  "TRGJP2",
  "SPINT1",
  "LRCOL1",
  "MRPS21",
  "KCNT2",
  "CYB5R3",
  "ALKBH5",
  "DPP9",
  "LMAN2L",
  "PTK2B",
  "PAX6",
  "ANKMY1",
  "TRAV4",
  "SECTM1",
  "C5orf28",
  "CDRT5",
  "FAM117B",
  "DEFB103B",
  "TTBK2",
  "ZNF607",
  "TRAPPC6A",
  "LRRK2",
  "PFKFB3",
  "NSUN4",
  "IGHV3-30-5",
  "FRMPD2",
  "RAG1",
  "SORCS1",
  "DNAH14",
  "ZNF3",
  "TSPAN15",
  "C16orf13",
  "FEN1",
  "LINC01271",
  "LMAN1",
  "ODAM",
  "CEP57",
  "FN3K",
  "MED22",
  "EXT3",
  "ANGEL1",
  "OR8D4",
  "RNF19A",
  "ARHGDIG",
  "TMEM64",
  "B2M",
  "ERVW-7",
  "RTP5",
  "UAP1",
  "PGLYRP4",
  "RPS6KA2-AS1",
  "UFC1",
  "TPRN",
  "TTF2",
  "ARNTL2",
  "KRTAP9-2",
  "C1orf50",
  "CHAF1A",
  "TRAJ48",
  "C1orf233",
  "PPP1R3E",
  "LINC00583",
  "ZNF439",
  "DDX42",
  "RCN1",
  "LUC7L2",
  "ZNF506",
  "CFAP20",
  "TUBA8",
  "DNAJB11",
  "DCAF4L1",
  "DNAJB1",
  "LINC00936",
  "CAPRIN2",
  "OR2G3",
  "ANKS4B",
  "SFXN4",
  "NDUFS1",
  "TNFRSF12A",
  "PALLD",
  "ZNF541",
  "PKHD1",
  "SCARNA8",
  "TNS4",
  "WHCR",
  "GINGF2",
  "EGFL8",
  "MRC2",
  "MKS1",
  "CCP110",
  "NBPF4",
  "POM121L2",
  "ZNF536",
  "GPX7",
  "ADPRH",
  "CREB3L2",
  "IBSP",
  "BCLAF1",
  "RFFL",
  "ETV2",
  "NOTCH2",
  "JUN",
  "GGNBP2",
  "SAXO2",
  "KLHDC7B",
  "VPREB1",
  "HRK",
  "HAUS2",
  "TMEM206",
  "TRK-CTT2-3",
  "FITM2",
  "CXCL5",
  "IQGAP1",
  "LINC00683",
  "MED17",
  "ZRANB3",
  "PIRC76",
  "CD33",
  "GABRG2",
  "PRPH",
  "CKAP4",
  "POLR3F",
  "FAM169B",
  "MFAP3",
  "FAM227A",
  "CBFA2T2",
  "IMPDH1",
  "PRR33",
  "PSORS1C1",
  "MTCH1",
  "USP8",
  "CREB3L4",
  "SNX27",
  "TMEM212-AS1",
  "STEAP1B",
  "EDN2",
  "KPNB1",
  "KLF17",
  "KLHL11",
  "TEKT2",
  "CALCOCO1",
  "ZNF552",
  "BTNL3",
  "TMEM55A",
  "RAP1GDS1",
  "PRDM12",
  "HOXB-AS1",
  "PTRF",
  "SENP5",
  "ITFG1",
  "PCDHGA9",
  "ABHD3",
  "CHKB",
  "RCN2",
  "PAQR9",
  "CCDC114",
  "IGHV1-8",
  "OR2V2",
  "BIRC8",
  "SCASI",
  "SYNE1-AS1",
  "REC8",
  "ZDHHC1",
  "PARPBP",
  "TNXB",
  "C10orf128",
  "C15orf65",
  "SLC17A6",
  "EVX1",
  "TM9SF2",
  "MYLK-AS1",
  "RLBP1",
  "OAP",
  "ELN",
  "PRELID3B",
  "ADGRL4",
  "RAPGEFL1",
  "LINC00463",
  "RALGAPA1",
  "ZNF517",
  "FANCA",
  "GIMAP5",
  "THAP7-AS1",
  "TTC24",
  "NADSYN1",
  "WASIR1",
  "PIRC36",
  "PFKFB4",
  "HSBP1",
  "EHD2",
  "USE1",
  "DSG1-AS1",
  "ZNF76",
  "OR1F1",
  "C8orf48",
  "YY1AP1",
  "DNAH3",
  "VMP1",
  "RHCE",
  "ZNF485",
  "UBE2D3",
  "FDCSP",
  "IL11RA",
  "PLA2G12A",
  "SMOC1",
  "TPRKB",
  "ACP1",
  "KIAA1549L",
  "IGKV1OR2-0",
  "SUFU",
  "LPAR2",
  "RAPGEF4-AS1",
  "DIRAS1",
  "JUP",
  "LINC01228",
  "LINC00836",
  "PHACTR2-AS1",
  "COX5A",
  "ABHD11-AS1",
  "HTR3B",
  "CRB3",
  "SEMA3F",
  "REG3A",
  "KRTAP4-5",
  "ARF3",
  "TRQ-CTG2-1",
  "PRSS56",
  "C2CD4A",
  "RASSF8-AS1",
  "ARL8B",
  "FRG2C",
  "LINC00618",
  "NCAPG2",
  "PRSS44",
  "TAX1BP1",
  "CHST13",
  "RFT1",
  "FOXC2",
  "RUNDC3A",
  "MPZL3",
  "FAM215B",
  "PHB",
  "TRBV5-7",
  "ETV3L",
  "CCDC127",
  "LINC01477",
  "KCNQ3",
  "TRG",
  "LINC00111",
  "NTN1",
  "TMPRSS7",
  "HMSD",
  "CHORDC1",
  "SUSD5",
  "ENGASE",
  "CLDN22",
  "SNORA71C",
  "OTUD6B-AS1",
  "DENR",
  "OR2A5",
  "FUT7",
  "CPEB4",
  "IGLV3-25",
  "IRX1",
  "AJAP1",
  "GOLGB1",
  "ZNF367",
  "ZNF789",
  "REXO1",
  "LHPP",
  "PAN3-AS1",
  "DDTL",
  "NETO2",
  "IL6R",
  "SPRYD4",
  "TRL-AAG1-2",
  "PMPCA",
  "LINC00515",
  "LGALS12",
  "LMO2",
  "ANXA4",
  "MAP3K8",
  "DMBT1",
  "PCDHGA5",
  "VTRNA1-2",
  "POMK",
  "ANKRD30A",
  "NYS4",
  "PRR23D1",
  "TRUB2",
  "SLC22A1",
  "TRK-TTT1-1",
  "TRC-GCA12-1",
  "TRIM11",
  "LINC00866",
  "NR4A1",
  "DDX59",
  "HIPK4",
  "SEC22C",
  "FRMPD1",
  "KRTAP10-10",
  "CD28",
  "PRDM14",
  "IGHV5-10-1",
  "IGHV4-30-2",
  "HMX3",
  "RNF114",
  "DFNA7",
  "ZCCHC23",
  "GABRG3",
  "CGB3",
  "C3orf35",
  "ENTPD2",
  "CDCA7",
  "SMIM24",
  "ERGIC3",
  "MEIOC",
  "TLL1",
  "MTMR10",
  "UBE2C",
  "OR5K3",
  "SEMA4D",
  "RFPL4B",
  "SCX",
  "C5orf66-AS1",
  "MGP",
  "TERF2IP",
  "CRISP2",
  "MAPRE3",
  "RBM15B",
  "ADGRG7",
  "KLF15",
  "TIGAR",
  "ILVBL",
  "ARHGEF39",
  "FAU",
  "TRC-GCA9-1",
  "IL22RA1",
  "ST7",
  "VASH2",
  "COL1A1",
  "NBR2",
  "LINC01554",
  "YAM1",
  "CD244",
  "SCP2",
  "SERPINB9",
  "SCGB1C2",
  "IMP3",
  "NYS3",
  "C8orf34-AS1",
  "LINC00261",
  "RPL27A",
  "TBC1D9B",
  "CDCA8",
  "LINC00535",
  "ATG12",
  "ATP6V1G3",
  "SNORA87",
  "TULP2",
  "FIBP",
  "PCNA-AS1",
  "FUZ",
  "LINC01205",
  "ABCA9",
  "SEN6B",
  "PTPN14",
  "SNORD15A",
  "ZBTB40",
  "LINC01189",
  "HS1BP3",
  "DHCR24",
  "SNUPN",
  "TRV-TAC3-1",
  "AGGF1",
  "SPOCK2",
  "CSNK2B",
  "GRIK5",
  "C19orf70",
  "OR2A7",
  "SNORA2C",
  "DSCAS",
  "KLK5",
  "KCNE3",
  "CD320",
  "SENP7",
  "GATA5",
  "HLA-DOA",
  "TMEM39A",
  "CEP170B",
  "TBC1D10B",
  "LAD1",
  "TTC17",
  "CLEC4C",
  "NRBF2",
  "FRA2B",
  "IL2RB",
  "MDN1",
  "C1orf145",
  "ST3GAL6-AS1",
  "ATP6V1E2",
  "OXCT1",
  "SSSCA1",
  "METTL3",
  "E2F3",
  "HOXC11",
  "TSLP",
  "LINC01593",
  "B3GNT2",
  "HSD11B1L",
  "LRRC30",
  "TMC8",
  "PAX1",
  "TSPAN5",
  "LINC01063",
  "FRA8B",
  "HIVEP3",
  "AFF4",
  "HPS1",
  "LINC01497",
  "MSK9",
  "ADAMTSL1",
  "NEUROD6",
  "DSC1",
  "SMIM6",
  "EPC1",
  "RPLP1",
  "SLC27A2",
  "CD1A",
  "DNAJC25",
  "SMARCAD1",
  "GFOD2",
  "ENTHD2",
  "KISS1",
  "LRRC74B",
  "FLG-AS1",
  "SNORD115-14",
  "LSM5",
  "TRBV17",
  "LDLRAD4-AS1",
  "C9orf106",
  "CARMN",
  "TRAV12-1",
  "ZSWIM8",
  "WDR20",
  "VRTN",
  "SARNP",
  "MAMDC4",
  "PPME1",
  "C1orf95",
  "SLC26A8",
  "IGKV1-27",
  "KHNYN",
  "FRA10AC1",
  "C11orf53",
  "HDAC2",
  "EREG",
  "CUZD1",
  "KRTAP6-3",
  "TSSK3",
  "VPS45",
  "ZMYND11",
  "RN7SL1",
  "XCR1",
  "USP12-AS1",
  "LINC00661",
  "ZFY",
  "LINC01529",
  "PRR20D",
  "OR6N1",
  "KMT5C",
  "KL",
  "CCAR1",
  "SNORD116-22",
  "ISCU",
  "POLE",
  "SCOC-AS1",
  "SMAD5-AS1",
  "FBXL18",
  "CEP68",
  "TRH",
  "CLTB",
  "CRK",
  "PBX4",
  "SNORD15B",
  "KRTAP5-AS1",
  "ZNF790-AS1",
  "CELF6",
  "NFKBIL1",
  "RNF157-AS1",
  "HN1",
  "VPS4B",
  "SNORA63",
  "CHTF18",
  "DDC",
  "TRK-CTT5-1",
  "TSR1",
  "HCG9",
  "LCE3C",
  "TRQ-TTG3-1",
  "ZNF853",
  "RNF40",
  "ACTR3",
  "KDM7A",
  "SNORD116-19",
  "LINC00370",
  "GNAS",
  "ANKRD24",
  "SNAR-C2",
  "ERVFH21-1",
  "SMAD1",
  "COQ10A",
  "LNX1",
  "SLC12A2",
  "PRAMEF15",
  "CAMKV",
  "CASS4",
  "KRTAP9-9",
  "IGLV2-23",
  "TRL-CAA1-1",
  "LINC01096",
  "USP30-AS1",
  "SPCS1",
  "HINFP",
  "FBLIM1",
  "RASL11A",
  "ZNF26",
  "TBC1D30",
  "NMTRQ-CTG1-1",
  "NKX6-1",
  "C20orf195",
  "RFC5",
  "UQCC3",
  "PCDHA1",
  "PDCD2",
  "C3orf67-AS1",
  "KRTAP20-4",
  "INSIG2",
  "SNORD116-8",
  "MINCR",
  "KMT2E-AS1",
  "GIMAP2",
  "CBX4",
  "OR2T35",
  "CARD11",
  "FEB6",
  "IFNAR1",
  "RPRML",
  "NRDE2",
  "MARCH9",
  "TNPO1",
  "CTSK",
  "CREBRF",
  "LOH12CR2",
  "TNFRSF14",
  "TSPAN3",
  "HOXB13",
  "CSF3",
  "EXOSC4",
  "OR4K15",
  "PCYOX1L",
  "ZNF781",
  "TRV-CAC7-1",
  "PIRC83",
  "ZIC2",
  "FASTKD2",
  "CCDC39",
  "MROH9",
  "GAS2L2",
  "TMEM119",
  "LINC01486",
  "FNDC9",
  "SLC2A3",
  "KRT3",
  "TRA-TGC9-1",
  "CHRNA7",
  "CCDC189",
  "TSHZ1",
  "TDP2",
  "VWA5B1",
  "ST3GAL2",
  "NFKB1",
  "DUSP13",
  "CSRNP1",
  "PIRC90",
  "RNR2",
  "PEF1",
  "ATP8B1",
  "FGFR4",
  "WNT3",
  "CTRB1",
  "HLA-A",
  "PIRC17",
  "SSH3",
  "CFAP43",
  "LINC01077",
  "SSX2IP",
  "NMTRP-TGG1-1",
  "SNORD113-4",
  "MYO15B",
  "SWAP70",
  "EMC1",
  "COA4",
  "ASNA1",
  "WDR63",
  "AIP",
  "PHACTR4",
  "PGAM1",
  "DENND6A-AS1",
  "CST9L",
  "HTRA3",
  "SRSF1",
  "ZNF335",
  "ZSCAN16",
  "PDB6",
  "ASB18",
  "FAM43A",
  "PIRC108",
  "LINC00371",
  "SHISA9",
  "CDKN2A-AS1",
  "LINC01521",
  "FGF14-IT1",
  "ALDH1L1-AS2",
  "GNPAT",
  "SLC17A5",
  "ACBD4",
  "MLEC",
  "LINC00566",
  "DFNB51",
  "FADD",
  "WFDC8",
  "NDST4",
  "TEX261",
  "EBF2",
  "AEBP2",
  "ZNF14",
  "ZBED5",
  "IGHD1OR15-1B",
  "LINC00280",
  "GABARAPL1",
  "CCBE1",
  "KIR2DL5B",
  "UGT2A3",
  "DPH3",
  "FTL",
  "C6orf1",
  "PF4",
  "CACFD1",
  "OPN3",
  "PHLPP1",
  "TAF8",
  "PKN2",
  "IL17D",
  "PPP1R21",
  "CTNNA3",
  "PIRC40",
  "ABCA8",
  "LRP8",
  "LPAR3",
  "ACOX1",
  "ELOVL2-AS1",
  "THRB-AS1",
  "LINC00844",
  "EVC2",
  "TRF-GAA6-1",
  "ZBTB8A",
  "OCM2",
  "HSPB11",
  "FAM171B",
  "AGPAT3",
  "CENPB",
  "MBD3L4",
  "COL27A1",
  "RNFT2",
  "SNORD115-31",
  "ARHGAP25",
  "UNC5B-AS1",
  "VKORC1",
  "PSMF1",
  "LINC00334",
  "NLRX1",
  "LUCAT1",
  "PIRC20",
  "SMPD3",
  "ACPT",
  "LINC00597",
  "DNAJC3-AS1",
  "CCT6B",
  "SGTB",
  "PKD2",
  "TRIP4",
  "PHB2",
  "POLR2A",
  "PEAR1",
  "NAV2-AS5",
  "RASAL1",
  "KIAA2013",
  "DPP9-AS1",
  "PTTG2",
  "LCMT1-AS1",
  "QRFP",
  "EDDM3A",
  "IGHV3-38",
  "UNC50",
  "UCN2",
  "PLOD2",
  "LINC00967",
  "IKZF3",
  "DSCC1",
  "OR1N2",
  "CCDC137",
  "ZNF134",
  "MPLKIP",
  "TNRC6C-AS1",
  "KCNJ6",
  "PIK3C2G",
  "SLC43A3",
  "ATN1",
  "SNORD115-16",
  "TTTY17C",
  "SHC1",
  "CLEC4M",
  "ADCYAP1",
  "NMTRV-TAC1-1",
  "LINC01570",
  "SOCS7",
  "LINC01144",
  "SMARCA5",
  "NOP9",
  "TMEM8A",
  "CCDC6",
  "LRRC2",
  "SLC9C2",
  "RCC2",
  "DNAL4",
  "ARL6IP4",
  "CFAP44",
  "NRG1",
  "ZNF565",
  "GJD4",
  "BORA",
  "ZNF416",
  "PRAMEF6",
  "CDK5",
  "RGPD1",
  "DNAJC7",
  "MRPL3",
  "FAM89A",
  "EGFR",
  "MYBPH",
  "SOX21-AS1",
  "LINC01498",
  "OAS2",
  "AQP11",
  "FAM118B",
  "LINC01159",
  "GPR19",
  "AHSA1",
  "C20orf85",
  "IGLV2-33",
  "LINC01451",
  "DNAJC30",
  "LCMT1",
  "HOXC10",
  "GDAP1",
  "LINC01088",
  "DHH",
  "IGHJ3",
  "FREM2",
  "ZNF793",
  "BOLA3",
  "WRN",
  "MRFAP1",
  "RCL1",
  "TNNT2",
  "LRRC37A3",
  "ST3GAL1",
  "SPRED2",
  "RHOF",
  "AKAP8L",
  "PIRC69",
  "SNORA15",
  "USH2A",
  "STMND1",
  "GATA3-AS1",
  "KIF1B",
  "MUC15",
  "ZNF202",
  "TMEM211",
  "NT5C3A",
  "ARPC5L",
  "TBCC",
  "RAE1",
  "INTS8",
  "ENOX1",
  "EIF3J-AS1",
  "IGKV3-15",
  "TMEM200B",
  "ADGRA3",
  "MYCNUT",
  "KCNK13",
  "PPIF",
  "MTRNR2L4",
  "MRPS35",
  "LINC00294",
  "HOXD8",
  "GPBP1",
  "MUC21",
  "DEPTOR",
  "LRRK1",
  "FAM83G",
  "PIK3R5",
  "C6orf183",
  "RARS2",
  "GLIS3",
  "RINL",
  "DLEU1-AS1",
  "ZNF582-AS1",
  "ZNF879",
  "DSCAM-IT1",
  "TMCO6",
  "AQP4-AS1",
  "LYRM2",
  "MKNK1",
  "ATG9A",
  "SYDE1",
  "TRP-AGG2-8",
  "ETM2",
  "SLC8A1",
  "ATF6",
  "GVQW1",
  "TRK-TTT7-1",
  "COL8A1",
  "POU6F2-AS2",
  "SKIV2L2",
  "IGHV3-38-3",
  "C6orf52",
  "RNVU1-7",
  "UBIAD1",
  "PIRC57",
  "TRAJ27",
  "SPACA6",
  "CNIH3",
  "TUSC8",
  "FAM210A",
  "CXCL9",
  "MCC",
  "NCS1",
  "ZNF420",
  "PRR34-AS1",
  "TRH-GTG1-6",
  "IFITM10",
  "STAM-AS1",
  "PDE7B",
  "LINC00221",
  "COL5A2",
  "PGAP3",
  "ENO2",
  "FABP5",
  "H2AFY2",
  "KDELR3",
  "TXN",
  "GPR32",
  "ACSF2",
  "PATE4",
  "LINC00667",
  "METTL17",
  "ZDHHC23",
  "SRSF5",
  "ZNF615",
  "NPPB",
  "PCSK9",
  "TMEM160",
  "NDUFA11",
  "PTPRG-AS1",
  "BMP8A",
  "GLYATL3",
  "UNG",
  "NPIPB4",
  "MFAP3L",
  "DEPDC7",
  "RBP4",
  "FRA2G",
  "ATXN7L3B",
  "MLKL",
  "RADIL",
  "PRC1",
  "MNX1-AS2",
  "SNORD90",
  "FAM124A",
  "OR7A10",
  "AIS2",
  "PKD1L1",
  "GAMT",
  "ARNT",
  "ULBP1",
  "SNORD32B",
  "ANAPC13",
  "CENPM",
  "MACC1-AS1",
  "MCIDAS",
  "GPX8",
  "SNAR-C3",
  "ICAM3",
  "ST6GAL2-IT1",
  "MLH3",
  "KLK6",
  "NCOA7",
  "FGF12",
  "P2RY11",
  "IPMK",
  "LMX1A",
  "TMEM238",
  "HLTF-AS1",
  "MAPK13",
  "NECTIN1",
  "SDC3",
  "EGFLAM-AS2",
  "ZNF790",
  "NPAS2",
  "SFN",
  "DMAP1",
  "STRA13",
  "MRPL48",
  "SUSD4",
  "CTSL",
  "WDR43",
  "C5AR2",
  "SLC34A3",
  "SNORD115-30",
  "TSACC",
  "SLC52A2",
  "C1orf134",
  "ARF4-AS1",
  "TMEM17",
  "PTPRO",
  "PDGFD",
  "ABCA12",
  "MFRP",
  "SNORA73A",
  "UBXN7-AS1",
  "TTBK1",
  "FGB",
  "MEX3C",
  "ANAPC11",
  "SPATA17",
  "PLEKHB2",
  "CCDC33",
  "GPR39",
  "LINC01512",
  "UQCRC1",
  "HAS2-AS1",
  "PPP1CA",
  "ZBTB43",
  "ZNF770",
  "FBXO38",
  "FAM72A",
  "PPP1R32",
  "GEMIN2",
  "UPP2",
  "MSH5-SAPCD1",
  "ZNF575",
  "NUP50-AS1",
  "ZBED4",
  "KCNMB4",
  "POLR2C",
  "LINC01609",
  "ARHGEF1",
  "OR10K1",
  "GLMN",
  "CRX",
  "WASF2",
  "LINC01002",
  "RTCA-AS1",
  "ZNF320",
  "KIF24",
  "PRSS37",
  "ITPR1",
  "C9orf43",
  "PLCE1-AS1",
  "TRD-GTC6-1",
  "HMGA2",
  "FRA1H",
  "MYD88",
  "PAH",
  "CENPH",
  "DENND2C",
  "MPE",
  "PIRC51",
  "SERPINB3",
  "IGKV1D-33",
  "PIRC45",
  "RNF144A",
  "TXN2",
  "CBR3-AS1",
  "LRRC3C",
  "OTOS",
  "DMPK",
  "SPINK13",
  "HIST1H4C",
  "KIF26A",
  "SRP14",
  "FRA16A",
  "DFNA32",
  "COL18A1",
  "MUSTN1",
  "CSHL1",
  "TP53AIP1",
  "PTGER3",
  "SNORD145",
  "FBXO24",
  "ECT2L",
  "TMEM256-PLSCR3",
  "GUK2",
  "C5orf22",
  "CDRT15",
  "IGSF22",
  "LINC00643",
  "CORD4",
  "LINC01350",
  "HNRNPLL",
  "KIR2DL4",
  "FNIP2",
  "PLEKHA5",
  "SCAI",
  "SUMF1",
  "UCA1",
  "CCDC146",
  "CAMTA2",
  "RBM12",
  "CTSH",
  "KIF27",
  "CSNK1E",
  "SSSCA1-AS1",
  "CD46",
  "UGT2B10",
  "LINC01455",
  "RNU6ATAC",
  "IL5",
  "ARFGEF3",
  "HEPHL1",
  "SPATA1",
  "PRSS42",
  "CXCL10",
  "SMIM12",
  "FBXO17",
  "TCF24",
  "TLK2",
  "ZNF641",
  "PKP2",
  "C1QTNF3",
  "KCNQ1-AS1",
  "PCDHA7",
  "HLA-DQA1",
  "PAPD5",
  "LRFN2",
  "ADRA1D",
  "GLIPR2",
  "STAB2",
  "TRIM37",
  "CDY1",
  "TRAPPC6B",
  "LAMA2",
  "HOXA10",
  "PRR35",
  "LAMTOR5",
  "ZNF18",
  "FLYWCH1",
  "SIGIRR",
  "POLR2D",
  "RNF157",
  "APOBEC3H",
  "ZNF408",
  "LINC00449",
  "PROSC",
  "TMEM223",
  "MESP2",
  "TSPO",
  "OTUB2",
  "C1D",
  "METTL16",
  "RSPO3",
  "RUVBL1",
  "TXNDC2",
  "DCDC5",
  "IL18BP",
  "CKBE",
  "DXO",
  "PIRC29",
  "ERVW-20",
  "ZNF837",
  "TRC-GCA2-3",
  "TAF11",
  "HAMP",
  "PTOS1",
  "AMMECR1L",
  "MRPL11",
  "ID4",
  "KLHDC10",
  "KCNK7",
  "SLC25A37",
  "RAPGEF6",
  "MRGPRF-AS1",
  "LINC00333",
  "ZSCAN16-AS1",
  "LINC00519",
  "C14orf132",
  "ATP13A1",
  "SLC31A2",
  "RNF181",
  "OR5B3",
  "B4GALT5",
  "NPIPA8",
  "SYNPR-AS1",
  "PIK3R6",
  "PSG2",
  "RGPD3",
  "TMEM56-RWDD3",
  "FGFBP1",
  "MYL3",
  "TRIM16",
  "TMEM184A",
  "VPS4A",
  "DDX18",
  "LAMA3",
  "FAM212B",
  "CFAP54",
  "KIAA1328",
  "NCDN",
  "HSF5",
  "GHR",
  "NEK3",
  "PLEKHS1",
  "XXYLT1-AS2",
  "OR6C76",
  "GMEB1",
  "NEU1",
  "SNORA71B",
  "LSR",
  "IFIH1",
  "UGT1A3",
  "PCDH11Y",
  "LINC00430",
  "CPSF3L",
  "PPP1R3B",
  "ARHGAP31-AS1",
  "COL15A1",
  "SERPINH1",
  "FAM172A",
  "BANF1",
  "NUP160",
  "SNORD3D",
  "GIMAP1-GIMAP5",
  "GABRG1",
  "BPI",
  "RRS1-AS1",
  "LINC01375",
  "ASCL1",
  "PRG4",
  "BANF2",
  "SCARA5",
  "FAM53B",
  "KRTAP5-1",
  "MIER3",
  "BCL3",
  "TMPRSS11A",
  "MMP26",
  "SULT1A1",
  "LATS2-AS1",
  "SLC5A6",
  "LARGE-IT1",
  "OAT",
  "AAED1",
  "PALMD",
  "ERICH6",
  "DNAH11",
  "GREM2",
  "LINC00560",
  "C4A-AS1",
  "HAPLN3",
  "MTX1",
  "CDC20B",
  "LIG1",
  "CIB1",
  "OR5H2",
  "DAPK1-IT1",
  "TNKS2",
  "TMEM117",
  "KDELR1",
  "PRTG",
  "SPAG8",
  "THOP1",
  "F13A1",
  "PM20D1",
  "TRA-AGC16-1",
  "RAC2",
  "LCTL",
  "FCGR3B",
  "HSPA9",
  "IFT122",
  "CADPS",
  "EIF4ENIF1",
  "SNORD74",
  "SMAD9-IT1",
  "GAL3ST3",
  "DRAXIN",
  "PDPN",
  "THRSP",
  "ALOX5AP",
  "PDE1B",
  "CINP",
  "PRR5L",
  "SLC22A18",
  "DNAJC5G",
  "TCF15",
  "MRPS28",
  "UBA6-AS1",
  "DCAF10",
  "ZBTB17",
  "MFSD12",
  "GTF3C2-AS1",
  "POT1-AS1",
  "FEM1B",
  "OSM",
  "TNFSF12",
  "ATR",
  "SLC6A9",
  "DUSP12",
  "PYDC1",
  "SLMAP",
  "XPO1",
  "SNAP25-AS1",
  "ARHGAP28",
  "GPRC5C",
  "RPL27",
  "GOLGA8K",
  "OPRM1",
  "FAM47E-STBD1",
  "RNA45S5",
  "POC5",
  "CMD1F",
  "PYCARD-AS1",
  "GPRC6A",
  "ZAR1",
  "UBQLN1",
  "ABCB11",
  "HOXA5",
  "LUC7L3",
  "SYT11",
  "KRAS",
  "PALB2",
  "EGFL7",
  "PPP2CB",
  "MPPED2",
  "TMED4",
  "HDAC3",
  "HECW1-IT1",
  "TBC1D3G",
  "SUDS3",
  "ASB4",
  "FER1L6",
  "WDR24",
  "C21orf91-OT1",
  "VPS28",
  "P2RY8",
  "LZTS2",
  "SERINC4",
  "ANK1",
  "FITM1",
  "ATXN7L2",
  "PTGS1",
  "KCTD21-AS1",
  "RC3H2",
  "ATF4",
  "RHNO1",
  "ZC3H18",
  "GIMAP8",
  "OLFML2B",
  "SERPINE3",
  "CCDC60",
  "TRK-TTT4-1",
  "AFG3L2",
  "ZNF518A",
  "RHBDD2",
  "RBP1",
  "TARBP1",
  "MUT",
  "SNORD151",
  "AAR2",
  "OLA1",
  "KRTAP16-1",
  "LINC00895",
  "THAP9",
  "TMEM233",
  "MMP12",
  "IGLV3-16",
  "ZNF764",
  "WASF3",
  "MAML2",
  "MARVELD2",
  "LINC01465",
  "SSTR1",
  "GP1BB",
  "LYNX1",
  "PHC1",
  "TRGV4",
];

const GeneListGenerator = (count: number): Gene[] => {
  return Genes.slice(0, count).map((gene, index) => {
    return {
      index,
      name: gene.toUpperCase(),
    };
  });
};

export default GeneListGenerator;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/store/AppContext.ts">
import { createContext } from "react";
import { EChartsType } from "echarts";

export interface ChartContextValue {
  chartInstance: EChartsType | undefined;
  setChartInstance: React.Dispatch<
    React.SetStateAction<EChartsType | undefined>
  >;
}

export const AppContext = createContext<ChartContextValue | undefined>(
  undefined
);
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/store/dataReducer.ts">
import { createSlice, PayloadAction } from "@reduxjs/toolkit";
import { createNoise2D } from "simplex-noise";
import { Gene } from "../components/XAxisChart";
import GeneListGenerator from "../helpers/geneListGenerator";
import {
  HEATMAP_DEFAULT_SIZE,
  HEATMAP_ITEM_SIZE,
  X_ITEM_COUNT,
  Y_ITEM_COUNT,
} from "../components/utils";

export interface DataState {
  data: { x: number; y: number; value: number | string }[];
  size: number;
  type: "random" | "sequential" | "perlin";
  camera: boolean;
  symbol: "circle" | "rect" | "roundRect";
  renderer: "svg" | "canvas";
  emphasis: "item" | "row" | "column" | "cross";
  color: string;
  geneNames: Gene[];
  heatmapCanvasSize: { width: number; height: number };
}

const initialState: DataState = {
  camera: true,
  color: "Magma",
  data: generateData("perlin", HEATMAP_DEFAULT_SIZE),
  emphasis: "cross",
  geneNames: GeneListGenerator(HEATMAP_DEFAULT_SIZE),
  heatmapCanvasSize: {
    height: HEATMAP_ITEM_SIZE * Y_ITEM_COUNT,
    width: HEATMAP_ITEM_SIZE * X_ITEM_COUNT,
  },
  renderer: "svg",
  size: HEATMAP_DEFAULT_SIZE,
  symbol: "rect",
  type: "perlin",
};

function generateData(type: string, size: number) {
  switch (type) {
    case "sequential":
      return Array.from({ length: size }, (_, i) =>
        Array.from({ length: size }, (__, j) => ({
          value: (i + j) / (2 * size),
          x: i,
          y: j,
        }))
      ).flat();

    case "random":
      return Array.from({ length: size }, (_, i) =>
        Array.from({ length: size }, (__, j) => ({
          value: Math.random(),
          x: i,
          y: j,
        }))
      ).flat();

    case "perlin":
    default: {
      const noise2D = createNoise2D();
      const noiseSeed = Math.floor(size / 20);

      return Array.from({ length: size }, (_, i) =>
        Array.from({ length: size }, (__, j) => ({
          value: (noise2D(i / noiseSeed, j / noiseSeed) + 1) * 0.5,
          x: i,
          y: j,
        }))
      ).flat();
    }
  }
}

export const dataSlice = createSlice({
  initialState,
  name: "data",
  reducers: {
    setCamera: (state, action: PayloadAction<DataState["camera"]>) => {
      state.camera = action.payload;
    },
    setColor: (state, action: PayloadAction<DataState["color"]>) => {
      state.color = action.payload;
    },
    setData: (state, action: PayloadAction<DataState["data"]>) => {
      state.data = action.payload;
    },
    setEmphasis: (state, action: PayloadAction<DataState["emphasis"]>) => {
      state.emphasis = action.payload;
    },
    setGeneNames: (state, action: PayloadAction<DataState["geneNames"]>) => {
      state.geneNames = action.payload;
    },
    setHeatmapCanvasSize: (
      state,
      action: PayloadAction<DataState["heatmapCanvasSize"]>
    ) => {
      state.heatmapCanvasSize = action.payload;
    },
    setRenderer: (state, action: PayloadAction<DataState["renderer"]>) => {
      state.renderer = action.payload;
    },
    setSize: (state, action: PayloadAction<DataState["size"]>) => {
      state.size = action.payload;
      state.data = generateData(state.type, action.payload);
      state.geneNames = GeneListGenerator(action.payload);
    },
    setSymbol: (state, action: PayloadAction<DataState["symbol"]>) => {
      state.symbol = action.payload;
    },
    setType: (state, action: PayloadAction<DataState["type"]>) => {
      state.type = action.payload;
      state.data = generateData(action.payload, state.size);
    },
  },
});

export const {
  setData,
  setSize,
  setType,
  setCamera,
  setColor,
  setSymbol,
  setRenderer,
  setEmphasis,
  setGeneNames,
  setHeatmapCanvasSize,
} = dataSlice.actions;

export default dataSlice.reducer;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/store/index.ts">
import { configureStore } from "@reduxjs/toolkit";
import dataReducer from "./dataReducer";

export const store = configureStore({
  reducer: {
    dataReducer: dataReducer,
  },
});

export type RootState = ReturnType<typeof store.getState>;
export type AppDispatch = typeof store.dispatch;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/store/useAppContext.ts">
import { useContext } from "react";
import { AppContext } from "./AppContext";

export const useAppContext = () => {
  const appContext = useContext(AppContext);
  if (appContext === undefined) {
    throw new Error("useAppContext must be inside a AppProvider");
  }
  return appContext;
};
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/App.tsx">
import Heatmap from "./components/Heatmap";
import ControlPanel from "./components/ControlPanel";
import { Container, Main, Sidebar } from "./style";
import Header from "./components/Header";
import { AppContext } from "./store/AppContext";
import { useState } from "react";
import { EChartsType } from "echarts";

function App() {
  const [chartInstance, setChartInstance] = useState<EChartsType | undefined>(
    undefined
  );

  return (
    <AppContext.Provider value={{ chartInstance, setChartInstance }}>
      <Container>
        <Header />
        <Sidebar>
          <ControlPanel />
        </Sidebar>
        <Main>
          <Heatmap />
        </Main>
      </Container>
    </AppContext.Provider>
  );
}

export default App;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/heatmapDemo/style.ts">
import { SDSTheme } from "@czi-sds/components";
import { ThemeContext } from "@emotion/react";
import styled from "@emotion/styled";
import { useContext } from "react";

export const Container = styled("div")`
  font-family: "Inter", sans-serif;
  display: grid;
  grid-template-columns: 250px 1fr;
  grid-template-rows: 70px 1fr;
  grid-column-gap: 0px;
  grid-row-gap: 0px;
  position: relative;

  h3 {
    font-size: 20px;
    font-weight: 600;
    margin: 0 0 15px 0;
  }
`;

export const Sidebar = styled("div")`
  ${() => {
    const theme = useContext(ThemeContext) as SDSTheme;

    return `
      background-color: ${theme?.palette?.sds?.base?.backgroundPrimary};
    `;
  }}
  grid-area: 2 / 1 / 6 / 2;
  border-right: solid 1px #c3c3c347;
  padding: 20px 15px;
  height: calc(100vh - 70px);
  position: sticky;
  top: 70px;
  left: 0;
  z-index: 100;
`;

export const Main = styled("div")`
  grid-area: 2 / 2 / 6 / 6;
  padding: 20px;

  .echarts-for-react {
    height: unset !important;
  }
`;
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/stories/default.tsx">
import { Args } from "@storybook/react";
import {
  HEATMAP_DATA,
  HEATMAP_ENCODE,
  HEATMAP_ITEM_SIZE,
  HEATMAP_ITEM_STYLE,
  HEATMAP_NUMBERS,
  HEATMAP_SIZE,
} from "../constants";
import RawHeatmapChart from "src/core/HeatmapChart";
import { ScatterSeriesOption } from "echarts";

export const HeatmapChart = (props: Args): JSX.Element => {
  const { camera, symbol, tooltip, ...rest } = props;

  const CHART_WIDTH_PX =
    HEATMAP_ITEM_SIZE * (camera && camera.active ? camera.width : HEATMAP_SIZE);
  const CHART_HEIGHT_PX =
    HEATMAP_ITEM_SIZE *
    (camera && camera.active ? camera.height : HEATMAP_SIZE);

  return (
    <>
      <RawHeatmapChart
        width={CHART_WIDTH_PX}
        height={CHART_HEIGHT_PX}
        camera={camera}
        xAxisData={HEATMAP_NUMBERS}
        yAxisData={HEATMAP_NUMBERS}
        data={HEATMAP_DATA}
        encode={HEATMAP_ENCODE}
        symbol={symbol}
        symbolSize={(p) => symbolSize(p, symbol)}
        itemStyle={HEATMAP_ITEM_STYLE as ScatterSeriesOption["itemStyle"]}
        emphasis={{
          itemStyle: {
            borderColor: symbol === "circle" ? "black" : "white",
            borderType: "solid",
            borderWidth: symbol === "circle" ? 2 : 4,
            opacity: 1,
          },
          scale: false,
        }}
        options={{
          series: [
            {
              type: "scatter",
            },
          ],
          tooltip: tooltip,
        }}
        {...rest}
      />
    </>
  );
};

function symbolSize(props: { value: number }, symbol: string) {
  const { value } = props;
  return convertPercentageToDiameter(value, symbol);
}

function convertPercentageToDiameter(
  percentage: number,
  symbol: string
): number {
  if (symbol !== "circle") {
    return HEATMAP_ITEM_SIZE;
  } else {
    return (percentage * HEATMAP_ITEM_SIZE) / 100;
  }
}
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/constants.ts">
/**
 * This file contains the data used in the HeatmapChart stories.
 * Colors are generated using the following tool:
 * https://observablehq.com/@d3/color-schemes
 *
 * YlOrRd Color Scheme
 */
export const HEATMAP_COLORS = [
  "#ffffcc",
  "#fffecb",
  "#fffec9",
  "#fffdc8",
  "#fffdc6",
  "#fffcc5",
  "#fffcc4",
  "#fffbc2",
  "#fffac1",
  "#fffac0",
  "#fff9be",
  "#fff9bd",
  "#fff8bb",
  "#fff8ba",
  "#fff7b9",
  "#fff6b7",
  "#fff6b6",
  "#fff5b5",
  "#fff5b3",
  "#fff4b2",
  "#fff4b0",
  "#fff3af",
  "#fff2ae",
  "#fff2ac",
  "#fff1ab",
  "#fff1aa",
  "#fff0a8",
  "#fff0a7",
  "#ffefa6",
  "#ffeea4",
  "#ffeea3",
  "#ffeda2",
  "#ffeda0",
  "#ffec9f",
  "#ffeb9d",
  "#ffeb9c",
  "#ffea9b",
  "#ffea99",
  "#ffe998",
  "#ffe897",
  "#ffe895",
  "#ffe794",
  "#ffe693",
  "#ffe691",
  "#ffe590",
  "#ffe48f",
  "#ffe48d",
  "#ffe38c",
  "#fee28b",
  "#fee289",
  "#fee188",
  "#fee087",
  "#fee085",
  "#fedf84",
  "#fede83",
  "#fedd82",
  "#fedc80",
  "#fedc7f",
  "#fedb7e",
  "#feda7c",
  "#fed97b",
  "#fed87a",
  "#fed778",
  "#fed777",
  "#fed676",
  "#fed574",
  "#fed473",
  "#fed372",
  "#fed270",
  "#fed16f",
  "#fed06e",
  "#fecf6c",
  "#fece6b",
  "#fecd6a",
  "#fecb69",
  "#feca67",
  "#fec966",
  "#fec865",
  "#fec764",
  "#fec662",
  "#fec561",
  "#fec460",
  "#fec25f",
  "#fec15e",
  "#fec05c",
  "#febf5b",
  "#febe5a",
  "#febd59",
  "#febb58",
  "#feba57",
  "#feb956",
  "#feb855",
  "#feb754",
  "#feb553",
  "#feb452",
  "#feb351",
  "#feb250",
  "#feb14f",
  "#feb04e",
  "#feae4d",
  "#fead4d",
  "#feac4c",
  "#feab4b",
  "#feaa4a",
  "#fea84a",
  "#fea749",
  "#fea648",
  "#fea547",
  "#fea347",
  "#fea246",
  "#fea145",
  "#fda045",
  "#fd9e44",
  "#fd9d44",
  "#fd9c43",
  "#fd9b42",
  "#fd9942",
  "#fd9841",
  "#fd9741",
  "#fd9540",
  "#fd9440",
  "#fd923f",
  "#fd913f",
  "#fd8f3e",
  "#fd8e3e",
  "#fd8d3d",
  "#fd8b3c",
  "#fd893c",
  "#fd883b",
  "#fd863b",
  "#fd853a",
  "#fd833a",
  "#fd8139",
  "#fd8039",
  "#fd7e38",
  "#fd7c38",
  "#fd7b37",
  "#fd7937",
  "#fd7736",
  "#fc7535",
  "#fc7335",
  "#fc7234",
  "#fc7034",
  "#fc6e33",
  "#fc6c33",
  "#fc6a32",
  "#fc6832",
  "#fb6731",
  "#fb6531",
  "#fb6330",
  "#fb6130",
  "#fb5f2f",
  "#fa5d2e",
  "#fa5c2e",
  "#fa5a2d",
  "#fa582d",
  "#f9562c",
  "#f9542c",
  "#f9522b",
  "#f8512b",
  "#f84f2a",
  "#f74d2a",
  "#f74b29",
  "#f64929",
  "#f64828",
  "#f54628",
  "#f54427",
  "#f44227",
  "#f44127",
  "#f33f26",
  "#f23d26",
  "#f23c25",
  "#f13a25",
  "#f03824",
  "#f03724",
  "#ef3524",
  "#ee3423",
  "#ed3223",
  "#ed3123",
  "#ec2f22",
  "#eb2e22",
  "#ea2c22",
  "#e92b22",
  "#e92921",
  "#e82821",
  "#e72621",
  "#e62521",
  "#e52420",
  "#e42220",
  "#e32120",
  "#e22020",
  "#e11f20",
  "#e01d20",
  "#df1c20",
  "#de1b20",
  "#dd1a20",
  "#dc1920",
  "#db1820",
  "#da1720",
  "#d91620",
  "#d81520",
  "#d71420",
  "#d51320",
  "#d41221",
  "#d31121",
  "#d21021",
  "#d10f21",
  "#cf0e21",
  "#ce0d21",
  "#cd0d22",
  "#cc0c22",
  "#ca0b22",
  "#c90a22",
  "#c80a22",
  "#c60923",
  "#c50823",
  "#c40823",
  "#c20723",
  "#c10723",
  "#bf0624",
  "#be0624",
  "#bc0524",
  "#bb0524",
  "#b90424",
  "#b80424",
  "#b60425",
  "#b50325",
  "#b30325",
  "#b10325",
  "#b00225",
  "#ae0225",
  "#ac0225",
  "#ab0225",
  "#a90125",
  "#a70126",
  "#a50126",
  "#a40126",
  "#a20126",
  "#a00126",
  "#9e0126",
  "#9c0026",
  "#9a0026",
  "#990026",
  "#970026",
  "#950026",
  "#930026",
  "#910026",
  "#8f0026",
  "#8d0026",
  "#8b0026",
  "#8a0026",
  "#880026",
  "#860026",
  "#840026",
  "#820026",
  "#800026",
];

export const HEATMAP_SIZE = 100;

export const HEATMAP_ITEM_SIZE = 20;

export const HEATMAP_NUMBERS = Array.from(Array(HEATMAP_SIZE).keys());

export const HEATMAP_DATA: { x: number; y: number; value: number }[] = [];

for (const x of HEATMAP_NUMBERS) {
  for (const y of HEATMAP_NUMBERS) {
    HEATMAP_DATA.push({
      value: Math.round(Math.random() * 100),
      x,
      y,
    });
  }
}

export const HEATMAP_ENCODE = { x: "x", y: "y" };

export const HEATMAP_ITEM_STYLE = {
  borderColor: "white",
  borderType: "solid",
  borderWidth: 1,
  color({ data: { value } }: { data: { value: number } }) {
    return HEATMAP_COLORS[
      Math.round((value / 100) * (HEATMAP_COLORS.length - 1))
    ];
  },
  opacity: 1,
};

export const HEATMAP_TOOLTIP_OPTIONS = [
  { show: false },
  {
    enterable: true,
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    formatter: function (param: any) {
      return param.data
        ? [
            `X-Axis: <strong>${param.data.x}</strong><br/>`,
            `Y-Axis: <strong>${param.data.y}</strong><br/><br/>`,
            `${param.marker} <strong>${param.data.value}</strong>`,
          ].join("")
        : [];
    },
    show: true,
  },
];

export const HEATMAP_AXIS_POINTER_OPTIONS = [
  {
    show: false,
    type: "none",
  },
  {
    show: true,
    triggerOn: "mousemove",
    type: "none",
  },
  {
    show: true,
    triggerOn: "click",
    type: "none",
  },
];
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__storybook__/index.stories.tsx">
import { Args, Meta } from "@storybook/react";
import {
  HEATMAP_AXIS_POINTER_OPTIONS,
  HEATMAP_TOOLTIP_OPTIONS,
} from "./constants";
import { BADGE } from "@geometricpanda/storybook-addon-badges";
import App from "./stories/heatmapDemo/App";
import { Provider } from "react-redux";
import { store } from "./stories/heatmapDemo/store";
import { HeatmapChart } from "./stories/default";

export default {
  argTypes: {
    axisPointer: {
      control: {
        labels: [
          "No axis pointer",
          "Show axis pointer on mousemove",
          "Show axis pointer on click",
        ],
        type: "select",
      },
      mapping: HEATMAP_AXIS_POINTER_OPTIONS,
      options: Object.keys(HEATMAP_AXIS_POINTER_OPTIONS),
    },
    camera: {
      control: {
        type: "object",
      },
    },
    echartsRendererMode: {
      control: {
        labels: ["Canvas", "SVG"],
        type: "select",
      },
      options: ["canvas", "svg"],
    },
    symbol: {
      control: {
        labels: ["Circle", "Rectangle", "Round Rectangle"],
        type: "select",
      },
      options: ["circle", "rect", "roundRect"],
    },
    tooltip: {
      control: {
        labels: ["No tooltip", "Show Tooltip"],
        type: "select",
      },
      mapping: HEATMAP_TOOLTIP_OPTIONS,
      options: Object.keys(HEATMAP_TOOLTIP_OPTIONS),
    },
  },
  component: HeatmapChart,
  parameters: {
    badges: [BADGE.BETA],
    chromatic: {
      disableSnapshot: true,
    },
    snapshot: {
      skip: true,
    },
  },
  title: "Data Viz/HeatmapChart [beta]",
} as Meta;

// Default

export const Default = {
  args: {
    axisPointer: HEATMAP_AXIS_POINTER_OPTIONS[1],
    camera: {
      active: true,
      height: 20,
      width: 40,
    },
    echartsRendererMode: "svg",
    symbol: "circle",
    tooltip: HEATMAP_TOOLTIP_OPTIONS[1],
  },
  parameters: {},
};

const HeatmapDemoComponent = (): JSX.Element => {
  return (
    <Provider store={store}>
      <App />
    </Provider>
  );
};

export const HeatmapDemo = {
  parameters: {
    /**
     * Axe is complaining about color contrast of Axis-labels and
     * since the colors are by design and the contrast is not an issue,
     * the rule is disabled for this story.
     */
    axe: {
      disabledRules: ["color-contrast"],
    },
    controls: {
      exclude: [
        "axisPointer",
        "camera",
        "echartsRendererMode",
        "symbol",
        "tooltip",
      ],
    },
    // This parameter is used to set the story's layout to fullscreen
    // and remove the padding around the storybook root element
    layout: "fullscreen",
    snapshot: {
      skip: true,
    },
  },
  render: (args: Args) => <HeatmapDemoComponent {...args} />,
};
</file>

<file path="packages/data-viz/src/core/HeatmapChart/__tests__/index.namespace-test.tsx">
import { HeatmapChart, HeatmapChartProps } from "@czi-sds/data-viz";
import { EChartsOption } from "echarts";

const NUMBERS = Array.from(Array(20).keys());

const data: { x: number; y: number; value: number }[] = [];

for (const x of NUMBERS) {
  for (const y of NUMBERS) {
    data.push({
      value: x + y,
      x,
      y,
    });
  }
}

const ENCODE = { x: "x", y: "y" };

const ITEM_STYLE = {
  color() {
    return getRandomColorRGB();
  },
};

const Y_AXIS_BOTTOM_PADDING = "10px";

export function grid(
  defaultOption: EChartsOption["grid"]
): EChartsOption["grid"] {
  return {
    ...defaultOption,
    bottom: Y_AXIS_BOTTOM_PADDING,
  };
}

const HeatmapNameSpaceTest = (props: HeatmapChartProps) => {
  return (
    <HeatmapChart
      width={1000}
      height={1000}
      xAxisData={NUMBERS}
      yAxisData={NUMBERS}
      data={data}
      encode={ENCODE}
      symbolSize={symbolSize}
      itemStyle={ITEM_STYLE}
      grid={grid}
    />
  );
};

// Generate a random color in RGB
function getRandomColorRGB() {
  const red = Math.floor(Math.random() * 256); // Random value between 0 and 255
  const green = Math.floor(Math.random() * 256); // Random value between 0 and 255
  const blue = Math.floor(Math.random() * 256); // Random value between 0 and 255

  return `rgb(${red}, ${green}, ${blue})`;
}

function symbolSize(props: { value: number }) {
  const { value } = props;
  return convertPercentageToDiameter(value);
}

const MAX_DIAMETER_PX = 5;
const RADIUS_OFFSET = 0.2;

function convertPercentageToDiameter(percentage: number): number {
  const maxRadius = MAX_DIAMETER_PX / 2;

  const baseRadius = RADIUS_OFFSET * (MAX_DIAMETER_PX - RADIUS_OFFSET);

  const radius = Math.sqrt(
    percentage * (maxRadius - RADIUS_OFFSET) ** 2 + baseRadius
  );

  return Math.max(Math.round(2 * radius), MAX_DIAMETER_PX);
}
</file>

<file path="packages/data-viz/src/core/HeatmapChart/hooks/useUpdateChart.ts">
import { throttle } from "lodash";
import { useEffect, useMemo } from "react";
import { CreateChartOptionsProps, createChartOptions } from "./utils";

const UPDATE_THROTTLE_MS = 1 * 100;

export interface UpdateChartProps extends CreateChartOptionsProps {
  chart: echarts.ECharts | null;
}

export function useUpdateChart({
  axisPointer,
  camera,
  chart,
  data,
  emphasis,
  xAxisData,
  yAxisData,
  width,
  height,
  encode,
  itemStyle,
  symbol,
  symbolSize,
  grid,
  options,
  onEvents,
}: UpdateChartProps): void {
  const throttledUpdateChart = useMemo(() => {
    return throttle(
      () => {
        if (!chart || !data || !xAxisData || !yAxisData) {
          return;
        }

        // (thuang): resize() needs to be called before setOption() to prevent
        // TypeError: Cannot read properties of undefined (reading 'shouldBePainted')
        chart.resize();

        const chartOptions = createChartOptions({
          axisPointer,
          camera,
          data,
          emphasis,
          encode,
          grid,
          height,
          itemStyle,
          options,
          symbol,
          symbolSize,
          width,
          xAxisData,
          yAxisData,
        });

        chart.setOption(chartOptions, {
          replaceMerge: ["dataZoom", "tooltip"],
        });

        /**
         * We need to remove old event listeners and bind new ones to
         * make sure that the event listeners are updated when the props change.
         */
        if (onEvents) {
          for (const eventName in onEvents) {
            if (
              Object.prototype.hasOwnProperty.call(onEvents, eventName) &&
              typeof eventName === "string" &&
              typeof onEvents[eventName] === "function"
            ) {
              // Remove old event listener
              chart.off(eventName);

              // Add new event listener
              chart.on(eventName, (event) => {
                onEvents[eventName](event, chart);
              });
            }
          }
        }
      },
      UPDATE_THROTTLE_MS,
      // (thuang): Trailing guarantees that the last call to the function will
      // be executed
      { trailing: true }
    );
  }, [
    axisPointer,
    camera,
    chart,
    data,
    emphasis,
    xAxisData,
    yAxisData,
    width,
    height,
    encode,
    itemStyle,
    symbol,
    symbolSize,
    grid,
    options,
    onEvents,
  ]);

  useEffect(() => {
    return () => throttledUpdateChart.cancel();
  }, [throttledUpdateChart]);

  // Update the charts
  useEffect(() => {
    throttledUpdateChart();
  }, [
    axisPointer,
    camera,
    chart,
    data,
    emphasis,
    xAxisData,
    yAxisData,
    throttledUpdateChart,
    width,
    height,
    encode,
    itemStyle,
    symbol,
    symbolSize,
    grid,
    options,
    onEvents,
  ]);
}
</file>

<file path="packages/data-viz/src/core/HeatmapChart/hooks/utils.ts">
import {
  AxisPointerComponentOption,
  DataZoomComponentOption,
  DatasetComponentOption,
  ECharts,
  EChartsOption,
  ScatterSeriesOption,
} from "echarts";

const DEFAULT_ITEM_STYLE = {
  color() {
    return "rgb(0, 0, 0)";
  },
};

export interface CreateChartOptionsProps {
  /**
   * Display reference line and axis value under mouse pointer
   * https://echarts.apache.org/en/option.html#axisPointer
   */
  axisPointer?: EChartsOption["axisPointer"];
  /**
   * The data array to be visualized
   * The data point object shape can be whatever you like, but it must be consistent with the `encode` option
   * For example, if the data point shape is:
   * {
   *   geneIndex: 0,
   *   cellTypeIndex: 0,
   *   percentage: 0.5
   * }
   * and you want geneIndex to be encoded to x axis and cellTypeIndex to be encoded to y axis, then make sure your encode option is:
   * encode: {
   *   x: 'geneIndex',
   *   y: 'cellTypeIndex'
   * }
   */
  data: DatasetComponentOption["source"];
  /**
   * The `dataZoom` prop is utilized for implementing zoom functionality within a
   * specific area of the chart. This feature empowers users to inspect data in
   * granular detail, obtain an overview of the entire dataset, or eliminate
   * outlier points.
   * By applying the `dataZoom` prop while locking the zoom level, the chart
   * efficiently renders a confined portion of the heatmap. This selective
   * rendering strategy becomes especially advantageous when dealing with
   * extensive datasets. Instead of rendering the entire heatmap at once,
   * the chart dynamically loads and renders specific segments as the user
   * scrolls through the data. This approach optimizes performance and enables
   * the creation of heatmaps with large amounts of data.
   * https://echarts.apache.org/en/option.html#dataZoom
   */
  dataZoom?: EChartsOption["dataZoom"];
  /**
   * The `camera` prop is utilized for implementing camera view port functionality
   * within a specific area of the chart. This feature empowers users to render
   * a confined portion of the heatmap. This selective rendering strategy becomes
   * especially advantageous when dealing with extensive datasets. Instead of
   * rendering the entire heatmap at once, the chart dynamically loads and renders
   * specific segments as the user scrolls through the data. This approach optimizes
   * performance and enables the creation of heatmaps with large amounts of data.
   *
   * The `height` and `width` properties are used to specify the dimensions of the
   * camera view port. The `active` property is used to enable or disable the camera
   * view port functionality.
   */
  camera?: {
    active: boolean;
    height: number;
    width: number;
  };
  /**
   * Customize the style of each cell item when mouse hovers on it, such as color, border, opacity, etc.
   * https://echarts.apache.org/en/option.html#series-scatter.emphasis
   */
  emphasis?: ScatterSeriesOption["emphasis"];
  /**
   * The data for the x axis
   * For example:
   * [{ value: "gene1", textStyle: { color: "red" } }, "gene2", "gene3"]
   */
  xAxisData: CategoryAxisData;
  /**
   * The data for the y axis
   * For example:
   * [{ value: "cellType1", textStyle: { color: "red" } }, "cellType2", "cellType3"]
   */
  yAxisData: CategoryAxisData;
  /**
   * The width of the chart in pixels
   */
  width: number;
  /**
   * The height of the chart in pixels
   */
  height: number;
  /**
   * Provide a mapping of data key to x/y axis encoding
   * For example, if the data is:
   * {
   *   geneIndex: 0,
   *   cellTypeIndex: 0,
   *   percentage: 0.5
   * }
   * and we want to encode `geneIndex` to x axis and `cellTypeIndex` to y axis, then
   * encode: {
   *  x: 'geneIndex',
   *  y: 'cellTypeIndex'
   * }
   * https://echarts.apache.org/en/option.html#series-scatter.encode
   */
  encode?: {
    x: string;
    y: string;
  };
  /**
   * Customize the style of each cell item, such as color, border, opacity, etc.
   * https://echarts.apache.org/en/option.html#series-scatter.itemStyle
   */
  itemStyle?: ScatterSeriesOption["itemStyle"];
  /**
   * The shape of the symbol.
   */
  symbol?: "circle" | "rect" | "roundRect";
  /**
   * `symbolSize` can be set to single numbers like 10, or use an array to represent width and height. For example, [20, 10] means symbol width is 20, and height is 10.
   *
   * If size of symbols needs to be different, you can set with callback function in the following format:
   *
   * (value: Array|number, params: Object) => number|Array
   *
   * The first parameter value is the value in data, and the second parameter params is the rest parameters of data item.
   * https://echarts.apache.org/en/option.html#series-scatter.symbolSize
   */
  symbolSize?: ScatterSeriesOption["symbolSize"];
  /**
   * https://echarts.apache.org/en/option.html#grid
   */
  grid?:
    | EChartsOption["grid"]
    | ((defaultOption: EChartsOption["grid"]) => EChartsOption["grid"]);
  /**
   * The options object to be passed to echarts.setOption()
   * https://echarts.apache.org/en/option.html
   */
  options?: EChartsOption;
  /**
   * Event listeners for the chart
   * https://echarts.apache.org/en/api.html#events
   */
  onEvents?: Record<string, (event: unknown, chart: ECharts) => void>;
}

export function createChartOptions(
  props: CreateChartOptionsProps
): EChartsOption {
  const {
    axisPointer,
    camera,
    data,
    dataZoom,
    emphasis,
    encode,
    grid: gridProp,
    itemStyle = DEFAULT_ITEM_STYLE,
    options,
    symbolSize,
    symbol = "rect",
  } = props;

  const {
    defaultAxisPointer,
    defaultDataZoom,
    defaultEmphasis,
    defaultGrid,
    defaultXAxis,
    defaultYAxis,
  } = generateDefaultValues(props);

  const customGrid =
    typeof gridProp === "function" ? gridProp(defaultGrid) : gridProp;

  const {
    axisPointer: optionsAxisPointer,
    dataZoom: optionsDataZoom,
    series: optionsSeries,
    xAxis: optionsXAxis,
    yAxis: optionsYAxis,
    ...optionsRest
  } = options || {};

  return {
    animation: false,
    axisPointer: mergeAxisPointer(
      defaultAxisPointer,
      axisPointer,
      optionsAxisPointer
    ),
    dataZoom: camera?.active
      ? mergeDataZoom(defaultDataZoom, dataZoom, optionsDataZoom)
      : [],
    dataset: {
      source: data as DatasetComponentOption["source"],
    },
    grid: customGrid || defaultGrid,
    series: [
      Object.assign(
        {
          emphasis: Object.assign(defaultEmphasis, emphasis),
          encode,
          itemStyle,
          legendHoverLink: false,
          symbol,
          symbolSize,
        },
        optionsSeries
          ? Array.isArray(optionsSeries)
            ? optionsSeries[0]
            : optionsSeries
          : [],
        { symbol: symbol, type: "scatter" }
      ),
    ] as EChartsOption["series"],
    xAxis: [
      Object.assign(
        defaultXAxis,
        optionsXAxis
          ? Array.isArray(optionsXAxis)
            ? optionsXAxis[0]
            : optionsXAxis
          : {}
      ),
    ],
    yAxis: [
      Object.assign(
        defaultYAxis,
        optionsYAxis
          ? Array.isArray(optionsYAxis)
            ? optionsYAxis[0]
            : optionsYAxis
          : {}
      ),
    ],
    ...optionsRest,
  };
}

function mergeAxisPointer(
  defaultAxisPointer: AxisPointerComponentOption,
  axisPointer: EChartsOption["axisPointer"],
  optionsAxisPointer: EChartsOption["axisPointer"]
): EChartsOption["axisPointer"] {
  const finalAxisPointer = Array.isArray(axisPointer)
    ? axisPointer // if it's an array, assume that the user has [{...propsToChangeOnX}] OR [ , {...propsToChangeOnY}] OR [{...propsToChangeOnX}, {...propsToChangeOnY}]
    : [axisPointer, axisPointer]; // else if the user only supplies one AxisPointer object, we assume they want the props to apply to both x and y axisPointer objects

  const finalOptionsAxisPointer = Array.isArray(optionsAxisPointer)
    ? optionsAxisPointer
    : [optionsAxisPointer, optionsAxisPointer];

  // merge x axisPointer options
  const x = {
    ...defaultAxisPointer,
    ...finalAxisPointer[0],
    ...finalOptionsAxisPointer?.[0],
  };

  // merge y axisPointer options
  const y = {
    ...defaultAxisPointer,
    ...finalAxisPointer[1],
    ...finalOptionsAxisPointer[1],
  };

  return [x, y] as EChartsOption["axisPointer"];
}

function mergeDataZoom(
  defaultDataZoom: DataZoomComponentOption[],
  dataZoom: EChartsOption["dataZoom"],
  optionsDataZoom: EChartsOption["dataZoom"]
): EChartsOption["dataZoom"] {
  const finalDataZoom = Array.isArray(dataZoom)
    ? dataZoom // if it's an array, assume that the user has [{...propsToChangeOnX}] OR [ , {...propsToChangeOnY}] OR [{...propsToChangeOnX}, {...propsToChangeOnY}]
    : [dataZoom, dataZoom]; // else if the user only supplies one dataZoom object, we assume they want the props to apply to both x and y zoom objects

  const finalOptionsDataZoom = Array.isArray(optionsDataZoom)
    ? optionsDataZoom
    : [optionsDataZoom, optionsDataZoom];

  // merge x dataZoom options
  const x = {
    ...defaultDataZoom[0],
    ...finalDataZoom[0],
    ...finalOptionsDataZoom?.[0],
  };

  // merge y dataZoom options
  const y = {
    ...defaultDataZoom[1],
    ...finalDataZoom[1],
    ...finalOptionsDataZoom[1],
  };

  return [x, y] as EChartsOption["dataZoom"];
}

function generateDefaultValues(props: CreateChartOptionsProps) {
  const { camera, height, symbol, width, xAxisData, yAxisData } = props;

  const defaultGrid = {
    height: `${height}px`,
    left: 0,
    top: 0,
    // (atarashansky): this is the key change to align x and y axis
    // labels to fixed spaces
    width: `${width}px`,
  };

  const defaultAxisPointer = {
    label: { show: false },
    show: false,
    triggerOn: "mousemove",
  } as AxisPointerComponentOption;

  const defaultXAxis = {
    axisLabel: { fontSize: 0, rotate: 90 },
    axisLine: {
      show: false,
    },
    axisTick: {
      show: false,
    },
    boundaryGap: true,
    data: xAxisData,
    splitLine: {
      show: false,
    },
    type: "category",
  };

  const defaultYAxis = {
    axisLabel: { fontSize: 0 },
    axisLine: {
      show: false,
    },
    axisTick: {
      show: false,
    },
    boundaryGap: true,
    data: yAxisData,
    splitLine: {
      show: false,
    },
  };

  const defaultEmphasis = {
    itemStyle: {
      borderColor: symbol === "circle" ? "black" : "white",
      borderType: "solid",
      borderWidth: symbol === "circle" ? 2 : 4,
      opacity: 1,
    },
    scale: false,
  };

  const defaultCamera = {
    height: camera && camera.height ? camera.height : 20,
    width: camera && camera.width ? camera.width : 40,
  };

  const defaultDataZoom = [
    {
      // end index of the x axis window
      endValue: defaultCamera.width - 1,
      filterMode: "filter",
      moveOnMouseMove: true,
      // There's a PR to allow touchpad panning
      // https://github.com/apache/echarts/pull/19352
      moveOnMouseWheel: false,
      orient: "horizontal",
      preventDefaultMouseMove: true,
      // start index of the x axis window
      startValue: 0,
      throttle: 0,
      type: "inside",
      xAxisIndex: 0,
      zoomOnMouseWheel: false,
    },
    {
      // end index of the y axis window
      endValue: defaultCamera.height - 1,
      filterMode: "filter",
      moveOnMouseMove: true,
      moveOnMouseWheel: true,
      orient: "vertical",
      preventDefaultMouseMove: true,
      // start index of the y axis window
      startValue: 0,
      throttle: 0,
      type: "inside",
      yAxisIndex: 0,
      zoomOnMouseWheel: false,
    },
  ] as DataZoomComponentOption[];

  return {
    defaultAxisPointer,
    defaultDataZoom,
    defaultEmphasis,
    defaultGrid,
    defaultXAxis,
    defaultYAxis,
  };
}

type OrdinalRawValue = string | number;

/**
 * (thuang): This copies echarts' CategoryAxisBaseOption["data"] type, since it's not exported
 */
type CategoryAxisData = (
  | OrdinalRawValue
  | {
      value: OrdinalRawValue;
      /**
       * (thuang): This should be echarts `TextCommonOption` type, but it's not exported
       */
      textStyle?: never;
    }
)[];
</file>

<file path="packages/data-viz/src/core/HeatmapChart/index.tsx">
import { ECharts, init } from "echarts";
import {
  ForwardedRef,
  HTMLAttributes,
  forwardRef,
  memo,
  useCallback,
  useEffect,
  useRef,
  useState,
} from "react";

import { EMPTY_OBJECT } from "src/common/utils";
import { useUpdateChart } from "./hooks/useUpdateChart";
import { CreateChartOptionsProps } from "./hooks/utils";
import { ChartContainer } from "./style";

export interface HeatmapChartProps
  extends HTMLAttributes<HTMLDivElement>,
    CreateChartOptionsProps {
  echartsRendererMode?: "svg" | "canvas";
}

const HeatmapChart = forwardRef(
  (
    props: HeatmapChartProps,
    ref: ForwardedRef<HTMLDivElement>
    // eslint-disable-next-line sonarjs/cognitive-complexity
  ): JSX.Element => {
    const {
      axisPointer,
      width,
      height,
      echartsRendererMode = "svg",
      camera,
      onEvents,
      xAxisData,
      yAxisData,
      data,
      encode,
      emphasis,
      itemStyle,
      symbol,
      symbolSize = 5,
      grid,
      options,
      ...rest
    } = props;

    // Validate width and height
    if (!width || !height) {
      throw Error("Heatmap must have width and height bigger than Zero!");
    }

    // Ref for the chart container
    const innerRef = useRef<HTMLDivElement | null>(null);

    /**
     * (thuang): We need both a state and a ref to store the chart instance, so
     * some hooks can opt out of re-rendering when the chart instance changes.
     */
    const [chart, setChart] = useState<ECharts | null>(null);
    const chartRef = useRef(chart);

    /**
     * (thuang): Use this ref to store the onEvents prop to prevent
     * unnecessary re-renders when the onEvents prop changes.
     * NOTE: This implies that `onEvents` prop changes alone from the parent
     * won't re-render the chart
     */
    const onEventsRef = useRef(onEvents);

    /**
     * (thuang): Use this function to dispose the chart instance for both
     * the state and the ref. This is to prevent memory leaks.
     */
    const disposeChart = useCallback(() => {
      chartRef.current?.dispose();
      chartRef.current = null;
      setChart(null);
    }, []);

    // Function to initialize the chart
    const initChart = useCallback(() => {
      const onEventsCurrent = onEventsRef.current;
      const { current } = innerRef;

      if (
        !current ||
        chartRef.current ||
        // (thuang): echart's `init()` will throw error if the container has 0 width or height
        current?.getAttribute("height") === "0" ||
        current?.getAttribute("width") === "0"
      ) {
        return;
      }

      // Initialize ECharts instance
      const rawChart = init(current, EMPTY_OBJECT, {
        renderer: echartsRendererMode,
        useDirtyRect: true,
      });

      // Bind events if provided
      if (onEventsCurrent) {
        bindEvents(rawChart, onEventsCurrent);
      }

      setChart(rawChart);
      chartRef.current = rawChart;

      // Cleanup function
      return () => {
        disposeChart();

        // Unbind events if provided
        if (onEventsCurrent) {
          for (const eventName in onEventsCurrent) {
            if (
              Object.prototype.hasOwnProperty.call(
                onEventsCurrent,
                eventName
              ) &&
              typeof eventName === "string" &&
              typeof onEventsCurrent[eventName] === "function"
            ) {
              rawChart.off(eventName, onEventsCurrent[eventName]);
            }
          }
        }
      };
    }, [echartsRendererMode, disposeChart]);

    // Initialize charts on component mount
    useEffect(() => {
      disposeChart();
      initChart();
    }, [initChart, disposeChart]);

    // Hook to update chart data and options
    useUpdateChart({
      axisPointer,
      camera,
      chart,
      data,
      emphasis,
      encode,
      grid,
      height,
      itemStyle,
      onEvents,
      options,
      symbol,
      symbolSize,
      width,
      xAxisData,
      yAxisData,
    });

    // Render the chart container
    return (
      <ChartContainer height={height} width={width} ref={handleRef} {...rest} />
    );

    // Function to bind events to the ECharts instance
    function bindEvents(
      instance: ECharts,
      events: CreateChartOptionsProps["onEvents"]
    ) {
      function innerBindEvent(
        eventName: string,
        func: (event: unknown, chart: ECharts) => void
      ) {
        // Ignore invalid event configurations
        if (typeof eventName === "string" && typeof func === "function") {
          // Bind event
          instance.on(eventName, (param) => {
            func(param, instance);
          });
        }
      }

      // Loop through events and bind them
      for (const eventName in events) {
        if (Object.prototype.hasOwnProperty.call(events, eventName)) {
          innerBindEvent(eventName, events[eventName]);
        }
      }
    }

    // Function to handle the ref of the chart container
    function handleRef(element: HTMLDivElement | null) {
      innerRef.current = element;

      if (!ref) return;

      // (thuang): `ref` from `forwardRef` can be a function or a ref object
      if (typeof ref === "function") {
        ref(element);
      } else {
        ref.current = element;
      }
    }
  }
);

export default memo(HeatmapChart);
</file>

<file path="packages/data-viz/src/core/HeatmapChart/style.ts">
import styled from "@emotion/styled";

export const ChartContainer = styled("div")`
  ${getWidthAndHeight}
`;

function getWidthAndHeight({
  width,
  height,
}: {
  width: number;
  height: number;
}) {
  return `
    width: ${width}px;
    height: ${height}px;
  `;
}
</file>

<file path="packages/data-viz/src/index.ts">
export * from "./core/HeatmapChart";
export { default as HeatmapChart } from "./core/HeatmapChart";
</file>

<file path="packages/data-viz/CHANGELOG.md">
# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## [0.11.5](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.11.4...@czi-sds/data-viz@0.11.5) (2025-04-03)

**Note:** Version bump only for package @czi-sds/data-viz

## [0.11.4](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.11.3...@czi-sds/data-viz@0.11.4) (2025-03-27)

**Note:** Version bump only for package @czi-sds/data-viz

## [0.11.3](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.11.2...@czi-sds/data-viz@0.11.3) (2025-03-24)

### Bug Fixes

- **NavHeader, NavFooter:** VCP dark mode changes ([#941](https://github.com/chanzuckerberg/sci-components/issues/941)) ([5f55b95](https://github.com/chanzuckerberg/sci-components/commit/5f55b9519626429b6fe3c0c1fde3d3b81697966e))

## [0.11.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.11.1...@czi-sds/data-viz@0.11.2) (2025-02-19)

**Note:** Version bump only for package @czi-sds/data-viz

## [0.11.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.11.0...@czi-sds/data-viz@0.11.1) (2025-01-09)

**Note:** Version bump only for package @czi-sds/data-viz

# [0.11.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.10.5...@czi-sds/data-viz@0.11.0) (2024-12-18)

### Bug Fixes

- **panel:** fix circular dependency error ([d818901](https://github.com/chanzuckerberg/sci-components/commit/d8189012762c0e2c32325e29813a25f1faf9e55f))

### Features

- **InputCheckbox:** refactor `InputCheckbox` and `InputRadio` ([#904](https://github.com/chanzuckerberg/sci-components/issues/904)) ([74fec41](https://github.com/chanzuckerberg/sci-components/commit/74fec4189426782661f28e56bd77a3f912a5cdd1))

## [0.10.5](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.10.4...@czi-sds/data-viz@0.10.5) (2024-12-04)

**Note:** Version bump only for package @czi-sds/data-viz

## [0.10.4](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.10.3...@czi-sds/data-viz@0.10.4) (2024-11-27)

**Note:** Version bump only for package @czi-sds/data-viz

## [0.10.3](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.10.2...@czi-sds/data-viz@0.10.3) (2024-10-30)

**Note:** Version bump only for package @czi-sds/data-viz

## [0.10.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.10.1...@czi-sds/data-viz@0.10.2) (2024-10-16)

**Note:** Version bump only for package @czi-sds/data-viz

## [0.10.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.10.0...@czi-sds/data-viz@0.10.1) (2024-09-07)

### Bug Fixes

- **swc:** upgrade storybook to v8 and migrate to SWC from babel ([#841](https://github.com/chanzuckerberg/sci-components/issues/841)) ([bcab32f](https://github.com/chanzuckerberg/sci-components/commit/bcab32f178dfbbf1660fddb42fa546abc75bab12))

# [0.10.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.9.2...@czi-sds/data-viz@0.10.0) (2024-08-27)

### Features

- **dark mode:** Implementation ([#815](https://github.com/chanzuckerberg/sci-components/issues/815)) ([252c86c](https://github.com/chanzuckerberg/sci-components/commit/252c86cbffa7c38b901ac501be5ef72d9998bb45))

### BREAKING CHANGES

- **dark mode:** Style varibales have changed

- fix(dark mode): fix component styles

- refactor(dark mode): apply final changes for the dark mode colors and variable names

- refactor(heatmap): fix heatmap styles in dark mode + fix storybook badges

- refactor(dropdown): fix code block background color

- refactor(heatmap): fix sidebar and header backgrounds

- fix(dark mode): fix gray colors, accordion bg, button styles, complexfilter

- refactor(darkmode): apply design review changes on dark mode implementation

- fix(icons): fix new icons sizes

- fix(tests): fix linter errors and build process

- fix(dropdownmenu): fix a11y color contrast error

- fix(inputsearch): fix focus-within border color

- feat(button): add isAllCaps prop to all button variants

- fix(storybook): fix preview.js file

- fix(inputdropdown): fix label color on open state

## [0.9.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.8.0...@czi-sds/data-viz@0.9.2) (2024-08-08)

**Note:** Version bump only for package @czi-sds/data-viz

## [0.9.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.8.0...@czi-sds/data-viz@0.9.1) (2024-07-12)

**Note:** Version bump only for package @czi-sds/data-viz

# [0.9.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.7.0...@czi-sds/data-viz@0.9.0) (2024-06-17)

### Features

- **Button:** figma refactor button ([#761](https://github.com/chanzuckerberg/sci-components/issues/761)) ([199bc4c](https://github.com/chanzuckerberg/sci-components/commit/199bc4c03f7366e0e6bff79575bc727708f9ac57))

# [0.8.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.7.0...@czi-sds/data-viz@0.8.0) (2024-05-01)

### Features

- **Button:** figma refactor button ([#761](https://github.com/chanzuckerberg/sci-components/issues/761)) ([199bc4c](https://github.com/chanzuckerberg/sci-components/commit/199bc4c03f7366e0e6bff79575bc727708f9ac57))

# [0.7.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.6.0...@czi-sds/data-viz@0.7.0) (2024-04-11)

### Features

- Controlled InputToggle ([#760](https://github.com/chanzuckerberg/sci-components/issues/760)) ([3f79600](https://github.com/chanzuckerberg/sci-components/commit/3f7960086d369cf505f42838553561c10ad50593))
- **theme:** Update design tokens and defaultTheme ([#748](https://github.com/chanzuckerberg/sci-components/issues/748)) ([c86af1d](https://github.com/chanzuckerberg/sci-components/commit/c86af1da3cd2fedf68e5ece961338980d97d5bf7))

### BREAKING CHANGES

- **theme:** All SDS Icon names have been converted from camelCase to PascalCase. Some Icon
  names has changed and the full list will be available on the migration documentation

- fix(icons): add xml schema to svg icons + Add ExcludedControls to all stories

- fix(icons): fix case-sensitive icon names

- feat(link): add fontWeight prop to the link component

- fix(inputcheckbox): fix checkbox icon

- fix(inputcheckbox): fix icon fill

- fix(checkbox): fix fill

- fix(table): fix table demo

fix navigationJumpTo demo

- fix(refactor): fix code review bugs

- chore(snapshots): update test snapshots

- refactor(stories): organize storybook files and breakdown large stories into smaller files

- fix(components): fix design review bugs in all components

- fix(a11y): fix a11y errors

- fix(linter): fix lint errors

- refactor(cellbasic): exclude new props form non-default stories

- refactor(colors): show semantic names in color component

- fix(borders): change borders semantic names

- fix(autocomplete): fix Autocomplete section titles + tagFilter deleteIcon size

- refactor(tag): add sdsSize to tag and fix Dialog close button styles

- fix(tag): fix icon sizes in the storybook default demo

- feat(icon): add IconCubeSmall

- fix(cube icon): fix icon fill

- fix(filtertag): fix onDelete

- fix(filtertag): fix a11y errors

- fix(tagfilter): update test snapshots

# [0.6.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.5.0...@czi-sds/data-viz@0.6.0) (2024-02-15)

### Features

- **heatmap:** Base Heatmap Built ([#737](https://github.com/chanzuckerberg/sci-components/issues/737)) ([90bab28](https://github.com/chanzuckerberg/sci-components/commit/90bab2809d560e5d8835b97f89a4f421c85ebed3))

# [0.5.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.4.2...@czi-sds/data-viz@0.5.0) (2024-02-15)

### Features

- **icons:** adds hub icons ([#525](https://github.com/chanzuckerberg/sci-components/issues/525)) ([3fc888b](https://github.com/chanzuckerberg/sci-components/commit/3fc888b80f526adc38359eee7792fac133fa1944)), closes [#458](https://github.com/chanzuckerberg/sci-components/issues/458)

## [0.4.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.4.0...@czi-sds/data-viz@0.4.2) (2024-01-10)

**Note:** Version bump only for package @czi-sds/data-viz

## [0.4.1](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.4.0...@czi-sds/data-viz@0.4.1) (2023-12-13)

**Note:** Version bump only for package @czi-sds/data-viz

# [0.4.0](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.3.5...@czi-sds/data-viz@0.4.0) (2023-09-06)

### chore

- **release:** Merge changes from prod to main ([#585](https://github.com/chanzuckerberg/sci-components/issues/585)) ([74d464f](https://github.com/chanzuckerberg/sci-components/commit/74d464f9a543e1b8f8b2e9e477acc742710258f3))

### BREAKING CHANGES

- **release:** Testing breaking changes workflow with new release structure

- Publish

* @czi-sds/components@16.0.0

- fix(release): debugg release workflow
- **release:** Test

- Publish

* @czi-sds/components@17.0.0

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(debug): debug

- fix(slack): fix slack workflow's condition
- **release:** test slack workflow with the new release structure

- fix(slack): fix slack workflow

fix the workflow condition

- **release:** This is only to test the new release structure

- fix(d): d

- fix(workflows): update GitHub workflows

Update and optimize all GitHub workflows to the latest versions of actions

- **release:** Test slack web hook

- fix(github): fix github release workflow

- fix(comments): add comments to all yaml files

- fix(slack): change Slack Web Hook Url
- **release:** This is only for test purposes

- fix(slack): change slack action config
- **release:** This is only for testing purposes.

- fix(github): move slack config file to config directory to avoid github errors
- **release:** This is only for testing purposes!

- fix(slack): revert to Default config
- **release:** This is only for testing purposes.

- fix(config): copy slack config file in the Workflows directory
- **release:** This is only for testing purposes!

- fix(slack): fix config directory
- **release:** This is for testing purposes only!

- fix(actions): add a tip on pull request body to help with stucked checks

## [0.3.5](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.3.4...@czi-sds/data-viz@0.3.5) (2023-09-06)

### Bug Fixes

- **release:** fix workflow JOb to wait for the previous step ([07cc8e1](https://github.com/chanzuckerberg/sci-components/commit/07cc8e1f10314e47ec4778e20b6e0716ad906964))

## [0.3.4](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.3.3...@czi-sds/data-viz@0.3.4) (2023-09-06)

### Bug Fixes

- **github:** add GitHub release Jobs to the release workflow ([57940f8](https://github.com/chanzuckerberg/sci-components/commit/57940f8074bb459b91a198b4b87ad73ed4c85573))

## [0.1.2](https://github.com/chanzuckerberg/sci-components/compare/@czi-sds/data-viz@0.1.1...@czi-sds/data-viz@0.1.2) (2023-04-26)

**Note:** Version bump only for package @czi-sds/data-viz
</file>

<file path="packages/data-viz/jest.config.js">
const COMMON_CONFIG = require("../../jest.common.config");

module.exports = {
  ...COMMON_CONFIG,
};
</file>

<file path="packages/data-viz/jest.setup.ts">
import "@testing-library/jest-dom";
import "../../intersectionObserverMock";
</file>

<file path="packages/data-viz/package.json">
{
  "name": "@czi-sds/data-viz",
  "version": "0.11.5",
  "main": "dist/index.cjs.js",
  "types": "dist/index.cjs.d.ts",
  "module": "dist/index.esm.js",
  "author": "",
  "homepage": "https://github.com/chanzuckerberg/sci-components/tree/main/packages/sci-data-viz#readme",
  "description": "2023 Science Initiative Data Visualization Component Library",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/chanzuckerberg/sci-components.git"
  },
  "publishConfig": {
    "access": "public"
  },
  "lint-staged": {
    "*.{js,jsx,ts,tsx,md,html,css,yml}": "npx prettier --write"
  },
  "files": [
    "dist"
  ],
  "bugs": {
    "url": "https://github.com/chanzuckerberg/sci-components/issues"
  },
  "keywords": [
    "react",
    "materialui",
    "science",
    "design",
    "system",
    "component",
    "library",
    "data-viz",
    "visualization",
    "heatmap",
    "echarts"
  ],
  "config": {
    "commitizen": {
      "path": "./node_modules/cz-conventional-changelog"
    }
  },
  "scripts": {
    "build": "rollup -c",
    "build-watch": "rollup -c -w",
    "lint": "concurrently \"../../node_modules/.bin/eslint src/**/*.{ts,tsx} --quiet --fix\" \"../../node_modules/.bin/stylelint --fix '**/*.{js,ts,tsx,css}'\"  \"npm run type-check\"",
    "type-check": "tsc --noEmit",
    "test": "jest --passWithNoTests",
    "chromatic": "npx chromatic --exit-zero-on-changes --project-token=cad4aacbfeba",
    "namespace-check": "tsc --p tsconfig-namespace-check.json"
  },
  "peerDependencies": {
    "@emotion/css": "^11.11.2",
    "@emotion/react": "^11.11.3",
    "@emotion/styled": "^11.11.0",
    "@mui/base": "^5.0.0-beta.30",
    "@mui/icons-material": "^5.15.3",
    "@mui/lab": "^5.0.0-alpha.159",
    "@mui/material": "^5.15.3",
    "echarts": "^5.4.3",
    "lodash": "^4.17.21",
    "react": ">=17.0.1",
    "react-dom": ">=17.0.1"
  },
  "devDependencies": {
    "@reduxjs/toolkit": "^2.1.0",
    "@types/react": "^18.2.46",
    "@types/react-dom": "^18.2.18",
    "d3-scale-chromatic": "^3.0.0",
    "jest-environment-jsdom": "^29.6.2",
    "react-redux": "^9.1.0",
    "simplex-noise": "^4.0.1",
    "style-dictionary": "^4.1.0"
  },
  "dependencies": {
    "echarts": "^5.4.3",
    "lodash": "^4.17.21"
  }
}
</file>

<file path="packages/data-viz/README.md">
# Purpose

The Science Design System (SDS) brings consistency and universal standards to CZI’s science products by offering a library of high quality, reusable components that deliver predictable, accessible and easy to learn experiences. Our goal is to democratize access to tools and technologies for scientists.

## Design System Documentation

`@czi-sds/components` implements the Science Design System as documented in [Zeroheight](https://sds.czi.design/). As a result, it's very useful to get familiar with the available **theme variables**, such as `colors`, `spaces`, `typography`, etc., so you can leverage the theme properly in your application.

![Science Design System Zeroheight Homepage Snapshot](https://user-images.githubusercontent.com/6309723/155802483-366008aa-7380-4a01-b356-ae0ab02f4f3b.png)

## Installation

[NPM Package](https://www.npmjs.com/package/czi-sds/components)

**Currently SDS uses Material UI v5**

NOTE: Since most of the czi-sds components are built on top of Material UI's equivalent, it's also super useful to use their [API documentation](https://mui.com/) to learn about what you can do with the components. Many czi-sds components are style wrappers that pass props through to the MUI component without modifying them.

`@czi-sds/components` installs without direct dependencies to prevent version errors. Please ensure the following peer dependencies are also installed:

```
  "@emotion/css"
  "@emotion/react"
  "@emotion/styled"
  "@mui/base"
  "@mui/icons-material"
  "@mui/lab"
  "@mui/material"
  "react"
  "react-dom"
```

To install @czi-sds/components and the dependencies:

```
// with npm
npm i @czi-sds/components @emotion/css @emotion/react @emotion/styled @mui/base @mui/material @mui/icons-material @mui/lab react react-dom

// with yarn
yarn add @czi-sds/components @emotion/css @emotion/react @emotion/styled @mui/base @mui/material @mui/icons-material @mui/lab react react-dom
```

## Yarn scripts

Common yarn scrips have been moved to the monorepo root. The -- syntax can be used to pass parameters to the underlying yarn scripts. For instance, to update the snapshots, use `lerna run test -- -u` instead of running all tests on both packages with `yarn test`.

- `yarn start`: Starts storybook on the local machine
- `yarn build-storybook`: Builds the storybook in the docs-build folder
- `yarn test-storybook`: Tests current running instance of storybook
- `yarn storybook:axe`: Builds the storybook and runs accessibility tests
- `yarn storybook:axeOnly`: Runs accessibility tests on the latest build of the storybook inside the docs-build folder
- `yarn test`: Runs `jest` tests
- `yarn namespace-check`: Runs typescript type checking on namespace files to ensure that there are no duplicated exports
- `yarn lint`: Runs linter
- `yarn build`: Build the packages
- `yarn ci`: Executes `yarn install --frozen-lockfile` in both packages

- _To execute any script in the inner package, one can simply use the command `lerna run script --scope=<package>`. For instance, to run the linter only on the sci-components package, use the command `lerna run lint --scope=@czi-sds/components`._

## Usage

`@czi-sds/components` comes with five main exports that help you build your app:

1. Components - Accessible and reusable components

```javascript
import React from "react";
import { Button } from "@czi-sds/components";
<Button onClick={actions.onClick} sdsStyle="rounded" sdsType="primary">
  {text}
</Button>;
```

2. Mixins - Grouped styles defined by the design system

```javascript
import { styled } from '@emotion/styled';
import { Typography } from "@mui/material";
import { fontHeaderXL } from "@czi-sds/components";

export const Title - styled(Typography)`
  ${fontHeaderXl}

  // which compiles to:
  font-size: 22px;
  font-weight: 600;
  letter-spacing: 0.3px;
  line-height: 30px;
`;
```

3. Selectors - Helper functions that return theme variables baased on passed props

```ts
import { css, SerializedStyles } from "@emotion/react";
import styled from "@emotion/styled";
import { getColors, getCorners } from "@czi-sds/components";

export const Tag = styled("div")`
  // This is a callback function that returns more CSS rules, but the only way
  // to access the custom theme object
  ${(props) => {
    // getColors() is a selector that picks out colors from the theme object
    const colors = getColors(props);
    // getSpaces() is a selector that picks out spaces from the theme object
    const spaces = getSpaces(props);

    return `
          background-color: ${colors?.gray[500]};
          padding-bottom: ${spaces?.m}px;
          margin-bottom: ${spaces?.xxl}px;
        `;
  }}
`;
```

4. CSS & SCSS Variables - Variables for the `defaultTheme` to use if your app doesn't support `@emotion/styled`

```scss
// with SCSS variables
@import "~@czi-sds/components/dist/variables";

.button-primary {
  background-color: $sds-color-primary-400;
  padding: $sds-spaces-xxs;
}

// with CSS variables
.button-primary {
  background-color: var(--sds-color-primary-400);
  padding: var(--sds-spaces-xxs);
}
```

5. Tailwind - Tailwind compliant configuration for the `defaultTheme` to use if your app uses Tailwind

First you need to import the SDS config into your application's Tailwind config:

```js
// tailwind.config.js

const sds = require("@czi-sds/components/dist/tailwind.json");

module.exports = {
  mode: "jit",
  content: ["./src/**/*.{tsx,scss}"],
  theme: {
    extend: sds,
  },
};
```

If you have existing styles that you'd like to maintain, you can pick and choose
different parts of the SDS config:

```js
// tailwind.config.js

const sds = require("@czi-sds/components/dist/tailwind.json");

module.exports = {
  mode: "jit",
  content: ["./src/**/*.{tsx,scss}"],
  theme: {
    extend: {
      ...sds,

      width: {
        ...sds.width,
        "app-modal-width": "500px",
      },

      height: {
        ...sds.width,
        "app-modal-height": "200px",
      },
    },
  },
};
```

After that, you should be able to use SDS Tailwind classes in your app:

```tsx
export function Hello() {
  return (
    <p className="m-sds-xl px-sds-xs py-sds-s text-sds-error-400">
      Hello, World!
    </p>
  );
}
```

### Default Theme

To use the default theme in your React application, complete the following:

1. Add the following HTML to your `index.html` at the `<head>` section:

```html
// installs the sds font from google fonts
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=swap"
  rel="stylesheet"
/>
```

2. Import the default theme object and use it in Material UI's `<ThemeProvier />`:

```javascript
import { ThemeProvider as EmotionThemeProvider } from "@emotion/react";
import { StyledEngineProvider, ThemeProvider } from "@mui/material/styles";
import { defaultTheme } from "@czi-sds/components";

<StyledEngineProvider injectFirst>
  <ThemeProvider theme={defaultTheme}>
    <EmotionThemeProvider theme={defaultTheme}>
      <YourApp />
    </EmotionThemeProvider>
  </ThemeProvider>
</StyledEngineProvider>;
```

If you want to override the default theme, please use `defaultAppTheme`, override the options, and then call `createTheme` to generate
the full theme object like below. This is needed because `createTheme` generates
extra theme variables based on the themeOptions provided, so if you override `defaultTheme` directly, some auxillary theme variables will be based on `defaultAppTheme` instead of your own custom options

```tsx
import { ThemeProvider as EmotionThemeProvider } from "@emotion/react";
import { defaultAppTheme, makeThemeOptions } from "@czi-sds/components";
import { StyledEngineProvider, ThemeProvider } from "@mui/material/styles";
import createTheme from "@mui/material/styles/createTheme";

const customTheme = {
  ...
}

const appTheme = makeThemeOptions({ ...defaultAppTheme, ...customTheme })

const theme = createTheme(appTheme)

<StyledEngineProvider injectFirst>
  <ThemeProvider theme={theme}>
    <EmotionThemeProvider theme={theme}>
      <YourApp />
    </EmotionThemeProvider>
  </ThemeProvider>
</StyledEngineProvider>
```

💡 CZGE example available [here](https://github.com/chanzuckerberg/czgenepi/blob/trunk/src/frontend/src/common/styles/theme.ts).

💡 Material UI docs for custom theming available [here](https://mui.com/material-ui/customization/theming/).

## Q&A

1. Why wrapping a component with `styled()` doesn't style the root element as expected?

   This is likely because the component is **NOT** forwarding the css class name that `styled()` generates to the intended root element. So we likely need to update the `czif` component to make it work

   For example, if a `czif` component `Foo` has the following implementation, `styled(Foo)` won't style the wrapper `<div />` as expected:

   ```tsx
   function Foo() {
     return (
       <div>
         <ChildA />
         <ChildB />
       </div>
     );
   }
   ```

   The fix is:

   ```tsx
   function Foo({ className }) {
     return (
       <div className={className}>
         <ChildA />
         <ChildB />
       </div>
     );
   }
   ```

1. To style a sub-component of a `@czi-sds/components` component, typically we export the sub-component for the call site to import and style via `styled`, and then you will be able to pass back the styled sub-component to the `@czi-sds/components` component through prop

   For example, `ComplexFilter` exports `ComplexFilterInputDropdown` sub-component, so if you want to style it, you can do the following:

   ```tsx
   import {
     ComplexFilter,
     ComplexFilterInputDropdown,
   } from "@czi-sds/components";
   import styled from "@emotion/styled";

   const StyledComplexFilterInputDropdown = styled(ComplexFilterInputDropdown)`
     color: pink;
   `;

   function Foo() {
     return (
       <ComplexFilter
         InputDropdownComponent={StyledComplexFilterInputDropdown}
       />
     );
   }
   ```

## Project status

This project is under **active development**. Contributions and ideas are welcome! If you would like to contribute, check out the [contribution guidelines](docs/contribution.md) or open an issue.
This project is governed under the [Contributor Covenant](https://www.contributor-covenant.org/) code of conduct.

## Reporting Security Issues

Please note: If you believe you have found a security issue, please responsibly disclose by contacting us at security@chanzuckerberg.com. More information is in our [Security Readme](docs/SECURITY.md)

## 2022 Plans

[2022 Plans](https://docs.google.com/presentation/d/1pKAY6Wl3-EHInvOZuf0L3yEDFt2xVvMlO7ZWefQbgjA/edit?usp=sharing)
</file>

<file path="packages/data-viz/rollup.config.mjs">
import url from "@rollup/plugin-url";
import svgr from "@svgr/rollup";
import del from "rollup-plugin-delete";
import ts from "rollup-plugin-ts";
import resolve from "@rollup/plugin-node-resolve";
import commonjs from "@rollup/plugin-commonjs";
import pkg from "./package.json" assert { type: "json" };

const config = [
  {
    // External dependencies that should not be bundled into the output to reduce bundle size.
    external: [
      ...Object.keys(pkg.peerDependencies || {}),
      "react/jsx-runtime"
    ],

    // Entry point for the library
    input: "src/index.ts",

    // Output configuration for the CommonJS (CJS) and ESModule (ESM) formats.
    output: [
      {
        // Ensures "use client" is added at the top of each output file.
        banner: "\"use client\";",
        file: pkg.main,
        format: "cjs",
        interop: "auto"
      },
      {
        // Ensures "use client" is added at the top of each output file.
        banner: "\"use client\";",
        file: pkg.module,
        format: "esm",
        interop: "auto"
      },
    ],
    plugins: [
      // Handles resolving external dependencies from `node_modules`.
      resolve(),

      // Convert CommonJS modules (especially from `node_modules`) to ES6.
      commonjs(),

      // Clean up the `dist` folder and any other specified paths before building.
      del({
        targets: ["dist/*", "playground/src/data-viz"],
      }),

      // Allow imports for assets like images, fonts, etc., and handle them properly.
      url(),

      // Transform imported SVGs into React components.
      svgr(),

      // Handle TypeScript compilation with custom configurations.
      ts({
        tsconfig: (resolvedConfig) => ({
          ...resolvedConfig,
          // Exclude SCSS and CSS files from TypeScript's scope.
          exclude: ["**/*.scss", "**/*.css"]
        })
      }),
    ],
  },
];

export default config;
</file>

<file path="packages/data-viz/tsconfig-namespace-check.json">
{
  "extends": "./tsconfig.json",
  "include": [
    "src/**/*.ts",
    "src/**/*.tsx",
    "src/**/*.d.ts",
    "src/common/**/*",
    "src/core/**/*",
    "jest.setup.ts",
  ],
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "src/*": ["src/*"]
    },
    "types": [
      "jest",
      "@testing-library/jest-dom"
    ]
  }
}
</file>

<file path="packages/data-viz/tsconfig.json">
{
  "extends": "../../tsconfig.json",
  "compilerOptions": {
    "baseUrl": "./",
    "outDir": "./dist",
    "composite": true
  },
  "include": ["./src/**/*", "jest.setup.ts", "../../.eslintrc.js"],
  "exclude": ["node_modules", "**/*.scss", "**/*.css"],
  "references": []
}
</file>

<file path=".eslintrc.js">
// https://robertcooper.me/post/using-eslint-and-prettier-in-a-typescript-project
module.exports = {
  env: {
    browser: true,
    es6: true,
    jest: true,
    node: true,
  },
  // Excludes config files from linting
  ignorePatterns: ["rollup.config.mjs"],
  // Specifies the ESLint parser
  extends: [
    "plugin:import/recommended",
    "eslint:recommended",
    "plugin:react/recommended",
    "plugin:@typescript-eslint/recommended",
    "plugin:jsx-a11y/recommended",
    "airbnb-typescript",
    "plugin:sonarjs/recommended",
    "plugin:storybook/recommended",
    "plugin:prettier/recommended",
    "plugin:react-hooks/recommended",
  ],
  // this is to disable
  // no-unused-var, no-extraneous-dependencies and prettier
  // rules in all ComponentName.namespace.tsx files
  overrides: [
    {
      files: ["packages/**/src/core/**/*.namespace-test.tsx"],
      rules: {
        "@typescript-eslint/no-unused-vars": "off",
        "import/no-extraneous-dependencies": "off",
        "prettier/prettier": "off",
      },
    },
  ],
  parser: "@typescript-eslint/parser",
  parserOptions: {
    createDefaultProgram: true,
    ecmaFeatures: {
      jsx: true,
    },
    ecmaVersion: 2020,
    // Allows for the use of imports
    project: "./tsconfig.json",
    // Allows for the parsing of modern ECMAScript features
    sourceType: "module",
  },
  plugins: ["@typescript-eslint", "react", "sonarjs", "jest", "jsx-a11y"],
  rules: {
    "@typescript-eslint/ban-types": [
      "error",
      {
        types: {
          "React.FC": {
            fixWith: "React.FC",
            message:
              "Use implicit return type, define props as parameters instead. More: https://github.com/facebook/create-react-app/pull/8177",
          },
        },
      },
    ],
    "@typescript-eslint/no-unused-vars": [
      "error",
      {
        args: "after-used",
        argsIgnorePattern: "^_",
      },
    ],
    "@typescript-eslint/no-use-before-define": "off",
    "consistent-return": "off",
    "import/extensions": [
      "error",
      "ignorePackages",
      {
        js: "never",
        jsx: "never",
        ts: "never",
        tsx: "never",
      },
    ],
    "import/no-anonymous-default-export": "error",
    "import/no-extraneous-dependencies": [
      "error",
      {
        // Dependencies must be specified in `devDependencies` in the monorepo root
        devDependencies: true,
        packageDir: __dirname,
      },
    ],
    "import/prefer-default-export": "off",
    // (thuang): Disable this line for `@typescript-eslint/no-unused-vars` to work
    "no-unused-vars": "off",
    "react/display-name": "off",
    "react/jsx-no-target-blank": "off",
    "react/jsx-props-no-spreading": "off",
    // (thuang): Disable this since we use TypeScript
    "react/jsx-uses-react": "off",
    "react/prop-types": "off",
    "react/react-in-jsx-scope": "off",
    // (thuang): DefaultProps is being deprecated
    // https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/default_props/
    "react/require-default-props": "off",
    // (thuang): We use nested template literals in @emotion extensively
    "sonarjs/no-nested-template-literals": "off",
    "sort-keys": [
      "error",
      "asc",
      {
        caseSensitive: true,
        minKeys: 2,
        natural: false,
      },
    ],
  },
  settings: {
    react: {
      version: "detect",
    },
  },
};
</file>

<file path=".gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
lerna-debug.log*

# yarn v2 files
.pnp.*
.yarn/*
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/sdks
!.yarn/versions

# Diagnostic reports (https://nodejs.org/api/report.html)
report.[0-9]*.[0-9]*.[0-9]*.[0-9]*.json

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Directory for instrumented libs generated by jscoverage/JSCover
lib-cov

# Coverage directory used by tools like istanbul
coverage
*.lcov

# nyc test coverage
.nyc_output

# Grunt intermediate storage (https://gruntjs.com/creating-plugins#storing-task-files)
.grunt

# Bower dependency directory (https://bower.io/)
bower_components

# node-waf configuration
.lock-wscript

# Compiled binary addons (https://nodejs.org/api/addons.html)
build/Release

# Dependency directories
node_modules/
jspm_packages/

# TypeScript v1 declaration files
typings/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
# *.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variables file
.env
.env.test

# parcel-bundler cache (https://parceljs.org/)
.cache

# build / generated output
.next
.nuxt
dist
docs-build
storybook-static

# Gatsby files
.cache/
# Comment in the public line in if your project uses Gatsby and *not* Next.js
# https://nextjs.org/blog/next-9-1#public-directory-support
# public

# vuepress build output
.vuepress/dist

# Serverless directories
.serverless/

# FuseBox cache
.fusebox/

# DynamoDB Local files
.dynamodb/

# TernJS port file
.tern-port

# IDE
.vscode

# OS Files
.DS_Store
</file>

<file path=".node-version">
18.19.0
</file>

<file path=".omletrc.json">
{
    "ignore": [".storybook/**"],
    "include": ["packages/**/src/core/**/*.{tsx,ts}", "packages/**/src/index.ts"],
    "tsconfigPath": "tsconfig.json",
    "workspaces": {
        "@czi-sds/components": {
          "exports": {
            ".": "./src/index.ts"
          }
        },
        "@czi-sds/data-viz": {
          "exports": {
            ".": "./src/index.ts"
          }
        }
      }
  }
</file>

<file path=".prettierignore">
package.json
package-lock.json
public
venv
dist
</file>

<file path=".prettierrc.js">
module.exports = {
  // (thuang): Should be always since prettier v2.0
  // https://prettier.io/docs/en/options.html#arrow-function-parentheses
  arrowParens: "always",
  endOfLine: "lf",
  tabWidth: 2,
  trailingComma: "es5",
  printWidth: 80,
};
</file>

<file path=".stylelintrc.json ">
{
  "extends": "stylelint-config-recommended"
}
</file>

<file path=".svgrrc">
{
	"__comment": "fillcontrast uses all lowercase to prevent react errors from cluttering the console and test outputs. Props that are in camelCase and passed down by {...rest} are parsed by react and lead to an Unknown Prop Warning. By using lowercase, we pass it along as a custom html attribute and the error is removed",
	"replaceAttrValues": {
	  "#000": "{props.fill}",
	  "#c00": "{props.fillcontrast}" 
	}
}
</file>

<file path=".yarnrc.yml">
nodeLinker: node-modules

yarnPath: .yarn/releases/yarn-4.1.0.cjs
</file>

<file path="chromatic.config.json">
{
  "onlyChanged": true,
  "projectId": "Project:616981d9028812003ade73f3",
  "zip": true
}
</file>

<file path="fileTransformer.js">
const path = require("path");

/**
 * (thuang): Inspired by https://github.com/cwmoo740/jest-svg-transformer/issues/3#issuecomment-1229928189
 * We export as { ReactComponent }, because we import svg that way
 * E.g., import { ReactComponent as IconBacteriaLarge }
 */
module.exports = {
  process(_, filePath) {
    if (path.extname(filePath) !== ".svg") {
      return {
        code: `module.exports = ${JSON.stringify(path.basename(filePath))};`,
      };
    }

    const name = `${path.basename(filePath, ".svg")}`
      .split(/\W+/)
      .map((x) => `${x.charAt(0).toUpperCase()}${x.slice(1)}`)
      .join("");

    return {
      code: `
        const React = require('react');
        function ${name}(props) {
          return React.createElement(
            'svg',
            Object.assign(
              {},
              props,
              {
                'data-file-name': ${name}.name,
                'data-testid': ${name}.name,
              }
            )
          );
        }
        module.exports = { ReactComponent: ${name} };
      `,
    };
  },
};
</file>

<file path="intersectionObserverMock.js">
// Mock IntersectionObserver
class IntersectionObserver {
  observe = jest.fn();

  disconnect = jest.fn();

  unobserve = jest.fn();
}

Object.defineProperty(window, "IntersectionObserver", {
  configurable: true,
  value: IntersectionObserver,
  writable: true,
});

Object.defineProperty(global, "IntersectionObserver", {
  configurable: true,
  value: IntersectionObserver,
  writable: true,
});
</file>

<file path="jest.common.config.js">
module.exports = {
  moduleDirectories: ["node_modules", "<rootDir>"],
  preset: "ts-jest",
  setupFilesAfterEnv: ["./jest.setup.ts"],
  testEnvironment: "jsdom",
  /**
   * A list of paths to directories that Jest should use to search for files in.
   * The first two paths are the default paths that Jest uses to search for files.
   * The third path specifies the namespace-test files that we want to exclude from the test run.
   * The fourth path specifies the storybook files that we want to exclude from the test run.
   *
   * https://jestjs.io/docs/configuration#testmatch-arraystring
   */
  testMatch: [
    "**/__tests__/**/*.[jt]s?(x)",
    "**/?(*.)+(spec|test).[jt]s?(x)",
    "!**/__tests__/**/*.namespace-test.[jt]s?(x)",
    "!**/__storybook__/**/*",
  ],
  testPathIgnorePatterns: ["/node_modules/", "/dist/"],
  transform: {
    "^.+\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$":
      "../../fileTransformer.js",
    "^.+\\.tsx?$": [
      "ts-jest",
      {
        // ts-jest configuration goes here
      },
    ],
  },
};
</file>

<file path="lerna.json">
{
  "$schema": "node_modules/lerna/schemas/lerna-schema.json",
  "useNx": true,
  "version": "independent",
  "npmClient": "npm",
  "stream": true,
  "packages": ["packages/*"],
  "command": {
    "publish": {
      "conventionalCommits": true,
      "message": "chore(release): publish"
    }
  }
}
</file>

<file path="LICENSE">
MIT License

Copyright (c) 2023 Chan Zuckerberg Initiative Foundation 

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
</file>

<file path="lint-staged.config.js ">
module.exports = {
  "*.{js,jsx,ts,tsx,md,html,css,yml}": "npx prettier --write",
};
</file>

<file path="package.json">
{
  "name": "@czi-sds/monorepo",
  "version": "0.0.1",
  "repository": "https://github.com/chanzuckerberg/sci-components.git",
  "license": "MIT",
  "devDependencies": {
    "@chanzuckerberg/axe-storybook-testing": "^8.2.0",
    "@chanzuckerberg/story-utils": "^4.0.8",
    "@chromatic-com/storybook": "^2.0.2",
    "@czi-sds/components": "workspace:^",
    "@czi-sds/data-viz": "workspace:^",
    "@emotion/css": "^11.11.2",
    "@emotion/react": "^11.11.3",
    "@emotion/styled": "^11.11.0",
    "@geometricpanda/storybook-addon-badges": "^2.0.5",
    "@mui/base": "^5.0.0-beta.30",
    "@mui/icons-material": "^5.15.3",
    "@mui/lab": "^5.0.0-alpha.159",
    "@mui/material": "^5.15.3",
    "@omlet/cli": "^1.1.1",
    "@reduxjs/toolkit": "^2.1.0",
    "@rollup/plugin-commonjs": "^26.0.1",
    "@rollup/plugin-node-resolve": "^15.2.3",
    "@rollup/plugin-url": "^8.0.2",
    "@storybook/addon-a11y": "^8.3.4",
    "@storybook/addon-actions": "^8.3.4",
    "@storybook/addon-essentials": "^8.3.4",
    "@storybook/addon-interactions": "^8.3.4",
    "@storybook/addon-links": "^8.3.4",
    "@storybook/addon-webpack5-compiler-swc": "^1.0.5",
    "@storybook/blocks": "^8.3.4",
    "@storybook/components": "^8.3.4",
    "@storybook/core-events": "^8.3.4",
    "@storybook/manager-api": "^8.3.4",
    "@storybook/preview-api": "^8.3.4",
    "@storybook/react": "^8.3.4",
    "@storybook/react-webpack5": "^8.3.4",
    "@storybook/test": "^8.3.4",
    "@storybook/test-runner": "^0.19.1",
    "@storybook/theming": "^8.3.4",
    "@storybook/types": "^8.3.4",
    "@svgr/rollup": "^8.1.0",
    "@svgr/webpack": "^8.1.0",
    "@swc/plugin-emotion": "^4.0.1",
    "@testing-library/dom": "^9.3.3",
    "@testing-library/jest-dom": "^6.1.5",
    "@testing-library/react": "^14.1.2",
    "@testing-library/user-event": "^14.5.1",
    "@types/concurrently": "^7.0.0",
    "@types/d3-scale-chromatic": "^3.0.3",
    "@types/eslint": "^8.56.0",
    "@types/eslint-config-prettier": "^6.11.3",
    "@types/eslint-plugin-prettier": "^3.1.3",
    "@types/jest": "^29.5.11",
    "@types/lint-staged": "^13.3.0",
    "@types/postcss-flexbugs-fixes": "^5.0.3",
    "@types/prettier": "^3.0.0",
    "@types/react": "^18.2.46",
    "@types/react-dom": "^18.2.18",
    "@types/rollup-plugin-css-only": "^3.1.3",
    "@types/stylelint": "^14.0.0",
    "@types/svgr__rollup": "^4.3.4",
    "@typescript-eslint/eslint-plugin": "^6.15.0",
    "@typescript-eslint/parser": "^6.15.0",
    "autoprefixer": "^10.4.16",
    "axe-core": "^4.8.4",
    "chromatic": "^10.1.0",
    "commitizen": "^4.2.4",
    "concurrently": "^8.2.2",
    "css-font": "^1.2.0",
    "css-loader": "^6.10.0",
    "cz-conventional-changelog": "^3.3.0",
    "d3-scale-chromatic": "^3.0.0",
    "echarts": "^5.4.3",
    "emotion-theming": "^11.0.0",
    "eslint": "^8.56.0",
    "eslint-config-airbnb-typescript": "^17.1.0",
    "eslint-config-prettier": "^9.1.0",
    "eslint-plugin-import": "^2.29.1",
    "eslint-plugin-jest": "^27.6.0",
    "eslint-plugin-jsx-a11y": "^6.8.0",
    "eslint-plugin-prettier": "^5.1.0",
    "eslint-plugin-react": "^7.33.2",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-sonarjs": "^0.23.0",
    "eslint-plugin-storybook": "^0.9.0",
    "husky": "^8.0.3",
    "jest": "^29.7.0",
    "lerna": "^8.0.1",
    "lint-staged": "^15.2.0",
    "lodash": "^4.17.21",
    "postcss": "^8.4.35",
    "postcss-flexbugs-fixes": "^5.0.2",
    "prettier": "^3.1.1",
    "prettier-plugin-organize-imports": "^3.2.4",
    "react": ">=17.0.1",
    "react-dom": ">=17.0.1",
    "react-redux": "^9.1.0",
    "rollup": "^4.9.1",
    "rollup-plugin-bundle-scss": "^0.1.3",
    "rollup-plugin-copy": "^3.5.0",
    "rollup-plugin-css-only": "^4.5.2",
    "rollup-plugin-delete": "^2.0.0",
    "rollup-plugin-ts": "^3.4.5",
    "sass": "^1.70.0",
    "sass-loader": "^14.1.0",
    "simplex-noise": "^4.0.1",
    "storybook": "^8.3.4",
    "storybook-addon-pseudo-states": "^4.0.2",
    "style-dictionary": "^4.1.0",
    "style-loader": "^3.3.4",
    "stylelint": "13.11.0",
    "stylelint-config-recommended": "3.0.0",
    "stylelint-config-standard": "20.0.0",
    "ts-jest": "^29.1.1",
    "typescript": "5.3.3",
    "url-loader": "^4.1.1",
    "webpack": "^5.90.1"
  },
  "scripts": {
    "start": "NODE_OPTIONS=\"--max-old-space-size=8192\" && storybook dev -p 6006 --no-open",
    "build-storybook": "storybook build -o docs-build",
    "test-storybook": "test-storybook",
    "storybook:axe": "yarn build-storybook && yarn storybook:axeOnly",
    "storybook:axeOnly": "axe-storybook --build-dir docs-build",
    "test": "lerna run test -- --detectOpenHandles",
    "test:updateSnapshots": "lerna run test -- -u --detectOpenHandles",
    "namespace-check": "lerna run namespace-check",
    "prepare": "husky install",
    "lint": "lerna run lint",
    "build": "lerna run build",
    "ci": "yarn install",
    "version:ci": "HUSKY=0 lerna version --yes --conventional-commits",
    "publish:ci": "HUSKY=0 lerna publish from-package --yes"
  },
  "lint-staged": {
    "*.{js,jsx,ts,tsx,md,html,css,yml}": "npx prettier --write"
  },
  "files": [
    "dist"
  ],
  "description": "2021 Create-a-thon Science Initiative Component Library",
  "bugs": {
    "url": "https://github.com/chanzuckerberg/sci-components/issues"
  },
  "homepage": "https://github.com/chanzuckerberg/sci-components#readme",
  "keywords": [
    "react",
    "materialui",
    "science",
    "design",
    "system",
    "component",
    "library"
  ],
  "author": "",
  "config": {
    "commitizen": {
      "path": "./node_modules/cz-conventional-changelog"
    }
  },
  "workspaces": {
    "packages": [
      "packages/*"
    ]
  },
  "main": "index.js",
  "packageManager": "yarn@4.1.0"
}
</file>

<file path="README.md">
# Purpose

The Science Design System (SDS) brings consistency and universal standards to CZI’s science products by offering a library of high quality, reusable components that deliver predictable, accessible and easy to learn experiences. Our goal is to democratize access to tools and technologies for scientists.

## Design System Documentation

`@czi-sds/components` implements the Science Design System as documented in [Zeroheight](https://sds.czi.design/). As a result, it's very useful to get familiar with the available **theme variables**, such as `colors`, `spaces`, `typography`, etc., so you can leverage the theme properly in your application.

![Science Design System Zeroheight Homepage Snapshot](https://user-images.githubusercontent.com/6309723/155802483-366008aa-7380-4a01-b356-ae0ab02f4f3b.png)

## Installation

[NPM Package](https://www.npmjs.com/package/czi-sds/components)

**Currently SDS uses Material UI v5**

NOTE: Since most of the czi-sds components are built on top of Material UI's equivalent, it's also super useful to use their [API documentation](https://mui.com/) to learn about what you can do with the components. Many czi-sds components are style wrappers that pass props through to the MUI component without modifying them.

`@czi-sds/components` installs without direct dependencies to prevent version errors. Please ensure the following peer dependencies are also installed:

```
  "@emotion/css"
  "@emotion/react"
  "@emotion/styled"
  "@mui/base"
  "@mui/icons-material"
  "@mui/lab"
  "@mui/material"
  "react"
  "react-dom"
```

To install @czi-sds/components and the dependencies:

```
// with npm
npm i @czi-sds/components @emotion/css @emotion/react @emotion/styled @mui/base @mui/material @mui/icons-material @mui/lab react react-dom

// with yarn
yarn add @czi-sds/components @emotion/css @emotion/react @emotion/styled @mui/base @mui/material @mui/icons-material @mui/lab react react-dom
```

## Yarn scripts

Common yarn scrips have been moved to the monorepo root. The -- syntax can be used to pass parameters to the underlying yarn scripts. For instance, to update the snapshots, use `lerna run test -- -u` instead of running all tests on both packages with `yarn test`.

- `yarn start`: Starts storybook on the local machine
- `yarn build-storybook`: Builds the storybook in the docs-build folder
- `yarn test-storybook`: Tests current running instance of storybook
- `yarn storybook:axe`: Builds the storybook and runs accessibility tests
- `yarn storybook:axeOnly`: Runs accessibility tests on the latest build of the storybook inside the docs-build folder
- `yarn test`: Runs `jest` tests
- `yarn namespace-check`: Runs typescript type checking on namespace files to ensure that there are no duplicated exports
- `yarn lint`: Runs linter
- `yarn build`: Build the packages
- `yarn ci`: Executes `yarn install --frozen-lockfile` in both packages

- _To execute any script in the inner package, one can simply use the command `lerna run script --scope=<package>`. For instance, to run the linter only on the sci-components package, use the command `lerna run lint --scope=@czi-sds/components`._

## Usage

`@czi-sds/components` comes with five main exports that help you build your app:

1. Components - Accessible and reusable components

```javascript
import React from "react";
import { Button } from "@czi-sds/components";
<Button onClick={actions.onClick} sdsStyle="rounded" sdsType="primary">
  {text}
</Button>;
```

2. Mixins - Grouped styles defined by the design system

```javascript
import { styled } from '@emotion/styled';
import { Typography } from "@mui/material";
import { fontHeaderXL } from "@czi-sds/components";

export const Title - styled(Typography)`
  ${fontHeaderXl}

  // which compiles to:
  font-size: 22px;
  font-weight: 600;
  letter-spacing: 0.3px;
  line-height: 30px;
`;
```

3. Selectors - Helper functions that return theme variables baased on passed props

```ts
import { css, SerializedStyles } from "@emotion/react";
import styled from "@emotion/styled";
import { getColors, getCorners } from "@czi-sds/components";

export const Tag = styled("div")`
  // This is a callback function that returns more CSS rules, but the only way
  // to access the custom theme object
  ${(props) => {
    // getColors() is a selector that picks out colors from the theme object
    const colors = getColors(props);
    // getSpaces() is a selector that picks out spaces from the theme object
    const spaces = getSpaces(props);

    return `
          background-color: ${colors?.gray[500]};
          padding-bottom: ${spaces?.m}px;
          margin-bottom: ${spaces?.xxl}px;
        `;
  }}
`;
```

4. CSS & SCSS Variables - Variables for the `defaultTheme` to use if your app doesn't support `@emotion/styled`

```scss
// with SCSS variables
@import "~@czi-sds/components/dist/variables";

.button-primary {
  background-color: $sds-color-primary-400;
  padding: $sds-spaces-xxs;
}

// with CSS variables
.button-primary {
  background-color: var(--sds-color-primary-400);
  padding: var(--sds-spaces-xxs);
}
```

5. Tailwind - Tailwind compliant configuration for the `defaultTheme` to use if your app uses Tailwind

First you need to import the SDS config into your application's Tailwind config:

```js
// tailwind.config.js

const sds = require("@czi-sds/components/dist/tailwind.json");

module.exports = {
  mode: "jit",
  content: ["./src/**/*.{tsx,scss}"],
  theme: {
    extend: sds,
  },
};
```

If you have existing styles that you'd like to maintain, you can pick and choose
different parts of the SDS config:

```js
// tailwind.config.js

const sds = require("@czi-sds/components/dist/tailwind.json");

module.exports = {
  mode: "jit",
  content: ["./src/**/*.{tsx,scss}"],
  theme: {
    extend: {
      ...sds,

      width: {
        ...sds.width,
        "app-modal-width": "500px",
      },

      height: {
        ...sds.width,
        "app-modal-height": "200px",
      },
    },
  },
};
```

After that, you should be able to use SDS Tailwind classes in your app:

```tsx
export function Hello() {
  return (
    <p className="m-sds-xl px-sds-xs py-sds-s text-sds-error-400">
      Hello, World!
    </p>
  );
}
```

### Default Theme

To use the default theme in your React application, complete the following:

1. Add the following HTML to your `index.html` at the `<head>` section:

```html
// installs the sds font from google fonts
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
  rel="stylesheet"
/>
<link
  href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;600&display=swap"
  rel="stylesheet"
/>
```

2. Import the default theme object and use it in Material UI's `<ThemeProvier />`:

```javascript
import { ThemeProvider as EmotionThemeProvider } from "@emotion/react";
import { StyledEngineProvider, ThemeProvider } from "@mui/material/styles";
import { defaultTheme } from "@czi-sds/components";

<StyledEngineProvider injectFirst>
  <ThemeProvider theme={defaultTheme}>
    <EmotionThemeProvider theme={defaultTheme}>
      <YourApp />
    </EmotionThemeProvider>
  </ThemeProvider>
</StyledEngineProvider>;
```

If you want to override the default theme, please use `defaultAppTheme`, override the options, and then call `createTheme` to generate
the full theme object like below. This is needed because `createTheme` generates
extra theme variables based on the themeOptions provided, so if you override `defaultTheme` directly, some auxillary theme variables will be based on `defaultAppTheme` instead of your own custom options

```tsx
import { ThemeProvider as EmotionThemeProvider } from "@emotion/react";
import { defaultAppTheme, makeThemeOptions } from "@czi-sds/components";
import { StyledEngineProvider, ThemeProvider } from "@mui/material/styles";
import createTheme from "@mui/material/styles/createTheme";

const customTheme = {
  ...
}

const appTheme = makeThemeOptions({ ...defaultAppTheme, ...customTheme })

const theme = createTheme(appTheme)

<StyledEngineProvider injectFirst>
  <ThemeProvider theme={theme}>
    <EmotionThemeProvider theme={theme}>
      <YourApp />
    </EmotionThemeProvider>
  </ThemeProvider>
</StyledEngineProvider>
```

💡 CZGE example available [here](https://github.com/chanzuckerberg/czgenepi/blob/trunk/src/frontend/src/common/styles/theme.ts).

💡 Material UI docs for custom theming available [here](https://mui.com/material-ui/customization/theming/).

## Q&A

1. Why wrapping a component with `styled()` doesn't style the root element as expected?

   This is likely because the component is **NOT** forwarding the css class name that `styled()` generates to the intended root element. So we likely need to update the `czif` component to make it work

   For example, if a `czif` component `Foo` has the following implementation, `styled(Foo)` won't style the wrapper `<div />` as expected:

   ```tsx
   function Foo() {
     return (
       <div>
         <ChildA />
         <ChildB />
       </div>
     );
   }
   ```

   The fix is:

   ```tsx
   function Foo({ className }) {
     return (
       <div className={className}>
         <ChildA />
         <ChildB />
       </div>
     );
   }
   ```

1. To style a sub-component of a `@czi-sds/components` component, typically we export the sub-component for the call site to import and style via `styled`, and then you will be able to pass back the styled sub-component to the `@czi-sds/components` component through prop

   For example, `ComplexFilter` exports `ComplexFilterInputDropdown` sub-component, so if you want to style it, you can do the following:

   ```tsx
   import {
     ComplexFilter,
     ComplexFilterInputDropdown,
   } from "@czi-sds/components";
   import styled from "@emotion/styled";

   const StyledComplexFilterInputDropdown = styled(ComplexFilterInputDropdown)`
     color: pink;
   `;

   function Foo() {
     return (
       <ComplexFilter
         InputDropdownComponent={StyledComplexFilterInputDropdown}
       />
     );
   }
   ```

## Project status

This project is under **active development**. Contributions and ideas are welcome! If you would like to contribute, check out the [contribution guidelines](docs/contribution.md) or open an issue.
This project is governed under the [Contributor Covenant](https://www.contributor-covenant.org/) code of conduct.

## Reporting Security Issues

Please note: If you believe you have found a security issue, please responsibly disclose by contacting us at security@chanzuckerberg.com. More information is in our [Security Readme](docs/SECURITY.md)

## 2022 Plans

[2022 Plans](https://docs.google.com/presentation/d/1pKAY6Wl3-EHInvOZuf0L3yEDFt2xVvMlO7ZWefQbgjA/edit?usp=sharing)
</file>

<file path="stylelint.config.js">
module.exports = {
  extends: "stylelint-config-recommended",
  ignoreFiles: [
    // (thuang): Ignore `venv` folder
    "packages/**/venv/**/*",
    "packages/**/dist/**/*",
  ],
};
</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    /* Basic Options */
    "target": "es5" /* Specify ECMAScript target version: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017','ES2018' or 'ESNEXT'. */,
    "module": "commonjs" /* Specify module code generation: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */,
    // "lib": [],                             /* Specify library files to be included in the compilation. */
    // "allowJs": true,                       /* Allow javascript files to be compiled. */
    // "checkJs": true,                       /* Report errors in .js files. */
    "jsx": "react-jsx" /* Specify JSX code generation: 'preserve', 'react-native', or 'react'. */,
    "declaration": true /* Generates corresponding '.d.ts' file. */,
    // "sourceMap": true,                     /* Generates corresponding '.map' file. */
    // "outFile": "./",                       /* Concatenate and emit output to single file. */
    // "outDir": "./dist" /* Redirect output structure to the directory. */,
    // "rootDir": "./",                       /* Specify the root directory of input files. Use to control the output directory structure with --outDir. */
    // "removeComments": true,                /* Do not emit comments to output. */
    // "noEmit": true,                        /* Do not emit outputs. */
    // "importHelpers": true,                 /* Import emit helpers from 'tslib'. */
    // "downlevelIteration": true,            /* Provide full support for iterables in 'for-of', spread, and destructuring when targeting 'ES5' or 'ES3'. */
    // TypeScript to warn you if you write certain code that can’t be correctly interpreted by a single-file transpilation process
    // https://www.typescriptlang.org/tsconfig#isolatedModules
    "isolatedModules": true /* Transpile each file as a separate module (similar to 'ts.transpileModule'). */,
    /* Strict Type-Checking Options */
    "strict": true /* Enable all strict type-checking options. */,
    // "noImplicitAny": true,                 /* Raise error on expressions and declarations with an implied 'any' type. */
    // "strictNullChecks": true, /* Enable strict null checks. */
    // "strictFunctionTypes": true,           /* Enable strict checking of function types. */
    // "strictPropertyInitialization": true,  /* Enable strict checking of property initialization in classes. */
    // "noImplicitThis": true,                /* Raise error on 'this' expressions with an implied 'any' type. */
    // "alwaysStrict": true,                  /* Parse in strict mode and emit "use strict" for each source file. */
    /* Additional Checks */
    // "noUnusedLocals": true,                /* Report errors on unused locals. */
    // "noUnusedParameters": true,            /* Report errors on unused parameters. */
    // "noImplicitReturns": true,             /* Report error when not all code paths in function return a value. */
    // "noFallthroughCasesInSwitch": true,    /* Report errors for fallthrough cases in switch statement. */
    /* Module Resolution Options */
    "moduleResolution": "node" /* Specify module resolution strategy: 'node' (Node.js) or 'classic' (TypeScript pre-1.6). */,
    "baseUrl": "./" /* Base directory to resolve non-absolute module names. */,
    "paths": {
      /* A series of entries which re-map imports to lookup locations relative to the 'baseUrl'. */
      "@czi-sds/components": ["./packages/components/src/*"],
      "@czi-sds/data-viz": ["./packages/data-viz/src/*"],
      "src/*": ["./src/*"],
      "react": ["./node_modules/@types/react"]
    },
    // "rootDirs": [],                        /* List of root folders whose combined content represents the structure of the project at runtime. */
    // "typeRoots": [],                       /* List of folders to include type definitions from. */
    // "types": [],                           /* Type declaration files to be included in compilation. */
    // "allowSyntheticDefaultImports": true, /* Allow default imports from modules with no default export. This does not affect code emit, just typechecking. */
    "esModuleInterop": true /* Enables emit interoperability between CommonJS and ES Modules via creation of namespace objects for all imports. Implies 'allowSyntheticDefaultImports'. */,
    // "preserveSymlinks": true,              /* Do not resolve the real path of symlinks. */
    /* Source Map Options */
    // "sourceRoot": "./",                    /* Specify the location where debugger should locate TypeScript files instead of source locations. */
    // "mapRoot": "./",                       /* Specify the location where debugger should locate map files instead of generated locations. */
    // "inlineSourceMap": true,               /* Emit a single file with source maps instead of having a separate file. */
    // "inlineSources": true,                 /* Emit the source alongside the sourcemaps within a single file; requires '--inlineSourceMap' or '--sourceMap' to be set. */
    /* Experimental Options */
    // "experimentalDecorators": true,        /* Enables experimental support for ES7 decorators. */
    // "emitDecoratorMetadata": true,         /* Enables experimental support for emitting type metadata for decorators. */
    "skipLibCheck": true
  },
  "include": ["./packages/**/src/**/*", ".eslintrc.js"],
  "exclude": [
    "node_modules",
    "./packages/**/node_modules",
    "**/*.scss",
    "**/*.css"
  ]
}
</file>

</files>
